,rectype,issueid,project_owner,project_name,actor,time,text,action,title
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,76,nilearn,nilearn,GaelVaroquaux,2013-06-12 15:27:57,"Rename
",start issue,NiftiMultiMasker -> MultiNiftiMasker
2,issue_closed,76,nilearn,nilearn,AlexandreAbraham,2013-06-20 08:54:04,,closed issue,NiftiMultiMasker -> MultiNiftiMasker
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,78,nilearn,nilearn,pgervais,2013-06-13 07:29:43,"The main project has been renamed nilearn, but the main package is still named nisl.
",start issue,Rename nisl package into nilearn
2,issue_closed,78,nilearn,nilearn,AlexandreAbraham,2013-06-20 08:54:59,,closed issue,Rename nisl package into nilearn
3,issue_comment,78,nilearn,nilearn,GaelVaroquaux,2013-06-14 01:20:06,"> We should merge the canica PR first.

+1
",,
4,issue_comment,78,nilearn,nilearn,GaelVaroquaux,2013-06-19 23:01:50,">   • Should we provide a simple search-and-replace script ?

No.

>   • Should we create a full nisl tree and init files so that scripts importing
>     nisl modules would work with a warning ?

No.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,73,nilearn,nilearn,GaelVaroquaux,2013-06-11 16:18:06,"The idea being that for objects that are not 'masker' objects, you should be able to pass in a 'Masker' object as a mask argument and it would be used to compute the mask with its 'fit' method.
",start issue,Use composition rather than inhertance of NiftiMasker in MultiPCA and CanICA
2,issue_closed,73,nilearn,nilearn,AlexandreAbraham,2013-06-20 08:56:08,,closed issue,Use composition rather than inhertance of NiftiMasker in MultiPCA and CanICA
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,74,nilearn,nilearn,bthirion,2013-06-11 21:21:24,"This is a small PR that addresses some details of the documentation and examples . It is true that documentation needs a larger refactoring, but this will be the topic of future PRs.
",start issue,MRG: Doc improvements
2,issue_closed,74,nilearn,nilearn,GaelVaroquaux,2013-06-12 09:38:08,,closed issue,MRG: Doc improvements
3,pull_request_title,74,nilearn,nilearn,bthirion,2013-06-11 21:21:24,"This is a small PR that addresses some details of the documentation and examples . It is true that documentation needs a larger refactoring, but this will be the topic of future PRs.
",fccbd26f61db8c9215f501a95f03a2bd9ecb75d1,MRG: Doc improvements
4,pull_request_merged,74,nilearn,nilearn,GaelVaroquaux,2013-06-12 09:38:08,MRG: Doc improvements,ef8d760ca7bd1438285a914ee6cf007ad0160823,Pull request merge from bthirion/nilearn:doc-improvements to nilearn/nilearn:master
5,issue_comment,74,nilearn,nilearn,GaelVaroquaux,2013-06-12 09:35:03,"Looks good. Merging. Thanks!
",,
6,pull_request_commit,74,nilearn,nilearn,bthirion,2013-06-11 09:35:07,ENH: Small fixes in docs,d1980b7c889b22328beafbbae7677501253c0421,
7,pull_request_commit,74,nilearn,nilearn,bthirion,2013-06-11 11:49:41,Rewrote the example using a generative model,ebf89f6ec439fb3e7c8c29f52f77d0ffa7f0dfec,
8,pull_request_commit,74,nilearn,nilearn,bthirion,2013-06-11 15:24:04,ENH: mostly cosmetic to improve examples,8e8caf34ed1763c850316c6f5eb7939689d052d0,
9,pull_request_commit,74,nilearn,nilearn,bthirion,2013-06-11 16:27:02,ENH: Hompgeneous use of mask opening. Beware that default values has changed to mask_opening=2 instead of False,6a4d274c5d8d0c235d07ca4bab33eb45a08e78bd,
10,pull_request_commit,74,nilearn,nilearn,bthirion,2013-06-11 21:12:42,Corrected the resmapling doc regarding target_shape,fccbd26f61db8c9215f501a95f03a2bd9ecb75d1,
11,pull_request_commit_comment,74,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:08:30,"If opening is now activated by default, we could just remove the first step here (or find an example in which opening value needs to be changed, but I think we don't have one).
",6a4d274c5d8d0c235d07ca4bab33eb45a08e78bd,"(8, 119, u'doc/extracting_data.rst')"
12,pull_request_commit_comment,74,nilearn,nilearn,bthirion,2013-06-13 08:08:20,"You're right. We should remove this paragraph. Actually, I am thinking of this more as an illustration of the feature rather than a necessary step in the present case (I'm not even sure that opening brings a crucial improvement here).
",6a4d274c5d8d0c235d07ca4bab33eb45a08e78bd,"(8, 119, u'doc/extracting_data.rst')"
13,pull_request_commit_comment,74,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:10:35,"od -> of
",ebf89f6ec439fb3e7c8c29f52f77d0ffa7f0dfec,"(48, 65, u'plot_simulated_data.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,79,nilearn,nilearn,dohmatob,2013-06-16 20:01:29,"Added some fetchers that I've had around for a while now. Precisely, these are fetchers for:
- SPM auditory single subject (lagacy dataset, bad quality, but good for demos/examples)
- SPM Multimodal fmri faces vs scrambled (I worked with @alex senior on this dataset recently)
- FSL (FEEDS single subject)
",start issue,"ENH: added fetch_spm_auditory_data(...), fetch_fsl_feeds_data(...), and ..."
2,issue_closed,79,nilearn,nilearn,pgervais,2013-08-29 11:46:44,,closed issue,"ENH: added fetch_spm_auditory_data(...), fetch_fsl_feeds_data(...), and ..."
3,pull_request_title,79,nilearn,nilearn,dohmatob,2013-06-16 20:01:29,"Added some fetchers that I've had around for a while now. Precisely, these are fetchers for:
- SPM auditory single subject (lagacy dataset, bad quality, but good for demos/examples)
- SPM Multimodal fmri faces vs scrambled (I worked with @alex senior on this dataset recently)
- FSL (FEEDS single subject)
",67ff2466d3fa33039092f0224cb59e9eb136e4af,"ENH: added fetch_spm_auditory_data(...), fetch_fsl_feeds_data(...), and ..."
4,issue_comment,79,nilearn,nilearn,GaelVaroquaux,2013-06-16 23:10:20,">   • SPM auditory single subject (lagacy dataset, bad quality, but good for
>     demos/examples)
>   • SPM Multimodal fmri faces vs scrambled (I worked with @alex senior on this
>     dataset recently)
>   • FSL (FEEDS single subject)

Can we use these in nilearn, or do these require preprocessing, or GLM
estimation that we cannot do in nilearn? If they cannot be used to write
a nilearn example, they should not be included in nilearn, but maybe
rather in pyprocess.
",,
5,issue_comment,79,nilearn,nilearn,GaelVaroquaux,2013-06-19 15:00:55,"> Yes they need preprocessing, just like NYU rest and openfmri for example.

Than they should probably go in Pypreprocess for now.
",,
6,issue_comment,79,nilearn,nilearn,pgervais,2013-08-29 11:46:39,"Since the datasets won't process themselves magically, this PR seems to be useless now. I'm closing it.
",,
7,pull_request_commit,79,nilearn,nilearn,dohmatob,2013-06-16 19:40:13,"ENH: added fetch_spm_auditory_data(...), fetch_fsl_feeds_data(...), and fetch_spm_multimodal_fmri_data(...) functions",67ff2466d3fa33039092f0224cb59e9eb136e4af,
8,pull_request_commit_comment,79,nilearn,nilearn,AlexandreAbraham,2013-06-16 20:17:05,"Is the regexp match really necessary since we already have the precise list of images ?
",67ff2466d3fa33039092f0224cb59e9eb136e4af,"(71, 1261, u'nisl/datasets.py')"
9,pull_request_commit_comment,79,nilearn,nilearn,AlexandreAbraham,2013-06-16 20:18:55,"A Reference is recommended for downloads: at least the URL of the dataset and, if relevant, the reference paper for the dataset.
",67ff2466d3fa33039092f0224cb59e9eb136e4af,"(41, 1231, u'nisl/datasets.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,60,nilearn,nilearn,bthirion,2013-05-23 21:30:55,"I took a look at the test: actually the ICA estimate of the ICs is really poor: it fails to recover the components, and actually gets linear combinations of these (meaning that the failure is related to the ICA part). The initial test is quite robust to this effect, but not enough, at least on my box.
Using

rng = np.random.RandomState(1)

in the test solves the issue on my box, but I don't find it satisfactory.
Possible solutions are:
- test that the right subspace is recovered (instead of the right components)
- Make the fit more robust, by breaking the symmetry of the components (seems to work on my box).
",start issue,test_canica_square_img fails randomly
2,issue_closed,60,nilearn,nilearn,GaelVaroquaux,2013-06-10 17:15:13,,closed issue,test_canica_square_img fails randomly
3,issue_comment,60,nilearn,nilearn,GaelVaroquaux,2013-05-23 21:36:53,"> I took a look at the test: actually the ICA estimate of the ICs is
> really poor: it fails to recover the components, and actually gets
> linear combinations of these (meaning that the failure is related to
> the ICA part). 

Yeah, ICA is crap...

>   • test that the right subspace is recovered (instead of the right components)

That's not really what we would like.

>   • Make the fit more robust, by breaking the symmetry of the
>   components (seems to work on my box).

This seems like a good thing to attempt.
",,
4,issue_comment,60,nilearn,nilearn,GaelVaroquaux,2013-06-10 17:15:13,"Closing as fixed by PR #61
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,70,nilearn,nilearn,GaelVaroquaux,2013-06-10 17:16:26,"We need to add a '<link rel=""canonical"" href=""http://casperjs.org"">' to the 'head' in the NISL website.
",start issue,Redirect NISL
2,issue_closed,70,nilearn,nilearn,AlexandreAbraham,2013-06-21 12:33:36,,closed issue,Redirect NISL
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,82,nilearn,nilearn,AlexandreAbraham,2013-06-19 22:57:00,"Formerly, if a MultiNiftiMasker was given to MultiPCA, along with masker arguments (smoothing_fwhm...), then parameters of the MultiNiftiMasker were overriden by the ones given to MultiPCA.

After discussion with Philippe, we find much more consistant to ignore masker parameters given to MultiPCA in this case (if the user gives us a masker, we assume that he knows what he's doing).

This is a thread to discuss and validate this new behavior.

In any case, the code must be cleaned as, for the moment, the user is warned that memory and memory_level are ignored, which should not be the case. 
",start issue,Validate the behavior of MultiPCA if a MultiNiftiMasker is given
2,issue_closed,82,nilearn,nilearn,AlexandreAbraham,2013-11-05 13:55:37,,closed issue,Validate the behavior of MultiPCA if a MultiNiftiMasker is given
3,issue_comment,82,nilearn,nilearn,GaelVaroquaux,2013-06-19 23:03:46,"> After discussion with Philippe, we find much more consistant to ignore masker
> parameters given to MultiPCA in this case (if the user gives us a masker, we
> assume that he knows what he's doing).

I'd rather have it the other way: explicit is better than implicit.
",,
4,issue_comment,82,nilearn,nilearn,GaelVaroquaux,2013-11-05 13:44:33,"> For the moment, if we are in such a case, the value of the MultiPCA is taken
> and we raise a warning.

I am not sure what your sentence mean.
",,
5,issue_comment,82,nilearn,nilearn,GaelVaroquaux,2013-11-05 13:51:54,"> if there is a conflict between the parameters of the MultiNiftiMasker and of
> the MultiPCA, the parameters of the MultiPCA are kept and a warning message
> tell the user that parameters of the masker were overridden

All good!
",,
6,issue_comment,82,nilearn,nilearn,pgervais,2013-06-21 08:57:25,"My thoughts on this. 

MultiPCA needs a mask for its computations. The user can provide it or let the object compute it from data. The latter situation can be handled in two ways: either by providing a masker object, or by providing the _options_ taken by the masker object (and let MultiPCA create one). What the user would write is respectively (in extremely simplified form, for the purpose of the example):

```
MultiPCA(smoothing_fwhm=2)
```

or 

```
masker = MultiNiftiMasker(smoothing_fwhm=2)
MultiPCA(mask=masker)
```

The second situation being useful when the same masker (not mask) is to be reused in different places.

The question raised in this issue is what should happen in this situation:

```
masker = MultiNiftiMasker(smoothing_fwhm=2)
MultiPCA(mask=masker, smoothing_fwhm=3)
```

What I think after talking with Alexandre is that this situation must not happen: this is an **error**. The Python langage prevents a keyword argument from being provided twice. Let's do the same. The present example is a conflict, which is ambiguous. Giving priority to either value (that in masker or that provided to MultiPCA itself) is implicit in all cases.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:05:11,,start issue,API: change utils to _utils
2,issue_closed,69,nilearn,nilearn,GaelVaroquaux,2013-06-11 07:21:34,,closed issue,API: change utils to _utils
3,pull_request_title,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:05:11,,549f55343341a222500b855e7ec7f03ee89bad7d,API: change utils to _utils
4,pull_request_merged,69,nilearn,nilearn,GaelVaroquaux,2013-06-11 07:21:34,API: change utils to _utils,cd8ea2c72a29415c845510c2ed2e5a5356f146f1,Pull request merge from GaelVaroquaux/nilearn:dir_reorg to nilearn/nilearn:master
5,issue_comment,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:10:16,"> I thinks the file ""niimg_conversions.py"" is missing.

Done
",,
6,pull_request_commit_comment,69,nilearn,nilearn,bthirion,2013-06-10 22:05:23,"'whose output'
",549f55343341a222500b855e7ec7f03ee89bad7d,"(None, '', u'nisl/_utils/cache_mixin.py')"
7,pull_request_commit_comment,69,nilearn,nilearn,bthirion,2013-06-10 22:06:58,"connected components
",549f55343341a222500b855e7ec7f03ee89bad7d,"(None, '', u'nisl/_utils/ndimage.py')"
8,pull_request_commit_comment,69,nilearn,nilearn,bthirion,2013-06-10 22:17:52,"the ""copy"" keyword
",549f55343341a222500b855e7ec7f03ee89bad7d,"(None, '', u'nisl/_utils/numpy_conversions.py')"
9,pull_request_commit_comment,69,nilearn,nilearn,bthirion,2013-06-10 22:19:53,"Always
",549f55343341a222500b855e7ec7f03ee89bad7d,"(None, '', u'nisl/_utils/numpy_conversions.py')"
10,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:03:54,API: change utils to _utils,2161e035070dc93099fbc1c1a7a2b4110c77a751,
11,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:09:59,Add missing file,c7b1f76140f3afbd2841ceecf27ea26c6348ce7d,
12,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:22:10,Add missing files,4a3b9fe2474cd24d501a35e9218b3d6b2505c3e2,
13,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:26:09,MISC: travis.yml,31f33c438956f2fa5f6b17ea8d3d9899ad07fb8d,
14,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:28:29,Fix travis.yml,b2b74de11b943ff74c40ee99ca01527389584412,
15,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:49:01,API: imports in _utils/__init__,bf1264b9eac818a69eaef1fbe3a9974e6a1537d9,
16,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:55:08,BUG: make nilearn work on sklearn 0.12,576a380a73e109c3836df2c4d3f1b345d86d5178,
17,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 15:59:18,BUG: wrong import,c79f561a00f499ea37058c22337a4cd4fe199d0f,
18,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-10 16:02:06,TST: Fix tests under numpy 1.8.0,c353b70020580a25ba7c6043ea27befe2ddd2787,
19,pull_request_commit,69,nilearn,nilearn,GaelVaroquaux,2013-06-11 05:35:37,Address @bthirion's remarks,549f55343341a222500b855e7ec7f03ee89bad7d,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,81,nilearn,nilearn,AlexandreAbraham,2013-06-19 22:51:27,"In `_utils.class_inspect.get_scope_name`, the behavior of `stack_level` is not very handy. In fact, it specifies _exactly_ the number of frames to climb up. However, this number is contextual and can't be determined in advance. I suggest to just climb up the frames until we find a calling object.
",start issue,Change behavior of stack_level to stop at first calling object
2,issue_closed,81,nilearn,nilearn,GaelVaroquaux,2014-04-21 10:58:11,,closed issue,Change behavior of stack_level to stop at first calling object
3,pull_request_title,81,nilearn,nilearn,AlexandreAbraham,2013-06-19 22:51:27,"In `_utils.class_inspect.get_scope_name`, the behavior of `stack_level` is not very handy. In fact, it specifies _exactly_ the number of frames to climb up. However, this number is contextual and can't be determined in advance. I suggest to just climb up the frames until we find a calling object.
",1f4ef816585817d61757da6c0c02b3a6b075d2f5,Change behavior of stack_level to stop at first calling object
4,issue_comment,81,nilearn,nilearn,GaelVaroquaux,2013-08-01 13:10:37,"LGTM
",,
5,issue_comment,81,nilearn,nilearn,GaelVaroquaux,2014-04-21 10:57:49,"> Well, this is old, we should decide if we merge it or not. I think that
> stack_level won't be used a lot in practice so this may be a bit YAGNI.
> 
> @GaelVaroquaux : what do you think ?

OK, let's avoid YAGNI and close this guy.
",,
6,issue_comment,81,nilearn,nilearn,pgervais,2013-08-26 09:14:15,"This is very similar to #99. Maybe something could be factored out?
",,
7,pull_request_commit,81,nilearn,nilearn,AlexandreAbraham,2013-06-19 22:46:46,Change behavior of stack_level to stop at first calling object,0e7368491dd9fad8639224ae397c0edb3e9ed1bc,
8,pull_request_commit,81,nilearn,nilearn,AlexandreAbraham,2013-06-19 23:19:06,Rename stack_level into max_stack_level,1f4ef816585817d61757da6c0c02b3a6b075d2f5,
9,pull_request_commit_comment,81,nilearn,nilearn,GaelVaroquaux,2013-06-19 23:09:13,"You should say that you go up by at most 'stack_level'. Maybe that variable should be renamed 'max_stack_level'.
",0e7368491dd9fad8639224ae397c0edb3e9ed1bc,"(8, 65, u'nilearn/_utils/class_inspect.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,71,nilearn,nilearn,GaelVaroquaux,2013-06-11 09:25:36,"In BaseMasker, transform_single_niimgs sets the 'affine_' attribute. This shouldn't happen.
",start issue,Transform should never modify object
2,issue_closed,71,nilearn,nilearn,AlexandreAbraham,2013-06-20 08:59:02,,closed issue,Transform should never modify object
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:22:41,"Cleaner version of the CanICA algorithm. This PR does not only refactor the algorithm but bring a bunch of new core tools for algorithm development.
",start issue,Canica
2,issue_closed,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 21:14:58,,closed issue,Canica
3,pull_request_title,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:22:41,"Cleaner version of the CanICA algorithm. This PR does not only refactor the algorithm but bring a bunch of new core tools for algorithm development.
",62249599c64671fba6fc09efae482d09155340d2,Canica
4,pull_request_merged,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 21:14:58,Canica,d3caf2a9b97812c90d2d58476a6c072b18188dd7,Pull request merge from GaelVaroquaux/nilearn:canica to nilearn/nilearn:master
5,issue_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 01:16:35,"> ```
> There is not tests/test_multi_pca.py. Is this intentional?
> ```
> 
> I think Gael was working on it. I don't know if he has started or if it's a
> WIP.

I don't understand. On my box, I have a battery of tests there. I don't
have time to check what is going on (am in a Starbucks), but there should
be 100% test coverage on multi_pca.py
",,
6,issue_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 12:42:24,"> ```
> You simply forgot to add the file, no big deal.
> ```

What a dumass! Done
",,
7,issue_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:53:06,"There is not tests/test_multi_pca.py. Is this intentional?
",,
8,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 13:48:21,"Names of parameters that ...
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
9,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 13:48:42,"None **or** list
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
10,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 13:57:16,"Here ""parameters"" is closely related to scikit-learn. Please explain somewhere in the docstring what it is exactly (parameter of the __init__ method), and maybe a link to _get_param_names() from scikit-learn. 
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
11,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 14:06:52,"I know this is a safety net to avoid breaking some possibly long computation, but it will also hide some programming errors. 
In the present case, there is not many exception that can be raised (probably KeyError, AttributeError and some errors related to string formatting). At the very least, if the caught exception is a serious one like SyntaxError, re-raise it.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
12,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 14:08:51,"This docstring is unclear. What is the intent of this function? Reading the code, it appears that it was designed to get the name of the estimator (in a scikit-learn sense) that called this function, and something more generic. Please give at least some hint.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
13,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 14:10:30,"Fair enough. But what does it do?
",62249599c64671fba6fc09efae482d09155340d2,"(28, '', u'nisl/decomposition/canica.py')"
14,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 14:28:40,"OK for the first remark. For the second one, I don't think it's a good idea to provide a link to another package's private function.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
15,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 14:41:04,"I think we should make a list of Builtin Exception that we want to catch or not. I think that SyntaxError, ImportError and maybe TypeError should not be catched.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
16,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 14:46:24,"I don't think that this behavior may be used often : it is hard to know at which level in the stack the calling object is and, if we could, it could be different depending on the situation. Maybe a 'max_stack_level' that look for the 'closest' scope holding a 'self' var should be better.
",62249599c64671fba6fc09efae482d09155340d2,"(65, '', u'nisl/_utils/class_inspect.py')"
17,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 14:47:17,"Does not exist anymore. Has been replaced by sessuin_pca for which I have written a piece of doc.
",62249599c64671fba6fc09efae482d09155340d2,"(28, '', u'nisl/decomposition/canica.py')"
18,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:03:44,"None instead of float (same thing for high_pass below)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
19,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:05:47,"Misalignment here (pep8 complains)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
20,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:07:10,"""on which PCA"" (no ""the"")
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
21,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:11:52,"I really don't like this attribute name (`self.mask_`) because it does not contain a mask, but a masker, which is completely different. Please rename it to `masker_`, unless there is some good reason to keep `mask_`.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
22,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:17:15,"PEP8 complains here
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
23,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:20:33,"I agree that this name is ambiguous. Maybe we should take mask as a parameter, put the mask in mask_img_ and the masker in masker_ ?
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
24,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:21:18,"PEP8
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
25,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:22:57,"I agree. To be on the safe side in this case, white-list some exceptions, like those you just listed. In any other case, catch only the required exception.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
26,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:25:10,"If I understand the code correctly, there is no need for a mask_img_, since a masker is computed in any case, and the mask image is retrieved as self.mask_.mask_img_. Just rename mask_ to masker_, and you're good.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
27,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:27:54,"Why are you building such a list ?
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
28,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:29:47,"it avoids duplicating code if confounds is None (we can't iter on it in the next line if it's simply None).
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
29,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:30:16,"Yes, you're right.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
30,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:30:49,"Canical -> Canonical
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
31,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:32:08,"Describe the computed attributes like mask(er)_, component_img_.
",62249599c64671fba6fc09efae482d09155340d2,"(188, '', u'nisl/decomposition/multi_pca.py')"
32,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:33:41,"Sorry, I'm not fully awake, it seems.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
33,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:35:52,"For your (and my) records: itertools.repeat() does the same thing while requiring a constant amount of memory. Probably useless here.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
34,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:40:37,"Good practices are never useless ;)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
35,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:41:00,"This will break: %i and no parameter provided.
",62249599c64671fba6fc09efae482d09155340d2,"(266, '', u'nisl/decomposition/multi_pca.py')"
36,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:45:21,"This will not break, this will do worse: print '%i'.
",62249599c64671fba6fc09efae482d09155340d2,"(266, '', u'nisl/decomposition/multi_pca.py')"
37,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:48:15,"`getattr` raises AttributeError if the given attribute does not exist. Returning None for a missing attribute would be javascript's  behaviour :-)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
38,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:50:22,"Use `hasattr` instead.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
39,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:57:15,"Some init parameters are not described in the docstring (e.g. threshold)
",62249599c64671fba6fc09efae482d09155340d2,"(43, '', u'nisl/decomposition/canica.py')"
40,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 15:59:16,"Can self.threshold really be anything? It seems to me that a numpy array with a precise shape is excepted. If this is the case, add the test, and raise ValueError if no case fit.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
41,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 16:01:00,"What does ""for the moment"" mean? Are we talking about execution or development? Is it stored temporarily during an execution, or is this a temporary development?
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
42,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 16:10:33,"This function is unused: remove.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/io/base_masker.py')"
43,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 16:12:52,"basemasker.filter_and_mask. The function isn't a method anymore.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
44,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 16:15:40,"This is not what we want here ;). We are sure that these params exist. We want to know if the user has overriden them. For example, if you pass a NiftiMultiMasker, whose smoothing_fwhm is custom, to CanICA, the custom parameter will be overwritten by the one given to CanICA. That is why we want to know is the value of the parameter is None (default) and if it is not, that means that the user has put custom value, and then we warn him that we override it.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
45,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 16:19:09,"Then the code is wrong for another reason: the default value is not None for all the parameters (e.g. memory or memory_level)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
46,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-13 16:26:39,"Nitpicking: use print as a function, for future compatibility with Python 3.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/io/base_masker.py')"
47,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 16:35:41,"It's a development note. I think that whether or not we compute it must be discussed.

It is only used further in transform and inverse_transform methods. I think that if the user wants it to be computed once and for all, he just has to provide a Memory object. On the other hand, it may be useful for the user to have a direct access to the components in a niimg format. This is more consistent with the behavior of the object : niimg in, niimg out. Maybe we should keep components_img_ and remove components_
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
48,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 16:44:38,"In fact, we should find a better way to do that then.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
49,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 01:06:16,"> > -    ignore: None of list of strings
> 
> None or list

Hum, I think that I disagree: list of strings is more explicit
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
50,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 01:08:47,"> I agree that this name is ambiguous. Maybe we should take mask as a parameter,
> put the mask in mask_img_ and the masker in masker_ ?

I am -1 on duplicating where the mask is stored. I am +0 on dropping
mask_img_ and simply using masker_.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
51,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 01:11:08,"> What does ""for the moment"" mean? Are we talking about execution or
> development? Is it stored temporarily during an execution, or is this a
> temporary development?

I think that I would like it to be removed: I don't like the idea of
having duplicated info in an estimator.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
52,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-14 06:52:02,"> I think that I would like it to be removed: I don't like the idea of having duplicated info in an estimator.

I agree on that point, thus the comment to launch a discussion about it. The question is: should we keep components_ or components_img_ ? As said before, I'm +1 for components_img_ (niimg in, niimg out).
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
53,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-14 08:36:39,"Considering only performance, the best choice is the masked version `self.components_`, because timeseries extraction uses masked data in the end (nisl/region.py:255). In the current state, components are un-masked in `MultiPCA.fit` (multi_pca.py:240), and masked again in transform, through the call to NiftiMapsMasker.transform (multi_pca.py:263). The present state works fine, but it will use too much time and memory for no good reason (`self.components_` and `self.components_img_` are the same -big- thing, and conversion between them is performed multiple times). 

However, in the present state, there is no way to pass masked data to NiftiMapsMasker, meaning that  `self.components_` will have to be unmasked at some point. Thus, it's `self.components_` that must be dropped, at least until some optimization is performed.

Another performance issue: it seems that `components_img_` is computed twice in some cases. `CanICA.fit` calls `MultiPCA.fit`, and both call `masker_.inverse_transform`. This precise problem can be solved by doing lazy evaluation.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
54,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-14 08:40:36,"What about something like that (for a given parameter ""param_name""): 

```
orig_value = getattr(obj, param_name)
if orig_value != getattr(self, param_name): warnings.warn("""")
setattr(obj, param_name, getattr(self, param_name))
```
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/multi_pca.py')"
55,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-14 08:49:13,"This is not imported in **init**.py. Intended?
",62249599c64671fba6fc09efae482d09155340d2,"(87, '', u'nisl/decomposition/multi_pca.py')"
56,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 12:44:34,"> I agree on that point, thus the comment to launch a discussion about it. The
> question is: should we keep components_ or components_img_ ? As said before,
> I'm +1 for components_img_ (niimg in, niimg out).

For internals, we need components_ (for instance to get MultiPCA to talk
to ICA, or for the transform), so I am +1 to keep components_ rather than
components_img_

We should instruct people to use
multi_pca.masker_.inverse_transform(multi_pca.components_)
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
57,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 12:46:17,"> However, in the present state, there is no way to pass masked data to
> NiftiMapsMasker, meaning that self.components_ will have to be unmasked
> at some point.

How about short-circuiting this object and using it's internals rather
than the full object (i.e. a function that does the work rather than the
method)?

> Another performance issue: it seems that components_img_ is computed
> twice in some cases. CanICA.fit calls MultiPCA.fit, and both call
> masker_.inverse_transform. This precise problem can be solved by doing
> lazy evaluation.

But also by better organisation of the code, which we should attempt.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
58,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 12:47:22,"> > +class MultiPCA(BaseEstimator, TransformerMixin):
> 
> This is not imported in init.py. Intended?

So far yes. I'll like to keep it not for public consumption temporarily,
as we play with the design for a few months.
",62249599c64671fba6fc09efae482d09155340d2,"(87, '', u'nisl/decomposition/multi_pca.py')"
59,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-14 13:01:03,"Short-circuiting this object is feasible, but requires some refactoring in NiftMapsMasker, to expose an internal function that can take masked data as input (sort of reminds me of some functions that I wrote a few weeks ago and which were eliminated ;-) ). 

A better organization of the code is always a good thing. The question is: should we do this now? Might not it be a good idea to release a mildly-optimized implementation that works to get feedback first?
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
60,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 14:50:28,"> A better organization of the code is always a good thing. The question is:
> should we do this now?

No

> Might not it be a good idea to release a mildly-optimized
> implementation that works to get feedback first?

I agree
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
61,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-17 11:38:18,".full_version doesn't exist in numpy 1.3.0 (but short_version does). Is it really required?
",62249599c64671fba6fc09efae482d09155340d2,"(5, '', u'nisl/tests/test_masking.py')"
62,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-17 11:45:11,"This line triggers a bug on Python 2.6. See also nisl/image.py:104. 

Use `hasattr(niimg, ""__iter__"")` instead.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/niimg_conversions.py')"
63,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-17 12:21:20,"ratio might have the value ""None"" after this if/elif. Would be better to add an else: and raise ValueError with a clear user message.
",62249599c64671fba6fc09efae482d09155340d2,"(271, '', u'nisl/decomposition/canica.py')"
64,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-17 12:26:22,"np.abs(ica_maps) is computed two times in this branch. Might be better to memorize it.

The following lines re-invent scipy.stats.scoreatpercentile(), which is used in high_variance_confounds(). I don't know if it would be faster/use less memory than this implementation though.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
65,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-17 16:10:55,"As full_version seems to be used only for non release build, I thinks this is harmless.

@GaelVaroquaux : any thought on that ?
",62249599c64671fba6fc09efae482d09155340d2,"(5, '', u'nisl/tests/test_masking.py')"
66,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-17 16:45:52,"> .full_version doesn't exist in numpy 1.3.0 (but short_version does). Is it
> really required?

Yes. So we need to test for full_version. If it's not present, we know we
have an old numpy.
",62249599c64671fba6fc09efae482d09155340d2,"(5, '', u'nisl/tests/test_masking.py')"
67,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-17 16:47:08,"> np.abs(ica_maps) is computed two times in this branch. Might be better to
> memorize it.

Not memorizing it: it is fast to compute and not worth the speed/time
tradeoff of caching. If we can avoid recomputing be rearranging the code
it is better.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/decomposition/canica.py')"
68,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-17 16:48:15,"> As full_version seems to be used only for non release build, I thinks this is
> harmless.
> 
> @GaelVaroquaux : any thought on that ?

Well the reason I used it, is that the code without it breaks on a dev
version. This needs to be sorted out. Sorry, I don't have time to look at
it.
",62249599c64671fba6fc09efae482d09155340d2,"(5, '', u'nisl/tests/test_masking.py')"
69,pull_request_commit_comment,77,nilearn,nilearn,pgervais,2013-06-17 19:23:35,"> Well the reason I used it, is that the code without it breaks on a
> dev version. This needs to be sorted out. Sorry, I don't have time
> to look at it.
> I'll take care of it.
",62249599c64671fba6fc09efae482d09155340d2,"(5, '', u'nisl/tests/test_masking.py')"
70,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 09:23:09,"I have adressed this problem in commit fd67f54
I just added a white list of acceptable exceptions (we may have to modify it).

Good thing is that we could make some system to remove exception catching when in dev mode.
",62249599c64671fba6fc09efae482d09155340d2,"(None, '', u'nisl/_utils/class_inspect.py')"
71,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-10 08:33:00,COSMIT: variable name,bf3d61e21b784fcee85af05aea8289c29e12e831,
72,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-10 08:40:45,MISC: variable names + doc,f36e8d32fc220b12ea1fd06983f8ba6277938ae6,
73,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-10 08:47:22,TST: make test work on recent numpy,2f16fb87c4aaec36954df5abf7172eeb1816596f,
74,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 10:11:45,Externalize function transform_single_niimg,9d82ee8b60076af02169fba6d2fa7ed61e8d47c4,
75,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 10:21:35,COSMIT: PEP8,b916bff7b4eb1684a0fc57542aadc448ff8079a7,
76,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 12:07:38,Put masker parameters in dictionnary,600aba3d6acc9fdbce97e89267350c6f7aa8e68c,
77,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-10 12:14:44,WIP on multi_pca,3b6d90111dd6f1c83d93d2a908bef9d89baa64dc,
78,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 12:53:22,Add session_pca,a679f0f224c88974db88dcf387993d7d7fdbe09b,
79,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 14:52:01,Backup old canica script,8f42f4936b19fe16bed74a2f8b78fe489caab691,
80,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 15:50:10,Rename canica,e392f9b0114eceb13ced330e7ed83e8a3833c740,
81,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-10 22:15:41,Minor fixes to make canica operational,5433d2703626be1ff92a8399159114b9b62bc8f6,
82,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 07:43:42,Missing file CanICA,78c5704a7b1753628c25a14c62eb9435f3d28114,
83,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 08:04:03,"Merge branch 'master' into canica

Conflicts:
	nisl/decomposition/canica.py
	nisl/io/base_masker.py
	nisl/masking.py",7fa3f0bd099a7e5d17e5bf1e8cd07b2b644b3455,
84,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 08:19:14,Add class utils,0b9926313831b8fd5c2e72cfc2559f7bdd1c2855,
85,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 09:02:44,ENH: class inspection,01a5e3a8d62e049aeb08f2719c7b2ece6cea2f6d,
86,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 09:48:32,ENH: class name inspection,14c352bc62ffaac43b7615ed188294007a37cead,
87,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 09:55:25,Add inits,7655c373b8234e4ca9869fb3e6b469ae66e60a24,
88,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 09:55:40,Add example script for canica,326700619a722f2da049e1d1a08a02c78d85bf1d,
89,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 09:57:30,TST: cover enclosing_scope_name,f59e6f628724b19c043343b02f1fc126b8d2d672,
90,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 10:20:28,Fix passing of memory argument,170e4f5c4a2b9a32e05322a9cb255d9cdc5eb3f0,
91,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 10:20:41,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,a813a2a9b2ed1f36fa5990ba550853859947f22a,
92,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 10:22:51,Fix CanICA test to work with old canica,04ad128651a123fe4378327624d97a17d747422e,
93,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 10:25:04,Rename maps_ to components_ for the moment,ef00a3b2de32a50118220df5c0d108f9415cd2ed,
94,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 11:56:34,Fix cache use in CanICA,d4310797e848637f41b12a39f13487ac71c7eff8,
95,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 12:18:17,Fix CanICA example,2425238d4479fe1b6bee34227a4d95c252cb73e5,
96,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 12:23:02,Set affine_ in fit instead of transform,274ed593b1210f43159935d230915982417707ed,
97,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 12:38:09,Put standardize and detrend setting directly in fit of MultiPCA,3c4eea71171339a7260179f54748121ea4bf72c2,
98,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 13:30:32,Move setting of parameters in fit,274415809e437ef612e654b7d1388208c943d3f0,
99,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 13:47:46,Fix trailing text in doc,6c8be0976665ed28abf63a77c894df8d27abc852,
100,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 11:39:40,ENH: memory in mask computation,4071537c29d4b40781cb2e36e50e2195aeca50b8,
101,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 14:26:13,ENH: cache clean only if filter,102b4d5f8855d901df50e9be9ede3eabf9085bc7,
102,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-11 15:02:16,ENH: proper ignore in resampling caching,972c3a6795770c70239d91a5207ac19581f40729,
103,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-11 15:42:06,"Create tranform and inverse_transform for MultiPCA

Use NiftiMapsMasker to mask and unmask data in the MultiPCA and
subclasses (CanICA). Also clean parameter retrieval in the maskers.",496cdb29fee7abff95decf878ae55e7a86e86a09,
104,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:25:14,Add Threshold to CanICA. Remove Masker inheritance in MultiPCA.,6164294177c34f257dbd354cf97d643597255a0d,
105,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:33:02,Clean canica example,e3ff309442a3f28dfcf000c5e5462ac68a7581d0,
106,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 08:29:17,"Cleaning, doc.",cad3279f37ef0ad7ce5da2df831cd1bb1785a9fa,
107,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 09:35:07,"Clean code, doc, minor fixes.",038d8cbd82558fc94eece7a65b7ac264e13eb38a,
108,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 09:46:11,Remove unused comment,d937e6bb5dca4bdd781b4ba01e7d022e99f7bc4f,
109,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 09:47:59,Merge branch 'canica' of github.com:GaelVaroquaux/nilearn into canica,92a44941e9bddb7bef70fe8574d18b060ccc514d,
110,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 10:00:03,ENH: push params in masker,b6db3f3c25ec8aa0c355898bbc1da118e0fc6200,
111,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 10:56:50,Update docs,fba1bde88a038b31802d2f9893d3080540f879bd,
112,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 10:57:50,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,e4dcf2b0cc792b87af8d13f5e23936ed5fdd8776,
113,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 10:59:00,MISC canica,1fe40560c204b9620142f673eeb28d49d733ba66,
114,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 11:03:12,ENH: pass memory to masker,90479fc692d6df4bd2a53aaf4d46ea3fe163969c,
115,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 11:03:55,Merge branch 'canica' of github.com:GaelVaroquaux/nilearn into canica,27d6b55c2240b8039047523425a21ddad2f778ce,
116,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 11:27:29,"ENH: avoid recomputing with different n_jobs

Control of filter params in multi_pca",bd4e5634013b58a85acb2fbf415d83688308d227,
117,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 11:36:13,ENH: verbosity in memory,bb5550e039ca73de161f4c975bbbbf60e2378a1d,
118,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 11:36:23,ENH: filter params in CanICA,ac5e46204e7c3bd86d305ad0940bf7cc64743125,
119,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 12:27:54,ENH: remove kurtosis mess in ICA,055b93dda21234ba367614c60c37d8209cd7141a,
120,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 12:36:25,ENH: make CanICA work on single subject,71340a9283d578c4a9206c290466bc54caeb6f32,
121,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 12:52:29,Cleanup: remove old_canica,ca63ff6662a14536058f53c79a8ccc677636cdf4,
122,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 12:57:26,Make test work for new CanICA,852a4c268f60e2836ee052461f0a0561bd61d94d,
123,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 12:58:18,ENH: caching: accept sklearn.external and joblib Memories,9efc726990a420ccd6c99eb0cf798dc4234414f0,
124,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 12:59:12,Merge branch 'canica' of github.com:GaelVaroquaux/nilearn into canica,76fa388ed38be471125acd16f916b6b6532746bd,
125,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 13:03:06,BUG: accept memory=None,bcd0bf41a80b6094783dcda9ed7f31f28b35f24d,
126,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 13:05:08,Cleanup: remove unused decomposition_model,42bd3124a1edcf00c25dd06f12e54176f84d5084,
127,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 13:06:06,Cleanup: remove unused utils,ff1c33edf25feaa6ffb324a1aaea27488ff39532,
128,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 13:56:32,Consider a list of 3D niimg as a niimg,62a878070ed73963e9e09a799d9b4f83466a7dcb,
129,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 13:57:21,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,79d2b0681a87f14f1383990ee93667f6bd513696,
130,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 15:10:34,COSMIT remove unused import,a0497177c60db9b25879d9011da64b49c0e16d38,
131,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 15:46:19,TST: 100% coverage on multi_pca,05081708286182ff8862df4740e61ee99cbe52b4,
132,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 15:59:46,Run _utils tests (file moved into root tests directory),58417404096fa112da3618cf547cd1d60a63ef94,
133,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:00:26,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,d1c3a84a2297bd443aa1f3d754eba8e62cc4229f,
134,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 16:01:50,ENH: multiple restarts in CanICA,75e6228f3e9e7eb5afab24ac7527b390b1a368dd,
135,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 16:09:41,Better ignore list,b647d3f186e11d03bd6d8f5fecb79b84aa74ba39,
136,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 16:12:41,MISC: rm .coverage in Makefile,3569cb8f9fb7202e2a8bc4b38dc5c539d81585fe,
137,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:13:24,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,c052043bfa4baf1f864dfcaf3b6a2deb6e43741f,
138,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:13:30,Improve test coverage of class_inspect,da745ee533a7afd8988de62a6dec5c0161ecc6b0,
139,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 16:14:00,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,949b510ca1e46da27b33f251bd8d935698959c73,
140,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 08:48:10,Add doc to session_pca,0deef05fdc80eb1186643fe4b02ad1727466fc60,
141,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 09:28:17,Fix tests,725fa96ab37cdf03b3b252157c22aa7d47139327,
142,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 09:36:40,Fix operator in CacheMixin,1f220c7d804c245ae3580fb7cfbc87ebca7a5845,
143,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 14:47:40,Fix doc,0794475d6b907178bfd2aefc4f3ece081224770e,
144,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:20:41,Fix doc,921ee8d8ba4320f47be543afe355179082ad8916,
145,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:27:30,PEP8,a845a866e73120f96ecfaf447ba583737f4d952b,
146,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:32:25,Rename MultiPCA.mask_ to MultiPCA.masker_,22bd39d5ef0ce9564c3c1741f5043c6f136fcf0e,
147,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:40:41,Fix doc,64080f79b4d314eea774f790db09ee85df14b788,
148,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 15:45:59,Fix doc,edcfd11aab6bbba39688c6090e91cafdb6e34c12,
149,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-13 16:48:54,"Fix doc, PEP8",b066c1ded50f8ee3f14c16260d38e4f05446151a,
150,pull_request_commit,77,nilearn,nilearn,GaelVaroquaux,2013-06-14 12:41:48,Add forgotten file,41ec4c8ef89fbcbf1edbaa92ba65874fc5396074,
151,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-17 11:30:01,Merge branch 'canica' of https://github.com/GaelVaroquaux/nilearn into canica,c74e9ab1ea04c4ab9f51104bcadb6db502433b5f,
152,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-17 12:32:54,Handling of threshold parameter is clearer,519891e57c99ebb12211131c4ce1010de1da838e,
153,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 09:18:21,Add a list of authorized exceptions,fd67f54c198a7dd6933ee235f0824c7147d7facc,
154,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 09:18:46,Remove components_img_ attribute,71ca6450a78571b1d5dc6765398560242e3a0679,
155,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 11:47:04,Fix retrocompatibility with Python 2.6,941eb41b58958c51a363389598529e5195001f19,
156,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 12:26:24,Merge branch 'master' of https://github.com/nilearn/nilearn into canica,d2182bae4c3891a3ef27d4d63647e617d85ed1c7,
157,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 13:07:23,Condense code in canica,dffed4e4bec04d3f290488478446f08b2c2b63e1,
158,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 14:04:00,Replace thresholding code by scoreatpercentile,f0527a21483b27898fb9362b69145477f0335de9,
159,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 14:18:43,Do not overwrite masker params by those of MultiPCA.,433a06be292f18f0a3307fc25a28ce36da5d7f38,
160,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 15:48:26,Patch clone in multi_pca,fa514dee0f00367171dd6bfda1d095fd12120dac,
161,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 16:04:28,Minor fix,0efdfb60f3b72ec647ed78f685be56d73d3d0b4e,
162,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 16:40:29,Dirtier version of Philippe patch,9f5b3e8d37a43dfd61cceae21fc5a3658badf456,
163,pull_request_commit,77,nilearn,nilearn,AlexandreAbraham,2013-06-19 20:29:48,Fix multi_pca test,62249599c64671fba6fc09efae482d09155340d2,
164,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:28:23,"I had some hesitation between 'mask' and 'masker' for the name of this argument. I think 'masker' would be better but I left mask for further discussion.
",6164294177c34f257dbd354cf97d643597255a0d,"(55, 55, u'nisl/decomposition/multi_pca.py')"
165,pull_request_commit_comment,77,nilearn,nilearn,AlexandreAbraham,2013-06-12 07:30:32,"Thresholding strategy should be documented and discussed. If threshold is a float, I use it as a ratio of number of voxels that will be kept, but we can see this as a percentile of values kept, or directly as a threshold value...
",6164294177c34f257dbd354cf97d643597255a0d,"(72, 134, u'nisl/decomposition/canica.py')"
166,pull_request_commit_comment,77,nilearn,nilearn,GaelVaroquaux,2013-06-12 07:34:42,"> I had some hesitation between 'mask' and 'masker' for the name of this
> argument.

Mask is better. It makes it more explicite that a mask can be passed in.
Passing in a masker concerns only a small fraction of power users. These
can read the docs.
",6164294177c34f257dbd354cf97d643597255a0d,"(55, 55, u'nisl/decomposition/multi_pca.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,80,nilearn,nilearn,AlexandreAbraham,2013-06-19 22:34:42,"In MultiPCA, if the user provides a masker, we clone it. Unfortunately, in joblib 0.6, a bug prevent cloning a Memory object. This issue can be addressed by testing joblib version (patch proposed by Philippe):

```
        if isinstance(self.mask, NiftiMultiMasker) \
           and sklearn.externals.joblib.__version__.startswith(""0.6""):
            # Dirty workaround for a joblib bug
            # Memory with cachedir=None cannot be cloned in version 0.6
            # of joblib.
            masker_memory = self.mask.memory
            if masker_memory.cachedir is None:
                self.mask.memory = None
                self.masker_ = clone(self.mask)
                self.mask.memory = masker_memory
                self.masker_.memory = Memory(cachedir=None)
            else:
                self.masker_ = clone(self.mask)
            del masker_memory
        else:
            self.masker_ = clone(self.mask)
```

 but, unfortunately, this breaks Travis build:

```
======================================================================
ERROR: nisl.decomposition.tests.test_multi_pca.test_multi_pca
----------------------------------------------------------------------
Traceback (most recent call last):
File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
File ""/home/travis/build/nilearn/nilearn/nisl/decomposition/tests/test_multi_pca.py"", line 44, in test_multi_pca
    multi_pca.fit(data[:2])
File ""/home/travis/build/nilearn/nilearn/nisl/decomposition/multi_pca.py"", line 211, in fit
    and sklearn.externals.joblib.__version__.startswith(""0.6""):
AttributeError: 'module' object has no attribute '__version__'
```

I have made a dirty fix for the moment but we should fix this ASAP.
",start issue,Fix cloning of MultiNiftiMasker in MultiPCA
2,issue_closed,80,nilearn,nilearn,AlexandreAbraham,2013-06-20 08:53:15,,closed issue,Fix cloning of MultiNiftiMasker in MultiPCA
3,issue_comment,80,nilearn,nilearn,GaelVaroquaux,2013-06-19 23:05:28,"> In MultiPCA, if the user provides a masker, we clone it. Unfortunately, in
> joblib 0.6, a bug prevent cloning a Memory object.

I don't understand. The memory shouldn't be cloned, only the masker. What
is the error message? Sorry, I am supposedly listening to talks, so I
cannot reproduce myself.

G
",,
4,issue_comment,80,nilearn,nilearn,GaelVaroquaux,2013-06-19 23:13:17,"> The Masker contains a Memory object. Therefore, when we clone the masker, the
> Memory is cloned too. Unfortunately, in joblib 0.6, cloning a Memory does not
> work if cachedir is None.

OK, I remember now.

> Philippe's patch fixes this bug but it breaks Travis build :-/

OK, you can do a try/except on the cloning of the masker rather than
testing for version.

G
",,
5,issue_comment,80,nilearn,nilearn,pgervais,2013-06-20 07:38:50,"I don't think there is any need for a ""clean"" patch: this is a workaround, and such things are always a little messy. If the code inside the ""try"" branch is clean, that doesn't matter to me if what is in the ""except"" clause is ugly. Using a try/except by itself is not bad practice.
",,
