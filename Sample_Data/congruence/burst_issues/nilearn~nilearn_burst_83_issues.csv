,rectype,issueid,project_owner,project_name,actor,time,text,action,title
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1182,nilearn,nilearn,jeromedockes,2016-07-20 08:58:52,"This is based on PR #832 opened by @bcipolli in answer to issue
#640. The contribution is to add a fetcher for downloading selected

images from http://neurovault.org/. I have tried to address some of
the remarks that were made in the discussion about #832. I have
included the examples `plot_ica_neurovault.py` and
`plot_neurovault_meta_analysis.py` from the previous PR; they remain
almost identical.

The interface to the fetcher is similar to that proposed in #832. I
have kept the possibility to filter collections and images either with
a function or with a dictionary of `{field: desired_value}` pairs (or
both), but they are now separate arguments called respectively
`collection_filter` (`image_filter` for images) and `collection_terms`
(`image_terms` for images). Also, now the filters passed in a
dictionary are only inserted in the query URL if they are actually
available on the server (which is the case for the collection owner,
the collection DOI, and the collection name); otherwise they are
applied to the metadata once it has been downloaded.

For users who want a specific set of image or collection ids,
downloading all the Neurovault metadata and filtering on the ids is
inefficient; so they can use the `image_ids` or `collection_ids`
parameters to pass the lists of ids they want to download; in this
case any filter is ignored and the server is queried directly for the
required image and collection ids. Note: this is also done under the
hood if the collection id is used as a filter term - either by
specifying the collection 'id' field or the image 'collection_id'
field - except that in this case the other filters are still applied.

I have included a `ResultFilter` class and a bunch of special values
such as `NotNull` which can be used to specify filters more easily. In
some neurovault metadata jsons, some values are strings such as """",
""null"", ""None""... instead of actual `null`; these (more precisely
strings that match `($|n/?a$|none|null)` in a case-insensitive way)
are replaced by a true null value (`null` in the json, converted to
`None` when loaded in a python dict) upon download so that comparing
to `None` or testing for truth should yield the expected results.  In
particular `dict.get(field)` will give the same value wether the
original value was `null`, ""null"", ... , or plain missing.

This should make using `fetch_neurovault` somewhat easier. However,
for users who are interested in a large subset of the neurovault data
and are not too short on disk space, I would recommend using only very
simple filters (e.g. the defaults) when calling `fetch_neurovault` to
download (almost all) the data, and, once it is on disk, only access
it through `read_sql_query`, `local_database_connection` or
`local_database_cursor`. The metadata is stored in an sqlite database,
so instead of having to read the docstring for `fetch_neurovault`,
writing their own filters, etc., most users will probably prefer to
download it all and then simply use SQL syntax to select the subset
they're interested in. `read_sql_query` queries the database and
returns the result as an `OrderedDict` of columns (the default) or as
a list of rows. `local_database_connection` gives a connection to the
sqlite file, so that pandas users can load e.g., all the images'
metadata by typing:

```
images = pandas.read_sql_query(
     ""SELECT * FROM images"", neurovault.local_database_connection())
```

Of course if they prefer manipulating sqlite3 objects directly they
can use the connection given by `local_database_connection` or the
cursor given by `local_database_cursor`.

@bcipolli, @chrisfilo, @GaelVaroquaux, or anyone else, please let me
know what modifications need to be made! In particular:
- What should be the default filters? The current behaviour is to
  exclude:
  - Collections from a list of known bad collections (found in PR #832,  with one addition).
  - Empty collections.
  - Images from a list of known bad images (found in PR #832).
  - Images that are not in MNI space.
  - Images for which the metadata field 'is_valid' is cleared.
  - Images for which the metadata field 'is_thresholded' is set.
  - Images for which 'map_type' is 'ROI/mask', 'anatomical' or 'parcellation'
  - Images for which 'image_type' is 'atlas'
- Should the fetcher, by default, download all the images matching the
  filters, or only a limited number (the current behaviour)?
",start issue,Add a Neurovault fetcher.
2,issue_closed,1182,nilearn,nilearn,KamalakerDadi,2017-04-20 14:58:53,,closed issue,Add a Neurovault fetcher.
3,pull_request_title,1182,nilearn,nilearn,jeromedockes,2016-07-20 08:58:52,"This is based on PR #832 opened by @bcipolli in answer to issue
#640. The contribution is to add a fetcher for downloading selected

images from http://neurovault.org/. I have tried to address some of
the remarks that were made in the discussion about #832. I have
included the examples `plot_ica_neurovault.py` and
`plot_neurovault_meta_analysis.py` from the previous PR; they remain
almost identical.

The interface to the fetcher is similar to that proposed in #832. I
have kept the possibility to filter collections and images either with
a function or with a dictionary of `{field: desired_value}` pairs (or
both), but they are now separate arguments called respectively
`collection_filter` (`image_filter` for images) and `collection_terms`
(`image_terms` for images). Also, now the filters passed in a
dictionary are only inserted in the query URL if they are actually
available on the server (which is the case for the collection owner,
the collection DOI, and the collection name); otherwise they are
applied to the metadata once it has been downloaded.

For users who want a specific set of image or collection ids,
downloading all the Neurovault metadata and filtering on the ids is
inefficient; so they can use the `image_ids` or `collection_ids`
parameters to pass the lists of ids they want to download; in this
case any filter is ignored and the server is queried directly for the
required image and collection ids. Note: this is also done under the
hood if the collection id is used as a filter term - either by
specifying the collection 'id' field or the image 'collection_id'
field - except that in this case the other filters are still applied.

I have included a `ResultFilter` class and a bunch of special values
such as `NotNull` which can be used to specify filters more easily. In
some neurovault metadata jsons, some values are strings such as """",
""null"", ""None""... instead of actual `null`; these (more precisely
strings that match `($|n/?a$|none|null)` in a case-insensitive way)
are replaced by a true null value (`null` in the json, converted to
`None` when loaded in a python dict) upon download so that comparing
to `None` or testing for truth should yield the expected results.  In
particular `dict.get(field)` will give the same value wether the
original value was `null`, ""null"", ... , or plain missing.

This should make using `fetch_neurovault` somewhat easier. However,
for users who are interested in a large subset of the neurovault data
and are not too short on disk space, I would recommend using only very
simple filters (e.g. the defaults) when calling `fetch_neurovault` to
download (almost all) the data, and, once it is on disk, only access
it through `read_sql_query`, `local_database_connection` or
`local_database_cursor`. The metadata is stored in an sqlite database,
so instead of having to read the docstring for `fetch_neurovault`,
writing their own filters, etc., most users will probably prefer to
download it all and then simply use SQL syntax to select the subset
they're interested in. `read_sql_query` queries the database and
returns the result as an `OrderedDict` of columns (the default) or as
a list of rows. `local_database_connection` gives a connection to the
sqlite file, so that pandas users can load e.g., all the images'
metadata by typing:

```
images = pandas.read_sql_query(
     ""SELECT * FROM images"", neurovault.local_database_connection())
```

Of course if they prefer manipulating sqlite3 objects directly they
can use the connection given by `local_database_connection` or the
cursor given by `local_database_cursor`.

@bcipolli, @chrisfilo, @GaelVaroquaux, or anyone else, please let me
know what modifications need to be made! In particular:
- What should be the default filters? The current behaviour is to
  exclude:
  - Collections from a list of known bad collections (found in PR #832,  with one addition).
  - Empty collections.
  - Images from a list of known bad images (found in PR #832).
  - Images that are not in MNI space.
  - Images for which the metadata field 'is_valid' is cleared.
  - Images for which the metadata field 'is_thresholded' is set.
  - Images for which 'map_type' is 'ROI/mask', 'anatomical' or 'parcellation'
  - Images for which 'image_type' is 'atlas'
- Should the fetcher, by default, download all the images matching the
  filters, or only a limited number (the current behaviour)?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,Add a Neurovault fetcher.
4,pull_request_merged,1182,nilearn,nilearn,KamalakerDadi,2017-04-20 14:58:53,Add a Neurovault fetcher.,f1968a82b2ba80df9abae75706d1e70ac58aad0a,Pull request merge from jeromedockes/nilearn:neurovault_fetcher to nilearn/nilearn:master
5,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-09-22 05:33:41,"We could make this PR fast using the new feature of neurovault: downloading all maps of a collection at once:
https://twitter.com/VaultNeuro/status/778801007434211333
",,
6,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-10-05 15:02:27,"> I can make DEBUG the default logging level. I will add a verbose parameter in
> the function to control that as in the other nilearn functions.

It would be good. I have no love for the logging framework in Python, as
it is quite poor to give user information (such as progress), which is
really what we want to do when we use ""print"".

> If we want to have it, I can change the verbose parameter when calling
> fetch_file so that this report appears.

Maybe we need an internal data-download function that downloads multiple
files and gives progress (possibly using fetch_file).
",,
7,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-10-05 16:31:04,"> I'm not sure I have understood. by default logging output is dumped on stderr,
> so the user sees it on the console. Is the problem that log records will be
> printed on separate lines (and that we can't use carriage return as is done in
> _chunk_report_)?

First it prints thing that are incomprehensible to the user (like the
module name and the warning type). That tends to clutter the display and
scare people. Second, indeed, it is not great for displaying progress.

> ```
> If we want to have it, I can change the verbose parameter when calling
> fetch_file so that this report appears.
> Maybe we need an internal data-download function that downloads multiple
> files and gives progress (possibly using fetch_file).
> ```
> 
> The current behaviour is to use fetch_file to download each file and print how
> many images have been downloaded so far; what other information should we add?

Maybe an optional progress bar, with estimation of the time. Ideally, we
should factorize this as much as possible with the existing progress bar.
",,
8,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-11-21 09:42:18,"The fact that there is no output may be due to a bad interaction between
the logger and the environment in which things are executing.

Ben: what environment are you running this in?

Jerome: how hard would it be to get rid of the log and just use printing
to stderr?
",,
9,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-11-21 09:52:09,"> in the meantime the logging level can be set with
> 
> neurovault.set_logging_level(<e.g. neurovault.logging.DEBUG>)

Yes, but some execution environement intercept logging.
",,
10,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-11-22 17:05:42,"> I do notice that if I have a disconnect in my connection, the neurosynth API
> call hangs and never returns. I thought the nilearn code times that out?

Hum, we should probably have a timeout.
",,
11,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:32:11,"For the narrative documentation, we should add a section 6.2 ""Retrieving images from Neurovault"" that contains a small text describing the two functions, their intended use and points to the two examples.",,
12,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-04-13 11:18:43,"> Any more reviews on this ? Or merge ?

Do release of 0.3 and then merge.
",,
13,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-04-20 15:11:27,"Hurray!!
",,
14,issue_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-04-20 15:55:08,"> I'm getting drunk today to celebrate!

Let's all do that!

",,
15,issue_comment,1182,nilearn,nilearn,chrisfilo,2016-09-22 05:41:06,"Let us know if there is anything in the current implementation that needs to be optimized or changed. @erramuzpe
",,
16,issue_comment,1182,nilearn,nilearn,bcipolli,2016-10-03 01:24:28,"Thanks @jeromedockes for pushing this forward. 

I tried using this tonight. Perhaps I'm not using it appropriately, or missed an issue in the original fetcher that is solved here, but ... with over 1400 images cached locally, after 20 minutes the fetcher has only verified that I have 450 images cached locally. At this rate, it will take over an hour to complete... even if there are no new images.

The previous fetcher only fetched the paginated collection metadata; this one seems to be fetching that one-at-a-time and perhaps not caching the image metadata?

Any advice on this issue would be helpful. As it stands, I'm going to switch my research code back to the previous neurovault fetcher code I have, as it only requires ~10-20 seconds to validate the 1400 existing images and check for new ones.
",,
17,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-10-03 12:09:48,"> Thanks @jeromedockes for pushing this forward.
> 
> I tried using this tonight. Perhaps I'm not using it appropriately, or missed an issue in the original fetcher that is solved here, but ... with over 1400 images cached locally, after 20 minutes the fetcher has only verified that I have 450 images cached locally. At this rate, it will take over an hour to complete... even if there are no new images.
> 
> The previous fetcher only fetched the paginated collection metadata; this one seems to be fetching that one-at-a-time and perhaps not caching the image metadata?
> 
> Any advice on this issue would be helpful. As it stands, I'm going to switch my research code back to the previous neurovault fetcher code I have, as it only requires ~10-20 seconds to validate the 1400 existing images and check for new ones.

Thank you for this feedback! Could you send me the detail of the commands you typed when you had this problem?

I tried to reproduce it but for me, it took a couple of seconds to load the metadata for all images on disk, and half a minute to check for new images and update metadata:

Load metadata for all images on disk:

```
>>> %time data = nv.fetch_neurovault(mode='offline', max_images=None, image_terms={})
CPU times: user 1.15 s, sys: 174 ms, total: 1.32 s
Wall time: 1.32 s
>>> len(data['images'])
13522
```

update metadata and download images not yet on disk(in this case I already had them all, so no new image was downloaded):

```
>>> %time data = nv.fetch_neurovault(mode='download_new', max_images=None, image_terms={})
CPU times: user 5.84 s, sys: 1.12 s, total: 6.96 s
Wall time: 30.9 s
```
",,
18,issue_comment,1182,nilearn,nilearn,bcipolli,2016-10-04 13:52:57,"```
    ss_all = datasets.fetch_neurovault(
        mode='download_new',
        max_images=5000, image_filter=image_filter,
        fetch_neurosynth_words=True)
```

It's almost 1 second per image. When I remove the `image_filter` arg, it seems to get higher faster, but still over ten minutes before I quit waiting.  Same if I set `fetch_neurosynth_words=False`.

Offline is quick.
",,
19,issue_comment,1182,nilearn,nilearn,bcipolli,2016-10-04 16:14:01,"A bit more: 
- When downloading new files, I don't see the progress info that used to be there. In fact, it's not clear to me from the output when any file is being downloaded. As best I can guess, `INFO: Already fetched 2034 images.` indicates a file was fetched. Did nilearn change the downloader output, or is this just for this branch? 
- Filenames changed, so between that and the output confusion above, files were being downloaded without me realizing it. Sorry!
- Still, even with retesting, I get > 10 min wait times before my script loads, using `mode='download_new'`.
",,
20,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-10-05 14:22:48,"> A bit more:
> 
> ```
> When downloading new files, I don't see the progress info that used to be there. In fact, it's not clear to me from the output when any file is being downloaded. As best I can guess, INFO: Already fetched 2034 images. indicates a file was fetched. Did nilearn change the downloader output, or is this just for this branch?
> ```

More detailed info is displayed if the logging level is set to a lower value,

```
neurovault.set_logging_level(neurovault.logging.DEBUG)
```

I can make DEBUG the default logging level. I will add a `verbose` parameter in the function to control that as in the other nilearn functions.

The progress from `_chunk_report_` (the one with the 'seconds remaining' and the carriage return) is not displayed because the images have to be downloaded one by one and each takes around a second, so there wouldn't be much time to look at it anyway. If we want to have it, I can change the verbose parameter when calling `fetch_file` so that this report appears.

It will be more useful when we add a function that uses the new 'download_all' button from neurovault, but this hasn't been implemented yet.

> ```
> Filenames changed, so between that and the output confusion above, files were being downloaded without me realizing it. Sorry!
> 
> Still, even with retesting, I get > 10 min wait times before my script loads, using mode='download_new'.
> ```

Could you please provide the part of your script that loads the images? On my laptop it takes 7 seconds to load 7000 images and check metadata is up-to-date, using `mode='download_new'`. Maybe seeing what you did differently can help me find the performance bug in the new fetcher.
",,
21,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-10-05 16:24:20,"> It would be good. I have no love for the logging framework in Python, as
> it is quite poor to give user information (such as progress), which is
> really what we want to do when we use ""print"".

I'm not sure I have understood. by default logging output is dumped on stderr, so the user sees it on the console. Is the problem that log records will be printed on separate lines (and that we can't use carriage return as is done in `_chunk_report_`)?

>  If we want to have it, I can change the verbose parameter when calling
>  fetch_file so that this report appears.
> Maybe we need an internal data-download function that downloads multiple
> files and gives progress (possibly using fetch_file).

The current behaviour is to use fetch_file to download each file and print how many images have been downloaded so far; what other information should we add?
",,
22,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-10-05 16:44:21,"> First it prints thing that are incomprehensible to the user (like the
> module name and the warning type). That tends to clutter the display and
> scare people. 

I can set the formatter to print whatever we want; for now I have set it to print only the logging level  (but I agree it's not useful) and the message, I can change it to print only the message itself, or maybe also the time?

> Second, indeed, it is not great for displaying progress.
> Maybe an optional progress bar, with estimation of the time. Ideally, we
> should factorize this as much as possible with the existing progress bar.

Then the best solution may be to replace all calls to the logging module by calls to print or `_chunk_report_`, does this seem better?
",,
23,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-11-14 14:37:40,"> @jeromedockes I believe the issue for me is that with download_new, existing collections are updated, one-by-one, with an API call, to look for new images. That is very slow, and different from the previous design.
> 
> Is that a correct understanding? Sounds like that may not be happening for you? I debugged to verify that that's what I'm seeing.

@bcipolli Sorry for the delay. This was indeed the behaviour, the motivation was this scenario:
- I download some images with a strict filter, which dowloads image 1 from collection 1 but filters out image 2 in collection 1
- later, I launch a download with a less restrictive filter, which would accept image 2. If the fetcher simply sees that we already have collection 1 and doesn't check that extra images are available by querying the server, collection_1/image_2 will be missing from the fetched images.

I have changed it to restore the faster behaviour you were expecting, so now it only checks for new collections. We could also try to update only the collections for which the number of images on disk is different from the number of images announced in the collection metadata
",,
24,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-14 15:24:34,"@jeromedockes Cool, thanks for the clarification.

In the old code, Scenario 2 would actually still fetch the image, It would use the locally cached collection metadata to list out the needed images (including image2), and the fetcher would determine that it's not cached locally, and so go fetch it. This is because the collection metadata was complete; no filtering within the metadata itself was done before caching locally.

The scenario where the old behavior would not get a new image is if an image is added to a collection remotely, after the metadata has been cached locally. I figured, since speed is such a factor, that scenario could be taken care of with an `--update-metadata` flag, outside the default behavior.

Perhaps I'm just misunderstanding your scenario 2, and it's just the scenario I described. :) Either way, thank you! I'll try re-integrating this latest code into our project, so we can help QA it.

And thanks for all your work!
",,
25,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-11-14 16:12:04,"> I'll try re-integrating this latest code into our project, so we can help QA it

Cheers! Please let me know if the speed problem persists. I will change the status/progress printing on the console as we said a while ago and push it tomorrow
",,
26,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-14 22:05:41,"The metadata fetching does seem faster, though it's hard to tell what's going on as I receive no output.

I also noticed that there's no output during the neurosynth term fetching. So, I've had things running for about 5 mins with no output.

Just wanted to make sure that's on the map of output verbiage to tweak. Thanks!
",,
27,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-19 02:31:39,"Are the neurosynth results being cached? I haven't successfully completed a download. I've restarted... nothing. I've enabled the verbose output.. and still no completion.

Some help would be great, otherwise I'll need to revert so I can continue my research.
",,
28,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-11-21 09:40:02,"> Are the neurosynth results being cached? I haven't successfully completed a download. I've restarted... nothing. I've enabled the verbose output.. and still no completion.
> 
> Some help would be great, otherwise I'll need to revert so I can continue my research.

Yes, the neurosynth results are saved on disk, but in the same folder as the image they describe rather than a separate neurosynth directory. Here is an example output I get for five images (the first time, the neurosynth words had to be downloaded, and the second time, they were read from the disk)

    >>> data = nv.fetch_neurovault(max_images=5, fetch_neurosynth_words=True)
    DEBUG: Reading local neurovault data.
    DEBUG: Downloading file: http://neurosynth.org/api/v2/decode/?neurovault=14329
    DEBUG: Download succeeded, downloaded to: /home/jerome/nilearn_data/neurovault/collection_1066/neurosynth_words_for_image_14329.json
    DEBUG: Downloading file: http://neurosynth.org/api/v2/decode/?neurovault=14330
    DEBUG: Download succeeded, downloaded to: /home/jerome/nilearn_data/neurovault/collection_1066/neurosynth_words_for_image_14330.json
    DEBUG: Downloading file: http://neurosynth.org/api/v2/decode/?neurovault=14328
    DEBUG: Download succeeded, downloaded to: /home/jerome/nilearn_data/neurovault/collection_1066/neurosynth_words_for_image_14328.json
    DEBUG: Downloading file: http://neurosynth.org/api/v2/decode/?neurovault=14331
    DEBUG: Download succeeded, downloaded to: /home/jerome/nilearn_data/neurovault/collection_1066/neurosynth_words_for_image_14331.json
    DEBUG: Downloading file: http://neurosynth.org/api/v2/decode/?neurovault=19101
    DEBUG: Download succeeded, downloaded to: /home/jerome/nilearn_data/neurovault/collection_1373/neurosynth_words_for_image_19101.json
    DEBUG: 5 images found on local disk.
    INFO: Computing word features.
    INFO: Computing word features done; vocabulary size: 2911
    >>> data = nv.fetch_neurovault(max_images=5, fetch_neurosynth_words=True)
    DEBUG: Reading local neurovault data.
    DEBUG: 5 images found on local disk.
    INFO: Computing word features.
    INFO: Computing word features done; vocabulary size: 2911
    >>> ",,
29,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-11-21 09:46:49,"> Jerome: how hard would it be to get rid of the log and just use printing to stderr?

not hard, I will do it now

in the meantime the logging level can be set with 

    neurovault.set_logging_level(<e.g. neurovault.logging.DEBUG>)",,
30,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-22 15:43:44,"@GaelVaroquaux I'm just running locally (with `ipython` on my macbook pro).

Once I switched to the logging's `DEBUG` settings, I got more informative output. When I was developing in `nilearn`, this level of output was more the default (and the interface was to pass a `verbose` parameter). So, didn't realize the interface needs there.

Downloads are proceeding! Will update later today when downloads complete. Thank you!",,
31,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-22 16:18:08,"I do notice that if I have a disconnect in my connection, the neurosynth API call hangs and never returns. I thought the `nilearn` code times that out?

No biggie, I just kill the process and restart, but wanted to check.",,
32,issue_comment,1182,nilearn,nilearn,bcipolli,2016-11-23 20:03:46,"OK, things look good to me now; I've got my images and neurovault terms downloaded, and the cached copies are used relatively quickly on re-run. Thank you @jeromedockes !",,
33,issue_comment,1182,nilearn,nilearn,bcipolli,2016-12-03 00:49:03,"Just to reiterate, this is working great for me. I'd love to see this get merged...",,
34,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-12-03 12:55:08,"> Just to reiterate, this is working great for me. I'd love to see this get merged...

Thanks for all the feedback and help, Ben! I think the timeout problem is fixed, I just have to add a test for it. Then there's still the improvement of progress reporting to do.",,
35,issue_comment,1182,nilearn,nilearn,bcipolli,2016-12-03 15:31:37,"Cool.

For me, once I turned on the debug logging, I got the level of output I had been accustomed to from `nilearn`. There were maybe one or two outputs that I didn't really need, but the rest were helpful in understanding the download progression of the fetcher.

 Good luck!",,
36,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-24 15:21:41,"> I wonder if it makes sense to limit the results only to collections
>  that have DOI value set. 

It may be interesting to consider only these collections, but it would mean ignoring a lot of data:
if we consider all images which match the other filters:

| filter | # collections | # images |
| --- | --- | --- |
| all | 276 | 6803 |
| with DOI only | 109 | 5000 |

Moreover, I'm not sure having a DOI is such a good criterion: Out of 191 (non-empty) collections which have a DOI, 82 don't contain any image which passes the other default filters.

> Excluding parcellations and atlases might also make sense by default.

I have changed from keeping only T, Z and F maps to excluding images when:
- 'map_type' is one of 'ROI/mask', 'anatomical', 'parcellation'
- 'image_type' is 'atlas'

Just to remind us of what the 'map_type' and 'image_type' are

| map_type | image_type | n_images |
| --- | --- | --- |
| None | atlas | 18 |
| Chi squared map | statistic_map | 1 |
| F map | NIDM results statistic map | 2 |
| F map | statistic_map | 48 |
| P map (given null hypothesis) | statistic_map | 169 |
| ROI/mask | statistic_map | 286 |
| T map | NIDM results statistic map | 367 |
| T map | statistic_map | 1431 |
| Z map | NIDM results statistic map | 224 |
| Z map | statistic_map | 927 |
| anatomical | statistic_map | 22 |
| multivariate-beta map | statistic_map | 61 |
| other | statistic_map | 2822 |
| parcellation | statistic_map | 150 |
| univariate-beta map | statistic_map | 4288 |

> > Probably not by default, but we should make it really easy to perform
> > such selections.

For example, selecting only those with DOI can be done:

using `fetch_neurovault`:

```
>>> fetch_neurovault(collection_terms={'DOI': NotNull()})
```

using SQL:

```
>>> read_sql_query(""SELECT * FROM collections WHERE DOI IS NOT NULL"")
```
",,
37,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-24 17:30:56,"> You convinced me :) It would be good to add the ""only DOI"" query to examples/documentation.

Noted; for now I have added it to the `fetch_neurovault` docstring, I don't know in which example it would be most interesting to add it.
",,
38,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-26 07:56:39,"> Are you sure examples should be placed in functional connectivity or a new one ?

No, not sure at all - I didn't know where to put them; they were in a folder called ""connectivity"" in the original PR so I put them there. Where would you suggest placing them?
",,
39,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:39:00,"> Please don't rebase during discussions, it removes all the comments in github.

Sorry about that; thanks for the advice and help by the way.
",,
40,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:44:59,"When I run coverage locally it gives me different results, and I can't seem to access the details of which statements were missed online. Have you faced a similar problem before? Some other people seem to have experienced this (https://github.com/lemurheavy/coveralls-public/issues/364, https://github.com/statsmodels/statsmodels/issues/1502/, https://github.com/lemurheavy/coveralls-public/issues/263) but these discussions don't seem to solve the problem
",,
41,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-07-28 09:29:51,"> One very blocking thing to me is that you squashed the commits, and thus history and authorship of @bcipolli on the code is lost, which is very bad. Once you're done, you should take back the original PR, diff the last state with your code, and do one commit in your name to apply your changes.

Actually I forked the branch directly from master, so the history wouldn't show any commits from @bcipolli (I wasn't clear in this PR's description, and should not have written 'this is based on...'). I have a branch in which I kept the full history, I can push it to github if you want to look at it. The examples were taken from PR #832 but the rest is completely different. Do you think it makes sense to rebase this branch on the one from PR #832? Or maybe if it's OK with @bcipolli we could just add him as an author of `neurovault.py` (he is already listed as the author of the examples)?
",,
42,issue_comment,1182,nilearn,nilearn,jeromedockes,2016-08-04 11:13:17,"> General remark: the neurovault fetcher file is 4000 lines long. It feels wrong. There are probably features that we can live without. I need more time to inspect and find tradeoffs, but we should start thinking about that.

Yes, I haven't forgotten that we said we would remove all the sql stuff. I have been working on something else this week but I will try to do that soon, it will shorten the file and then we can talk about further simplification.
",,
43,issue_comment,1182,nilearn,nilearn,jeromedockes,2017-04-20 15:18:20,"Many thanks to everyone and especially @KamalakerDadi and @GaelVaroquaux for the reviews, all your help and sound advice",,
44,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:54:31,Some comments on minor details,,
45,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:55:09,CircleCI error seems like time out. Locally I can build documentation successfully.,,
46,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 21:01:18,"When I specify ""wrong argument"" by mistake it searches the server and returns me empty after searching for several minutes. ",,
47,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-11 14:51:34,Can you please also add in doc/whats_new.rst ?,,
48,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-13 11:07:05,"CircleCI failure seems to be unrelated. Error:""command timed out"".

I am able to build documentation locally. Also, this PR LGTM.
Any more reviews on this ? Or merge ?",,
49,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-20 07:50:51,"Can you please rebase on master ?

Also in ```doc/whats_new.rst```, could you move these additions from release section 0.3.beta to new release section creating **0.3.1** ?
Thanks",,
50,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-20 14:59:03,Great work! Thanks Merged,,
51,issue_comment,1182,nilearn,nilearn,bcipolli,2017-04-20 15:15:20,omg ðŸ˜® nice!! :),,
52,issue_comment,1182,nilearn,nilearn,chrisfilo,2017-04-20 15:25:14,"Excellent work everyone! I'm getting drunk today to celebrate!

On Apr 20, 2017 8:18 AM, ""jeromedockes"" <notifications@github.com> wrote:

> Many thanks to everyone and especially @KamalakerDadi
> <https://github.com/KamalakerDadi> and @GaelVaroquaux
> <https://github.com/GaelVaroquaux> for the reviews, all your help and
> sound advice
>
> â€”
> You are receiving this because you were mentioned.
> Reply to this email directly, view it on GitHub
> <https://github.com/nilearn/nilearn/pull/1182#issuecomment-295775344>, or mute
> the thread
> <https://github.com/notifications/unsubscribe-auth/AAOkp0lI-_ctWLkqkX_Vjdd3KVKndUSFks5rx3dAgaJpZM4JQkLw>
> .
>
",,
53,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:12:24,"Are you sure examples should be placed in functional connectivity or a new one ?
",,
54,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:57:09,"May be some functions from `neurovault.py` can be moved to utils or neurovault_utils ? What do you all think ?
",,
55,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-27 08:30:12,"> Where would you suggest placing them?

I believe more great examples will come in future using Neurovault analysis. I suggest to keep right naming such as `05_neurovault_analysis` ? @GaelVaroquaux @AlexandreAbraham @bcipolli 
",,
56,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-27 08:37:01,"Two examples looks good to me.
",,
57,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-27 08:41:30,"In fetcher file, description is missing from a Bunch of returns and documentation. `_get_dataset_descr` could help to do that. Other fetchers can be good to look for hints.
",,
58,issue_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-28 09:00:15,"My question stills holds: May be some functions from neurovault.py can be moved to utils or neurovault_utils ? What do you all think ?
",,
59,issue_comment,1182,nilearn,nilearn,codecov[bot],2017-02-27 19:22:50,"# [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=h1) Report
> Merging [#1182](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=desc) into [master](https://codecov.io/gh/nilearn/nilearn/commit/fe6fee62320fc5628198564cd1fa5172c053378d?src=pr&el=desc) will **increase** coverage by `0.1%`.
> The diff coverage is `95.87%`.

[![Impacted file tree graph](https://codecov.io/gh/nilearn/nilearn/pull/1182/graphs/tree.svg?token=KpYArSdyXv&src=pr&height=150&width=650)](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=tree)

```diff
@@            Coverage Diff            @@
##           master    #1182     +/-   ##
=========================================
+ Coverage   94.51%   94.61%   +0.1%     
=========================================
  Files         118      120      +2     
  Lines       13470    14537   +1067     
=========================================
+ Hits        12731    13754   +1023     
- Misses        739      783     +44
```


| [Impacted Files](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=tree) | Coverage Î” | |
|---|---|---|
| [nilearn/datasets/\_\_init\_\_.py](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9fX2luaXRfXy5weQ==) | `100% <100%> (Ã¸)` | :arrow_up: |
| [nilearn/datasets/neurovault.py](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy9uZXVyb3ZhdWx0LnB5) | `94.96% <94.96%> (Ã¸)` | |
| [nilearn/datasets/tests/test\_neurovault.py](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=tree#diff-bmlsZWFybi9kYXRhc2V0cy90ZXN0cy90ZXN0X25ldXJvdmF1bHQucHk=) | `97.31% <97.31%> (Ã¸)` | |

------

[Continue to review full report at Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=continue).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)
> `Î” = absolute <relative> (impact)`, `Ã¸ = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=footer). Last update [fe6fee6...8212940](https://codecov.io/gh/nilearn/nilearn/pull/1182?src=pr&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).
",,
60,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 18:19:25,"May be we should expose `from nilearn.image import load_img` than `check_niimg`.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
61,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:07:05,"A bit of details about the example would be more informative.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
62,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:14:28,"Can we use `load_img` here ?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
63,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:15:18,"May be `new_img_like` here ?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
64,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:23:18,"You never used `nii_z` anywhere ?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
65,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-25 19:29:36,"Looks like it needs place in nistats. :)
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
66,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-26 07:53:06,"replaced `check_niimg` with `load_img`
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
67,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-26 07:53:57,"Used `load_img` and removed nibabel import.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
68,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-26 07:54:26,"removed `nii_z`
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_neurovault_meta_analysis.py')"
69,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 08:39:35,"Nitpicking : I would go for `math_img` and rely on `np.isfinite`.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
70,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 08:40:09,"I think `memory_level` is not necessary and may be confusing?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
71,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 08:42:29,"I would remove this. This is far too advanced. I would prefer a more elaborated figure with subplots rather than 40 plots.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
72,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 08:42:44,"Is that really necessary? It adds complexity for no reason.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
73,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-27 08:43:44,"> I think memory_level is not necessary and may be confusing?

Here, we received warnings if `memory_level=0` hence I suggested. Why is it confusing ? 
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
74,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 08:48:56,"Because people do not know what is `memory_level`, so they will look up the documentation, which is not very clear, and then they may end up thinking that this is too complicated.

Is a memory object is provided we should set memory level to 1 and not raise a warning.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
75,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2016-07-27 08:54:40,"> Is that really necessary? It adds complexity for no reason.

If I can answer you. Examples has a pretty printing statements which are actually vanished by bunch of warnings.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
76,pull_request_commit_comment,1182,nilearn,nilearn,AlexandreAbraham,2016-07-27 09:39:35,"I know why it is used. But is really a context necessary here? Why not adding `warnings.simplefilter('ignore', DeprecationWarning)` on top of the file, just after the warning import?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
77,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:19:14,"So should I remove ""`memory_level=1`""? As Kamalaker pointed out, nilearn expects `memory_level` to be set if `memory` is specified. grep ""memory_level"" on the examples directory shows that many examples use it.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
78,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:21:13,"Then, we would have to remove the filter we add explicitly at the end of the example - do you think it will be better?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
79,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:22:37,"Done.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
80,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2016-07-27 14:22:49,"Done.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/03_connectivity/plot_ica_neurovault.py')"
81,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-07-28 11:46:51,"This is not PEP8: it should be named test_sqlite_download_manager
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/tests/test_neurovault.py')"
82,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-08-03 23:02:09,"You should use the backport in scikit-learn: sklearn.utils.testing.assert_warns.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/tests/test_neurovault.py')"
83,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-08-03 23:07:50,"I think that I prefer the name ""fetch_neurovault"": what ""_filtered"" means isn't very clear unless you read the docstring.

Other option: ""fetch_neurovault_query""?

Anyhow, you need to update docs/module/references.rst, which points to the old name (and misses a link to the second function), hence leads to failures in circleCI.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
84,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-09-30 09:44:20,"You have forgotten to change the name here, haven't you?
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
85,pull_request_commit_comment,1182,nilearn,nilearn,bcipolli,2016-10-03 00:53:26,"Yes, this needs to be updated.
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
86,pull_request_commit_comment,1182,nilearn,nilearn,bcipolli,2016-10-03 01:17:33,"Function name should be updated
",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_neurovault_meta_analysis.py')"
87,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:08:39,"I think that it would be nice to have a more explicit name instead of ""nii"". Maybe ""meta_analysis_img""? Or something else (preferably finishing by ""_img"").",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_neurovault_meta_analysis.py')"
88,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:10:14,"Is the try/except because of Python 2.6 support?

We should really drop Python 2.6 support.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
89,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:10:54,I believe that this is for Python 2/Python 3 support. I think that it would be good to indicate it in a comment.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
90,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:21:20,"Minor style comment: this empty line makes things hard to read, because the separation of the new method is less visible.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
91,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:23:56,"Such sophistatication makes the code hard to read. Wouldn't it be possible to inline this decorator: take its logic and move it to the various places that use it (I have found 3 places, so the amount of duplication won't be large)",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
92,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-04 17:26:15,"What does the ""impl"" stand for in the name of this function? I don't understand it.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
93,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-07 17:24:01,Let's remove this functionality.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
94,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-07 17:24:37,"Let's remove this for the user, and let's try to use the same code as in the other downloaders.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
95,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-07 17:29:44,Can probably be removed: I don't see where it's used.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
96,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-07 17:30:47,"I would transform this into a ""skip_errors"" flag that can be True or False.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
97,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2016-12-07 17:32:15,I don't think that I would have done a line return here.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
98,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 17:54:19,Could you turn this in a title by adding an underline (and same for the different sections below),8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
99,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 17:55:13,We should strive to import from nilearn.datasets and not nilearn.datasets.neurovault,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_neurovault_meta_analysis.py')"
100,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 17:56:08,+1,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_neurovault_meta_analysis.py')"
101,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 17:58:26,We've dropped support for 2.6,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
102,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:02:30,"An example would help: people don't understand the ""*arg"" syntax.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(473, '', u'nilearn/datasets/neurovault.py')"
103,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:11:18,Could you inline this function please.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
104,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:19:38,"We should remove all the code related to reduced representation, it will make things simple.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
105,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:22:04,Could you inline this function please.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
106,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:24:26,Could you replace all filters and maps by generator expressions please.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
107,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:25:39,Could you inline this function please.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
108,pull_request_commit_comment,1182,nilearn,nilearn,GaelVaroquaux,2017-03-02 18:27:08,Remove empty lines here,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
109,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:33:30,downlad -> download,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
110,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:34:58,"```
:func:`nilearn.datasets.fetch_neurovault_ids`
```
can point to the reference. So, users can easily go through full documentation.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
111,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:38:57,This simple example is fetching me 1325 images. May be we should simple one which fetches least images ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
112,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:40:01,"Same here. Specifying this way can point users directly to reference.
```
:func:`nilearn.datasets.fetch_neurovault`
```",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
113,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:41:35,I didn't understand why it is written as images' collections'. Any reason ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
114,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:48:54,"May be we should add a note here, default values in ```image_terms``` and ```collection_terms``` need also be taken into account while using filters as functions. Because, what specify here might be contradicting with default terms in those arguments. ",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
115,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 18:50:54,Demo on max_images=None might take some time to fetch the data. May be we should think of least images fetch as possible ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
116,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:07:19,"Comment is misleading isn't it removing nan and inf ?

Why don't we smooth with NiftiMasker ?",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(79, '', u'examples/05_advanced/plot_ica_neurovault.py')"
117,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:13:52,plotting.show() here,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
118,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:14:43,"Then, we can remove importing matplotlib.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'examples/05_advanced/plot_ica_neurovault.py')"
119,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:38:37,'owner' is represented as ```int``` in neurovault database where integer are hard to remember. May be we should opt to 'owner_name' ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(41, '', u'nilearn/datasets/neurovault.py')"
120,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:40:13,Can you add short comment for what are these defined ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
121,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:42:24,Optional: Giving a short example here would be super useful. Defining filters using this special class.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(97, '', u'nilearn/datasets/neurovault.py')"
122,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:46:56,same here (optional). Example might be super useful for users to use these classes constructing their own filters.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(136, '', u'nilearn/datasets/neurovault.py')"
123,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:50:22,What it means by object ? As far I have seen defining like this NotEqual('atlas'). Isn't key to query rather than object ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(178, '', u'nilearn/datasets/neurovault.py')"
124,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:52:37,Shouldn't be >= ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
125,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:54:11,allways -> always. Same comment for other classes wherever applicable.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
126,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:54:44,allways -> always,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
127,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:56:59,Shouldn't be the other way ? Am I missed something ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
128,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 19:59:18,May be I am confused with documentation.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
129,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:01:36,:+1: ,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(112, '', u'nilearn/datasets/neurovault.py')"
130,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:03:46,consonnants -> consonants,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
131,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:06:56,It would have been nice if you specify for which argument this default function is used. To understand where it is used makes easy.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
132,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:14:01,query_terms_,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
133,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:17:01,"```python
if level > threshold_level:
```

```python
if with_traceback
```",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
134,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:22:44,is -> if,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
135,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:25:31,returs -> returns,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
136,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:27:24,"May be c capital ""C"" for container ?",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
137,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:29:29,May be we should keep consistent in doc either n images or n files.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
138,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:29:52,vaule -> value,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
139,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:40:37,"wether -> whether. Also, applicable for remaining places in this API.",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
140,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:41:03,explicitely -> explicitly,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
141,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:41:49,Can you leave one line empty space below ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
142,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:43:55,owner_name is not specified in default collection filters.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
143,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:47:10,visual indent pep8,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
144,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:48:53,optional: any chance of simplifying the code ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
145,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:49:12,same here simplyfing code.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
146,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:50:58,pep8,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
147,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:52:26,Looks like some simplification here. I understand that we have lot and lengthy arguments.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
148,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 20:53:16,Line over-indented pep8,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
149,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-03-28 21:03:46,Can we simply say list or tuple rather than Container ?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
150,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:28:06,I think this is the usual way to write a plural possessive. I can rephrase the sentence if it is weird.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
151,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:28:49,Should we also emit a warning if the user passes a filter without changing the default terms?,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
152,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:30:37,"the owner id (an int) is a filter that can be applied by the server itself. Of course the user can choose to filter based on the name; in this case it will be done locally. This is just the list of filters we can include in a URL, it is determined by Neurovault",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(41, '', u'nilearn/datasets/neurovault.py')"
153,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:31:07,it can be any object. Added an example,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(178, '', u'nilearn/datasets/neurovault.py')"
154,pull_request_commit_comment,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:32:41,"this is used to specify that whatever we compare it to should be greater or equal to the value we passed to the constructor. Therefore if we pass obj to the constructor, when we compare it to value, we get true if value is greater or equal to obj",8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
155,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-11 11:52:41,Only if it is not taking much time on this. I think it will be useful.,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'doc/building_blocks/neurovault.rst')"
156,pull_request_commit_comment,1182,nilearn,nilearn,KamalakerDadi,2017-04-11 14:55:35,Can you check please here ? May be you have added it accidentally,8212940456e9f3470dc0163a0c510b945e1b8c5e,"(None, '', u'nilearn/datasets/neurovault.py')"
157,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 21:15:37,ENH: First pass on neurovault downloader.,52b55786239cdaabadf946871e8dcb04daa374c2,
158,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:07:24,ENH: Add stop-go example; ported from https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb,5cf80a5c902235eace32f4770d662279eb7758b1,
159,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:23:16,DOC: adding and tweaking documentation.,bd68e68d1792151f9b530983d8a79828dedf2093,
160,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:34:20,STY: code cleanup,e0848fe8c5d41982ea00aeac46d262699aff457b,
161,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:41:53,BF: implement refresh=True,cedab35773946dca378ec1c4e9640102aaa1ff70,
162,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-07 18:17:42,STY: images_meta => images; image_meta => im,86b2db7acf46c15249e423b67572fd807e1e7c3a,
163,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 11:49:02,ENH: Get this working offline (still using requests).,e759a3a90ed24cbeab2c72076d079ab669e7e60d,
164,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:26:32,RF: Use _fetch_files instead of requests.,cdb1bf3ba4aa431a5328181862fa61485a0123d3,
165,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 15:14:22,DOC: remove info for printing errors that are then re-raised.,2f6f0f48ee307f39467757c2342216b67f260fdc,
166,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:08,"BF: refresh=>overwrite, don't allow offline if overwrite=True",f41b014c3a1169edd6e56424241973398fc8b360,
167,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:21,BF: Use passed verbose value.,b3076266920e8ff6e34bb7f22cde0fe7b0ab3de2,
168,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:40,"BF: Return all matched collections, even if the collection has no matched images.",490a51fc14335bc954cff91aa42e7274bc04263b,
169,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:01:02,TST: add neurovault tests (skip if offline),15e11cc6ad50d72dc2cc76b5b304291f94854528,
170,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:14:46,"TST: if setup mock, tear it down",5b23e2e2ec48dd9b6c57a1b1ccfa41c178e9e5ff,
171,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 06:22:05,RF: sort collections directories.,febc1b4c83f0adf76d20e55758b6d49c0d8bfc2b,
172,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 15:19:42,ENH: Add port of ICA example.,f0065ff784e0ccaabc23ee2d6f1dcdeafbb32f4e,
173,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 23:04:01,RF: Add joblib caching to entire process.,a6b675b40ca859164012088f70bbc920c4b3d6bd,
174,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 00:42:57,RF: Move functions out of neurovault fetcher.,462b45b26fa565e19536868b07fd4d7e4f348abe,
175,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 01:54:56,BF: Use newer neurosynth API,4905b08684aadfb50dd166c602e4a62d0fbbd6e5,
176,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 11:55:54,"BF: Clean code, make Py3 fixes.",aa69c96abae8f584bfcf4d19c3d25d0a64c5f38d,
177,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:06:12,DOC: add docstrings to private neurovault functions.,13fb4580dafc07e10c72fbb670381766aa55c270,
178,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:43:48,RF: don't show() until end of example.,7c939cacccdfdf08519fe4c23c318272f2209b52,
179,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:54:12,BF: neurovault json is utf8 encoded.,6a3988e752759ed5c522831c4cbbb47a0951383c,
180,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:57:06,BF: remove seaborn,d790e752d7a711c4e3e1126b370c693e404388bb,
181,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 13:45:44,"ENH: Add exclude_unpublished, collection_ids, image_types parameters & tests.",f1edb62059362327120f1b6b84ac220141b247eb,
182,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:11:57,"ENH: image_types=>map_types, add image_type, add image_ids, allow collection_ids and image_ids to be negative (exclusion)",70ef5c7ba45f7fa2d4f34ad1ffb47d9087978028,
183,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:16:08,Fix logic for +/- filtering of IDs.,8e12e4c46c19ed9ba32fdeace61b7a946adc2fdb,
184,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-18 23:11:21,STY: fixing up code for code review.,f38596d51c49c9324da0461ba8a731fac278910e,
185,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:58:50,STY: delimit sections in notebook-style.,1a6c8a1af1f8e0816b6aa33d29d7a0e3da06ca02,
186,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:59:33,"RF: use resample_img, iter_img to simplify resampling code.",d28555582d1618cbefb2012354a13a6d3d6500b2,
187,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:01:29,ENH: create exclude_known_bad_images parameter to fetch_neurovault.,190cbd7f4050c661e34251b35573917ab7f9b8a0,
188,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:02:06,ENH: Extend iter_img to return iterator on 3D image (rather than failing).,b65dbf0300eadb3dd27fe6bea509a4160cca63f4,
189,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-10 16:34:52,RF: Neurovault ICA example shortening.,99519cf7ea772d73991c4e7b2e61ab1f3b947e38,
190,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:38:35,RF: move neurosynth decoding to an option within fetch_neurovault.,475ddd2970d373da23141aa83883c627b065f140,
191,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:39:43,BF: avoid unnecessary warnings.,ca2469d03c4cfd978eff470a388f7305e160ef2e,
192,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-23 20:10:31,BF: fix test failures.,7e7106a3338f01084de08ac5f3d53282d53b2e57,
193,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-24 01:44:26,"ENH: add _http to compat, for httplib/http Py2/3 difference.",c1f960502322488b1fc8315a2a486d7bb17105a1,
194,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:23:42,"ENH: add query_server, to avoid querying neurovault every time.",fdadebd36246fa924c5f5c270c226adc88820791,
195,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:37:30,BF: handle None from neurosynth.,960ad146499e009378caefa1979d1921a57fd0e2,
196,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:41:46,ENH: extend query_server for neurovault.,c6665a5a694416d389d6efb7e1abb28327430306,
197,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:10,ENH: add query_server argument to all func fetchers.,bbea238c185e33e40ea4289c516e5d7d2c38450d,
198,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:35,STY: pep8/pyflakes on datasets/func.py,983ae1d2b0b9f8eb4d83d270a06f38c5a9389a22,
199,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:08,ENH: add query_server argument to _fetch_file*,1c5e096cddb1a78b91b4b7628f32f8fd2195c44e,
200,pull_request_commit,1182,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:19,STY: pyflakes on neurovault example.,67c3cc7321e033e44a73c20abcefaf5d0adc64a6,
201,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-07-28 11:23:41,"Merge branch 'master' into neurovault-downloader

Conflicts:
	doc/modules/reference.rst
	nilearn/datasets/__init__.py
	nilearn/datasets/func.py
	nilearn/datasets/tests/test_func.py
	nilearn/image/image.py
	nilearn/image/tests/test_image.py",9b0b84088a2882878d276dba3fa5b7978e3a56dc,
202,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-07-29 07:06:42,Rewrite Neurovault fetcher.,b162da2f5d0a17c7fe81ad1c0ee9a6f62ae2628a,
203,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-07-29 11:35:53,better __repr__ for special filter values and remove _KNOWN_BAD_IMAGE_IDS and _KNOWN_BAD_COLLECTION_IDS,2dfda7daee4791a87abdc61ae4c2e3701c765aa0,
204,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-07-29 14:01:54,split fetch_neurovault into fetch_neurovault_filtered and fetch_neurovault_ids,c7438210cc167e2353282ff1f26fe8116315fbee,
205,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-08-16 09:45:47,remove sqlite storage of metadata.,50f4737da963110004af387f666f4c740d49a617,
206,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-08-16 09:48:01,Merge branch 'master' into neurovault_fetcher,d9eede28dcf975abec62609e0b9ebb5f04586ed2,
207,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-08-19 13:25:02,refactoring,2820a8c05f43d95f46bd1dfb47dfb65eb2956f95,
208,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-11-14 10:07:15,Merge branch 'master' into neurovault_fetcher,cd24640ac99a9c39b453307004fed4a6694677fd,
209,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-11-14 14:10:09,"don't update collections when using download_new, put metadata in lists rather than tuples because DataFrame constructor doesn't accept tuple, fix import in example",15d866bcee22e207614eb1918689c75926c6cb18,
210,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-11-21 14:05:13,dump basic progress info on stdout,6c5c5add1f1558324b8d6a66c3ec19d753092f3e,
211,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2016-11-30 13:17:52,set default timeout of 10 s when fetching metadata,78155063966a21a9337a77121b986bcba2222455,
212,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-01-26 16:47:11,Merge branch 'master' into neurovault_fetcher,2f9cb93ac6d8b98efb91306b191c3235197f18ce,
213,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-01-26 16:48:28,clean up plot_neurovault_meta_analysis.py example (conversions t to z),11c35c03d734394857b5acd0c5db40b1234346d3,
214,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-02 11:28:01,Merge branch 'master' into neurovault_fetcher,8cc6c16ec3b1b8b7a405ee6f0d72fb944d79c0f3,
215,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-02 15:13:44,use _get_dataset_dir only for finding directories,0db92c61c86a77aa9720d57a310c514641386c0f,
216,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-02 19:02:53,remove logging in neurovault fetcher,420ef271bb109bf5318ba907c7aebcfd3ef7e51c,
217,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-02 19:14:13,remove decorators from neurovault fetcher,0333745c2a9320a7aef8d0103b055ec8fa13338c,
218,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-02 19:19:09,remove redundant printed messages,5e8a00431b7bc2d2778ae46b25df1ef802a84682,
219,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-03 10:32:25,fix verbosity in neurovault fetcher,0d71a67c7f69877c09d333dc0ebcc9e938c49d12,
220,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-25 11:24:09,replace classes used to download neurovault data with (non-member) functions,a2e8ca5de046c4977f0cb903160de1813f099f51,
221,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-25 11:25:34,Merge branch 'master' into neurovault_fetcher,83644ccb87bdbe359cf6c7f48907f0c78c728864,
222,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-02-27 19:22:13,update neurovault docstrings,b1750a0d2df4ada43ea468835621ded391f95f68,
223,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-02 17:53:16,Merge branch 'master' into neurovault_fetcher,66aa6eadc55693eb9a0690c81e3d442eba467488,
224,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-02 18:27:47,"drop py2.6, remove _fetch_neurosynth_words",be4a084d236ea184db9ae77693b5ae407f5b214e,
225,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-02 18:48:33,don't use map nor filter in neurovault.py,6d93fb68e47fd9a6ad892b38206b45c9c4bc8708,
226,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-03 16:23:53,don't fetch reduced representations from neurovault,9fcd8d0ebe9c3bd3352c64339d4ac59c1418b7d1,
227,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-03 16:24:56,add Neurovault in user guide,6bae6b4ae764c9263488c3749545e8b2e75e34e5,
228,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-04 12:44:17,better tests for failing downloads,af488a2e5ee91a6291b879ed537eafb6f939873f,
229,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-04 12:44:43,add links to examples and references in neurovault user guide entry.,619b9b69b0018f75726b564e3bc6ff986db80c4c,
230,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-04 12:46:00,Merge branch 'master' into neurovault_fetcher,10b92f7dd265b83fbe5a5f7491e7b3eaff36414f,
231,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-03-04 13:19:24,Merge branch 'master' into neurovault_fetcher,1c25cefef73927b75a09af1776366a2c7dddf5d9,
232,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-11 11:48:33,address Kamalaker's review: mostly improve doc,70a5bbaf211d80f27b93ca6e661d87192530fcb7,
233,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-11 13:11:24,warn if user sets a filter without removing default terms,4dac6c383eb144e9d10e713f63892e33a7a8e99f,
234,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-11 14:11:06,fix order of return values in neurosynth_words_vectorized docstring,c40c319398a5da7f5f292cd18a00b65e42d93696,
235,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-11 16:26:09,"add tests for collection_ids and download_new and overwrite modes

+ improve warning message when image_filter is set but not image_terms",5113868d726d33f6afb86ac1807507325546b076,
236,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-12 09:17:41,add neurovault in what's new and improve user guide entry,5bdfc81fc4df5aee4c9119dd45c3055cd3c6c113,
237,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-12 11:59:50,improve neurovault doc,be9140577539903f9d3cae23e1b6cdaedc54906c,
238,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-12 12:16:55,add missing doctest skip in neurovault.rst,f98916995314c6dc347f69281329c61323d1dcc4,
239,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-20 11:08:37,Merge branch 'master' into neurovault_fetcher,6c95df538fa3f8334b84f97feaa6f914346134fa,
240,pull_request_commit,1182,nilearn,nilearn,jeromedockes,2017-04-20 11:12:41,create 0.3.1 section in whats_new.rst,8212940456e9f3470dc0163a0c510b945e1b8c5e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1184,nilearn,nilearn,Joaoloula,2016-07-21 21:53:49,"Small stuff, fixes the links to  [Grosenick et al. 2013](http://www.ncbi.nlm.nih.gov/pubmed/23298747) as seen in #1130.
",start issue,[MRG] fixes links on space net tutorial
2,issue_closed,1184,nilearn,nilearn,AlexandreAbraham,2016-07-21 23:53:11,,closed issue,[MRG] fixes links on space net tutorial
3,pull_request_title,1184,nilearn,nilearn,Joaoloula,2016-07-21 21:53:49,"Small stuff, fixes the links to  [Grosenick et al. 2013](http://www.ncbi.nlm.nih.gov/pubmed/23298747) as seen in #1130.
",ec47cfb460150c34642d0cd4a3b1a1a3924afd65,[MRG] fixes links on space net tutorial
4,pull_request_merged,1184,nilearn,nilearn,AlexandreAbraham,2016-07-21 23:53:11,[MRG] fixes links on space net tutorial,75cc8ff6e8bf9d050b9e98b33aa6eb008d43183d,Pull request merge from Joaoloula/nilearn:issue_1130 to nilearn/nilearn:master
5,pull_request_commit,1184,nilearn,nilearn,Joaoloula,2016-07-21 21:49:33,fixed links on space net tutorial,ec47cfb460150c34642d0cd4a3b1a1a3924afd65,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1133,nilearn,nilearn,KamalakerDadi,2016-06-16 15:29:18,"All is in title
",start issue,New example: plotting statistical images on glass brain using contours
2,issue_closed,1133,nilearn,nilearn,GaelVaroquaux,2016-07-04 11:22:37,,closed issue,New example: plotting statistical images on glass brain using contours
3,pull_request_title,1133,nilearn,nilearn,KamalakerDadi,2016-06-16 15:29:18,"All is in title
",d5a12d2de76079f5dd40708d0e44a167d3367508,New example: plotting statistical images on glass brain using contours
4,pull_request_merged,1133,nilearn,nilearn,GaelVaroquaux,2016-07-04 11:22:37,New example: plotting statistical images on glass brain using contours,1f22191b35925bc6bb72f2f31e6a16fccbabfb1f,Pull request merge from KamalakerDadi/nilearn:plot_glass_brain_with_contours to nilearn/nilearn:master
5,issue_comment,1133,nilearn,nilearn,AlexandreAbraham,2016-06-23 09:01:01,"The code is OK. I am just wondering if it is worth making a new example or if we should integrate this in an existing one.
",,
6,issue_comment,1133,nilearn,nilearn,KamalakerDadi,2016-06-23 08:54:43,"Any reviews please ?
",,
7,issue_comment,1133,nilearn,nilearn,KamalakerDadi,2016-06-23 09:52:33,"> +1 on integrating to the tutorial.

Into which one ?
",,
8,issue_comment,1133,nilearn,nilearn,KamalakerDadi,2016-06-23 10:00:43,"We have demo based `plot_demo_glass_brain` and all options based.
",,
9,issue_comment,1133,nilearn,nilearn,KamalakerDadi,2016-06-28 10:37:35,"@AlexandreAbraham @GaelVaroquaux Addressed comment about integrating into existing example.
",,
10,pull_request_commit_comment,1133,nilearn,nilearn,GaelVaroquaux,2016-07-04 05:03:18,"I think that it would be nice to have the text ""Section 4.3."" to be a link to that section.
",d5a12d2de76079f5dd40708d0e44a167d3367508,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
11,pull_request_commit_comment,1133,nilearn,nilearn,GaelVaroquaux,2016-07-04 05:04:41,"Maybe you can merge this 2 comment blocks, with a line return to separate them.
",d5a12d2de76079f5dd40708d0e44a167d3367508,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
12,pull_request_commit_comment,1133,nilearn,nilearn,GaelVaroquaux,2016-07-04 05:06:42,"I would say here ""since we want an empty glass brain to plotting the statistical maps with ""add_contours"""".
",d5a12d2de76079f5dd40708d0e44a167d3367508,"(None, '', u'examples/01_plotting/plot_demo_glass_brain_extensive.py')"
13,pull_request_commit,1133,nilearn,nilearn,KamalakerDadi,2016-06-16 15:25:16,New example: plotting statistical images on glass brain using contours,cf0c5d8bbfa5b11f7ca7d0c2232718d411c55f24,
14,pull_request_commit,1133,nilearn,nilearn,KamalakerDadi,2016-06-28 09:28:01,Address comment: Integrate into demo glass brain extensive,8a8da8999c29d26b5e497ee360cbc9857018a23d,
15,pull_request_commit,1133,nilearn,nilearn,KamalakerDadi,2016-07-04 10:52:20,"Addressed comments: Section reference, documentation",d5a12d2de76079f5dd40708d0e44a167d3367508,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1174,nilearn,nilearn,AlexandreAbraham,2016-07-08 13:57:37,"Fix #1053 

Questions:
- should we fix the file directly?
- should we encode bytestrings into unicode ones?
- this may break user-defined scripts, what should we do about that?
",start issue,Remove spurious spaces in MSDL
2,issue_closed,1174,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:39:22,,closed issue,Remove spurious spaces in MSDL
3,pull_request_title,1174,nilearn,nilearn,AlexandreAbraham,2016-07-08 13:57:37,"Fix #1053 

Questions:
- should we fix the file directly?
- should we encode bytestrings into unicode ones?
- this may break user-defined scripts, what should we do about that?
",4c45ae9384b74e53666492b39b2132428ac15501,Remove spurious spaces in MSDL
4,pull_request_merged,1174,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:39:22,Remove spurious spaces in MSDL,c969f49b3153a2347106d80f3cc72b04ad97cafa,Pull request merge from AlexandreAbraham/nilearn:msdl_spaces to nilearn/nilearn:master
5,issue_comment,1174,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:41:06,"Any opinion on this one? @KamalakerDadi @aabadie @GaelVaroquaux 
",,
6,issue_comment,1174,nilearn,nilearn,KamalakerDadi,2016-07-13 09:44:36,"> Questions:

But you already changed to remove spurious spaces. Does that not solves the issue ?
",,
7,pull_request_commit,1174,nilearn,nilearn,AlexandreAbraham,2016-07-08 13:55:14,Remove spurious spaces in MSDL,4c45ae9384b74e53666492b39b2132428ac15501,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1176,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:15:06,"Fix #1175 

Technically, this makes each file download of ABIDE atomic, otherwise downloading everything can be cumbersome.
",start issue,[MRG+1] Make ABIDE more resumable
2,issue_closed,1176,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:05,,closed issue,[MRG+1] Make ABIDE more resumable
3,pull_request_title,1176,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:15:06,"Fix #1175 

Technically, this makes each file download of ABIDE atomic, otherwise downloading everything can be cumbersome.
",db972d610bd5665cf6f21fe1a47be3bca4b3ac71,[MRG+1] Make ABIDE more resumable
4,pull_request_merged,1176,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:05,[MRG+1] Make ABIDE more resumable,581e1a1392584ad219c39d84564897a78076af64,Pull request merge from AlexandreAbraham/nilearn:fix_abide to nilearn/nilearn:master
5,issue_comment,1176,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:02,"Given that probably nobody will give comment and that this is minor change, merging.
",,
6,pull_request_commit,1176,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:12:24,Make ABIDE more resumable,db972d610bd5665cf6f21fe1a47be3bca4b3ac71,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1175,nilearn,nilearn,banilo,2016-07-09 12:17:45,"It appears tricky to download the full ABIDE datasets as it stands today. There may be 3 different problems:
1) the download freezed several times with different Wifi connections
2) already downloaded parts of previously failed fetch attemps are not resumed
3) Operation timed out error occurs every once in a while

``` python

<ipython-input-4-565d7d34308f> in <module>()
----> 1 ds.fetch_abide_pcp()

/Users/admin/anaconda/lib/python2.7/site-packages/nilearn/datasets/func.pyc in fetch_abide_pcp(data_dir, n_subjects, pipeline, band_pass_filtering, global_signal_regression, derivatives, quality_checked, url, verbose, **kwargs)
   1248                   '/'.join([url, derivative, file_id + '_' + derivative + ext]),
   1249                   {}) for file_id in file_ids]
-> 1250         files = _fetch_files(data_dir, files, verbose=verbose)
   1251         # Load derivatives if needed
   1252         if ext == '.1D':

/Users/admin/anaconda/lib/python2.7/site-packages/nilearn/datasets/utils.pyc in _fetch_files(data_dir, files, resume, mock, verbose)
    730                                   password=opts.get('password', None),
    731                                   handlers=opts.get('handlers', []),
--> 732                                   overwrite=overwrite)
    733             if 'move' in opts:
    734                 # XXX: here, move is supposed to be a dir, it can be a name

/Users/admin/anaconda/lib/python2.7/site-packages/nilearn/datasets/utils.pyc in _fetch_file(url, data_dir, resume, overwrite, md5sum, username, password, handlers, verbose)
    560             local_file = open(temp_full_name, ""wb"")
    561         _chunk_read_(data, local_file, report_hook=(verbose > 0),
--> 562                      initial_size=initial_size, verbose=verbose)
    563         # temp file must be closed prior to the move
    564         if not local_file.closed:

/Users/admin/anaconda/lib/python2.7/site-packages/nilearn/datasets/utils.pyc in _chunk_read_(response, local_file, chunk_size, report_hook, initial_size, total_size, verbose)
    153     t0 = time_last_display = time.time()
    154     while True:
--> 155         chunk = response.read(chunk_size)
    156         bytes_so_far += len(chunk)
    157         time_last_read = time.time()

/Users/admin/anaconda/lib/python2.7/socket.pyc in read(self, size)
    382                 # fragmentation issues on many platforms.
    383                 try:
--> 384                     data = self._sock.recv(left)
    385                 except error, e:
    386                     if e.args[0] == EINTR:

/Users/admin/anaconda/lib/python2.7/httplib.pyc in read(self, amt)
    610         # connection, and the user is reading more bytes than will be provided
    611         # (for example, reading in 1k chunks)
--> 612         s = self.fp.read(amt)
    613         if not s and amt:
    614             # Ideally, we would raise IncompleteRead if the content-length

/Users/admin/anaconda/lib/python2.7/socket.pyc in read(self, size)
    382                 # fragmentation issues on many platforms.
    383                 try:
--> 384                     data = self._sock.recv(left)
    385                 except error, e:
    386                     if e.args[0] == EINTR:

/Users/admin/anaconda/lib/python2.7/ssl.pyc in recv(self, buflen, flags)
    732                     ""non-zero flags not allowed in calls to recv() on %s"" %
    733                     self.__class__)
--> 734             return self.read(buflen)
    735         else:
    736             return self._sock.recv(buflen, flags)

/Users/admin/anaconda/lib/python2.7/ssl.pyc in read(self, len, buffer)
    619                 v = self._sslobj.read(len, buffer)
    620             else:
--> 621                 v = self._sslobj.read(len or 1024)
    622             return v
    623         except SSLError as x:

error: [Errno 60] Operation timed out

```
",start issue,"""Operation timed out"" during fetch_abide_pcp()"
2,issue_closed,1175,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:05,,closed issue,"""Operation timed out"" during fetch_abide_pcp()"
3,issue_comment,1175,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:07:48,"True, I noticed this problem recently. Gimme 5 minutes tu prepare a fix.
",,
4,issue_comment,1175,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:16:24,"PR on the way ;). You can take my branch directly, the modification should be safe. I have a beta fetcher for anatomical data of ABIDE (cortical thickness...) if you want to test.
",,
5,issue_comment,1175,nilearn,nilearn,banilo,2016-07-09 17:12:31,"The speed of the response is impressive! :-D
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1053,nilearn,nilearn,salma1601,2016-03-09 19:15:04,"The csv file has extra-spaces

``` Python
from nilearn import datasets
msdl = datasets.fetch_atlas_msdl()
```

for instance `msdl.networks[-10]` is  `'    Language'` and  `msdl.labels[-5])` is `'  L Ins'`
",start issue,extra spaces in somes labels and networks of MSDL atlas
2,issue_closed,1053,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:39:22,,closed issue,extra spaces in somes labels and networks of MSDL atlas
3,issue_comment,1053,nilearn,nilearn,GaelVaroquaux,2016-07-06 12:29:19,"> I am trying to figure out how to change csv file corrected for white
> spaces. How can I ?

What is the question: do you want to change the file that is hosted on
the website?
",,
4,issue_comment,1053,nilearn,nilearn,GaelVaroquaux,2016-07-06 12:33:04,"> ```
> What is the question: do you want to change the file that is hosted
> on the website?
> ```
> 
> Yes, Can I ?

No, you can upload a new one, but not override the present one.
",,
5,issue_comment,1053,nilearn,nilearn,banilo,2016-03-10 12:13:57,"Good catch. We should probably get that fixed.
",,
6,issue_comment,1053,nilearn,nilearn,KamalakerDadi,2016-07-06 12:27:29,"I am trying to figure out how to change csv file corrected for white spaces. How can I ?
",,
7,issue_comment,1053,nilearn,nilearn,KamalakerDadi,2016-07-06 12:31:02,"In general, How can I solve this issue ?

> What is the question: do you want to change the file that is hosted on the website?

Yes, Can I ?
",,
8,issue_comment,1053,nilearn,nilearn,KamalakerDadi,2016-07-08 12:01:04,"> No, you can upload a new one

Ok. I have managed to upload in nitrc. PR ?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1118,nilearn,nilearn,MartinPerez,2016-06-09 23:25:48,"In the nifti masker low pass and high pass can take a False value according to the documentation. But in signal.clean only float is allowed and in case False is passed it is considered as different from None and line 505 of signal.py is executed when it shouldnt. I was getting an error for passing False on both high and low pass and then putting tr to None which results in a division by None.

Does this make sense? Should the docs be updated and a Value error be raised whenever tr is none with any given value for high or low pass? I can make a PR if I am not wrong about this.
",start issue,documentation conflict between niftimasker and signal.clean and lack of exception for error case.
2,issue_closed,1118,nilearn,nilearn,GaelVaroquaux,2016-07-05 08:23:03,,closed issue,documentation conflict between niftimasker and signal.clean and lack of exception for error case.
3,issue_comment,1118,nilearn,nilearn,AlexandreAbraham,2016-06-10 00:25:52,"I have not checked but I believe you. PR welcome.
",,
4,issue_comment,1118,nilearn,nilearn,MartinPerez,2016-06-23 14:05:44,"I am happy to do it. Could you point me to all relevant places?
",,
5,issue_comment,1118,nilearn,nilearn,MartinPerez,2016-07-01 10:50:19,"@KamalakerDadi following your instructions, there were only two more places. multipca.py and base.py. I made the corresponding changes.
",,
6,issue_comment,1118,nilearn,nilearn,KamalakerDadi,2016-06-23 13:43:30,"There exists this documentation problem in many places for example: MultiPCA and soon. Shall we take opportunity to change them accordingly ?
",,
7,issue_comment,1118,nilearn,nilearn,KamalakerDadi,2016-07-01 10:07:17,"> Could you point me to all relevant places?

For example, I would do `git grep` masker family and then see if there is anything to be changed. Let me know if your not clear.
",,
8,issue_comment,1118,nilearn,nilearn,KamalakerDadi,2016-07-01 10:53:11,"> @KamalakerDadi following your instructions, there were only two more places. multipca.py and base.py. I made the corresponding changes.

Thank you. I will have a look.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1169,nilearn,nilearn,KamalakerDadi,2016-07-06 19:51:22,"- Minimum version required will be now 0.14.1

Attempts to fix #1160 
",start issue,Dropping scikit learn dependency < 0.14.1
2,issue_closed,1169,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:11:06,,closed issue,Dropping scikit learn dependency < 0.14.1
3,pull_request_title,1169,nilearn,nilearn,KamalakerDadi,2016-07-06 19:51:22,"- Minimum version required will be now 0.14.1

Attempts to fix #1160 
",461425cdff0bfbf13269e901fcccfe4157729720,Dropping scikit learn dependency < 0.14.1
4,pull_request_merged,1169,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:11:06,Dropping scikit learn dependency < 0.14.1,9eedf1a54945bee1446260881df5f5604462aa86,Pull request merge from KamalakerDadi/nilearn:drop_scikit_013 to nilearn/nilearn:master
5,issue_comment,1169,nilearn,nilearn,AlexandreAbraham,2016-07-07 08:11:09,"+1 for me.
Should we do a release soon?
",,
6,issue_comment,1169,nilearn,nilearn,KamalakerDadi,2016-07-07 07:58:20,"Can I have reviews please ?
",,
7,issue_comment,1169,nilearn,nilearn,KamalakerDadi,2016-07-07 08:16:05,"> Should we do a release soon?

For me merged with decoder object ?
",,
8,pull_request_commit,1169,nilearn,nilearn,KamalakerDadi,2016-07-06 19:47:14,"Dropping scikit learn version < 0.14.1
- Minimum version required will be now 0.14.1",461425cdff0bfbf13269e901fcccfe4157729720,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1183,nilearn,nilearn,miykael,2016-07-21 20:59:46,"Small correction for the glass brain visualization where display_mode includes 'l' or 'r'. It seems that the data from the left side was displayed in the right hemisphere and vice versa.

In my example, this was obvious, as I have two clusters on the right and one on the left. This is with the old code:
![lyrz_before](https://cloud.githubusercontent.com/assets/950321/17038436/00f21dd6-4f96-11e6-9a56-30774442466e.png)

And this is with the correction from this pull request:
![lyrz_after](https://cloud.githubusercontent.com/assets/950321/17038437/00f265f2-4f96-11e6-9216-c16c267df117.png)
",start issue,FIX: correct left and right hemisphere mix-up in glass brain visualization
2,issue_closed,1183,nilearn,nilearn,AlexandreAbraham,2016-07-22 09:23:56,,closed issue,FIX: correct left and right hemisphere mix-up in glass brain visualization
3,pull_request_title,1183,nilearn,nilearn,miykael,2016-07-21 20:59:46,"Small correction for the glass brain visualization where display_mode includes 'l' or 'r'. It seems that the data from the left side was displayed in the right hemisphere and vice versa.

In my example, this was obvious, as I have two clusters on the right and one on the left. This is with the old code:
![lyrz_before](https://cloud.githubusercontent.com/assets/950321/17038436/00f21dd6-4f96-11e6-9a56-30774442466e.png)

And this is with the correction from this pull request:
![lyrz_after](https://cloud.githubusercontent.com/assets/950321/17038437/00f265f2-4f96-11e6-9216-c16c267df117.png)
",08d135a9c56742ec3d0d38b7447c5e6706511f2b,FIX: correct left and right hemisphere mix-up in glass brain visualization
4,pull_request_merged,1183,nilearn,nilearn,AlexandreAbraham,2016-07-22 09:23:56,FIX: correct left and right hemisphere mix-up in glass brain visualization,030c0baaf5cee3ff2972e49e9cd4d007a2b8068d,Pull request merge from Unknown:master to nilearn/nilearn:master
5,issue_comment,1183,nilearn,nilearn,robince,2016-07-27 14:43:06,"Not sure if it helps at this stage but we have tried using this and see this problem. For us it seems to happen when plotting an image of all zeros (we are plotting a sequence - on the first image with non-zero entries we get the switch to the correct layout).
",,
6,issue_comment,1183,nilearn,nilearn,GaelVaroquaux,2016-07-22 12:24:10,"> Merged #1183.

That's pretty bad. I think that we need to do a bugfix release quite
fast.
",,
7,issue_comment,1183,nilearn,nilearn,MartinPerez,2016-07-22 09:22:41,"I made the same code correction locally for the left and right problem, the change LGTM. @AlexandreAbraham  +1 for Merge

 On the other hand I have not been able yet to reproduce consistently the case were the images are not inverted appropriately but this change should not affect that. Will keep looking.
",,
8,issue_comment,1183,nilearn,nilearn,MartinPerez,2016-07-22 12:38:29,"@GaelVaroquaux I agree and apologize I did not manage for time reasons to fix the inversion inconsistency, which is a very ugly bug. This weekend I will dig deep into it again
",,
9,issue_comment,1183,nilearn,nilearn,MartinPerez,2016-07-22 12:49:03,"@AlexandreAbraham I can give you on monday the whole set of contrast images that I have from my current experiment in which some do the inversion and some dont. It would be great if you give me a hand to figure out the bug source if I dont manage to find it this weekend.
",,
10,issue_comment,1183,nilearn,nilearn,MartinPerez,2016-07-22 12:50:44,"I can also show you then the scripts that give origin to the images, but you would not be able to run them without a lot of extra preprocessed and processed data files
",,
11,issue_comment,1183,nilearn,nilearn,MartinPerez,2016-07-22 13:06:22,"Sent you one example :) with a comprehensive email, hope it helps.
",,
12,pull_request_commit,1183,nilearn,nilearn,miykael,2016-07-21 20:47:00,FIX: correct left and right hemisphere mix-up,08d135a9c56742ec3d0d38b7447c5e6706511f2b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1161,nilearn,nilearn,dohmatob,2016-07-04 15:38:27,"For example, the following we crash:

`threshold_img(""my_maps.nii.gz"", mask_img=""my_mask.nii.gz"", threshold=""98%"")`

with traceback

```
/home/elvis/.local/lib/python2.7/site-packages/nilearn-0.2.5-py2.7.egg/nilearn/image/image.pyc in threshold_img(img, threshold, mask_img)
    675 
    676     if mask_img is not None:
--> 677         if not _check_same_fov(img, mask_img):
    678             mask_img = resampling.resample_img(mask_img, target_affine=affine,
    679                                                target_shape=img.shape[:3],

/home/elvis/.local/lib/python2.7/site-packages/nilearn-0.2.5-py2.7.egg/nilearn/_utils/niimg_conversions.pyc in _check_same_fov(*args, **kwargs)
     56     for (a_name, a_img), (b_name, b_img) in itertools.combinations(
     57             kwargs.items(), 2):
---> 58         if not a_img.shape[:3] == b_img.shape[:3]:
     59             errors.append((a_name, b_name, 'shape'))
     60         if not np.allclose(a_img.get_affine(), b_img.get_affine()):

AttributeError: 'str' object has no attribute 'shape'
> /home/elvis/.local/lib/python2.7/site-packages/nilearn-0.2.5-py2.7.egg/nilearn/_utils/niimg_conversions.py(58)_check_same_fov()
     56     for (a_name, a_img), (b_name, b_img) in itertools.combinations(
     57             kwargs.items(), 2):
---> 58         if not a_img.shape[:3] == b_img.shape[:3]:
     59             errors.append((a_name, b_name, 'shape'))
     60         if not np.allclose(a_img.get_affine(), b_img.get_affine()):

ipdb> 
```

A fix would be to do `mask_img = check_niimg(mask_img)` in the beginning of the `threshold_img` function.
",start issue,threshold_img crashes if mask_img is string (other image manip routines may be affected)
2,issue_closed,1161,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:23:48,,closed issue,threshold_img crashes if mask_img is string (other image manip routines may be affected)
3,issue_comment,1161,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:23:48,"Fixed by #1162.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1159,nilearn,nilearn,KamalakerDadi,2016-07-04 12:20:17,"In user guide section NiftiMasker objects 5.3.2.1
",start issue,Fixing broken link to code from example plot_mask_computation
2,issue_closed,1159,nilearn,nilearn,GaelVaroquaux,2016-07-04 15:35:51,,closed issue,Fixing broken link to code from example plot_mask_computation
3,pull_request_title,1159,nilearn,nilearn,KamalakerDadi,2016-07-04 12:20:17,"In user guide section NiftiMasker objects 5.3.2.1
",ef93d638a7e53499b9f6a8df6cef89a3cc7e2829,Fixing broken link to code from example plot_mask_computation
4,pull_request_merged,1159,nilearn,nilearn,GaelVaroquaux,2016-07-04 15:35:51,Fixing broken link to code from example plot_mask_computation,1377eecad5fa1cb06c28c8b935365cb5aff5b67a,Pull request merge from KamalakerDadi/nilearn:broken_documentation_manipulating_images to nilearn/nilearn:master
5,issue_comment,1159,nilearn,nilearn,AlexandreAbraham,2016-07-04 12:59:21,"+1 if circle CI is happy.
",,
6,pull_request_commit,1159,nilearn,nilearn,KamalakerDadi,2016-07-04 12:15:51,"Fixing broken link to code from example plot_mask_computation
- In user guide section NiftiMasker objects 5.3.2.1",ef93d638a7e53499b9f6a8df6cef89a3cc7e2829,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1158,nilearn,nilearn,Joaoloula,2016-07-02 10:31:45,"Small PR to deprecate the fetcher `fetch_haxby_simple` and make it call `fetch_haxby` instead. Examples were updated accordingly (and became slightly less simple due to differences between the fetchers, but I don't see an obvious better way to do it), and a test `test_fail_fetch_haxby` for the dummy file download was added (which is just the ancient `test_fail_fetch_haxby_simple` with directories changed accordingly).
",start issue,"[MRG] Fixes #1127, deprecates fetch_haxby_simple, adds test_fail_fetch_haxby"
2,issue_closed,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 21:24:49,,closed issue,"[MRG] Fixes #1127, deprecates fetch_haxby_simple, adds test_fail_fetch_haxby"
3,pull_request_title,1158,nilearn,nilearn,Joaoloula,2016-07-02 10:31:45,"Small PR to deprecate the fetcher `fetch_haxby_simple` and make it call `fetch_haxby` instead. Examples were updated accordingly (and became slightly less simple due to differences between the fetchers, but I don't see an obvious better way to do it), and a test `test_fail_fetch_haxby` for the dummy file download was added (which is just the ancient `test_fail_fetch_haxby_simple` with directories changed accordingly).
",11a675f46ec30e721c0eb34048ee588bd60e107b,"[MRG] Fixes #1127, deprecates fetch_haxby_simple, adds test_fail_fetch_haxby"
4,pull_request_merged,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 21:24:49,"[MRG] Fixes #1127, deprecates fetch_haxby_simple, adds test_fail_fetch_haxby",dbd93863df7f7d72a57159c532fb6ee4bfd25d7f,Pull request merge from Joaoloula/nilearn:master to nilearn/nilearn:master
5,issue_comment,1158,nilearn,nilearn,AlexandreAbraham,2016-07-03 21:36:48,"Same comment as previous PR: one has to write a new test to test the whole downloading code. Should we open a new issue ? 
",,
6,issue_comment,1158,nilearn,nilearn,AlexandreAbraham,2016-07-04 05:58:50,"The size of the dataset does not matter since it is mocked.
",,
7,issue_comment,1158,nilearn,nilearn,AlexandreAbraham,2016-07-04 12:04:26,"No, this is not the same. Don't worry, I'll take care of it and add a detailed documentation for this particular test.
",,
8,issue_comment,1158,nilearn,nilearn,Joaoloula,2016-07-04 06:27:44,"@AlexandreAbraham I had created `test_fail_fetch_haxby` with this in mind, is it not sufficient? Or was it actually `test_fetch_haxby_simple` that tested the download process?
",,
9,issue_comment,1158,nilearn,nilearn,Joaoloula,2016-07-04 12:07:01,"Ok, great!
",,
10,pull_request_commit_comment,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 06:53:51,"Are you sure that ""y"" needs to be numerical? I think that you could take ""conditions"" and use it as the ""y"" vector, which would simplify the example.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'examples/02_decoding/plot_haxby_anova_svm.py')"
11,pull_request_commit_comment,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 07:45:27,"Same remark: I don't think that we need the y vector.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'examples/02_decoding/plot_haxby_grid_search.py')"
12,pull_request_commit_comment,1158,nilearn,nilearn,bthirion,2016-07-03 08:53:26,"Indeed, as we're not running regression, we can live with non-numerical y.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'examples/02_decoding/plot_haxby_anova_svm.py')"
13,pull_request_commit_comment,1158,nilearn,nilearn,Joaoloula,2016-07-03 09:04:35,"You're right: I was so focused on getting the y vector the way it was on the simple fetcher, I forgot I could just take the conditions. 

I just commited the simplifications, except for `plot_haxby_mass_univariate`, that (at least the way it's coded now) requires both an unmasked conditions vector and a masked int-encoded one. Perhaps it's less problematic to keep it that way since it's supposed to be an advanced example. What do you think?
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'examples/02_decoding/plot_haxby_anova_svm.py')"
14,pull_request_commit_comment,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 10:49:00,"I am a bit worried that the signatures of fetch_haxby and fetch_haxby_simple are different (both input signature and return values).

We should probably keep the old fetch_haxby_simple function for a little while, but flag it as deprecated, and remove it from the documentation.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'nilearn/datasets/func.py')"
15,pull_request_commit_comment,1158,nilearn,nilearn,Joaoloula,2016-07-03 11:16:12,"Makes sense. I restored the old function and put a note in the deprecated flag saying the user should use `fetch_haxby` instead.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'nilearn/datasets/func.py')"
16,pull_request_commit_comment,1158,nilearn,nilearn,GaelVaroquaux,2016-07-03 11:18:28,"Could you also please remove it from doc/modules/reference.rst.

Aside from that, +1 for merge from my side, once CI has run.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'nilearn/datasets/func.py')"
17,pull_request_commit_comment,1158,nilearn,nilearn,Joaoloula,2016-07-03 11:25:41,"Done.
",11a675f46ec30e721c0eb34048ee588bd60e107b,"(None, '', u'nilearn/datasets/func.py')"
18,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-02 10:12:31,"Fixed #1127, updated examples and tests and deprecated haxby_fetch_simple",125282dfbe865c9cc47611443cf0ae23080d9233,
19,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-02 10:16:47,"readded deprecated fetch_haxby_simple to reference, few tweaks",6a51cee6e3bb1c9ca21185f58392f01de9054af5,
20,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-03 08:59:42,simplified examples,0d5443de9ad014c82ba4dfc228160a34b385165a,
21,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-03 09:16:57,readded int encoding for plot_haxby_mass_univariate,ca4f17f1e9b8a8e35509fba06f9fc4a8002446e7,
22,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-03 11:16:28,restored fetch_haxby_simple flagging it as deprecated,4465d2a0719becdff259e1524be1300a782d908e,
23,pull_request_commit,1158,nilearn,nilearn,Joaoloula,2016-07-03 11:27:34,removed fetch_haxby_simple from doc/modules/reference.rst,11a675f46ec30e721c0eb34048ee588bd60e107b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1143,nilearn,nilearn,MartinPerez,2016-06-21 16:57:22,"As explained in #1118 all maskers had the option of passing False in the documentation for high pass and low pass, but this would create an error in signal.py under some circumstances. So updated documentation and raised a typeerror in signal.py to avoid future problems. Moreover in signal.py is clearly stated that high pass and low pass should be float or None.
",start issue,"fixed doc in all maskers, changed False possibility for None. Moreoveâ€¦"
2,issue_closed,1143,nilearn,nilearn,GaelVaroquaux,2016-07-05 08:22:35,,closed issue,"fixed doc in all maskers, changed False possibility for None. Moreoveâ€¦"
3,pull_request_title,1143,nilearn,nilearn,MartinPerez,2016-06-21 16:57:22,"As explained in #1118 all maskers had the option of passing False in the documentation for high pass and low pass, but this would create an error in signal.py under some circumstances. So updated documentation and raised a typeerror in signal.py to avoid future problems. Moreover in signal.py is clearly stated that high pass and low pass should be float or None.
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"fixed doc in all maskers, changed False possibility for None. Moreoveâ€¦"
4,pull_request_merged,1143,nilearn,nilearn,GaelVaroquaux,2016-07-05 08:22:35,"fixed doc in all maskers, changed False possibility for None. Moreoveâ€¦",d9ee0e84d74f372850fe7889c67826e2d97436e8,Pull request merge from MartinPerez/nilearn:doc_fix to nilearn/nilearn:master
5,issue_comment,1143,nilearn,nilearn,lesteve,2016-06-23 06:00:16,"> memory failure in one build?

Ignore this one, it is failing intermittently and unfortunately @aabadie did not find a way to make it more reliable.
",,
6,issue_comment,1143,nilearn,nilearn,MartinPerez,2016-06-21 19:20:29,"@AlexandreAbraham this is what I told you about, sorry I took some time to make the PR.
",,
7,issue_comment,1143,nilearn,nilearn,MartinPerez,2016-06-22 19:33:00,"memory failure in one build? could this be due to adding assert_raises errors with signal.clean? I dont understand why this would be the case.
",,
8,issue_comment,1143,nilearn,nilearn,MartinPerez,2016-07-01 23:01:40,"space net done. Sorry I missed it.
",,
9,issue_comment,1143,nilearn,nilearn,KamalakerDadi,2016-07-01 18:30:28,"Small remark on error message. Otherwise, LGTM.
",,
10,issue_comment,1143,nilearn,nilearn,KamalakerDadi,2016-07-01 19:55:27,"Can you also have a look at `nilearn/decoding/space_net.py` ?
",,
11,pull_request_commit_comment,1143,nilearn,nilearn,bthirion,2016-06-21 20:46:23,"Could you add a test for that ?
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"(None, '', u'nilearn/signal.py')"
12,pull_request_commit_comment,1143,nilearn,nilearn,lesteve,2016-06-22 08:27:34,"Best practice: always include the value provided by the user in the error message, something like:

``` py
raise TypeError(""High pass must be float or None but you provided high_pass='{0}'"".format(high_pass))
```
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"(None, '', u'nilearn/signal.py')"
13,pull_request_commit_comment,1143,nilearn,nilearn,KamalakerDadi,2016-07-01 18:28:08,"error message for wrong input has single quotes which I don't think it is necessary. May be we can remove single quotes ? What do you think ?

``` python
TypeError: low pass must be float or None but you provided low_pass='False'
```
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"(6, '', u'nilearn/signal.py')"
14,pull_request_commit_comment,1143,nilearn,nilearn,MartinPerez,2016-07-01 23:00:41,"@KamalakerDadi I just corrected the message as @lesteve suggested. Look at his outdated comment above with single quotes. I don't have a preference on this. which one is better practice? If you want I will change it again.
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"(6, '', u'nilearn/signal.py')"
15,pull_request_commit_comment,1143,nilearn,nilearn,KamalakerDadi,2016-07-02 09:46:01,"string is expressed in quotes actually.

We will wait for final reviews from @lesteve @AlexandreAbraham 
",e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,"(6, '', u'nilearn/signal.py')"
16,pull_request_commit,1143,nilearn,nilearn,MartinPerez,2016-06-21 16:53:35,"fixed doc in all maskers, changed False possibility for None. Moreover raise an error in signal.py to make it clear that False is not an acceptable value",8e6427004c93b739e5ff38d95f5fcdb0628aa9f3,
17,pull_request_commit,1143,nilearn,nilearn,MartinPerez,2016-06-22 18:58:52,added test and corrected exception message,fdb0d4de83ff72b98493a8cef25352ec8872ec57,
18,pull_request_commit,1143,nilearn,nilearn,MartinPerez,2016-06-22 19:16:12,test fix,00443f2d7e8210349a8c5b7193d1a2dab8fe79f4,
19,pull_request_commit,1143,nilearn,nilearn,MartinPerez,2016-07-01 10:49:17,changed docs also for multipca and base,1392a2c21f3ae3d88aa0183199fd1a85e7d0db86,
20,pull_request_commit,1143,nilearn,nilearn,MartinPerez,2016-07-01 22:58:12,extra doc corrections,e8e6969f6eda3c6e5d4bb298598c93fafffc13a6,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1177,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:48:33,"Fixes the downloader test as discussed in #1141.

I also added extra documentation to detail what is tests and how.
",start issue,[MRG+1] Change the downloader test to rely on craddock instead of haxby
2,issue_closed,1177,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:40,,closed issue,[MRG+1] Change the downloader test to rely on craddock instead of haxby
3,pull_request_title,1177,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:48:33,"Fixes the downloader test as discussed in #1141.

I also added extra documentation to detail what is tests and how.
",bff40bd5021ac6ddd368522fb4d17f4290d6ab97,[MRG+1] Change the downloader test to rely on craddock instead of haxby
4,pull_request_merged,1177,nilearn,nilearn,AlexandreAbraham,2016-07-11 07:39:40,[MRG+1] Change the downloader test to rely on craddock instead of haxby,d97828eeea2517a3d021ef29eaccfa1e4277ec6d,Pull request merge from AlexandreAbraham/nilearn:dl_test to nilearn/nilearn:master
5,pull_request_commit,1177,nilearn,nilearn,AlexandreAbraham,2016-07-09 14:46:25,Change the downloader test to rely on craddock instead of haxby,3de6941398b6105af9f1e9bf1094e3d262ea7485,
6,pull_request_commit,1177,nilearn,nilearn,AlexandreAbraham,2016-07-10 10:56:10,Forgotten file,bff40bd5021ac6ddd368522fb4d17f4290d6ab97,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1179,nilearn,nilearn,salma1601,2016-07-10 17:55:27,"fixes #1178
",start issue,add_edges correct docstring parameters
2,issue_closed,1179,nilearn,nilearn,AlexandreAbraham,2016-07-21 08:40:19,,closed issue,add_edges correct docstring parameters
3,pull_request_title,1179,nilearn,nilearn,salma1601,2016-07-10 17:55:27,"fixes #1178
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,add_edges correct docstring parameters
4,pull_request_merged,1179,nilearn,nilearn,AlexandreAbraham,2016-07-21 08:40:18,add_edges correct docstring parameters,ecb89c4622e09dd0bd922c305d3affc194e1da06,Pull request merge from salma1601/nilearn:edges_docstring to nilearn/nilearn:master
5,issue_comment,1179,nilearn,nilearn,KamalakerDadi,2016-07-13 09:05:39,"Small comment from my side.
",,
6,pull_request_commit_comment,1179,nilearn,nilearn,KamalakerDadi,2016-07-13 09:05:14,"May be we should adapt well to the same conventions as was before. You now know better what to write following from issue. :)

""The 3D map to be plotted. If it is a masked array, only the non-masked part will be plotted""
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,"(None, '', u'nilearn/plotting/displays.py')"
7,pull_request_commit_comment,1179,nilearn,nilearn,KamalakerDadi,2016-07-13 09:15:40,"Sorry for not being clear. I expected something like this,

""The 3D image to be plotted. If it is masked, only the non-masked part will be plotted/projected.""
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,"(13, '', u'nilearn/plotting/displays.py')"
8,pull_request_commit_comment,1179,nilearn,nilearn,KamalakerDadi,2016-07-13 09:24:17,"Also, I will take doc to top and See link to bottom.
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,"(13, '', u'nilearn/plotting/displays.py')"
9,pull_request_commit_comment,1179,nilearn,nilearn,AlexandreAbraham,2016-07-21 08:40:01,"> Also, I will take doc to top and See link to bottom.

In all the nilearn docstrings, the link comes first.
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,"(13, '', u'nilearn/plotting/displays.py')"
10,pull_request_commit_comment,1179,nilearn,nilearn,KamalakerDadi,2016-07-21 08:41:53,"> In all the nilearn docstrings, the link comes first.

Yes, I noticed that.
",2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,"(13, '', u'nilearn/plotting/displays.py')"
11,pull_request_commit,1179,nilearn,nilearn,salma1601,2016-07-10 17:54:07,add_edges correct docstring parameters,89f67b1e74dfe23bc74b68e501cfd362f83b8417,
12,pull_request_commit,1179,nilearn,nilearn,salma1601,2016-07-13 09:13:01,address Kamalakar comment,2d3bf089d27bbe8b9bfe09d1ff28aa26f5f59993,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1127,nilearn,nilearn,GaelVaroquaux,2016-06-13 11:20:06,"It's confusing to have 2 haxby fetchers. In addition, it puts strains on generating the documentation (more downloads, less shared path to cache) and it clogs the download folders of people.

I vote to remove fetch_haxby_simple. The examples should all be changed accordingly.
",start issue,Get rid of fetch_haxby_simple
2,issue_closed,1127,nilearn,nilearn,GaelVaroquaux,2016-07-03 21:24:51,,closed issue,Get rid of fetch_haxby_simple
3,issue_comment,1127,nilearn,nilearn,AlexandreAbraham,2016-06-13 11:39:03,"Maybe a not so easy part: shouldn't we delete or issue a warning if a user updates the software and has already downloaded haxby_simple? I'm trying to avoid unnecessary disk occupation.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1168,nilearn,nilearn,KamalakerDadi,2016-07-05 15:04:21,"- Setting default to 'auto' instead of True and 0 implies no dimming instead of False. Should address #1138 
",start issue,[MRG + 1] Documentation changes related to 'dim' argument in plotting functions
2,issue_closed,1168,nilearn,nilearn,GaelVaroquaux,2016-08-03 17:16:10,,closed issue,[MRG + 1] Documentation changes related to 'dim' argument in plotting functions
3,pull_request_title,1168,nilearn,nilearn,KamalakerDadi,2016-07-05 15:04:21,"- Setting default to 'auto' instead of True and 0 implies no dimming instead of False. Should address #1138 
",8a03ca628f54e2052243e9132406d2f61004152a,[MRG + 1] Documentation changes related to 'dim' argument in plotting functions
4,pull_request_merged,1168,nilearn,nilearn,GaelVaroquaux,2016-08-03 17:16:10,[MRG + 1] Documentation changes related to 'dim' argument in plotting functions,9f6577d986555c1369f61424900655903541bdf9,Pull request merge from KamalakerDadi/nilearn:dim_error_message to nilearn/nilearn:master
5,issue_comment,1168,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:24:44,"LGTM
",,
6,issue_comment,1168,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:52:57,"I think we can merge it.
",,
7,pull_request_commit_comment,1168,nilearn,nilearn,GaelVaroquaux,2016-07-05 15:20:55,"Shouldn't auto be mentioned here?
",8a03ca628f54e2052243e9132406d2f61004152a,"(None, '', u'nilearn/plotting/img_plotting.py')"
8,pull_request_commit_comment,1168,nilearn,nilearn,GaelVaroquaux,2016-07-05 15:21:14,"Shouldn't auto be mentioned here?
",8a03ca628f54e2052243e9132406d2f61004152a,"(None, '', u'nilearn/plotting/img_plotting.py')"
9,pull_request_commit_comment,1168,nilearn,nilearn,KamalakerDadi,2016-07-05 15:24:59,"I am focussing on user specified inputs here. 'auto' is by default anyway doesn't require to say user to give 'auto' again. If you think its necessary I can add it.
",8a03ca628f54e2052243e9132406d2f61004152a,"(None, '', u'nilearn/plotting/img_plotting.py')"
10,pull_request_commit_comment,1168,nilearn,nilearn,GaelVaroquaux,2016-07-05 15:27:23,"> I am focussing on user specified inputs here. 'auto' is by default
> anyway doesn't require to say user to give 'auto' again. If you think
> its necessary I can add it.

Yes, it's necessary to add it and to describe what it does. Elsewhere the
user cannot interpret what he/she reads in the function signature, and
hence the default behavior.
",8a03ca628f54e2052243e9132406d2f61004152a,"(None, '', u'nilearn/plotting/img_plotting.py')"
11,pull_request_commit,1168,nilearn,nilearn,KamalakerDadi,2016-07-05 14:58:15,"Documentation changes related to 'dim' argument in plotting functions
- Setting default to 'auto' instead of True and 0 implies no dimming instead of False",2378e56b5082e6d0d89875ac008158fa2f58aee9,
12,pull_request_commit,1168,nilearn,nilearn,KamalakerDadi,2016-07-05 15:50:08,added in whats_new doc and doc for auto default,8a03ca628f54e2052243e9132406d2f61004152a,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1134,nilearn,nilearn,ahoyosid,2016-06-17 09:11:23,"SpaceNet is not checking_consistent_length(X, y) when using the whole brain.

On the example ""plot_haxby_space_net.py""
### Using the whole brain: It won't raise an error

``` python
# Remove one sample from y_train
y_train = y_train[:-1]

decoder = SpaceNetClassifier(memory=""nilearn_cache"", penalty='graph-net',
                             screening_percentile=100)
decoder.fit(X_train, y_train)

y_pred = decoder.predict(X_test)
accuracy = (y_pred == y_test).mean() * 100.
print(""Graph-net classification accuracy : %g%%"" % accuracy)
```

Graph-net classification accuracy : 97.7778%
### Using screening: This will raise an error because it uses SelectPercentile

``` python
decoder = SpaceNetClassifier(memory=""nilearn_cache"", penalty='graph-net',
                             screening_percentile=20)
decoder.fit(X_train, y_train)

y_pred = decoder.predict(X_test)
accuracy = (y_pred == y_test).mean() * 100.
print(""Graph-net classification accuracy : %g%%"" % accuracy)
```

ValueError: Found arrays with inconsistent numbers of samples: [125 126]

I added a backport to scikit-learn validation module, which I'm currently using on #698. This can be added easily to solve this issue.

Should I split #698  on two different PRs?, one for the backports and another for the Decoder 
",start issue,SpaceNet is not checking length consistency btw X and y
2,issue_closed,1134,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:50:05,,closed issue,SpaceNet is not checking length consistency btw X and y
3,issue_comment,1134,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:50:05,"Fixed by #1148.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,769,nilearn,nilearn,AlexandreAbraham,2015-08-25 08:25:00,"In datasets, some atlases uses ""maps"" for the brain maps and ""labels"" for the name of the regions. For some atlases, we want to use ""labels"" for the brain components since the atlas is actually contained in a single label map but we can't because this would clash with other datasets.

I think we should follow the same convention for all atlases.

Also, I think that it would be good to always return a dictionary when we associate label values to names, even if they are integer. It is easier to use and more consistent.
",start issue,Naming conflicts in datasets
2,issue_closed,769,nilearn,nilearn,AlexandreAbraham,2016-07-19 13:30:36,,closed issue,Naming conflicts in datasets
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,812,nilearn,nilearn,AlexandreAbraham,2015-11-02 14:17:32,"Some users complained about the fact that it is not possible to chose the location for the cut in plotting functions. It turns out that they did not know about `cut_coords`.

Also, for them, the `display_mode` is not clear. For example, they don't understand why they have to pass only 2 coordinates when using 'xz'.
",start issue,`cut_coords` is not clear for new users
2,issue_closed,812,nilearn,nilearn,AlexandreAbraham,2016-07-19 13:21:44,,closed issue,`cut_coords` is not clear for new users
3,issue_comment,812,nilearn,nilearn,lesteve,2015-11-03 07:53:51,"I thought what @AlexandreAbraham had in mind was to allow to pass cut_coords as list of 3d coordinates irrespective of the display_mode. This way you can change the display_mode without having to worry about changing cut_coords.
",,
4,issue_comment,812,nilearn,nilearn,alexsavio,2016-01-13 16:09:41,"Related to this, is there any way to plot in a grid instead of a row?
I mean, if I use cut_coords=40, I wouldn't like to plot 40 slices in a row, but maybe a grid of 5x8 slices.
I was thinking that an argument, e.g., `plot_grid=(5, 8)`, would help, if there is no other way to do this.
I have been trying to implement something like this for a while, if you indicate me what should be changed, I could do it.

P.S.: I know that I have another open issue, but this is more urgent for me, I will arrive to the other one one day.
",,
5,issue_comment,812,nilearn,nilearn,alexsavio,2016-01-14 10:43:58,"Do you think this will overcomplicate the code base? This is a feature I feel like doing, I will have a look through the code to have an estimate.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1141,nilearn,nilearn,sahmed95,2016-06-20 20:43:42,"Removed redundant fetcher.
",start issue,Fixes #1127. Removed haxby_simple
2,issue_closed,1141,nilearn,nilearn,GaelVaroquaux,2016-07-03 10:54:09,,closed issue,Fixes #1127. Removed haxby_simple
3,pull_request_title,1141,nilearn,nilearn,sahmed95,2016-06-20 20:43:42,"Removed redundant fetcher.
",02b8422865a7d14b11001c1b595a06f84e6badf2,Fixes #1127. Removed haxby_simple
4,issue_comment,1141,nilearn,nilearn,AlexandreAbraham,2016-06-20 20:58:50,"Thanks for the PR. 3 remarks though (with points to discuss):
- examples relying on haxby_simple must be updated
- we should probably discuss if we remove it bluntly or if we ""deprecate it"" (and make it rely on fetch_haxby)
- the test of haxby_simple is the only one to actually ""download"" a file (it is a dummy file from the repo itself) and therefor to test the full dataset fetching process. We have to replace it by another one (can be done in a separate PR).
",,
5,issue_comment,1141,nilearn,nilearn,Joaoloula,2016-07-02 10:36:22,"Actually, just substituting the function breaks most examples, seeing as the simple fetcher can be loaded with `np.loadtxt` and returns an int-coded target, which `fetch_haxby` does not. I was actually working on this as well and made another PR fixing the examples, deprecating the function and adding a new test for the dummy file: hope that's alright!
",,
6,pull_request_commit,1141,nilearn,nilearn,shd339@gmail.com,2016-06-20 20:40:04,Fixes #1127. Removed haxby_simple,70ac8b4fb40f24c98bcb3f29106bba66ed29cf10,
7,pull_request_commit,1141,nilearn,nilearn,shd339@gmail.com,2016-06-20 21:05:16,Updated examples,02b8422865a7d14b11001c1b595a06f84e6badf2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,990,nilearn,nilearn,arthurmensch,2016-02-17 09:30:56,"This would be great for algorithms that are sequential with a large IO bottleneck. The way I see it would be to have a `MultiNiftiMasker.transform(imgs, lazy=True`), which would return a list of MemorizedFunctions with a method `.get()`, using `call_and_shelve` from joblib.

This is quite expert usage, but
- it would be great for developing new estimators
- it would be great for users that build their own pipeline as well

the parmaeter `lazy` could be a class parameter, which would preserve the API of `transform`
",start issue,MultNiftiMasker should propose lazy transform with shelving
2,issue_closed,990,nilearn,nilearn,AlexandreAbraham,2016-07-19 13:17:30,,closed issue,MultNiftiMasker should propose lazy transform with shelving
3,issue_comment,990,nilearn,nilearn,GaelVaroquaux,2016-02-17 09:37:17,"Agreed on the general idea. I think that @AlexandreAbraham uses this in
his MSDL code.

Wether it should be a new method or a class parameter, I don't know. Any
opinions?

G
",,
4,issue_comment,990,nilearn,nilearn,bthirion,2016-02-17 19:00:24,"As suggested by Arthur, a class parameter sounds more natural imho.
",,
5,issue_comment,990,nilearn,nilearn,AlexandreAbraham,2016-02-18 09:50:47,"> Agreed on the general idea. I think that @AlexandreAbraham uses this in his MSDL code.

Yes I do, I also already have a branch that adds it to the maskers.

Actually, the issue already exists #203 and some code to fix it also already exists #278. The problem is that if we enable it, we have to propagate everywhere. Meaning `compute_multi_epi_mask` should use it, `CanICA` should use it, etc.

+1 for the class parameter.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1162,nilearn,nilearn,dohmatob,2016-07-04 15:43:33,"Fixes issue #1161.
",start issue,Fixes issue #1161
2,issue_closed,1162,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:23:23,,closed issue,Fixes issue #1161
3,pull_request_title,1162,nilearn,nilearn,dohmatob,2016-07-04 15:43:33,"Fixes issue #1161.
",64a57487d577213e7e94f85b7413544abaf42596,Fixes issue #1161
4,pull_request_merged,1162,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:23:22,Fixes issue #1161,07a07848f188a884b8a6c1203873bd054c3eeb40,Pull request merge from dohmatob/nilearn:fix-1161 to nilearn/nilearn:master
5,pull_request_commit_comment,1162,nilearn,nilearn,GaelVaroquaux,2016-07-04 21:20:32,"Maybe a check_niimg_3d rather? So that if the user gives a 4D image we get a meaningful error message.
",64a57487d577213e7e94f85b7413544abaf42596,"(None, '', u'nilearn/image/image.py')"
6,pull_request_commit_comment,1162,nilearn,nilearn,AlexandreAbraham,2016-07-04 21:22:13,"`masking._load_mask_img` loads and does all the appropriate checks.
",64a57487d577213e7e94f85b7413544abaf42596,"(None, '', u'nilearn/image/image.py')"
7,pull_request_commit_comment,1162,nilearn,nilearn,KamalakerDadi,2016-07-04 21:31:54,"> Maybe a check_niimg_3d rather? 

It is for both 3D/4D.
",64a57487d577213e7e94f85b7413544abaf42596,"(None, '', u'nilearn/image/image.py')"
8,pull_request_commit,1162,nilearn,nilearn,dohmatob,2016-07-04 15:40:49,BF: Fixes issue #1161,64a57487d577213e7e94f85b7413544abaf42596,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1152,nilearn,nilearn,AlexandreAbraham,2016-06-24 08:55:28,"Fix #1151

Problem: ATM, you need to import nilearn.plotting.cm for them to be registered. It would be nice to register them directly when nilearn is imported but that implies loading the whole plotting module, which is a but heavy.

What should we do?
",start issue,[MRG] Register colormaps in matplotlib
2,issue_closed,1152,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:27:01,,closed issue,[MRG] Register colormaps in matplotlib
3,pull_request_title,1152,nilearn,nilearn,AlexandreAbraham,2016-06-24 08:55:28,"Fix #1151

Problem: ATM, you need to import nilearn.plotting.cm for them to be registered. It would be nice to register them directly when nilearn is imported but that implies loading the whole plotting module, which is a but heavy.

What should we do?
",46cb1d5b27824b122ea4eb2f5bd38219dc157f78,[MRG] Register colormaps in matplotlib
4,pull_request_merged,1152,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:27:01,[MRG] Register colormaps in matplotlib,9754ee4b450ae01320b3c71335cef20ab526c099,Pull request merge from AlexandreAbraham/nilearn:preload_cmaps to nilearn/nilearn:master
5,issue_comment,1152,nilearn,nilearn,AlexandreAbraham,2016-07-05 07:28:10,"@GaelVaroquaux @aabadie @lesteve @KamalakerDadi : Here are the three options:
- we register the colormaps when importing nilearn.plotting.cm
- we register the colormaps when importing nilearn, which implies always importing the plotting module
- we register the colormaps when importing nilearn, but we change the code so that the full plotting module is not imported.

Can I have your opinion?
",,
6,issue_comment,1152,nilearn,nilearn,AlexandreAbraham,2016-07-05 07:39:19,"> That's not an option: it would make matplotlib a hard dependency. I'd rather not do that.

Not really, I can embed this in a try ... except.

> I prefer first option.

I prefer too. If users push for something else, we will still be able to change it in the future. In that case, je PR is ready, I'll just add a test.
",,
7,pull_request_commit,1152,nilearn,nilearn,AlexandreAbraham,2016-06-24 08:53:03,Register colormaps in matplotlib,571dd8b211f7c5e9b8bdd0f0208bc6b04ebe4575,
8,pull_request_commit,1152,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:44:49,Add test for cmap preloading,46cb1d5b27824b122ea4eb2f5bd38219dc157f78,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1178,nilearn,nilearn,salma1601,2016-07-10 17:49:49,"dcostring says inputs are the map and the affine 

``` Python
def add_edges(self, img, color='r'):
    """""" Plot the edges of a 3D map in all the views.
    Parameters
    ----------
    map: 3D ndarray
    affine: 4x4 ndarray
```

but function takes only a Niimg-like object :

``` Python
import nibabel
from nilearn import datasets, plotting
icbm152 = datasets.fetch_icbm152_2009()
img = nibabel.load(icbm152.gm)
display = plotting.plot_anat(icbm152.t1)
display.add_edges(img.get_data(), img.affine)
```

gives an error
",start issue,display.add_edeges uncorrect docstring ?
2,issue_closed,1178,nilearn,nilearn,AlexandreAbraham,2016-07-21 08:40:19,,closed issue,display.add_edeges uncorrect docstring ?
3,issue_comment,1178,nilearn,nilearn,salma1601,2016-07-10 17:56:15,"just sent it
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1160,nilearn,nilearn,KamalakerDadi,2016-07-04 13:36:00,"It makes easier to set base for decoder object in nilearn which actually requires lot of backports for versions. #1148 

I don't have great justifications though. Let me know if I miss something important in nilearn which we need to take into account dropping 0.13.

FYI: https://packages.debian.org/jessie/python-sklearn

Discussions are welcome.
",start issue,Dropping scikit-learn dependency < 0.14.1
2,issue_closed,1160,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:11:06,,closed issue,Dropping scikit-learn dependency < 0.14.1
3,issue_comment,1160,nilearn,nilearn,AlexandreAbraham,2016-07-04 13:38:23,"0.14.1 is very old. This seems like a safe move to me.

+1.
",,
4,issue_comment,1160,nilearn,nilearn,KamalakerDadi,2016-07-05 15:54:41,"OK, I am assigning myself to address this issue.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1046,nilearn,nilearn,craigmoodie,2016-03-03 21:54:26,"See https://github.com/nilearn/nilearn/blob/815900bc32153fe833858158c0414f6ce834c1e1/nilearn/plotting/displays.py#L691
",start issue,"add_edges docstring includes ""affine"" argument that is no longer accepted"
2,issue_closed,1046,nilearn,nilearn,KamalakerDadi,2016-07-10 18:48:21,,closed issue,"add_edges docstring includes ""affine"" argument that is no longer accepted"
3,issue_comment,1046,nilearn,nilearn,KamalakerDadi,2016-07-10 18:48:20,"Closing since same issue is reported in #1178 . Also, a PR is in the progress if you may want to comment or suggestions.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,832,nilearn,nilearn,bcipolli,2015-11-06 23:00:16,"This is an enhancement for #640. Not quite done, but far enough along to talk about the API I've implemented.

To do:
- [x] Implement an API for downloading selected images from http://neurovault.org/
- [x] Create dataset documentation
- [x] Create a basic example for downloading a subset of files.
- [x] Create a more complex ICA-based example.
- [x] Create tests
- [x] Remove dependency on `requests` - use `urllib`
- [x] Read from disk when offline.
- [ ] Detect outdated cached collection or image metadata or data.

Neurovault contains images in collections. Collections can be filtered via a few querystring arguments. Images to download and return should be limited by filters on collection and image metadata.

To do this, I've included `collection_filters` and `image_filters` arguments.
- If `isinstance(collection_filters, dict)`, the filters are used as querystring argument filters.
- If `isinstance(*_filters, collections.Iterable)` (i.e. a list), the filters are assumed to be functions that receive a collection or image metadata, and returns `True` if the collection's images should be queried, or if the image should be downloaded.

The function returns a `Bunch` of three:
- `collections`: a dict (key: collection_id) of collection metadata for matched collections.
- `images`: a list of image metadata (including local file paths) for matched & downloaded images.
- `func_files`: a list of paths to downloaded files. Could be removed, but I kept it as many other functions return a list of paths to images.

The example I've begun with is a `stop-go` task meta-analysis, ported from:
https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb

Note that I avoided trying to convert things to a `pandas` dataframe. The previous examples downloaded all images and filtered using `pandas`; however, all `nilearn` dataset fetchers filter before returning to the user. It was simple enough to allow lambda functions as filters to make very powerful pre-fetch filtering available to the user, so I went that route.

Looking for feedback on the overall API design to start. @chrisfilo and anyone else around! 
",start issue,Add a NeuroVault fetcher
2,issue_closed,832,nilearn,nilearn,AlexandreAbraham,2016-07-20 13:51:48,,closed issue,Add a NeuroVault fetcher
3,pull_request_title,832,nilearn,nilearn,bcipolli,2015-11-06 23:00:16,"This is an enhancement for #640. Not quite done, but far enough along to talk about the API I've implemented.

To do:
- [x] Implement an API for downloading selected images from http://neurovault.org/
- [x] Create dataset documentation
- [x] Create a basic example for downloading a subset of files.
- [x] Create a more complex ICA-based example.
- [x] Create tests
- [x] Remove dependency on `requests` - use `urllib`
- [x] Read from disk when offline.
- [ ] Detect outdated cached collection or image metadata or data.

Neurovault contains images in collections. Collections can be filtered via a few querystring arguments. Images to download and return should be limited by filters on collection and image metadata.

To do this, I've included `collection_filters` and `image_filters` arguments.
- If `isinstance(collection_filters, dict)`, the filters are used as querystring argument filters.
- If `isinstance(*_filters, collections.Iterable)` (i.e. a list), the filters are assumed to be functions that receive a collection or image metadata, and returns `True` if the collection's images should be queried, or if the image should be downloaded.

The function returns a `Bunch` of three:
- `collections`: a dict (key: collection_id) of collection metadata for matched collections.
- `images`: a list of image metadata (including local file paths) for matched & downloaded images.
- `func_files`: a list of paths to downloaded files. Could be removed, but I kept it as many other functions return a list of paths to images.

The example I've begun with is a `stop-go` task meta-analysis, ported from:
https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb

Note that I avoided trying to convert things to a `pandas` dataframe. The previous examples downloaded all images and filtered using `pandas`; however, all `nilearn` dataset fetchers filter before returning to the user. It was simple enough to allow lambda functions as filters to make very powerful pre-fetch filtering available to the user, so I went that route.

Looking for feedback on the overall API design to start. @chrisfilo and anyone else around! 
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,Add a NeuroVault fetcher
4,issue_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:38:33,"> Not quite done, but far enough along to talk about the API I've implemented.

I think that the macanism of filters is too complicated for most of our users. We can keep it for advanced users but at some point we should provide simpler pre-made filters. For example, I think that a user should be able to specify the id of a collection or a list of ids (I know that it's possible through collection_filter). But we'll see that later.

> The example I've begun with is a stop-go task meta-analysis

Reproducing an example provided by neurovault is indeed the way to go.

> Note that I avoided trying to convert things to a pandas dataframe. 

So far, we have avoided this dependency but we may have to include it at some point. Is there a real benefit to use pandas here?

The PR so far looks like really good work to me ;).
",,
5,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-08 14:14:23,"> We should maybe use a flag to work online / offline.

Regardless of online or offline, there is an updating problem. When online, the code assumes that a cached copy of a particular collection or image metadata, or image data is correct / up-to-date. I have the `refresh` flag for controlling that behavior. A more automated mechanism is possible.

Separate from that, the code needs to work in offline mode; currently it does not. I have added that to the WIP item list.

> I think that the macanism of filters is too complicated for most of our users. We can keep it for advanced users but at some point we should provide simpler pre-made filters. For example, I think that a user should be able to specify the id of a collection or a list of ids (I know that it's possible through collection_filter). But we'll see that later.

Right; glad to add more simple filters. It's very easy to map from the simple filters to the more complex ones. The complex filters were needed to mirror the logic of the example I ported, but I could also change it to use specific collections and images (and tell users they were determined by searches on the website).

> So far, we have avoided this dependency but we may have to include it at some point. Is there a real benefit to use pandas here?

In the previous examples, the benefit was using Pandas' filtering mechanisms, which tend to lead to simpler code. But I just don't see it as an option here, unless we limit users to very simple filters (which I think would be a shame).

> The PR so far looks like really good work to me ;).

:D
",,
6,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-10 03:11:42,"Looks good to me so far! Let me know if you have any questions about the API (we can make improvements!)
",,
7,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:02:36,"Thanks @chrisfilo! One thing that might help is if the API endpoint could return headers indicating the response size; `nilearn` doesn't like not getting a `Content-Length` header, I believe.

To reduce the number of requests made, it could also be helpful to be able to get image metadata for a specified set of collection IDs, rather than one at a time.
",,
8,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-10 17:04:52,"On Tue, Nov 10, 2015 at 9:02 AM, Ben Cipollini notifications@github.com
wrote:

> Thanks @chrisfilo https://github.com/chrisfilo! One thing that might
> help is if the API endpoint could return headers indicating the response
> size; nilearn doesn't like not getting a Content-Length header, I believe.
> 
> That's for a single file download or part of JSON?
> 
> To reduce the number of requests made, it could also be helpful to be able
> to get image metadata for a specified set of collection IDs, rather than
> one at a time.
> 
> Hmm - we can work on adding this.
> 
> â€”
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/832#issuecomment-155487633.
",,
9,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:05:00,"@AlexandreAbraham in order to remove the `requests` dependency, I needed to make changes to `_fetch_files` (#838 and #839; add overwrite option, modify output). Not sure this is a net positive; the code was simpler all around when using `requests`. Glad to get feedback!
",,
10,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:06:32,"> That's for a single file download or part of JSON?

JSON. Downloading actual images works perfectly.
",,
11,issue_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-10 21:52:55,"> nilearn doesn't like not getting a Content-Length header, I believe.

This case should be handled properly.

> the code was simpler all around when using requests

I am not against adding requests as a dependency but you should ask to the big boss :P.
",,
12,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-16 04:27:00,"@chrisfilo Another issue I'm having with the NeuroVault API is that collection ID returned seems unordered. This means that, when I'm offline, I can't order collections as I get them when I'm online. This causes problems.

Is it possible to get collection IDs returned in order?

Here's what I see for collection IDs:

```
Downloading data from http://neurovault.org/api/collections  ...
 [10, 862, 38, 55, 72, 75, 81, 82, 84, 554, 14, 71, 816, 723, 440, 556, 35, 67, 17, 66, 471, 92, 751, 4, 923, 496, 70, 921, 79, 93, 863, 89, 609, 542, 497, 784, 57, 109, 102, 114, 117, 119, 610, 103, 465, 612, 118, 115, 443, 494, 215, 882, 787, 795, 790, 105, 140, 796, 800, 794, 804, 865, 506, 495, 33, 308, 473, 500, 927, 510, 907, 809, 588, 625, 508, 190, 631, 572, 812, 573, 628, 231, 574, 295, 298, 292, 276, 294, 305, 408, 285, 287, 885, 319, 821, 356, 409, 323, 324, 329]

Downloading data from http://neurovault.org/api/collections/?offset=100 ...
[586, 331, 320, 340, 367, 335, 336, 886, 585, 337, 344, 360, 365, 376, 377, 929, 379, 814, 46, 391, 555, 822, 559, 576, 931, 887, 581, 486, 589, 594, 297, 597, 592, 598, 932, 934, 591, 903, 942, 601, 599, 596, 562, 448, 825, 889, 43, 398, 912, 551, 933, 563, 59, 187, 179, 94, 552, 451, 460, 826, 890, 648, 913, 203, 7, 418, 419, 550, 307, 650, 646, 461, 34, 640, 227, 641, 639, 915, 684, 553, 687, 655, 545, 681, 683, 315, 686, 893, 3, 527, 434, 526, 806, 515, 697, 700, 708, 709, 831, 519]
```
",,
13,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-16 04:41:29,"Hmm. I can add this, but it will slow down the API (not sure how much). Why
is the order necessary?

On Sun, Nov 15, 2015 at 8:27 PM, Ben Cipollini notifications@github.com
wrote:

> @chrisfilo https://github.com/chrisfilo Another issue I'm having with
> the NeuroVault API is that collection ID returned seems unordered. This
> means that, when I'm offline, I can't order collections as I get them when
> I'm online. This causes problems.
> 
> Is it possible to get collection IDs returned in order?
> 
> Here's what I see for collection IDs:
> 
> Downloading data from http://neurovault.org/api/collections  ...
>  [10, 862, 38, 55, 72, 75, 81, 82, 84, 554, 14, 71, 816, 723, 440, 556, 35, 67, 17, 66, 471, 92, 751, 4, 923, 496, 70, 921, 79, 93, 863, 89, 609, 542, 497, 784, 57, 109, 102, 114, 117, 119, 610, 103, 465, 612, 118, 115, 443, 494, 215, 882, 787, 795, 790, 105, 140, 796, 800, 794, 804, 865, 506, 495, 33, 308, 473, 500, 927, 510, 907, 809, 588, 625, 508, 190, 631, 572, 812, 573, 628, 231, 574, 295, 298, 292, 276, 294, 305, 408, 285, 287, 885, 319, 821, 356, 409, 323, 324, 329]
> 
> Downloading data from http://neurovault.org/api/collections/?offset=100 ...
> [586, 331, 320, 340, 367, 335, 336, 886, 585, 337, 344, 360, 365, 376, 377, 929, 379, 814, 46, 391, 555, 822, 559, 576, 931, 887, 581, 486, 589, 594, 297, 597, 592, 598, 932, 934, 591, 903, 942, 601, 599, 596, 562, 448, 825, 889, 43, 398, 912, 551, 933, 563, 59, 187, 179, 94, 552, 451, 460, 826, 890, 648, 913, 203, 7, 418, 419, 550, 307, 650, 646, 461, 34, 640, 227, 641, 639, 915, 684, 553, 687, 655, 545, 681, 683, 315, 686, 893, 3, 527, 434, 526, 806, 515, 697, 700, 708, 709, 831, 519]
> 
> â€”
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/832#issuecomment-156911793.
",,
14,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-16 04:44:47,"I have a parameter to limit the number of images returned. If I iterate through collections differently online and offline, the image set will be different between the two.
",,
15,issue_comment,832,nilearn,nilearn,lesteve,2015-11-24 12:15:37,"It looks like this needs a rebase on master.
",,
16,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-24 12:20:44,"Yep, a different version of the print/output changes were contained here. Just rebased to use the updated version of that code--thanks for merging!
",,
17,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-30 21:33:39,"Rebased to master.
",,
18,issue_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:12:21,"Hey, @bcipolli , sorry for taking so long to look at this.

My main comment is that the examples are a bit scary. The fact that we come up with such examples suggests that we don't fully have the right abstractions. This is probably mostly unrelated with this PR (and something like https://github.com/nilearn/nilearn/issues/847 might help). However, the current examples are going against the will of nilearn to reassure users that things are simple and will be alright.
",,
19,issue_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:36:10,"I must now go to bed, and I won't be able to work on this before tomorrow afternoon. I have made many small comments on the example. I don't know if they make any sense. I was trying to figure out ways of simplifying it.
",,
20,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-30 22:46:00,"Thanks @GaelVaroquaux ! It will be great to simplify the example and make good use of the `nilearn` tools. I've obviously been out of the `nilearn` loop too long, so my chops have diminished. Looking forward to beefing them up over the next couple of days.

Thanks for the detailed comments, and looking forward to getting pretty--and simple--examples done. :+1: 

P.S. @AlexandreAbraham congrats ;)
",,
21,issue_comment,832,nilearn,nilearn,bcipolli,2015-12-23 15:09:01,"@GaelVaroquaux I've updated the `plot_ica_neurovault` example to use more of the `nilearn` architecture, simplify the interface, and to push useful code into the fetcher function (useful filters, getting neurosynth terms). The example looks shorter and simpler to me now.

There are a few changes to core nilearn code that do need comments (including one small new one, to avoid a warning I was getting). I could pull those out and submit those separately, if it helps.
",,
22,issue_comment,832,nilearn,nilearn,lesteve,2015-11-16 10:08:22,"> I am not sure why tests are failing. 

The Travis one fails for the Python 2.6 distrib. I am guessing the .header property doesn't exist for nibabel 1.1.0. You will need to stick with get_header instead.
",,
23,pull_request_commit_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:30:28,"Why don't you use the file fetching functions of datasets here? I guess that we will have a problem of update with neurovault: a given request may return different results if the neurovault base has been updated. We should maybe use a flag to work online / offline.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
24,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-11-08 14:08:06,"Yep, should definitely try to migrate this. If it requires tweaks to the fetching functions, will submit those as a separate PR.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
25,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-16 05:58:34,"nitpick, but I think that I would rather avoid having calls to 'show' in the middle.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
26,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-16 06:39:09,"I find that it is generally better to move these function outside of the enclosing scope, so that they can tested, debugged, and maybe one day reused more easily.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
27,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:27:54,"`force` is not used if you may have missed it.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
28,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:28:44,"May be it is not necessary since you have already explained above ?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
29,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:29:47,"May be cutshorting ""="".
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
30,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:31:25,"May be its not necessary `# print(......`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
31,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:33:39,"Taking into account reviews on my PR's, I think `src_nii` should be denoted as `src_img` same to `target_nii`.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
32,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:34:05,"typo ""make""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
33,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:40:57,"""thresholded""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/description/neurovault.rst')"
34,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:01:28,"The notebook-style examples have been merged.

Once rebased on master (which I think you have just done), and you turn all these '-' into '#', you should get pretty notebook-like rendering in the docs:
https://circle-artifacts.com/gh/nilearn/nilearn/757/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/connectivity/plot_adhd_spheres.html
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
35,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:06:44,"I think that I would prefer this as a default in the function signature.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
36,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:07:33,"Could we have this as a default empty tuple (not list) in the function signature? To make things more explicit.

The good thing about a tuple is that it is not mutable.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
37,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:07:44,"Same remark about the tuple.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
38,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:09:38,"@AlexandreAbraham : can you comment on this change. This is code that you wrote originally, and you probably have a good feeling of where it is useful.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(50, '', u'nilearn/datasets/utils.py')"
39,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:13:04,"We don't need to cache this, do we?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
40,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:17:07,"I have a hunch that this function could be simplified using nilearn.image.iter_img. 

I am not sure quite how at a quick glance, but when I look at the function from a big picture, I have this feeling.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
41,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:19:02,"This could probably use new_img_like?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
42,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:20:30,"I believe that all the above (including the 'squeeze') should be possible to implement with iter_img. If it's not the case, we have gotten something wrong in the design of iter_img, and we need to fix that.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
43,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:21:18,"If we remove this file saving from the example, I am not sure that we loose a lot of functionality, and we do remove a lot of lines. What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
44,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:23:45,"Maybe we should special-case this filter in the fetch_neurovault function, if you think that it is very useful (it does seem so).

What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
45,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:27:45,"I think that if you used here 'check_niimg(..., ensure_ndim=3) you could pass in paths (which would simplify other parts of the example), and you would not need to squeeze.

It would indeed mean that you are importing from a private module, _'utils', which feels wrong, but we can expose a public path for this function if it is useful.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
46,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:29:22,"Start comment (content of the comment below, sorry, I don't see a better way of doing this)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
47,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:31:42,"End comment:

I think that all the lines between the start of the comment, and the end of the comment (and the line getting rid of nans that was before) could be put in a public function companion of _extrapolate_out_mask. Maybe 'extropolate_thresholded_img'. It feels like a function that would be of general use.

What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
48,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:33:42,"I think that this is a fairly universal brain mask that is obtained by thresholding the SPM tissue probability maps. We should either put it in the nilearn datasets, or (better) have downloaders for the SPM TPMs. @AlexandreAbraham : what do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
49,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:34:34,"I am wondering: maybe we can do the resampling using the NiftiMasker's resampling functionality? If that's possible, it would simplify the example.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
50,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:24:44,"Actually, it's expected that `collection_filters` is mutable, as some default arguments get converted into `collection_filters`. Which means, if someone passes in a tuple, things will break.

I would prefer say `collection_filters = list(collection_filters)` to begin... is there a better way to handle this?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
51,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:29:06,"Agreed, good idea. With `mem.cache`, there's really no reason to additionally re-save the images, and most of the complexity of the function is in the save.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
52,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:49:37,"Perhaps a `exclude_known_bad_images` flag that adds all of the filters above your comment. (edited to change the parameter name)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
53,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:54:26,"One downside of `iter_img` is that it fails on a 3D image, rather than giving me an iterator for the one image. So I'll have to load the image and check if it's 4D before calling `iter_img`... that seems clunky to me.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
54,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 23:04:20,"Looks like `itertools.chain()` is the preferred method. I will convert these to tuples, in this case.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
55,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 23:32:08,"Oh, that's perfect--this makes memory caching easy too.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
56,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:32:30,"Could you change these separators to use seperators like in the other examples of nilearn (one line of ""#"" and then the text below). That way sphinx-gallery knows how to split the example in a notebook-like example.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(15, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
57,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:35:00,"Using the ' or """" ', are you trying to use the pattern '.get(key, default)' ?

I would prefer to rely on that, because it is a standard Python pattern.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
58,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:36:21,"Maybe it's also tell us that im (which is defined in the neurovault downloader) should be a defaultdict, with a default value of """".
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
59,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:36:48,"Scrap that. It would probably make debugging hard.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
60,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:39:50,"I'd rather not add this to all the downloaders. It's going to lead to subtle bugs in what people are doing. I'd rather have the download just crash if there is no internet.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(44, '', u'nilearn/datasets/func.py')"
61,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:41:06,"Just for some quick feedback: this is the JSON dict from neurovault. It can return blank or `None`, or sometimes the value isn't present at all. The idiom above is how I typically handle such cases.

To simplify the example, I could try to normalize things inside the `fetch` function. Because I'm not sure what to expect from Neurovault (no documentation to that level) and after talking with @chrisfilo about the differences in metadata provided from different data sources, returning the raw JSON from `fetch` and letting users handle what they see, seemed like the safest thing.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
62,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:42:37,"I think that ""bad_collects"" and 'bad_image_ids"" should be module-level constants under the name ""BAD_NEUROVAULT_COLLECTIONS and ""BAD_NEUROVAULT_IMAGE_IDS""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(940, '', u'nilearn/datasets/func.py')"
63,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:44:11,"OK. I don't know what to conclude. I just find that the downloader is a
bit difficult to use because of these pecularities.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
64,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:47:31,"The choices are: try to normalize, and risk that we'll get things wrong, be agnostic and let the data be peculiar to work with, or convince @chrisfilo to normalize things more easily across the board. I have a couple of issues open on it: https://github.com/NeuroVault/NeuroVault/issues/395 https://github.com/NeuroVault/NeuroVault/issues/396

I'm glad to go in whatever direction. I chose the direction that seemed seemed most flexible to me.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
65,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:48:58,"> The choices are: try to normalize, and risk that we'll get things
> wrong, be agnostic and let the data be peculiar to work with, or
> convince @chrisfilo to normalize things more easily across the board. I
> have a couple of issues open on it: NeuroVault/NeuroVault#395
> NeuroVault/NeuroVault#396

The best option would be convincing @chrisfilo.

Please, pretty please with a cherry on top, @chrisfilo.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
66,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:52:47,"I am not sure how this is tied to your PR. Can you comment on where it is used?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(27, '', u'nilearn/image/image.py')"
67,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:58:03,"Indeed, I no longer use `iter_img` in `plot_ica_neurovault.py` after previous changes, so this is no longer needed. Will pull this and close the PR.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(27, '', u'nilearn/image/image.py')"
68,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:58:20,"We need a canonical brain mask added to nilearn. (issue created: #945)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(69, '', u'examples/connectivity/plot_ica_neurovault.py')"
69,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:59:42,"In terms of variable name, I'd prefer 'transformable'. It's unclear to a non native English speaker what this means.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(80, '', u'examples/connectivity/plot_ica_neurovault.py')"
70,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:00:42,"Maybe for the sake of simplicity you could merge clean_img and cast_img.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(45, '', u'examples/connectivity/plot_ica_neurovault.py')"
71,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:01:41,"We prefer to use nilearn.plotting.show, because we are trying not to have to teach matplotlib to users if we don't have to.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(121, '', u'examples/connectivity/plot_ica_neurovault.py')"
72,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:02:06,"Is there a reason that you are not using the 'title' argument of plot_stat_map.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(118, '', u'examples/connectivity/plot_ica_neurovault.py')"
73,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:02:23,"The control of the size, maybe?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(118, '', u'examples/connectivity/plot_ica_neurovault.py')"
74,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-25 13:11:46,"Maybe we should use the sphinx syntax "":func:`nilearn.datasets.neurovault`""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(8, '', u'doc/whats_new.rst')"
75,pull_request_commit_comment,832,nilearn,nilearn,jeromedockes,2016-05-13 15:14:38,"constructing arrays like this from dict.keys() and dict.values() doesn't seem to work for me in python 3, because these functions don't return lists anymore but dict_keys and dict_values objects. Maybe we should turn them into lists first, or access them in another way?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(58, '', u'examples/connectivity/plot_ica_neurovault.py')"
76,pull_request_commit_comment,832,nilearn,nilearn,jeromedockes,2016-06-08 15:26:38,"passing a dictionary as image_filters or collections_filters will not work because it is always used as if it were a tuple of callables (the other possibility for filtering) anyway. 
e.g.
`fetch_neurovault(max_images=10, collection_filters={'DOI': '10.1016/j.neurobiolaging.2012.11.002'})`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(943, '', u'nilearn/datasets/func.py')"
77,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2016-06-10 07:57:41,"FYI: mask is now available in nilearn, `datasets.load_mni152_brain_mask()`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(69, '', u'examples/connectivity/plot_ica_neurovault.py')"
78,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 21:15:37,ENH: First pass on neurovault downloader.,52b55786239cdaabadf946871e8dcb04daa374c2,
79,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:07:24,ENH: Add stop-go example; ported from https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb,5cf80a5c902235eace32f4770d662279eb7758b1,
80,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:23:16,DOC: adding and tweaking documentation.,bd68e68d1792151f9b530983d8a79828dedf2093,
81,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:34:20,STY: code cleanup,e0848fe8c5d41982ea00aeac46d262699aff457b,
82,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:41:53,BF: implement refresh=True,cedab35773946dca378ec1c4e9640102aaa1ff70,
83,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-07 18:17:42,STY: images_meta => images; image_meta => im,86b2db7acf46c15249e423b67572fd807e1e7c3a,
84,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 11:49:02,ENH: Get this working offline (still using requests).,e759a3a90ed24cbeab2c72076d079ab669e7e60d,
85,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:26:32,RF: Use _fetch_files instead of requests.,cdb1bf3ba4aa431a5328181862fa61485a0123d3,
86,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 15:14:22,DOC: remove info for printing errors that are then re-raised.,2f6f0f48ee307f39467757c2342216b67f260fdc,
87,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:08,"BF: refresh=>overwrite, don't allow offline if overwrite=True",f41b014c3a1169edd6e56424241973398fc8b360,
88,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:21,BF: Use passed verbose value.,b3076266920e8ff6e34bb7f22cde0fe7b0ab3de2,
89,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:40,"BF: Return all matched collections, even if the collection has no matched images.",490a51fc14335bc954cff91aa42e7274bc04263b,
90,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:01:02,TST: add neurovault tests (skip if offline),15e11cc6ad50d72dc2cc76b5b304291f94854528,
91,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:14:46,"TST: if setup mock, tear it down",5b23e2e2ec48dd9b6c57a1b1ccfa41c178e9e5ff,
92,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 06:22:05,RF: sort collections directories.,febc1b4c83f0adf76d20e55758b6d49c0d8bfc2b,
93,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 15:19:42,ENH: Add port of ICA example.,f0065ff784e0ccaabc23ee2d6f1dcdeafbb32f4e,
94,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 23:04:01,RF: Add joblib caching to entire process.,a6b675b40ca859164012088f70bbc920c4b3d6bd,
95,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 00:42:57,RF: Move functions out of neurovault fetcher.,462b45b26fa565e19536868b07fd4d7e4f348abe,
96,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 01:54:56,BF: Use newer neurosynth API,4905b08684aadfb50dd166c602e4a62d0fbbd6e5,
97,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 11:55:54,"BF: Clean code, make Py3 fixes.",aa69c96abae8f584bfcf4d19c3d25d0a64c5f38d,
98,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:06:12,DOC: add docstrings to private neurovault functions.,13fb4580dafc07e10c72fbb670381766aa55c270,
99,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:43:48,RF: don't show() until end of example.,7c939cacccdfdf08519fe4c23c318272f2209b52,
100,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:54:12,BF: neurovault json is utf8 encoded.,6a3988e752759ed5c522831c4cbbb47a0951383c,
101,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:57:06,BF: remove seaborn,d790e752d7a711c4e3e1126b370c693e404388bb,
102,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 13:45:44,"ENH: Add exclude_unpublished, collection_ids, image_types parameters & tests.",f1edb62059362327120f1b6b84ac220141b247eb,
103,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:11:57,"ENH: image_types=>map_types, add image_type, add image_ids, allow collection_ids and image_ids to be negative (exclusion)",70ef5c7ba45f7fa2d4f34ad1ffb47d9087978028,
104,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:16:08,Fix logic for +/- filtering of IDs.,8e12e4c46c19ed9ba32fdeace61b7a946adc2fdb,
105,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-18 23:11:21,STY: fixing up code for code review.,f38596d51c49c9324da0461ba8a731fac278910e,
106,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:58:50,STY: delimit sections in notebook-style.,1a6c8a1af1f8e0816b6aa33d29d7a0e3da06ca02,
107,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:59:33,"RF: use resample_img, iter_img to simplify resampling code.",d28555582d1618cbefb2012354a13a6d3d6500b2,
108,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:01:29,ENH: create exclude_known_bad_images parameter to fetch_neurovault.,190cbd7f4050c661e34251b35573917ab7f9b8a0,
109,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:02:06,ENH: Extend iter_img to return iterator on 3D image (rather than failing).,b65dbf0300eadb3dd27fe6bea509a4160cca63f4,
110,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-10 16:34:52,RF: Neurovault ICA example shortening.,99519cf7ea772d73991c4e7b2e61ab1f3b947e38,
111,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:38:35,RF: move neurosynth decoding to an option within fetch_neurovault.,475ddd2970d373da23141aa83883c627b065f140,
112,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:39:43,BF: avoid unnecessary warnings.,ca2469d03c4cfd978eff470a388f7305e160ef2e,
113,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-23 20:10:31,BF: fix test failures.,7e7106a3338f01084de08ac5f3d53282d53b2e57,
114,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-24 01:44:26,"ENH: add _http to compat, for httplib/http Py2/3 difference.",c1f960502322488b1fc8315a2a486d7bb17105a1,
115,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:23:42,"ENH: add query_server, to avoid querying neurovault every time.",fdadebd36246fa924c5f5c270c226adc88820791,
116,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:37:30,BF: handle None from neurosynth.,960ad146499e009378caefa1979d1921a57fd0e2,
117,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:41:46,ENH: extend query_server for neurovault.,c6665a5a694416d389d6efb7e1abb28327430306,
118,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:10,ENH: add query_server argument to all func fetchers.,bbea238c185e33e40ea4289c516e5d7d2c38450d,
119,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:35,STY: pep8/pyflakes on datasets/func.py,983ae1d2b0b9f8eb4d83d270a06f38c5a9389a22,
120,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:08,ENH: add query_server argument to _fetch_file*,1c5e096cddb1a78b91b4b7628f32f8fd2195c44e,
121,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:19,STY: pyflakes on neurovault example.,67c3cc7321e033e44a73c20abcefaf5d0adc64a6,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1151,nilearn,nilearn,KirstieJane,2016-06-23 18:15:38,"The colormaps that are created in [cm.py](https://github.com/KirstieJane/nilearn/blob/40069cb14b43333a73137797eac895cfb054db29/nilearn/plotting/cm.py) are really nice!

Currently, if I want to use them in one of my wrapper scripts I have the following hack:

```
from nilearn.plotting import cm

cmap = 'cold_white_hot'

if hasattr(cm, cmap):
    cmap = getatt(cm, cmap)
```

Would it be possible to have these colormaps already loaded so they're available by name without this code?
",start issue,Automatically loading colormaps when importing nilearn (or cm?)
2,issue_closed,1151,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:27:01,,closed issue,Automatically loading colormaps when importing nilearn (or cm?)
3,issue_comment,1151,nilearn,nilearn,AlexandreAbraham,2016-06-24 05:58:45,"When proposing new colormaps, it is a good practice to register them in matplotlib so that it is automatically available using string identifiers.
",,
4,issue_comment,1151,nilearn,nilearn,KirstieJane,2016-06-24 08:02:55,"Thank you @AlexandreAbraham for explaining the problem more clearly! And to @GaelVaroquaux for all the support :grinning:
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1164,nilearn,nilearn,salma1601,2016-07-05 08:22:53,"fix #1163 
",start issue,[MRG+1] raise explicit TR error
2,issue_closed,1164,nilearn,nilearn,GaelVaroquaux,2016-07-05 13:43:07,,closed issue,[MRG+1] raise explicit TR error
3,pull_request_title,1164,nilearn,nilearn,salma1601,2016-07-05 08:22:53,"fix #1163 
",68bf8d12c7eaea247ed06cd6384d16a847556049,[MRG+1] raise explicit TR error
4,pull_request_merged,1164,nilearn,nilearn,GaelVaroquaux,2016-07-05 13:43:07,[MRG+1] raise explicit TR error,8088a7614b362f93369e4713a732e36f57926508,Pull request merge from salma1601/nilearn:tr_filtering to nilearn/nilearn:master
5,issue_comment,1164,nilearn,nilearn,salma1601,2016-07-05 09:25:19,"> Does it sounds meaningful to suggest repetition time from image header ?
> Some hints I followed from this already existing PR #1036

I would rather let the user search himself for this information, to encourage one to know basic information about the data he is working on.
just a personal point of view ;)
",,
6,issue_comment,1164,nilearn,nilearn,KamalakerDadi,2016-07-05 08:40:47,"Can you add simple test please ?
",,
7,issue_comment,1164,nilearn,nilearn,KamalakerDadi,2016-07-05 08:47:58,"Does it sounds meaningful to suggest repetition time from image header ?

Some hints I followed from this already existing PR #1036 
",,
8,pull_request_commit_comment,1164,nilearn,nilearn,GaelVaroquaux,2016-07-05 08:24:15,"Maybe I would say ""Repetition time (t_r) must be specified..."" to make it more explicit what the user must change.
",68bf8d12c7eaea247ed06cd6384d16a847556049,"(None, '', u'nilearn/signal.py')"
9,pull_request_commit,1164,nilearn,nilearn,salma1601,2016-07-05 08:20:41,raise explicit TR error,0a2f7e8c6ed61e57e620630c635f0fc1ddebc975,
10,pull_request_commit,1164,nilearn,nilearn,salma1601,2016-07-05 08:32:13,write down repetition time variable name,14f2ce9cba8b371c0a4feafadb9f8e3268a425fb,
11,pull_request_commit,1164,nilearn,nilearn,salma1601,2016-07-05 08:55:05,added test,68bf8d12c7eaea247ed06cd6384d16a847556049,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1170,nilearn,nilearn,MartinPerez,2016-07-07 10:35:40,"During developement this was checked to be correct, maybe during the PR corrections the order was messed up. Anyway the images are correct, is just that the left image is in the place of the right image and viceversa, so it does not correspond with the display_mode and is very misleading due to the labels. Here an example of display_mode='lyrz' in a language localizer.

![sub-02_task-languagelocalizer_language-string](https://cloud.githubusercontent.com/assets/8766915/16650566/2569128a-443f-11e6-97cd-3d7a732d766e.png)

I will submit a PR ASAP.
",start issue,"[BUG] hemispheric glass brain, left and right in wrong positions in plot"
2,issue_closed,1170,nilearn,nilearn,AlexandreAbraham,2016-08-15 20:40:25,,closed issue,"[BUG] hemispheric glass brain, left and right in wrong positions in plot"
3,issue_comment,1170,nilearn,nilearn,AlexandreAbraham,2016-07-22 14:04:23,"Thanks to the help of Martin, I am now getting very close to the bug. First, let me tell you that it is a problem of display and not of data. So, apart from the left/right inversion that has been corrected, the things that are displayed are right.
",,
4,issue_comment,1170,nilearn,nilearn,AlexandreAbraham,2016-08-15 20:40:18,"@rschmaelzle, could you:
- check that you are using the latest version of nilearn (the last release, no need to have the latest dev version)
- open another issue with a minimal working example?

The present issue should have been resolved so I will close it.
",,
5,issue_comment,1170,nilearn,nilearn,rschmaelzle,2016-08-12 16:04:19,"Hi, not entirely sure this is related, but when I try to create an animation with a glassbrain that has display_mode='l', and then grab the figure via mplfig_to_npimage(f), this flips the glassbrain and I am seeing a jittering brain flipping between left and right orientation. 
",,
6,issue_comment,1170,nilearn,nilearn,MartinPerez,2016-07-07 10:41:18,"And effectively is wrong in the public example in the webpage :S. Even though the initial examples in the PR are correct.
http://nilearn.github.io/auto_examples/01_plotting/plot_demo_glass_brain.html#sphx-glr-auto-examples-01-plotting-plot-demo-glass-brain-py
",,
7,issue_comment,1170,nilearn,nilearn,MartinPerez,2016-07-08 12:51:31,"There is another bug. Sometimes the image at the left is not inverted, giving the left and right looking in the same direction, this two maps come from exactly the same code with a different contrast image. Altnough the statistics are correct. This is only a lack of inversion of the plot image during plot construction.

![pseudo_-_letter_glass](https://cloud.githubusercontent.com/assets/8766915/16687859/3f4a1230-451b-11e6-8f6b-c81d1cb81247.png)

![pseudo_glass](https://cloud.githubusercontent.com/assets/8766915/16687871/54af310a-451b-11e6-996b-8c558b3c5ec7.png)
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1163,nilearn,nilearn,salma1601,2016-07-05 08:15:16,"may be this error should be more explicit

``` Python
from nilearn import datasets, input_data
adhd = datasets.fetch_adhd(n_subjects=1)
masker = input_data.NiftiSpheresMasker(seeds=[(42, 11, 23)], radius=6,
                                       low_pass=.1)
signal = masker.fit_transform(adhd.func[0])
```

gives the following error

> unsupported operand type(s) for /: 'float' and 'NoneType'
",start issue,Error for unspecfied TR and filtering in signal.clean
2,issue_closed,1163,nilearn,nilearn,GaelVaroquaux,2016-07-05 13:43:07,,closed issue,Error for unspecfied TR and filtering in signal.clean
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1153,nilearn,nilearn,AlexandreAbraham,2016-06-24 13:12:30,"Depending on the type of connectivity matrix extracted, keeping diagonal elements can be pertinent or not. I suggest to add a parameter to be able to discard them.

One problem is that it makes the multiplication of off-diagonal elements by sqrt(2) useless so I removed it. But I don't know what is the best option here.
",start issue,[MRG] Discard diagonal in sym_to_vec and refactor scaling
2,issue_closed,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 17:52:58,,closed issue,[MRG] Discard diagonal in sym_to_vec and refactor scaling
3,pull_request_title,1153,nilearn,nilearn,AlexandreAbraham,2016-06-24 13:12:30,"Depending on the type of connectivity matrix extracted, keeping diagonal elements can be pertinent or not. I suggest to add a parameter to be able to discard them.

One problem is that it makes the multiplication of off-diagonal elements by sqrt(2) useless so I removed it. But I don't know what is the best option here.
",94e830b22c3804ee6e61c24a6da01884279402c1,[MRG] Discard diagonal in sym_to_vec and refactor scaling
4,pull_request_merged,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 17:52:58,[MRG] Discard diagonal in sym_to_vec and refactor scaling,5e2ab743bd0fd4d1dd3f85230312aaedf6fb380a,Pull request merge from AlexandreAbraham/nilearn:sym_to_vec_diagonal to nilearn/nilearn:master
5,issue_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-07 12:24:44,"Ready for review. Appveyor crash is spurious.
",,
6,issue_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:34:03,"> General comment: What do we expect in results scaling these diagonal or off-diagonal elements ? Can you point me any reference if you have ? Thanks.

I don't have a reference, sorry.

> Could you add in whats_new ?

Done.
",,
7,issue_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 17:52:56,"Let's go then !
",,
8,issue_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-08 14:28:37,"General comment: What do we expect in results scaling these diagonal or off-diagonal elements ? Can you point me any reference if you have ? Thanks.
",,
9,issue_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-10 18:14:38,"Could you add in whats_new ?
",,
10,issue_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-19 17:44:14,"I have no further comments. LG from my side.
",,
11,pull_request_commit_comment,1153,nilearn,nilearn,bthirion,2016-06-27 21:36:07,"I proprose to remove this scaling, which is horribly counter-intuitive. 
It might be available under an 'isometric' option if there is any reason to keep it, but I don't  see any use case.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
12,pull_request_commit_comment,1153,nilearn,nilearn,GaelVaroquaux,2016-06-28 09:17:07,"> > -        scaling = sqrt(2) \* np.ones(symmetric.shape[-2:])
> 
> I proprose to remove this scaling, which is horribly counter-intuitive.
> It might be available under an 'isometric' option if there is any reason to
> keep it, but I don't see any use case.

I seem to remember that it is fairly important to have the metric to
really be the Cramer-Rao metric.

That said, we could do it the other way around, and apply 1/sqrt(2) on
the diagonal, which would be probably more intuitive.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
13,pull_request_commit_comment,1153,nilearn,nilearn,bthirion,2016-06-28 15:23:17,"On 28/06/2016 11:17, Gael Varoquaux wrote:

> In nilearn/connectome/connectivity_matrices.py 
> https://github.com/nilearn/nilearn/pull/1153#discussion_r68723710:
> 
> > ```
> >  """"""
> > ```
> > -    scaling = sqrt(2) \* np.ones(symmetric.shape[-2:])
> > -    np.fill_diagonal(scaling, 1.)
> > -    tril_mask = np.tril(np.ones(symmetric.shape[-2:])).astype(np.bool)
> > -    return symmetric[..., tril_mask] \* scaling[tril_mask]
> > -    if keep_diagonal:
> > -        scaling = sqrt(2) \* np.ones(symmetric.shape[-2:])
> > - scaling = sqrt(2) \* np.ones(symmetric.shape[-2:]) I proprose to 
> >   remove this scaling, which is horribly counter-intuitive. It might be 
> >   available under an 'isometric' option if there is any reason to keep 
> >   it, but I don't see any use case.
> >   I seem to remember that it is fairly important to have the metric to 
> >   really be the Cramer-Rao metric. That said, we could do it the other 
> >   way around, and apply 1/sqrt(2) on the diagonal, which would be 
> >   probably more intuitive.
> 
> â€”
> You are receiving this because you commented.
> Reply to this email directly, view it on GitHub 
> https://github.com/nilearn/nilearn/pull/1153/files/c79280449fff7c06e0fc5cdb645ad7f5d309ad92#r68723710, 
> or mute the thread 
> https://github.com/notifications/unsubscribe/AAOT1hZNtyTwjMeWvz1Sxo1DhMuyUE-Nks5qQOaTgaJpZM4I9wJA.
> 
> Sounds like a reasonable compromise.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
14,pull_request_commit_comment,1153,nilearn,nilearn,bthirion,2016-07-07 20:32:34,"I thought we had agreed on a different behavior: when the diagonal is kept, it is scaled by 1. / sqrt(2). This might be less confusing to users.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
15,pull_request_commit_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-07 20:34:32,"What is the use case of isometric here ?
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
16,pull_request_commit_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-07 20:35:52,"You may have to change the default.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
17,pull_request_commit_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-08 13:58:33,"Sorry, I fixed the code but not the doc.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
18,pull_request_commit_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-08 14:00:23,"I must admit that now that only diagonal elements are modified, I don't see the usage. Anybody in favor of keeping this option?
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
19,pull_request_commit_comment,1153,nilearn,nilearn,AlexandreAbraham,2016-07-08 14:00:29,"Thanks, changed.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
20,pull_request_commit_comment,1153,nilearn,nilearn,KamalakerDadi,2016-07-10 18:14:14,"> I don't see the usage

Yes think so.
",94e830b22c3804ee6e61c24a6da01884279402c1,"(None, '', u'nilearn/connectome/connectivity_matrices.py')"
21,pull_request_commit,1153,nilearn,nilearn,AlexandreAbraham,2016-06-24 13:09:05,Add an option to discard diagonal in sym_to_vec,1ab3f479514cb22021d0a929cf7cab8ddfb897cb,
22,pull_request_commit,1153,nilearn,nilearn,AlexandreAbraham,2016-07-06 12:07:22,Fix tests,11d804168a415206013404c551af94d18b29a4d0,
23,pull_request_commit,1153,nilearn,nilearn,AlexandreAbraham,2016-07-08 14:00:37,Address comments,c1741dadb3b8cd04eeece59ac98fda89ccd0a5fd,
24,pull_request_commit,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:28:01,Remove isometric option,e87834c6edeca8e60ba174ce9028ff7eda3ed06a,
25,pull_request_commit,1153,nilearn,nilearn,AlexandreAbraham,2016-07-19 12:32:45,Add what's new,94e830b22c3804ee6e61c24a6da01884279402c1,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:29:39,"Supersed #994 
",start issue,Add shelving to NiftiMasker
2,issue_closed,1114,nilearn,nilearn,AlexandreAbraham,2016-07-19 07:20:18,,closed issue,Add shelving to NiftiMasker
3,pull_request_title,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:29:39,"Supersed #994 
",e1fb38872a6ce19f8536ac480823ccf62890f2df,Add shelving to NiftiMasker
4,pull_request_merged,1114,nilearn,nilearn,AlexandreAbraham,2016-07-19 07:20:18,Add shelving to NiftiMasker,24185cd747a781fea5147cb14229bee2339437d4,Pull request merge from AlexandreAbraham/nilearn:shelving to nilearn/nilearn:master
5,issue_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-12 08:08:18,"I addressed all the comments so this should be ready to go? @GaelVaroquaux 
",,
6,issue_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 13:36:42,"> Actually, confused with memory_level and func_memory_level in _cache() function ?

Oh, this... You must know about memory_level, right? Well, this function will decide if the caching is activated or not.

`func_memory_level` is the `threshold` from which the caching must be activated. `memory_level` is the level selected by the used. If `memory_level` is above `func_memory_level` (or the opposite, I always mix it up), then caching is activated, otherwise it is not.

I think that we should remove that but, for the moment, this is how it works.
",,
7,issue_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-12 10:38:24,"Some minor comments from my side.
",,
8,issue_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-13 12:06:16,"LGTM
",,
9,issue_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-13 13:13:04,"Actually, confused with `memory_level` and `func_memory_level` in `_cache()` function ?

Isn't that should be called as `memory_level` ?
",,
10,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:31:31,"Say that it's a joblib MemorizedResult, so that people who don't know what it is can Google.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
11,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:39:25,"Same remark
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
12,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:43:07,"While I agree that all these cosmetic changes make the code abide better to standards, they make reviewing the PR hard. :(
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
13,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:44:57,"Looking at this, it seems that the signature of the method has changed. Is that the case?
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
14,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:49:21,"Why this change? It add an argument that may trigger recomputation and doesn't add much to the function.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
15,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:57:05,"Done.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
16,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:57:13,"Done.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
17,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:58:26,"Why the two methods above. They are on-liners. They should be removed, IMHO.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
18,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 08:58:45,"I am not really that this method is useful either.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
19,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:59:58,"No because `return_affine=False`. See below.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
20,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 09:00:39,"> No because return_affine=False. See below.

I saw that after, but I don't like it :)
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
21,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 09:04:48,"The thing is that `filter_and_mask` returns the affine because we need it to do sanity checks (reminder, for performance reasons, the `check_niimg` is called in `filter_and_mask`). So, if we directly shelve the result of `filter_and_mask`, the affine will be stored together, which is not useful. Plus, if we need the affine, we will have to unshelve the object.

One solution may be to add a `shelving` parameter to `filter_and_mask` and directly use the shelving inside.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
22,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 09:06:05,"I agree. We only need a `_set_shelving` one.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
23,pull_request_commit_comment,1114,nilearn,nilearn,GaelVaroquaux,2016-06-09 09:17:30,"> I agree. We only need a _set_shelving one.

We don't need a setter. This is not java. We just change the value of the
attribute directly. The methods do nothing else.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
24,pull_request_commit_comment,1114,nilearn,nilearn,lesteve,2016-06-09 09:51:38,"No comma needed I think. Also I tend to prefer Python types in general so bool rather than boolean.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
25,pull_request_commit_comment,1114,nilearn,nilearn,lesteve,2016-06-09 09:53:07,"_ShelvedFunc would abide by the usual naming conventions for classes.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
26,pull_request_commit_comment,1114,nilearn,nilearn,lesteve,2016-06-09 09:53:27,"Same comment as above.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/_utils/cache_mixin.py')"
27,pull_request_commit_comment,1114,nilearn,nilearn,lesteve,2016-06-09 10:12:23,"We should use relative imports everywhere ...
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
28,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-11 14:18:59,"Fixed it by removing the kwarg.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
29,pull_request_commit_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-12 09:04:18,"May be we should forget about `MemorizedResult` since it is not exposed to user and also it is not officially documented yet.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
30,pull_request_commit_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-12 09:12:05,"Do we required to say in documentation what it returns if it is shelved ? 
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(66, '', u'nilearn/_utils/cache_mixin.py')"
31,pull_request_commit_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-12 09:12:55,"same comment here as above ?
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(111, '', u'nilearn/_utils/cache_mixin.py')"
32,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:29:45,"You mean the hack regarding _ShelvedFunc?
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(66, '', u'nilearn/_utils/cache_mixin.py')"
33,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:31:28,"Indeed.
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(None, '', u'nilearn/input_data/nifti_masker.py')"
34,pull_request_commit_comment,1114,nilearn,nilearn,KamalakerDadi,2016-07-13 09:32:52,"Yes. Is it not required ?
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(66, '', u'nilearn/_utils/cache_mixin.py')"
35,pull_request_commit_comment,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:41:32,"I modified the doc!
",e1fb38872a6ce19f8536ac480823ccf62890f2df,"(66, '', u'nilearn/_utils/cache_mixin.py')"
36,pull_request_commit,1114,nilearn,nilearn,arthurmensch,2016-02-18 10:59:30,"Initial commit

Test + doc

Test + doc

Python 2.7 compat

Added space

Minor comments

Removed functionality for scikit-learn <0.15

PEP8

PEP8

PEP8

gitingore

gitingore

gitingore

gitingore",e6ea7e4c516af3b815627abbd1b75ffe31214294,
37,pull_request_commit,1114,nilearn,nilearn,arthurmensch,2016-05-27 12:52:11,Cleaned API,622f3cc985178387840f1115f9fde6b0d84e313e,
38,pull_request_commit,1114,nilearn,nilearn,arthurmensch,2016-05-27 13:38:25,Fix python<3.5,67409283d73a1817c6ac198ba5208b905c0239c5,
39,pull_request_commit,1114,nilearn,nilearn,arthurmensch,2016-05-27 13:45:30,removed crap,d85ddadb31be2c88ea472695c331d673f2c268ea,
40,pull_request_commit,1114,nilearn,nilearn,arthurmensch,2016-05-27 13:47:31,.gitignor,059299f09ac245814eac35006c32e4bd62b9d989,
41,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 08:27:11,Fix test,71fda66db34dcab4f9aea71963df0b941016238a,
42,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 09:44:33,Fix error message,b7b39cee016829a4e7486ff3b6bc94266459a28b,
43,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 10:04:31,Address comments,0e6bd5e21c03a2c7735db6c55d176689fa4aebe0,
44,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-06-09 10:21:20,Fix imports,01c7848608d0b16e9db4f449221f362b69f559fd,
45,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-07-11 14:18:27,Remove `return_affine` parameter from filter_and_mask,236c34a1f4253095d6b042e0568d8119e25b6dfc,
46,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:32:13,Fix doc to hide shelving,46396c0ac11c94da9fee085a9eef7c7a9f39bb44,
47,pull_request_commit,1114,nilearn,nilearn,AlexandreAbraham,2016-07-13 09:36:24,Fix doc,e1fb38872a6ce19f8536ac480823ccf62890f2df,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,1148,nilearn,nilearn,ahoyosid,2016-06-23 13:04:06,"The aim of this PR is to add some scikit-learn backports used on  #698,  splitting in two the PR to help the reviewers. It also address the issue #1134, checking the consistency of length between X and y.

``` python
# Remove one sample from y_train
y_train = y_train[:-1]

decoder = SpaceNetClassifier(memory=""nilearn_cache"", penalty='graph-net',
                             screening_percentile=100)
decoder.fit(X_train, y_train)

y_pred = decoder.predict(X_test)
accuracy = (y_pred == y_test).mean() * 100.
print(""Graph-net classification accuracy : %g%%"" % accuracy)
```

Now it raises the error:

``` python
ValueError: Found arrays with inconsistent numbers of samples: [125 126]
```
",start issue,[MRG] Scikit-learn backports: Checking length of inputs
2,issue_closed,1148,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:49:46,,closed issue,[MRG] Scikit-learn backports: Checking length of inputs
3,pull_request_title,1148,nilearn,nilearn,ahoyosid,2016-06-23 13:04:06,"The aim of this PR is to add some scikit-learn backports used on  #698,  splitting in two the PR to help the reviewers. It also address the issue #1134, checking the consistency of length between X and y.

``` python
# Remove one sample from y_train
y_train = y_train[:-1]

decoder = SpaceNetClassifier(memory=""nilearn_cache"", penalty='graph-net',
                             screening_percentile=100)
decoder.fit(X_train, y_train)

y_pred = decoder.predict(X_test)
accuracy = (y_pred == y_test).mean() * 100.
print(""Graph-net classification accuracy : %g%%"" % accuracy)
```

Now it raises the error:

``` python
ValueError: Found arrays with inconsistent numbers of samples: [125 126]
```
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,[MRG] Scikit-learn backports: Checking length of inputs
4,pull_request_merged,1148,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:49:46,[MRG] Scikit-learn backports: Checking length of inputs,c5adb6c43ec625d457617685f260bde6eb1cdb1d,Pull request merge from ahoyosid/nilearn:check_inputs to nilearn/nilearn:master
5,issue_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-21 10:49:44,"Thanks!
",,
6,issue_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-01 10:19:02,"> can someone among you look this PR up?

Sure, this is my top priority to look into. I might take some time to comment since I am new to look how backporting works in nilearn.

You may have to change title because your PR majorly addresses scikit-learn back ports.
",,
7,issue_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-07 12:44:34,"Now that PR #1169 is merged. You can clean your PR a bit to remove dependencies related to < 0.14 (if I am not wrong).

Hopefully, this can also help us to solve coverage problem too.
",,
8,issue_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-18 08:17:21,"can you add tests to space net failure ?
",,
9,issue_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-18 20:45:07,"There are still some comments hanging. The comments which are made regarding extra spaces. Otherwise LGTM.
",,
10,issue_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-19 18:24:59,"Any reviews ? @AlexandreAbraham @lesteve @aabadie @GaelVaroquaux 
",,
11,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:32:39,"I think this extra space is not necessary
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(4, '', u'nilearn/_utils/fixes/__init__.py')"
12,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:32:53,"same here
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
13,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:32:59,"same here
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
14,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:33:54,"Do you think we should first `try` higher version and then except `ImportError` lesser versions ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
15,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:35:26,"Sorry, I didnt get this. Aren't you using this file for versions lesser than 0.17 ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
16,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:36:32,"Can you add a small description about this file ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
17,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:40:20,"Do you think this can be integrated in or used from `nilearn._utils.exceptions.py` ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
18,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 20:46:05,"For lesser versions nilearn already has `check_array` imported as `atleast2d_or_csr`. Do you think it can be used here ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
19,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-12 21:33:09,"May be we should rename `scikit_learn_validation` to more appropriate naming depending upon usage of `check_X_y` and `check_is_fitted`. So that it can be used for other purposes wherever necessary. Any comments on this ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
20,pull_request_commit_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-13 12:25:07,"+1
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
21,pull_request_commit_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-13 12:42:51,"use prefix `sklearn`
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
22,pull_request_commit_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-13 13:52:00,"This is exactly the purpose of this file: bring a feature available in sklearn 0.17 to previous versions. For me, this is self-explanatory. Maybe just say that this file is from sklearn.utils.validation.
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
23,pull_request_commit_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-13 13:54:45,"No, this is imported from another software. Backports must be left as untouched as possible. Otherwise updating them (say with code from sklearn 0.18 for example when it will be released) can be tedious.
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
24,pull_request_commit_comment,1148,nilearn,nilearn,AlexandreAbraham,2016-07-13 14:01:46,"Good catch. Isn't it the opposite? Isn't `check_x_y` supposed to replace `check_array`?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
25,pull_request_commit_comment,1148,nilearn,nilearn,ahoyosid,2016-07-15 22:25:15,"atleast2d_or_csr => check_array 
Basically, check_X_y combines check_array (for X and y), and checks if their lengths are consistent 
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/scikit_learn_validation.py')"
26,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-18 08:15:35,"Any reason why you are raising `ImportError` like you have did for others ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
27,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-18 08:51:46,"Can it be replaced by `atleast2d_or_csr` ? Is it the same or not ?
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(16, '', u'nilearn/_utils/fixes/sklearn_validation.py')"
28,pull_request_commit_comment,1148,nilearn,nilearn,GaelVaroquaux,2016-07-18 08:54:18,"> > +def check_array(array, accept_sparse=None, dtype=""numeric"", order=None,
> 
> Can it be replaced by atleast2d_or_csr ? Is it the same or not ?

If the question is whether check_array is the same as atleast2d_or_csr,
the answer is no: it does additional checks and should be prefered in
general.
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(16, '', u'nilearn/_utils/fixes/sklearn_validation.py')"
29,pull_request_commit_comment,1148,nilearn,nilearn,KamalakerDadi,2016-07-18 09:19:00,"Ok.
",6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,"(16, '', u'nilearn/_utils/fixes/sklearn_validation.py')"
30,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-06-23 10:15:04,adding sklearn backport,c18682733af8d9a0e266d7e11d08b61649c9b0c6,
31,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-06-23 10:17:50,adding backports to __init__,5e4afbd3de98c26c48719f41e62d3d49ba933268,
32,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-06-23 12:53:39,adding check_X_y,401a18cf260eaaef4e329573540b4254f46bdb50,
33,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-07 22:58:34,removing some files after supporting >= 0.14,fd730e88953e8ea5e845d55fc39f4c9930143c3f,
34,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-07 22:58:52,"Merge branch 'master' of github.com:nilearn/nilearn into check_inputs

Not longer supporting v0.13",b5a8c486f1f3b650b9ff109b8241390daa4e18ae,
35,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-07 23:41:58,minor flake8,2b5db39c3b3c35754a923096bccdfbe8202f0438,
36,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-15 22:27:56,changing the name of the validation's file,99871717fb75693da887221d9205450bafb075b2,
37,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-15 23:16:10,changing name,1c622965b42e91070a3ad3a707e407e3cc8ee5a3,
38,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-18 09:41:37,adding test,42e35cf22d61e404f62194d7140be4ad1d6714d2,
39,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-18 12:03:40,testing check_length for regressor and classifier,f386ce0cec0a7f4f4c97a29e0490b9e527e1e93d,
40,pull_request_commit,1148,nilearn,nilearn,ahoyosid,2016-07-19 04:05:04,removing extra spaces,6e38eda6c3ba6e600a3cd4c779f7735c70576bb5,
