,rectype,issueid,project_owner,project_name,actor,time,text,action,title
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,679,nilearn,nilearn,chrisfilo,2015-07-15 16:50:29,"It will not catch failing examples until: https://github.com/sphinx-gallery/sphinx-gallery/issues/45 will be fixed.
",start issue,Added CircleCI support
2,issue_closed,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:12:06,,closed issue,Added CircleCI support
3,pull_request_title,679,nilearn,nilearn,chrisfilo,2015-07-15 16:50:29,"It will not catch failing examples until: https://github.com/sphinx-gallery/sphinx-gallery/issues/45 will be fixed.
",f90d76aa636483c8647de69118dba2bb233ed147,Added CircleCI support
4,pull_request_merged,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:12:06,Added CircleCI support,ce3aa1bdf86fbb4643e7fa8203d31d42fee65a10,Pull request merge from chrisfilo/nilearn:enh/circleci to nilearn/nilearn:master
5,issue_comment,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:12:01,":+1: for merge.

Two :+1:. I am merging.
",,
6,issue_comment,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:34:54,"Loic, Alex: create CircleCI account (go to the webpage), and we'll show
you the administration interface.
",,
7,issue_comment,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 16:54:54,">   • running outside the git checkout in order to detect setup.py problems (e.g.
>     missing data files)

I am not sure that this is important: travis does that for us. Actually,
I am quite happy that different strategies are taken on different
builders, as it exposes different bugs (eg #695)
",,
8,issue_comment,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:28:14,"> OK I wasn't sure whether we wanted to replace Travis by CircleCI in the
> long-term.

No. Travis is going to be used for the fast stuff, and CircleCI for the
powerful stuff. In particular, we are severely relying on the
configuration matrix of travis.
",,
9,issue_comment,679,nilearn,nilearn,AlexandreAbraham,2015-07-16 14:02:03,":+1: Awesome!
",,
10,issue_comment,679,nilearn,nilearn,lesteve,2015-07-16 14:33:27,"Just wondering is there a way to remove stuff from the cache in CircleCI? Sometimes the datasets or the dataset downloading code and we need to rm -rf the dataset folder to download the dataset again.
",,
11,pull_request_commit_comment,679,nilearn,nilearn,lesteve,2015-07-15 21:26:08,"you may want to use make html here. It seems that make all does html-noplot. Full disclosure I always use make html ...
",f90d76aa636483c8647de69118dba2bb233ed147,"(None, '', u'circle.yml')"
12,pull_request_commit_comment,679,nilearn,nilearn,lesteve,2015-07-15 21:30:36,"Also it seems like `make all` in nilearn is `make clean test doc-noplot` do you probably want to use `make clean test` instead.
",f90d76aa636483c8647de69118dba2bb233ed147,"(None, '', u'circle.yml')"
13,pull_request_commit_comment,679,nilearn,nilearn,lesteve,2015-07-16 14:12:22,"Not sure whether it needs to be in the artefact, but shouldn't it be .coverage (missing dot at the beginning) ?
",f90d76aa636483c8647de69118dba2bb233ed147,"(21, '', u'circle.yml')"
14,pull_request_commit_comment,679,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:14:33,"> Not sure whether it needs to be in the artefact, but shouldn't it be .coverage
> (missing dot at the beginning) ?

It's the HTML report of coverage.
",f90d76aa636483c8647de69118dba2bb233ed147,"(21, '', u'circle.yml')"
15,pull_request_commit_comment,679,nilearn,nilearn,lesteve,2015-07-16 14:26:47,"Good point.
",f90d76aa636483c8647de69118dba2bb233ed147,"(21, '', u'circle.yml')"
16,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 12:44:54,initial circleCI file,5abbc1e2bf46c4808e26feb82932fcf49bffc7c3,
17,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 13:01:20,added dependencies,29946f0f823e841b8de32658206d18aabb8f9bd2,
18,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 13:07:43,sklearn -> scikit-learn,b6080482cdb3a2d6b5eb1736e8da6cc6525e16e4,
19,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 13:30:36,added penv,1298d7f6abc9d5ac11768209c1155d0d39ccced2,
20,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 13:47:16,simplify,4476e69377d5153668a1f3c487cc467c91970b50,
21,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 14:40:59,install yourself!,1bb1f42528ad5a1e753b7ca41f550fa8d6ec2306,
22,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 15:13:20,added missing dependency,28b129af8bce2dbd377825636d3dc6bb0f2e696f,
23,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 15:19:49,adde Pillow dependency,fd54818c8809b2c46fbf14e7c5627164ae0a6e7c,
24,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-15 15:27:48,added cache,de2438bba469ec06c4c706370303b6f3bf7d5bb0,
25,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 06:25:30,fixed make commands,7eb46214276a8bf55944398a03e638c15da7df61,
26,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 07:57:47,move make doc to dependencies to allow caching; catch failing examples,99ec37e87aeceed154c8a9d292d8184a23d69ea6,
27,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 09:00:32,Add artifact collection.,96b3ee8c638fa9851c5f4799276e52dac2434612,
28,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 09:10:49,cleanup,0dbb503a72b27bce0b05df4bb25c52c472ebe431,
29,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 10:19:59,fixed log parsing,46a9a6d96d6495146dd58155035cfd15f0008606,
30,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 10:47:20,added log to the artifacts,d13604835fd88bdde589bbede4eba810a1542ba5,
31,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 11:10:57,fixed stderr redirect,9d366dc61494e239a9d362790805d9c4ccf88481,
32,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 12:15:53,debug run,7ef94d1cbd19881080a45364e2d78e0b0fde9185,
33,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 12:40:40,"Revert ""debug run""

This reverts commit 7ef94d1cbd19881080a45364e2d78e0b0fde9185.",3cc56a77b9e00ae9db05822c592301ee2d0aa6a8,
34,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 13:33:43,Intentionally breaking one of the examples,c0b0fe0049078a7cc8bfca2b361e40c6acf7a82a,
35,pull_request_commit,679,nilearn,nilearn,chrisfilo,2015-07-16 13:50:17,"Revert ""Intentionally breaking one of the examples""

This reverts commit c0b0fe0049078a7cc8bfca2b361e40c6acf7a82a.",f90d76aa636483c8647de69118dba2bb233ed147,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,469,nilearn,nilearn,GaelVaroquaux,2015-02-28 19:57:04,"As I am writing examples using plot_connectome, I am finding that I need to concatenate x, y, z coordinates (for instance that come from a CSV file), and also that I sometimes get the transposition wrong. This makes for code that is a bit ugly (basically it introduces numpy operations in the examples, while I'd like to avoid that as much as possible.

We could decide to have as a signature plot_connectome(adjacency_matrix, x, y, z). The logic behind this would be that it is easy to split than concatenate.

What do people think?
",start issue,API discussion: changing signature of plot_connectome
2,issue_closed,469,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:15:27,,closed issue,API discussion: changing signature of plot_connectome
3,issue_comment,469,nilearn,nilearn,bthirion,2015-03-01 22:01:27,"+1
",,
4,issue_comment,469,nilearn,nilearn,eickenberg,2015-03-01 22:13:44,"The same thing is done e.g. in `mayavi.mlab.triangular_mesh(x, y, z, triangles)`. From `nibabel.freesurfer` ones gets the coordinates in a `coords.shape=(n_coords, 3)` array, and all it takes to split is `x, y, z = coords.T`.

Although I haven't understood the design choice until now, it has never been a problem to use it that way. 

In this proposition here the idea is to be able to avoid needing to hstack `recarray['x'], recarray['y'], recarray['z']` and to be able to pass them directly to the `plot_connectome` function. Seems like a very good idea.
",,
5,issue_comment,469,nilearn,nilearn,lesteve,2015-03-02 08:34:18,"I am going to argue the other way. It feels to me that plot_connectome wants a list of 3d coordinates and related things should be passed in together rather than in 3 separate variables.

Can you show us an example where you need to concatenate the x, y and z coordinates? In the plot_adhd_covariance example you do get a list of 3d coordinates via find_xyz_cut_coords and no additional numpy manipulation is needed.

> In this proposition here the idea is to be able to avoid needing to hstack recarray['x'], recarray['y'], recarray['z'] and to be able to pass them directly to the plot_connectome function. Seems like a very good idea.

Why not use recarray[['x', 'y', 'z']] rather than hstack?
",,
6,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-03-02 09:38:23,"I feel like this is an implementation vs. semantic representation debate. First, I'd like to underline the fact that this does not impact `plot_connectome` only. For the sake of consistency, if the signature changes here, I will change `NiftiSpheresMasker` accordingly.

> The logic behind this would be that it is easy to split than concatenate.

Let's compare! First version is the current implementation, second is the proposed one.

If I have a recarray with x, y and z fields:
`plot_connectome(adj, recarray[['x', 'y', 'z']])`
`plot_connectome(adj, recarray['x'], recarray['y'], recarray['z'])`

If I have 3 numpy arrays (or lists):
`plot_connectome(adj, zip(x, y, z))`
`plot_connectome(adj, x, y, z)`

If I have a list of triblets:
`plot_connectome(adj, coords)`
`plot_connectome(adj, *zip(*coords))`

Given that there is no performance issue either way, I would be in favor of the triblet representation.
",,
7,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-03-02 09:51:53,"Also, as underline by @eickenberg during the coffee break, using 3 lists will force us to have additional checks as the 3 litsts must have the same length. Whereas, with the actual representation, the condition is inherent to the data structure.
",,
8,issue_comment,469,nilearn,nilearn,GaelVaroquaux,2015-03-02 12:52:31,"> plot_connectome(adj, recarray[['x', 'y', 'z']])

I don't think that this works. I have just tried it.

> plot_connectome(adj, recarray['x'], recarray['y'], recarray['z'])
> 
> If I have 3 numpy arrays (or lists):
> plot_connectome(adj, zip(x, y, z))

Well. I would write 'np.vstack(x, y, z).T' given that the good practice
is usually to teach people numpy

> plot_connectome(adj, x, y, z)
> 
> If I have a list of triblets:
> plot_connectome(adj, coords)
> plot_connectome(adj, _zip(_coords))

That one is horrible and should never be written in an example, but you
would write:

```
x, y, z = coords.T
plot_connectome(adj, *zip(*coords))
```

By the way, an example of where it's troubling me is:
https://github.com/GaelVaroquaux/nilearn/blob/doc_rework/examples/connectivity/plot_probabilistic_atlas_extraction.py

The atlas here helpfully provides a list of coordinates, that gets loaded
as a recarray.
",,
9,issue_comment,469,nilearn,nilearn,GaelVaroquaux,2015-03-02 12:53:05,"> Also, as underline by @eickenberg during the coffee break, using 3 lists will
> force us to have additional checks as the 3 litsts must have the same length.
> Whereas, with the actual representation, the condition is inherent to the data
> structure.

We are talking about usability for the end user here. I don't mind have
these 3 checks.
",,
10,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-03-02 13:51:33,"> I don't think that this works. I have just tried it.

Oh, OK, you really use a recarray. I quit using them to use panda dataframes because of jokes like this. Note that a lot of stuff may break in nilearn if you use recarrays. I have started a branch where I fix some of these but it's a lot of work.

> Well. I would write 'np.vstack(x, y, z).T' given that the good practice is usually to teach people numpy

I think that good practices don't include recarrays. In particular, getting back to regular arrays is very very ugly (I would advise to pass by a list instead): `a.view(np.float).reshape(len(a), -1)`

> That one is horrible and should never be written in an example

Agreed, but I showed one-liners only. This would work too but it contains ""magic"": `plot_connectome(adj, *coords.T)`

> By the way, an example of where it's troubling me is [url]

```
import pandas
labels = pandas.read_csv(csv_filename)
# ...
plotting.plot_connectome(correlation_matrix, coords[['x', 'y', 'z']], edge_threshold=""80%"")
```

Problem solved ;)

Actually, I would be more in favor of accepting object that has fields 'x', 'y', and 'z' rather than 3 separate arrays. But again, personal opinion from a pandas user.

Why not accepting something like: `plotting.plot_connectome(correlation_matrix, (x, y, z))`
",,
11,issue_comment,469,nilearn,nilearn,GaelVaroquaux,2015-03-02 14:06:48,"> Oh, OK, you really use a recarray. I quit using them to use panda dataframes
> because of jokes like this.

OK. Then let's use panda dataframes in our examples. You were against it
a while ago. I think that this is a good option.

> Note that a lot of stuff may break in nilearn if you use recarrays. I
> have started a branch where I fix some of these but it's a lot of work.

I have no specific love for recarrays. It's just that so far, we didn't
use pandas in the examples. I am +1 for pandas.

> I think that good practices don't include

+1

> ```
> By the way, an example of where it's troubling me is [url]
> ```
> 
> import pandas
> labels = pandas.read_csv(csv_filename)
> 
> # ...
> 
> plotting.plot_connectome(correlation_matrix, coords[['x', 'y', 'z']], edge_threshold=""80%"")
> 
> Problem solved ;)

That's how I wrote it originally.

> Actually, I would be more in favor of accepting object that has fields 'x',
> 'y', and 'z' rather than 3 separate arrays. But again, personal opinion from a
> pandas user.

That would tie use very much to pandas. Too much IMHO.

> Why not accepting something like: plotting.plot_connectome(correlation_matrix,
> (x, y, z))

OK. Let's discuss this when I come back. There is no big hurry.
",,
12,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-03-02 14:18:49,"> OK. Then let's use panda dataframes in our examples. You were against it a while ago. I think that this is a good option.

Yes, I thought that it was a bit ""overkill"". But the only alternative is np.recarray and the `shape` problem is not the only one with them... So let's use pandas.

> That would tie use very much to pandas. Too much IMHO.

It would also handle dicts, bunchs... But this was just a suggestion.

> OK. Let's discuss this when I come back. There is no big hurry.

I think that it would be very useful to consult our guinea pigs about that. Let's ask Baptiste!
",,
13,issue_comment,469,nilearn,nilearn,bthirion,2015-03-02 14:22:23,"There's at least one good reason not rely too heavily on pandas, namely the difficulty to install it in some environments (e.g. Neurospin).
",,
14,issue_comment,469,nilearn,nilearn,GaelVaroquaux,2015-03-02 14:23:55,"Yes, it's an extra dependency, and that's quite clearly a problem.
",,
15,issue_comment,469,nilearn,nilearn,lesteve,2015-03-02 14:34:04,"Not sure what the Neurospin environment includes but Ubuntu 14.04 comes with pandas 0.13.1 according to [this](http://packages.ubuntu.com/trusty/python-pandas). That's probably recent enough for what we want to do with it.
",,
16,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-03-02 14:37:14,"> Not sure what the Neurospin environment includes

Pandas is not included by default. However, `pip install pandas --user` works.
",,
17,issue_comment,469,nilearn,nilearn,banilo,2015-03-02 14:37:42,"An alternative could be: pass on a dictionary object {'x': [1, 2,3]...} with three keys (x, y, z) and a list associated with each. Additionally, one could derive a nilearn-specific class for coordinate ensembles (I know, we do not like classes) that could then be uniformly used by `NiftiSpheresMasker` and `plot_connectome`
",,
18,issue_comment,469,nilearn,nilearn,GaelVaroquaux,2015-03-02 14:40:10,"> Pandas is not included by default. However, pip install pandas --user works.

At the scale of a large institute, advising beginners to manage software
installs themselves via pip creates a pretty crazy mess in a few years.

G
",,
19,issue_comment,469,nilearn,nilearn,eickenberg,2015-03-02 14:51:10,"i don't know if this is still the case, but a few months ago there was a
beautiful thread over at pandas where somebody who was trying to use it in
production was very annoyed because they keep changing major stuff at each release without a
deprecation cycle in the name of rapid development

On Monday, March 2, 2015, Gael Varoquaux notifications@github.com wrote:

> > Pandas is not included by default. However, pip install pandas --user
> > works.
> 
> At the scale of a large institute, advising beginners to manage software
> installs themselves via pip creates a pretty crazy mess in a few years.
> 
> G
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/469#issuecomment-76722313.
",,
20,issue_comment,469,nilearn,nilearn,AlexandreAbraham,2015-04-17 07:31:21,"So, what do we do about this one?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,736,nilearn,nilearn,AlexandreAbraham,2015-07-29 10:08:16,"Nilearn's code has growth a lot since the last time we audited it. New patterns, such as `new_img_like` that loads an img, may sometimes encourage object persistence when they are not really needed and their memory could be freed.

It would be a good thing to do a pass on the code to check that.

Also, it would be really awesome to have memory tests. Using `ulimit` linux command, it is easy to set a bound to memory consumption and thus check that we are not leaking.
",start issue,"Improve nilearn memory consumption, test it"
2,issue_closed,736,nilearn,nilearn,lesteve,2016-02-04 14:54:12,,closed issue,"Improve nilearn memory consumption, test it"
3,issue_comment,736,nilearn,nilearn,banilo,2015-08-04 18:00:57,"How should we debug when we exceed the preset memory limit?
",,
4,issue_comment,736,nilearn,nilearn,AlexandreAbraham,2015-08-04 20:05:23,"You can get the stack trace using pdb. You can also set a breakpoint using the memory profiler.
",,
5,issue_comment,736,nilearn,nilearn,GaelVaroquaux,2015-10-13 18:53:48,"Testing could be done by having a specific suite of test (not the main one), run by the CI system and relying on either ulimits, or https://pypi.python.org/pypi/memory_profiler
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,630,nilearn,nilearn,arthurmensch,2015-07-03 12:43:04,"@GaelVaroquaux @lesteve 

I corrected the random state issue in `multi_pca`, added some caching and verbosity in MultiPCA and CanICA (doesn't hurt, and it speeds things up).

I have doubt on the meaning of `func_memory_level` though : should a high number mean that we cache inner functions + outer function, or only outer functions ?

EDIT : I also added a score function
",start issue,"[Waiting for PR dep] Score, verbosity, caching, random_state in MultiPCA"
2,issue_closed,630,nilearn,nilearn,arthurmensch,2015-07-27 14:50:08,,closed issue,"[Waiting for PR dep] Score, verbosity, caching, random_state in MultiPCA"
3,pull_request_title,630,nilearn,nilearn,arthurmensch,2015-07-03 12:43:04,"@GaelVaroquaux @lesteve 

I corrected the random state issue in `multi_pca`, added some caching and verbosity in MultiPCA and CanICA (doesn't hurt, and it speeds things up).

I have doubt on the meaning of `func_memory_level` though : should a high number mean that we cache inner functions + outer function, or only outer functions ?

EDIT : I also added a score function
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"[Waiting for PR dep] Score, verbosity, caching, random_state in MultiPCA"
4,issue_comment,630,nilearn,nilearn,arthurmensch,2015-07-09 08:21:05,"I added a score function based on explained variance ratio, with a test
",,
5,issue_comment,630,nilearn,nilearn,GaelVaroquaux,2015-07-11 13:31:46,"@arthurmensch : you have a test failure in Python 2.6 (check the travis page): there is no ""assert_is_instance""
",,
6,issue_comment,630,nilearn,nilearn,arthurmensch,2015-07-13 13:41:04,"I think this could be merged quite easily. I can remove score function and only keep additional verbosity, intermediary caching and random_state bugfix
",,
7,issue_comment,630,nilearn,nilearn,bthirion,2015-07-13 22:14:46,"I think that this PR is almost good to go.
",,
8,issue_comment,630,nilearn,nilearn,lesteve,2015-07-16 08:43:24,"> I am waiting for #676 to be merged, I will then integrate this to it. Then I think we could integrate PR #613

Sounds good.
",,
9,pull_request_commit_comment,630,nilearn,nilearn,AlexandreAbraham,2015-07-03 13:17:41,"This indentation pattern seems weird to me.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/canica.py')"
10,pull_request_commit_comment,630,nilearn,nilearn,banilo,2015-07-03 22:12:42,"Are there analogous printing for the other steps of CanICA?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(20, '', u'nilearn/decomposition/canica.py')"
11,pull_request_commit_comment,630,nilearn,nilearn,banilo,2015-07-03 22:21:29,"Am I getting this right?

randomized_svd does not necessarily return the same result every time it is run?

We cache randomized_svd() now, so that same data returns the same result automatically, without invoking or not random_state aspects within randomized_svd()?

Why is random_state argument not used here, yet it is in a random_svd() call below?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(45, '', u'nilearn/decomposition/multi_pca.py')"
12,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-06 07:41:40,"fastica is the only time consuming step. MultiPCA (called before), prints similar information
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(20, '', u'nilearn/decomposition/canica.py')"
13,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-06 11:09:45,"There is a random_state in the kwargs, on the line below
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(45, '', u'nilearn/decomposition/multi_pca.py')"
14,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 12:45:58,"Is it ? I thought it was pretty fast wrt other steps, but that's mostly fine.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(20, '', u'nilearn/decomposition/canica.py')"
15,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 12:46:26,"optional
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(33, '', u'nilearn/decomposition/multi_pca.py')"
16,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:25:01,"I think that @banilo meant that there is no random_state given here.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(52, '', u'nilearn/decomposition/multi_pca.py')"
17,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-11 13:26:17,"Ok i misunderstood the question. This is because linalg.svd is
deterministic.
On 11 Jul 2015 15:25, ""bthirion"" notifications@github.com wrote:

> In nilearn/decomposition/multi_pca.py
> https://github.com/nilearn/nilearn/pull/630#discussion_r34412606:
> 
> > ```
> >  else:
> > ```
> > -        U, S, _ = linalg.svd(data.T, full_matrices=False)
> > -        U, S, _ = cache(linalg.svd, memory, memory_level=memory_level,
> > -                        func_memory_level=2)(
> > -            data.T, full_matrices=False)
> 
> I think that @banilo https://github.com/banilo meant that there is no
> random_state given here.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/630/files#r34412606.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(52, '', u'nilearn/decomposition/multi_pca.py')"
18,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:28:43,"I'm not sure why you replace the iterator by a list. Are you fixing a bug ?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(102, '', u'nilearn/decomposition/multi_pca.py')"
19,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:38:21,"I'm just curious avout func_memory_level=3. is there a rule of the thumb to set this parameter ?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(155, '', u'nilearn/decomposition/multi_pca.py')"
20,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:39:01,"`imgs`
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(188, '', u'nilearn/decomposition/multi_pca.py')"
21,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:39:37,"each subject (no s).
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(202, '', u'nilearn/decomposition/multi_pca.py')"
22,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:39:55,"if per_component is True
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(202, '', u'nilearn/decomposition/multi_pca.py')"
23,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:41:43,"Please don't leave commented code, but save it in a separate branch.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(217, '', u'nilearn/decomposition/multi_pca.py')"
24,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:46:18,"Why do you have a constant patch (instead of plain noise)? I think that this is not used in the test. Sorry if I missed something obvious.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(33, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
25,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-11 13:48:16,"I don't get it: you provide a mask as a cube on  ones.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(54, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
26,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-11 16:34:49,"I will simplify this, it copied a few lines of code to generate synthetic data. I guess this should be factorized in a synthetic generation function.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(33, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
27,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-11 16:41:56,"I think this should be put to 2, like in `session_pca`. `func_memory_level > 1` means that intermediary results are cached as well, but I don't really know how subtle we can be on the memory usage.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(155, '', u'nilearn/decomposition/multi_pca.py')"
28,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-11 16:43:48,"Yes, for some reason `confounds` end up being `repeat(None, 0)` on the following line. I don't know how this come from, I just figured it would just be pragmatic to change it.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(102, '', u'nilearn/decomposition/multi_pca.py')"
29,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-13 12:44:43,"It is slow enough to worry the user on large datasets
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(20, '', u'nilearn/decomposition/canica.py')"
30,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-13 12:51:43,"This is just to mask sure that our data is not masked (data masking heuristic is hard coded)
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(54, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
31,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-13 22:01:35,"I think it would be worth adding a few more explanations on what this means in practice.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/multi_pca.py')"
32,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-13 22:06:06,"I think that this is a minor difference, but I'd rather stay with the initial version if there's no reason to change it/
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(102, '', u'nilearn/decomposition/multi_pca.py')"
33,pull_request_commit_comment,630,nilearn,nilearn,bthirion,2015-07-13 22:14:16,"I don't understand. When the mask is provided explictly it not recomputed. Actually, remove that line does not trigger a failure nor an error.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(54, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
34,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 11:18:22,"This is nasty, could you not pass sorted=False to the super constructor above ?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/canica.py')"
35,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 11:27:41,"I am guessing you do that to sort in the descending order.

You can use `np.sort(score)[::-1]` instead.

Also you could compute the argsort once and reuse in this line and the line below:

``` python
index = np.argsort(score)[::-1]
self.score_ = score[index]
self.components_ = self.components_[index]
```
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/multi_pca.py')"
36,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 11:29:47,"redudent -> redundant
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(175, '', u'nilearn/decomposition/multi_pca.py')"
37,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 11:39:20,"Could it be because confounds is an iterator that is used twice and in the second case it has already been consumed so you get a StopIteration ? In any case, you should either understand the problem better or remove the commented out code that you changed.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(102, '', u'nilearn/decomposition/multi_pca.py')"
38,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-15 14:47:44,"This is an inheritance pattern...
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/canica.py')"
39,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 15:24:28,"Granted my suggestion was stupid. 

It is not very clear to me why do you need to set sorted to False, then fit MultiPCA and then set it back to whatever it was ?
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/canica.py')"
40,pull_request_commit_comment,630,nilearn,nilearn,arthurmensch,2015-07-15 16:14:10,"Yes, this is only to avoid sorting in MultiPCA, which is useless as we will sort components at the end of ICA
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/canica.py')"
41,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 21:46:33,"You probably want to ignore a few parameters, like memory, memory_level and verbose in the _cache call.
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(125, '', u'nilearn/decomposition/multi_pca.py')"
42,pull_request_commit_comment,630,nilearn,nilearn,lesteve,2015-07-15 21:47:35,"You probably want to ignore memory and memory_level too
",fcd22cfadb1d97dfed597164fdac80e1295836ce,"(None, '', u'nilearn/decomposition/multi_pca.py')"
43,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-03 12:32:53,"Cache, verbosity, random_state management in CanICA, MultiPCA",713b866ab9d93322fa25af4cbff1198fc4e1c547,
44,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-03 12:38:19,Removed keep_data_flat flag,22f0cccb95eee2c70c30461abf49a8f3cbcc5e54,
45,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-03 12:39:11,Removed keep_data_flat flag,b9ffc28482842543b62d9c5359e3a1002203d6a3,
46,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-03 12:44:36,PEP8,79479f593c88686cfb64efaf12d37d91654320b3,
47,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-03 13:39:46,PEP8,470ef4c5f8323fafeb2b427a2bf6fb26db5f3220,
48,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-09 08:15:04,Added score function,c07875d453b2b4d3e8ed62b508c39cb9b9e1f7c2,
49,pull_request_commit,630,nilearn,nilearn,arthurmensch,2015-07-09 08:22:47,Commented code,fcd22cfadb1d97dfed597164fdac80e1295836ce,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,739,nilearn,nilearn,dohmatob,2015-07-29 11:51:21,"addresses issues #731, #729, #730, ...
",start issue,DOC+ENH: fixing minor docstring issues
2,issue_closed,739,nilearn,nilearn,lesteve,2015-07-31 10:35:25,,closed issue,DOC+ENH: fixing minor docstring issues
3,pull_request_title,739,nilearn,nilearn,dohmatob,2015-07-29 11:51:21,"addresses issues #731, #729, #730, ...
",9ec389700bcbd9842cdbd79398a9ece8708635ac,DOC+ENH: fixing minor docstring issues
4,pull_request_merged,739,nilearn,nilearn,lesteve,2015-07-31 10:35:25,DOC+ENH: fixing minor docstring issues,fba383020a789a9191e21ad58153b240a01e2311,Pull request merge from dohmatob/nilearn:fix-pr to nilearn/nilearn:master
5,issue_comment,739,nilearn,nilearn,lesteve,2015-07-30 11:58:08,"Hmmm sorry for that, looks like this one needs a rebase now that the autopep8 examples got merged.
",,
6,issue_comment,739,nilearn,nilearn,lesteve,2015-07-31 10:35:23,"LGTM, merging thanks!
",,
7,issue_comment,739,nilearn,nilearn,lesteve,2015-07-31 10:36:57,"@dohmatob do you mind closing the issue referenced here. You probably know right off the bat whether they can be closed now.
",,
8,pull_request_commit_comment,739,nilearn,nilearn,AlexandreAbraham,2015-07-29 12:07:27,"I think that the comment @bthirion made is precisely to have more that the type here. We want to know exactly the semantics of the returned value.
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
9,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:40:45,"Looks like you have the same version of autopep8 as Alex that removes lines of hashes like that. Try pip install -U and/or revert these changes.
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/searchlight.py')"
10,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:42:26,"My version of autopep8 doesn't add a new line here
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net.py')"
11,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:42:40,"Same thing, I don't think the newline is needed here.
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net.py')"
12,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:43:36,"You may as well fix the docstring while you are at it: Regression should be on the same line as the first `""""""`
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net.py')"
13,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:44:01,"No newline needed
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net.py')"
14,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:44:09,"idem
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/space_net.py')"
15,pull_request_commit_comment,739,nilearn,nilearn,lesteve,2015-07-30 06:44:41,"bring back the line of hashes
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
16,pull_request_commit_comment,739,nilearn,nilearn,dohmatob,2015-07-30 07:19:26,"Oops! Indeed I had autopep8 0.9.1 from debian. Just installed 1.2. Thx for
spotting these weirdos!

On Thu, Jul 30, 2015 at 8:44 AM, Loïc Estève notifications@github.com
wrote:

> In nilearn/decoding/tests/test_same_api.py
> https://github.com/nilearn/nilearn/pull/739#discussion_r35842783:
> 
> > @@ -97,10 +97,10 @@ def test_lipschitz_constant_loss_logreg():
> > 
> >  def test_graph_net_and_tvl1_same_for_pure_l1(max_iter=100, decimal=2):
> > -    ###############################################################
> > -    #
> 
> bring back the line of hashes
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/739/files#r35842783.

## 

DED
",9ec389700bcbd9842cdbd79398a9ece8708635ac,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
17,pull_request_commit,739,nilearn,nilearn,dohmatob,2015-07-29 11:47:46,"DOC+ENH: fixing minor docstring issues (adressing issue #731, issue #729, issue #730, issue",a31aeb4632c0908b9fb422045b3d19f96d7560bf,
18,pull_request_commit,739,nilearn,nilearn,dohmatob,2015-07-29 13:14:15,still fixing docstrings,dbdfd48e3fd72f501d5270d7d82af801f52694de,
19,pull_request_commit,739,nilearn,nilearn,dohmatob,2015-07-30 07:42:35,CLEANUP: autopep8 on space net related files,2322c712864d85614f6db836ec1f469c4243bfc2,
20,pull_request_commit,739,nilearn,nilearn,dohmatob,2015-07-30 07:43:17,restored searchlight.py,9ec389700bcbd9842cdbd79398a9ece8708635ac,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,648,nilearn,nilearn,mih,2015-07-13 14:21:45,,start issue,Cleanup sphinxext licence summary
2,issue_closed,648,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:36:18,,closed issue,Cleanup sphinxext licence summary
3,pull_request_title,648,nilearn,nilearn,mih,2015-07-13 14:21:44,,58d0773a6b55e7aab6a36b0757130f4e8b8d1c4a,Cleanup sphinxext licence summary
4,pull_request_merged,648,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:36:18,Cleanup sphinxext licence summary,faf7d00dbe630f83a88bac2e36c3aa4389861178,Pull request merge from mih/nilearn:master to nilearn/nilearn:master
5,issue_comment,648,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:35:59,"Looks great. Thank you.
",,
6,pull_request_commit,648,nilearn,nilearn,mih,2015-07-13 14:20:35,Cleanup sphinxext licence summary,58d0773a6b55e7aab6a36b0757130f4e8b8d1c4a,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,695,nilearn,nilearn,GaelVaroquaux,2015-07-16 16:51:19,"It seems that, when we are missing dependencies, we are not raise good errors on 'develop', only on 'install'.
",start issue,Check that 'python setup.py develop' raises a understandable error with missing dependencies
2,issue_closed,695,nilearn,nilearn,lesteve,2015-07-16 17:11:37,,closed issue,Check that 'python setup.py develop' raises a understandable error with missing dependencies
3,issue_comment,695,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:06:36,"No, that's gr8. Thanks a lot.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:07:59,"Nothing very complicated, but it should save us memory here and there by keeping the life cycle of temporary data copies as short as possible
",start issue,[MRG] Small memory optimizations
2,issue_closed,723,nilearn,nilearn,AlexandreAbraham,2015-07-29 06:32:00,,closed issue,[MRG] Small memory optimizations
3,pull_request_title,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:07:59,"Nothing very complicated, but it should save us memory here and there by keeping the life cycle of temporary data copies as short as possible
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,[MRG] Small memory optimizations
4,pull_request_merged,723,nilearn,nilearn,AlexandreAbraham,2015-07-29 06:32:00,[MRG] Small memory optimizations,835d68f7cfbdd52cdedc5dbf91de6ef1c7eddad4,Pull request merge from GaelVaroquaux/nilearn:small_mem_optim to nilearn/nilearn:master
5,pull_request_commit_comment,723,nilearn,nilearn,AlexandreAbraham,2015-07-28 15:28:06,"This is clever but your efforts are kinda wasted by the `new_img_like` at line 289/287.
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(4, '', u'nilearn/masking.py')"
6,pull_request_commit_comment,723,nilearn,nilearn,AlexandreAbraham,2015-07-28 15:32:31,"A pattern like this may be useful?

``` python
image_crafter = something(img)
del img
[...]
image_crafter.new_img_like(data)
```
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(4, '', u'nilearn/masking.py')"
7,pull_request_commit_comment,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 17:19:07,"> > -    epi_img = _utils.check_niimg(epi_img)
> 
> This is clever but your efforts are kinda wasted by the new_img_like at line 289/287.

Not too bad, because if it's a 4D image, new_img_like doesn't call
'get_data', and so the data is not loaded.

That said, new_img_like is a bit of a tangle, as it uses load_img, which
itself uses new_img_like. new_img_like should probably not be using
load_img, and maybe nibabel directly.

Would you be OK to special-case new_img_like to use nibabel directly,
and, as a consequence, not load the data for list of string?
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(4, '', u'nilearn/masking.py')"
8,pull_request_commit_comment,723,nilearn,nilearn,AlexandreAbraham,2015-07-28 21:48:08,"I think that at some point we should put that in a function to promote this kind of pattern.

Apart from that, +100 for merging.
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(92, '', u'nilearn/image/image.py')"
9,pull_request_commit_comment,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 21:49:42,"> I think that at some point we should put that in a function to promote this
> kind of pattern.

Suggestion for name?
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(92, '', u'nilearn/image/image.py')"
10,pull_request_commit_comment,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 21:50:22,"> Suggestion for name?

The reason that I am asking, is that I am wondering how much this pattern
can be reused. It's kinda specific.
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(92, '', u'nilearn/image/image.py')"
11,pull_request_commit_comment,723,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:00:30,"Oh, no, forget it, I haven't seen it was in  `new_img_like`... OK for merging.
",220f78f4c4e012e8f2337fa4725e32b7f829bf5f,"(92, '', u'nilearn/image/image.py')"
12,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 13:05:16,"ENH: delay loading of imgs

Slight memory optimization by loading the imgs as late as
possible",6183ba88aa5e87957535f1278e61cd7631223def,
13,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 13:10:14,"COSMIT: call '_data' something that is not 'niimg'

Shouldn't be called _img",d271ffe45bf35d0dea7a385ee4408305c3eeea18,
14,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:05:33,"ENH: small optim to save memory

As the image is not actually returned, just used as a temporary for
resample_img, I think that it is OK not to use new_img_like",9d92eb3217361730f9a60e344e436070b4d8c786,
15,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:09:02,Remove trailing unused variable,5ec04010db727ef35eab6900fa354c860b396ca9,
16,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 21:37:01,ENH: limit memory loading,002d309d8d1e7885bc402049425904f0b8cd56c1,
17,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-28 21:46:19,"ENH: more speed, less memory",e8e1da3334b1f1fcc4f0c0c9d26dd7601c24a3a6,
18,pull_request_commit,723,nilearn,nilearn,GaelVaroquaux,2015-07-29 05:54:26,BUG: make sure that data is copied,220f78f4c4e012e8f2337fa4725e32b7f829bf5f,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,566,nilearn,nilearn,GaelVaroquaux,2015-04-30 11:49:39,"I find myself using new_img_like (good job @AlexandreAbraham). I suggest that we expose it in image. 

Also, I suggest that we make ""affine"" optional in it: by default, the affine of the reference image would be used and we would check that the shapes of the data match.

Finally, I suggest that we change the signature to (data, ref_img, affine=None, ...), ie inverse the position of ref_img and data compared to the current situation. I find that it makes more sense.

If people agree with those changes, I am offering to implement them.
",start issue,Expose new_img_like
2,issue_closed,566,nilearn,nilearn,GaelVaroquaux,2015-07-16 06:18:47,,closed issue,Expose new_img_like
3,issue_comment,566,nilearn,nilearn,GaelVaroquaux,2015-04-30 12:01:05,"> However, to me the signature should rather stay as it is (or even be
> new_img_like(ref_img, data=None, affine=None, copy_header=), but I am not sure
> whether this default is useful in any way). The command reads like a phrase:
> new_img_like what, so the what should be the first argument.

OK.
",,
4,issue_comment,566,nilearn,nilearn,GaelVaroquaux,2015-05-18 09:29:22,"> I think that this issue is not very time-consuming and people are strongly
> asking for it. When do you plan to do the PR?

It's not going to happen any time soon. I have a lot of other urgent
matters to attend to.
",,
5,issue_comment,566,nilearn,nilearn,GaelVaroquaux,2015-05-18 09:50:52,"> Sure, I would be happy to take care of it, if nobody objects.

Go for it!
",,
6,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-05-18 08:35:35,"I think that this issue is not very time-consuming and people are strongly asking for it. When do you plan to do the PR?
",,
7,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-05-18 09:38:16,"Should we delegate to somebody else, @KamalakerDadi for example ?
",,
8,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-05-18 09:45:17,"@banilo, would you like to take care of that?
",,
9,issue_comment,566,nilearn,nilearn,banilo,2015-05-18 09:48:56,"Sure, I would be happy to take care of it, if nobody objects.

2015-05-18 11:45 GMT+02:00 Alexandre Abraham notifications@github.com:

> @banilo https://github.com/banilo, would you like to take care of that?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/566#issuecomment-102997841.

## 

Viele Grüße,
Danilo
",,
10,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-05-18 09:56:46,"You are now officially assigned :rocket:
",,
11,issue_comment,566,nilearn,nilearn,banilo,2015-07-13 14:30:20,"This issue should essentially have been addressed.
",,
12,issue_comment,566,nilearn,nilearn,eickenberg,2015-04-30 11:59:38,"For reference https://github.com/nilearn/nilearn/blob/master/nilearn/_utils/niimg.py#L57

+1 for exposing. Should take into account  #380 as best as possible.

However, to me the signature should rather stay as it is (or even be `new_img_like(ref_img, data=None, affine=None, copy_header=)`, but I am not sure whether this default is useful in any way). The command reads like a phrase: `new_img_like` _what_, so the _what_ should be the first argument.
",,
13,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-04-30 12:15:16,"> I find myself using new_img_like

Me too.

> I suggest that we make ""affine"" optional in it

Same remark, I was planning to do a PR about that later.

> I suggest that we change the signature

I prefer to keep data and affine next to each other if possible, makes more sense to me. If we are to change the signature, I suggest that we change the name because I think of this function call as a sentence ""I want a new image like `param1` containing data `param2`"". And it would make less sense the other way around.
",,
14,issue_comment,566,nilearn,nilearn,AlexandreAbraham,2015-04-30 12:37:53,"Didn't read Michael's comment first, sorry for repetition.
",,
15,issue_comment,566,nilearn,nilearn,lesteve,2015-04-30 12:30:24,"> new_img_like what, so the what should be the first argument.

Agreed.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,696,nilearn,nilearn,AlexandreAbraham,2015-07-16 17:20:17,"I'm doing this PR because @banilo can't do it. Because he has a mac that messes up git history. That's the ghost of Steve Jobs.
",start issue,Split datasets in several files
2,issue_closed,696,nilearn,nilearn,AlexandreAbraham,2015-07-17 08:25:38,,closed issue,Split datasets in several files
3,pull_request_title,696,nilearn,nilearn,AlexandreAbraham,2015-07-16 17:20:17,"I'm doing this PR because @banilo can't do it. Because he has a mac that messes up git history. That's the ghost of Steve Jobs.
",87d84b7ddf3ee6d54e186cd797c61f4c211d71fe,Split datasets in several files
4,issue_comment,696,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:24:33,"> I'm doing this PR because @banilo can't do it. Because he has a mac that messes
> up git history. That's the ghost of Steve Jobs.

I am ordering valium.

I also think that it's time for you to grab beers.
",,
5,issue_comment,696,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:22:40,"So, I gather that this PR is the one that should be merged instead of #647, right?
",,
6,issue_comment,696,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:24:39,"If so, can you rebase/merge this PR on master: I am afraid of a difficult merge. This will give us CircleCI, which will in effect test the downloading code.
",,
7,issue_comment,696,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:27:06,"> Don't worry, this PR is not to be merged. We're fixing @banilo's history ;).

OK, so please rebase the other (or merge it if it's too hard).
",,
8,issue_comment,696,nilearn,nilearn,AlexandreAbraham,2015-07-16 17:29:54,"> I am ordering valium.

Don't worry, this PR is not to be merged. We're fixing @banilo's history ;).
",,
9,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-13 14:05:40,migrated dataset code,02d1d1384e5684a7d911213650aab69d1140c807,
10,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-13 14:13:08,del old dataset files,5d7c746cd87501680dd65d8aa1161328ff5cc332,
11,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-13 16:05:03,handle namespace problem,93e6256e1bb25fd264941efe9095626c8f5ed0cf,
12,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-13 16:30:58,Add test files,e40696b8a34fcdd973d32da787f087c24c951040,
13,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-15 12:24:39,improve style,77dce2395b87b58a856f3fab84dce749d3b99f9f,
14,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-15 12:42:23,update setup.py,fc2b1b90dbfd8af470dc7d2e2c8f455e75b59e40,
15,pull_request_commit,696,nilearn,nilearn,banilo,2015-07-16 13:24:32,solve encoding issues,759f657932b166f749d7b87bc6c2af0cde0783f1,
16,pull_request_commit,696,nilearn,nilearn,AlexandreAbraham,2015-07-16 16:39:04,Fix tests,87d84b7ddf3ee6d54e186cd797c61f4c211d71fe,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,707,nilearn,nilearn,juhuntenburg,2015-07-17 16:53:56,,start issue,[MRG+1] Improving docstring for symmetric_cbar argument and adding tests for _get_plot_stat_map_params
2,issue_closed,707,nilearn,nilearn,GaelVaroquaux,2015-07-17 18:06:08,,closed issue,[MRG+1] Improving docstring for symmetric_cbar argument and adding tests for _get_plot_stat_map_params
3,pull_request_title,707,nilearn,nilearn,juhuntenburg,2015-07-17 16:53:56,,cfd12d5c927e55113ac38d78a8e04941724c3f1e,[MRG+1] Improving docstring for symmetric_cbar argument and adding tests for _get_plot_stat_map_params
4,pull_request_merged,707,nilearn,nilearn,GaelVaroquaux,2015-07-17 18:06:08,[MRG+1] Improving docstring for symmetric_cbar argument and adding tests for _get_plot_stat_map_params,8f9aaee399ae4a939313b0ab88dbc1f266938b01,Pull request merge from juhuntenburg/nilearn:symmetric_cbar_doc_test to nilearn/nilearn:master
5,issue_comment,707,nilearn,nilearn,lesteve,2015-07-18 11:48:28,"Not sure how the landscape comments came back but I just disabled them. I seem to remember the consensus was that it was not worth the additional email noise.

You can look at the landscape.io website directly if you care about this kind of thing:
https://landscape.io/github/nilearn/nilearn
",,
6,pull_request_commit_comment,707,nilearn,nilearn,bthirion,2015-07-17 17:07:13,"_get_plot_stat_map_params(img,  vmax=None,  symmetric_cbar=True)  
would be more readable.
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')"
7,pull_request_commit_comment,707,nilearn,nilearn,GaelVaroquaux,2015-07-17 17:13:45,"Same remark as @bthirion 's here
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')"
8,pull_request_commit_comment,707,nilearn,nilearn,lesteve,2015-07-17 17:50:30,"Given that the function is supposed to handle NaNs you could throw one or two NaNs in the matrix. The same applies for the other tests.

That could be done in a further PR too.
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')"
9,pull_request_commit_comment,707,nilearn,nilearn,lesteve,2015-07-17 17:51:39,"There is a `)` without a `(` or am I being fooled by the diff?
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/img_plotting.py')"
10,pull_request_commit_comment,707,nilearn,nilearn,juhuntenburg,2015-07-17 17:58:42,"You're right, I fixed this.
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/img_plotting.py')"
11,pull_request_commit_comment,707,nilearn,nilearn,juhuntenburg,2015-07-17 17:59:02,"Included NaNs and reran the tests.
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(None, '', u'nilearn/plotting/tests/test_img_plotting.py')"
12,pull_request_commit_comment,707,nilearn,nilearn,lesteve,2015-07-17 18:04:30,"vmin is a tiny bit misleading given that it you can not pass vmin to these functions. I am not sure how to rephrase it better though, so we should probably leave that for later. 
",cfd12d5c927e55113ac38d78a8e04941724c3f1e,"(18, '', u'nilearn/plotting/img_plotting.py')"
13,pull_request_commit,707,nilearn,nilearn,juhuntenburg,2015-07-17 16:40:46,improving docstring for symmetric_cbar option,b95d001d6cd110dae43821bce43e3595013c9b1d,
14,pull_request_commit,707,nilearn,nilearn,juhuntenburg,2015-07-17 16:50:26,adding tests for _get_plot_stat_map_params,1007ba1451b1ab3687f06c3fbf253e2e3441e816,
15,pull_request_commit,707,nilearn,nilearn,juhuntenburg,2015-07-17 17:28:18,making arguments in tests explicit,52c0ce3867e5ffcfee21cc478c60f96758a7ace2,
16,pull_request_commit,707,nilearn,nilearn,juhuntenburg,2015-07-17 17:58:04,"adding nans to test, correcting docstring",cfd12d5c927e55113ac38d78a8e04941724c3f1e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,702,nilearn,nilearn,arthurmensch,2015-07-17 13:35:54,"This PR adds an utility function check_embedded_nifti_masker, that retrieves a MultiNiftiMasker / NiftiMasker from the parameters of a given estimator instance.

This would be useful in decomposition module, spacenet module, spectral clustering module, and would help sorting issue #688 

Ping @dohmatob @ahoyosid @AlexandreAbraham @GaelVaroquaux 
",start issue,[MRG] Added check_embedded_nifti_masker
2,issue_closed,702,nilearn,nilearn,lesteve,2015-08-20 11:40:45,,closed issue,[MRG] Added check_embedded_nifti_masker
3,pull_request_title,702,nilearn,nilearn,arthurmensch,2015-07-17 13:35:54,"This PR adds an utility function check_embedded_nifti_masker, that retrieves a MultiNiftiMasker / NiftiMasker from the parameters of a given estimator instance.

This would be useful in decomposition module, spacenet module, spectral clustering module, and would help sorting issue #688 

Ping @dohmatob @ahoyosid @AlexandreAbraham @GaelVaroquaux 
",5fbbde46c6815b39c917b8f40486f1e28e349a16,[MRG] Added check_embedded_nifti_masker
4,pull_request_merged,702,nilearn,nilearn,lesteve,2015-08-20 11:40:45,[MRG] Added check_embedded_nifti_masker,7e964de2bca2fbcb1a58aea1d5ff48e2c39482e7,Pull request merge from arthurmensch/nilearn:check_embedded_nifti_masker to nilearn/nilearn:master
5,issue_comment,702,nilearn,nilearn,bthirion,2015-08-18 21:55:32,"Besides syntactic trifle, looks good.
",,
6,issue_comment,702,nilearn,nilearn,arthurmensch,2015-08-19 07:07:03,"Should I add some kind of developer note in the documentation ?
",,
7,issue_comment,702,nilearn,nilearn,lesteve,2015-08-20 09:24:26,"> Should I add some kind of developer note in the documentation ?

I reckon the docstring is probably good enough.
",,
8,issue_comment,702,nilearn,nilearn,lesteve,2015-08-20 11:40:43,"Merging, thanks!
",,
9,issue_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:14:43,"Good job in un-spaghettying stuff.
",,
10,issue_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:59:52,"Once comments are addressed, :+1:
",,
11,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:04:23,"You need to be a bit more explicit about what this does:
- This creates a masker object if it does not exist
- Propagates the parameters (list them explicitly) to this masker.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
12,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:05:49,"You should always inherit from object.

Also, please use a slightly more explicit name, like ""TestClass"".
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
13,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:13:47,"Why do you pop it?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
14,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:32:56,"Also this is not a base class but a function ...
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
15,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:38:13,"I guess MockMasker or MaskerMock might be the name you want to use.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
16,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:39:51,"Should you check in the code that `isinstance(instance, BaseEstimator)` ?

Also you could call it estimator rather than instance.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
17,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:47:56,"You probably want to check identity here i.e. `masker.mask_img is mask`
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
18,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:48:39,"You probably want to check strict type equality rather than inheritance: `type(masker) == MultiNiftiMasker`
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
19,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 14:49:11,"same comment about checking the type rather than isinstance
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
20,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:56:56,"Since this function will be used internally, I don't think that checking it is necessary.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
21,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:59:06,"Do you really need to zip that ? You can just reorder the variables. It will make things clearer too.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
22,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 15:16:31,"Comment half-lying: masker_type is not necessarily a MultiNiftiMasker
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
23,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 15:20:34,"Copying is a bit misleading, given that it takes a reference ...
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
24,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-17 15:21:02,"Again masker_type is not necessarily MultiNiftiMasker
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
25,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-20 11:48:44,"In case instance has both mask and mask_img parameters. I will remove it so that it raises ArgumentError in this case
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
26,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-20 12:10:10,"I don't get your comment
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
27,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-20 12:15:05,"What happens in the MultiPCA is the opposite : we override user's parameter with our defaults values. Or maybe I misunderstood something.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
28,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-20 12:28:10,"This is true. However, doing the opposite is difficult to do in a clean way as we would need to check if user has explicitly provided non default argument.

The bottom line is that I don't think that it makes any sense to allow the user to create a masker and override its parameters in an estimator class.

This warning is especially useful to warn the user that he provided a masker that diverges from default masker embedded within an estimator class (providing 'detrend' = False in MultiPCA for instance)
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
29,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-23 15:06:27,"@GaelVaroquaux This remark is the only barrier between my finger and the big green button. Your thoughts on this?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
30,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-23 15:09:39,"Arthur and you can come in my office right now to discuss it, please?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
31,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-23 15:24:44,"I can't right now because I left early to do the groceries.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
32,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-23 15:25:42,"> I can't right now because I left early to do the groceries.

Tomorrow, coffee break?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
33,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-23 18:41:14,"Sorry i missed your mail, tomorrow coffee break?
On 23 Jul 2015 17:25, ""Gael Varoquaux"" notifications@github.com wrote:

> In nilearn/input_data/masker_validation.py
> https://github.com/nilearn/nilearn/pull/702#discussion_r35333806:
> 
> > -    if isinstance(mask, (NiftiMasker, MultiNiftiMasker)):
> > -        # Creating (Multi)NiftiMasker from mask
> > -        params = get_params(masker_type, mask)
> > -        if multi and hasattr(estimator, 'n_jobs'):
> > -            params['n_jobs'] = estimator.n_jobs
> > -        masker = masker_type(memory=estimator.memory,
> > -                             memory_level=estimator.memory_level,
> > -                             verbose=estimator.verbose,
> > -                             **params
> > -                             )
> > -        # Raising warning if providing user has provided a masker
> > -        for param_key in masker.get_params():
> > -            if param_key in parameters and getattr(masker, param_key)\
> > -                    != parameters[param_key]:
> > -                warnings.warn(""Provided mask overrides""
> > -                              "" default/provided parameter %s"" % param_key)
> 
>  I can't right now because I left early to do the groceries.
> Tomorrow, coffee break?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/702/files#r35333806.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
34,pull_request_commit_comment,702,nilearn,nilearn,AlexandreAbraham,2015-07-23 20:24:07,"Tomorrow, :coffee: break.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
35,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-07-24 04:22:08,"turn `multi` into `multi_subject`or `multi_block` to be more explicit? ;) 
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
36,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-07-24 04:28:05,"Isn't it a bit confusing to have a `parameters`and `params` variable in the same namespace?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
37,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-07-24 04:30:20,"Good point.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
38,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-07-24 04:31:40,"Isn't nose.\* more basic than sklearn.*? Move up?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
39,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 12:53:21,"Not sure this is good practice to rely on `__init__.py` for these imports. I would rather import from their real home, i.e. `.multi_nifti_masker` and `.nifti_masker`.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
40,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 12:55:15,"This doesn't follow PEP 258 or whatever number the docstring PEP is. In particular you should have a short description on one line, then a newline and then a longer description.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
41,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 12:57:41,"It seems like the usual thing is to use `-------` for docstrings, although I agree this is not completely consistent within nilearn. Reference for numpy documentation conventions: https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
42,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 12:58:00,"Not consistent with parameter name. Same thing for `multi` a few lines below.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
43,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:01:52,"typo: overriding
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
44,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:05:05,"You can get away from using backslashes in a lot of cases in Python:

``` python
conflict_string += (""Parameter {0:s} :\n""
                    ""    Masker parameter {1:s}""
                    ""..."").format(...)
```
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
45,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:05:26,"Similar comment about backslashes.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
46,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:06:59,"Dictionaries are iterated by key by default in python, so you don't need the `.keys()`.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
47,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-27 13:09:48,"> Dictionaries are iterated by key by default in python, so you don't need the
> .keys().

But we should use 'sorted(params)', to avoir having non reproducible
displays / tests (order is not reproducible in the dicts).
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
48,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:11:09,"Still picking on poor old backslashes ... you can do:

``` python

for mask, multi_subject in (
    (MultiNiftiMasker(), True), (NiftiMasker(), False)):
    ...
```
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
49,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:11:23,"assert_equal gives sligthly nicer error messages.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
50,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:11:44,"same comment about assert_equal 
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
51,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:20:27,"I don't think you are supposed to end the line with a comma but I may be wrong about that.

Interestingly, looks like the numpy doc is encouraging to put optional in the type but the default value in the parameter description rather than the type, see https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#sections. I don't think that's something which we applied very broadly in nilearn though.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
52,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:35:07,"Looks like you have some error with python 2.6 related to these lines but I would have thought that you don't need the `str` here since {0:s} in the template string is going to do it for you. Why am I wrong?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
53,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:37:05,"You may want to group nilearn imports together, after the sklearn would make sense.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
54,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:41:35,"`type(masker) is MultiNiftiMasker`
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
55,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:41:49,"For consistency use `type(masker) is type(mask)`
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
56,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-27 13:41:56,"Again check for identity rather than equality: `masker.mask_img is mask.mask_img_`
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
57,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-31 13:31:48,"Python 2.6 don't automatically convert non string type to string when using this pattern. From 2.7 you can use `r` instead of `s`, which avoid this problem
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
58,pull_request_commit_comment,702,nilearn,nilearn,GaelVaroquaux,2015-07-31 13:51:41,"> Python 2.6 don't automatically convert non string type to string when using
> this pattern. From 2.7 you can use r instead of s, which avoid this problem

I am OK with dropping Python 2.6 compat. We just need to update travis
accordingly.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
59,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-31 14:11:28,"> I am OK with dropping Python 2.6 compat

Wow, now that's a surprise albeit a good one ;-).

@arthurmensch about the original technical issue, I tried to reproduce the problem in Python 2.6 and I couldn't:

```
Python 2.6.9 |Continuum Analytics, Inc.| (unknown, Aug 21 2014, 18:28:52) 
[GCC 4.4.7 20120313 (Red Hat 4.4.7-1)] on linux2
Type ""help"", ""copyright"", ""credits"" or ""license"" for more information.
>>> '{0:s}'.format({'a': 1, 'b': 2})
""{'a': 1, 'b': 2}""
>>> '{0:s}'.format(object())
'<object object at 0x7f075bd31090>'
```

Do you have a particular example of an object for which this fails?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
60,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-07-31 15:31:11,"People, please look at your diff before or even after pushing ...
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'.idea/dictionaries/arthur.xml')"
61,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-31 15:43:44,"Sorry about that !
On 31 Jul 2015 17:31, ""Loïc Estève"" notifications@github.com wrote:

> In .idea/dictionaries/arthur.xml
> https://github.com/nilearn/nilearn/pull/702#discussion_r35984580:
> 
> > @@ -0,0 +1,3 @@
> > +<component name=""ProjectDictionaryState"">
> 
> People, please look at your diff before or even after pushing ...
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/702/files#r35984580.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'.idea/dictionaries/arthur.xml')"
62,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-07-31 15:45:09,"It fails on some nilearn objects that do not have a **repr** field I
believe.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
63,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-08-03 13:14:15,"Hmm, anything more specific? I tried removing the `str(...)` and the tests are still passing with python 2.6.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
64,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-08-04 18:16:25,"out of interest: why do we need `sorted` here?
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(58, '', u'nilearn/input_data/masker_validation.py')"
65,pull_request_commit_comment,702,nilearn,nilearn,banilo,2015-08-04 18:17:51,"nice, very elegant!
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(72, '', u'nilearn/input_data/masker_validation.py')"
66,pull_request_commit_comment,702,nilearn,nilearn,lesteve,2015-08-04 21:58:28,"To ensure the reproducibility of the error message in Python 3, since dictionaries order is arbritrary. Try to run `python -c ""print({'a': 1, 'b': 2})""` a few times with Python 3.

Also even with Python 2 it just makes for a nicer error message if keys are sorted alphabetically.
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(58, '', u'nilearn/input_data/masker_validation.py')"
67,pull_request_commit_comment,702,nilearn,nilearn,arthurmensch,2015-08-17 09:32:07,"I removed `str()`, let's see what Travis is saying
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
68,pull_request_commit_comment,702,nilearn,nilearn,bthirion,2015-08-18 21:42:44,"This indentation is non-standard
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
69,pull_request_commit_comment,702,nilearn,nilearn,bthirion,2015-08-18 21:44:00,"------- (7 \* '-')
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
70,pull_request_commit_comment,702,nilearn,nilearn,bthirion,2015-08-18 21:45:18,"MultiNiftiMasker or NiftiMasker
",5fbbde46c6815b39c917b8f40486f1e28e349a16,"(None, '', u'nilearn/input_data/masker_validation.py')"
71,pull_request_commit,702,nilearn,nilearn,arthurmensch,2015-08-20 10:56:18,Masker extraction tool for estimators,5fbbde46c6815b39c917b8f40486f1e28e349a16,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,455,nilearn,nilearn,vsoch,2015-02-22 21:48:47,"The current ""plot glass brain"" chooses a color map that is aesthetically beautiful, but is misleading with regard to properly communicating the values in the map.  For example, an image with clear negative values:

![actual](https://cloud.githubusercontent.com/assets/814322/6320586/f20c3d8c-ba96-11e4-8502-9fe2f72a62dd.png)

is shown in all oranges / reds / yellows:

![hotr](https://cloud.githubusercontent.com/assets/814322/6320590/f9e8af72-ba96-11e4-916f-fc50304b7bcf.png)

I understand that the image is mimicking the standard of the spm glass brain, but as a user, I don't really remember that.  (Is the traditional spm glass brain a maximum intensity projection?)  Regardless, the default users of the package (myself included) will make some strong assumptions about the colors that come out:
- red/orange is positive
- blue is negative

So I would conclude from the glass brain image that my brain map has many strongly positive values.

I found that I have the [choice to specify the color map](https://github.com/nilearn/nilearn/blob/master/nilearn/plotting/img_plotting.py#L724), so what I did is an [investigation of all the color maps that could be used](http://nbviewer.ipython.org/github/vsoch/brainmeta/blob/master/image_comparison/notebook/glass_brain_colormaps.ipynb).  There are many that (at least) have the right colors, red and blue, but the mappings are still off.  And most of the other ones aren't as striking as the hot oranges and yellows. So I want to suggest that we possibly need a ""functional neuroimaging"" specific color map. It might be a slightly modified glass brain with a [custom color map](http://matplotlib.org/api/colors_api.html) that is both breathtaking, and scales from blue to bright orange, correctly depicting the positive and negative values without need for an ugly colorbar. Then we can oooh and aaah at the images, and also not interpret them incorrectly. :wink: 
",start issue,Suggested enhancement for plot_glass_brain: negative values
2,issue_closed,455,nilearn,nilearn,GaelVaroquaux,2015-07-15 13:02:58,,closed issue,Suggested enhancement for plot_glass_brain: negative values
3,issue_comment,455,nilearn,nilearn,eickenberg,2015-02-22 21:59:21,"Thanks for the comment! Indeed, the default colormap should be useful for the most common use of the glass brain, and I am unsure which one that is.

I am also wondering whether the one can infer anything from e.g. all values being positive vs there existing negative and positive values together. We automatically adjust the range of the colormap in `plot_stat_map` for this and show only the appropriate half of a double colormap if necessary. Applying this to here would mean that the default colormap should become ColdHot and that only the upper half is used when all values are positive.
",,
4,issue_comment,455,nilearn,nilearn,lesteve,2015-02-22 22:05:02,"If I understand you correctly this is not a colorbar issue at all but more an issue about the transformation operated by the glass brain that doesn't differentiate between positive and negative values.

The glass brain projection uses the max of the **absolute value** along the axis, so you are left with only positive values. The only place this is documented is in plotting.displays.GlassBrainAxes.transform_to_2d.

It's probably easy to add the sign back if we decide this is the right way forward (looking at the argmax of the absolute value and returning the value of the original array for example). To be honest, not sure what the convention is for the SPM glass brain.
",,
5,issue_comment,455,nilearn,nilearn,AlexandreAbraham,2015-02-22 22:10:00,"And you should maybe take a look at `cyan_copper` colormap from nipy. It may be close to what you are looking for.
",,
6,issue_comment,455,nilearn,nilearn,vsoch,2015-02-22 22:19:56,"@lesteve - exactly. The absolute value is taken to only leave the positive values, but I don't think most users will know that. I think returning the original array might be worth exploring.  

In the long run, I think we are moving toward interactive graphics [eg, bokeh has little bits](http://bokeh.pydata.org/en/latest/index.html), but most graphics on their own without some added stuffs from a web browser are still static. Ideally, any image produced would be svg, possibly with multiple transparent layers that could be quickly wrapped in some d3/etc. to spit out something interactive for the user.  That also means that we need paths and not image data embedded in the svg.  An animation is another option, but I think we can do better. I'm just thinking out loud at this point - the goal (I think) is to bring modern, simple interactive visualizations to brain imaging tools. 

Thanks @AlexandreAbraham, I will check out cyan_copper!  
",,
7,issue_comment,455,nilearn,nilearn,eickenberg,2015-02-22 22:35:33,"Ah, I see, makes sense. I guess what needs to be done is really dependent on how this is mostly used. People do also look at single slices, right?

Adding the sign back according to the sign of the argmax of the absolute values is maybe a little ""unfair"" if most activation values along that axis are positive and there was one small negative blob. Same for vice versa. Shouldn't then taking the absolute value be re-examined?

For positive maps you wouldn't need it. For mixed maps it is weird. 

What about linear projections onto the mean value along each axis? (I am assuming it has been tried and didn't look good, because it is the obvious first choice.)
",,
8,issue_comment,455,nilearn,nilearn,AlexandreAbraham,2015-02-23 01:04:26,"> Is the traditional spm glass brain a maximum intensity projection?

Yes.

> Shouldn't then taking the absolute value be re-examined?

It is time to sell your 2D colormap ;)
",,
9,issue_comment,455,nilearn,nilearn,lesteve,2015-09-22 08:39:28,"Just to be clear, you need to use master to use this feature. This [example](https://github.com/nilearn/nilearn/blob/master/examples/manipulating_visualizing/plot_demo_glass_brain_extensive.py) does use plot_glass_brain with plot_abs=False.

The online docs are from the last stable release so they don't mention this feature.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,694,nilearn,nilearn,chrisfilo,2015-07-16 16:07:07,"fixed implicit dependencies
",start issue,Fix dependencies on CircleCI
2,issue_closed,694,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:22:42,,closed issue,Fix dependencies on CircleCI
3,pull_request_title,694,nilearn,nilearn,chrisfilo,2015-07-16 16:07:07,"fixed implicit dependencies
",dec82534c6a8bf4545187a4f5bcc6f16deabb2a2,Fix dependencies on CircleCI
4,pull_request_merged,694,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:22:42,Fix dependencies on CircleCI,773cebb8616cef79663e6846fca7230bd33aa5d2,Pull request merge from chrisfilo/nilearn:enh/circleci to nilearn/nilearn:master
5,issue_comment,694,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:23:07,"All looks good. The tests passed.

Merged!! Gr8
",,
6,pull_request_commit,694,nilearn,nilearn,chrisfilo,2015-07-16 14:57:12,added scipy dependency,b1011b4b98f5aceef09e745e8e1fd24433e431ed,
7,pull_request_commit,694,nilearn,nilearn,chrisfilo,2015-07-16 15:19:31,added scikit-learn dependency,0ef727277f25d9290cd1aa7cdc1c1393a420c254,
8,pull_request_commit,694,nilearn,nilearn,chrisfilo,2015-07-16 15:38:23,magic dependencies order,dec82534c6a8bf4545187a4f5bcc6f16deabb2a2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,654,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:29:57,"Review fast, I'd like to a bugfix release
",start issue,BUG: filenames in label masker were not working
2,issue_closed,654,nilearn,nilearn,AlexandreAbraham,2015-07-13 17:41:55,,closed issue,BUG: filenames in label masker were not working
3,pull_request_title,654,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:29:57,"Review fast, I'd like to a bugfix release
",98f13fd8f57d91fb566a0ff59e1119ff19e3e641,BUG: filenames in label masker were not working
4,pull_request_merged,654,nilearn,nilearn,AlexandreAbraham,2015-07-13 17:41:55,BUG: filenames in label masker were not working,d9af4f542e32fb0cc822dc3cf31da42353150789,Pull request merge from GaelVaroquaux/nilearn:fix_filenames_labels_masker to nilearn/nilearn:master
5,issue_comment,654,nilearn,nilearn,AlexandreAbraham,2015-07-13 17:41:52,"Thx, merging.
",,
6,pull_request_commit,654,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:28:37,BUG: filenames in label masker were not working,98f13fd8f57d91fb566a0ff59e1119ff19e3e641,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,712,nilearn,nilearn,lesteve,2015-07-20 06:44:15,"It looks like it is missing some info for automatically generated classes/functions:
http://nilearn.github.io/modules/reference.html#module-nilearn.decoding

For completeness the same thing happens on circleci:
https://circle-artifacts.com/gh/nilearn/nilearn/150/artifacts/0/home/ubuntu/nilearn/doc/_build/html/modules/reference.html#module-nilearn.datasets
",start issue,Sphinx 1.3.1 auto documentation issues
2,issue_closed,712,nilearn,nilearn,lesteve,2015-10-27 10:29:27,,closed issue,Sphinx 1.3.1 auto documentation issues
3,issue_comment,712,nilearn,nilearn,lesteve,2015-10-19 11:42:14,"Maybe related to https://github.com/scikit-learn/scikit-learn/issues/4737 ?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,661,nilearn,nilearn,MartinPerez,2015-07-14 10:46:36,"updated reference.rst with 5 fetch dataset methods deprecated
",start issue,issue 656
2,issue_closed,661,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:00:32,,closed issue,issue 656
3,pull_request_title,661,nilearn,nilearn,MartinPerez,2015-07-14 10:46:36,"updated reference.rst with 5 fetch dataset methods deprecated
",88dc1204b585f91abf9b743bc8603362dd45c789,issue 656
4,pull_request_merged,661,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:00:32,issue 656,bb42f1c22a36085f0124d445cb6c687c04fba27e,Pull request merge from MartinPerez/nilearn:issue_656 to nilearn/nilearn:master
5,issue_comment,661,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:00:27,"Thanks, merging.
",,
6,pull_request_commit,661,nilearn,nilearn,MartinPerez,2015-07-14 10:30:29,updated reference.rst with all fetch dataset methods that were deprecated,88dc1204b585f91abf9b743bc8603362dd45c789,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,655,nilearn,nilearn,arthurmensch,2015-07-13 22:01:07,"I am quite sure that a lot a people has bits of code written to perform hungarian algorithm on contrast / decomposition maps to do comparison across technics / subjects / experience setting. Wouldn't it be interesting to explicitly integrate it into `nilearn.image` ?

I could use it on dict learning vs canica example (PR #638); Right now I use sklearn code in the middle of the script, which makes it too difficult for the non expert neuroscientist.
",start issue,Create linear alignment module in utils
2,issue_closed,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:12:23,,closed issue,Create linear alignment module in utils
3,issue_comment,655,nilearn,nilearn,GaelVaroquaux,2015-07-14 05:56:49,"> I am quite sure that a lot a people has bits of code written to perform
> hungarian algorithm on contrast / decomposition maps to do comparison across
> technics / subjects / experience setting.

I believe only a handful of methods geeks. When performed across methods,
this is really something that only methods researchers would do. Across
subjects, it's really something that shouldn't be done.

The framework that we are trying to push to compare subjects with
functional connectivity is to use decomposition methods to learn regions,
and then to use a connectome comparison method on the corresponding set
of regions.
",,
4,issue_comment,655,nilearn,nilearn,GaelVaroquaux,2015-07-21 15:13:18,"> I have a nilearn-sandbox repo where I keep nilearn compatible
> extensions that are not in the scope of nilearn (but may be someday).
> You can do the same.

Maybe we should have a public one?
",,
5,issue_comment,655,nilearn,nilearn,GaelVaroquaux,2015-07-21 15:19:18,"> It could be a mess, but it could be funny too.

Chances are that it would be a mess. I don't see why it would be more
successful that Parietal-Python. But it would also be accessible to
external researchers, which is a good thing.
",,
6,issue_comment,655,nilearn,nilearn,banilo,2015-07-13 22:41:15,"I think @dohmatob has also implemented some global image comparison algos, perhaps check back with him.
",,
7,issue_comment,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:12:23,"@arthurmensch, what I've done is that I have a nilearn-sandbox repo where I keep nilearn compatible extensions that are not in the scope of nilearn (but may be someday). You can do the same.

In the meantime, I close this one.
",,
8,issue_comment,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:17:48,"> Maybe we should have a public one?

It could be a mess, but it could be funny too. I have no strong opinion about that but I would contribute in it.
",,
9,issue_comment,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:27:53,"Let's go then!
",,
10,issue_comment,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:28:39,"We just have to be careful that good stuff doesn't go into the sandbox because people does not want to pass the PR reviewing process of the official repo.
",,
11,issue_comment,655,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:44:41,"I just created it here: https://github.com/nilearn/nilearn_sandbox

Please update the README file with what you think necessary.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,714,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:05:39,"5' PR about PEP8 violations I ran into.
",start issue,Pep8
2,issue_closed,714,nilearn,nilearn,GaelVaroquaux,2015-07-21 14:39:51,,closed issue,Pep8
3,pull_request_title,714,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:05:39,"5' PR about PEP8 violations I ran into.
",de38fe03a535b79b4250794833fe4049730e7ce7,Pep8
4,pull_request_merged,714,nilearn,nilearn,GaelVaroquaux,2015-07-21 14:39:51,Pep8,97f419f2707542948947d9dd22aedde08e1fed3a,Pull request merge from AlexandreAbraham/nilearn:pep8 to nilearn/nilearn:master
5,issue_comment,714,nilearn,nilearn,GaelVaroquaux,2015-07-21 14:33:34,"I foresee merge conflicts...

But I think that I'll still merge.
",,
6,issue_comment,714,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:39:33,"That may happen but I specifically chose files on which nobody's working.
",,
7,pull_request_commit,714,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:02:24,PEP8 fix,1a378e39afd4eb72365e1b8b4cd6bec0ca2efdf0,
8,pull_request_commit,714,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:04:57,PEP8 in displays,de38fe03a535b79b4250794833fe4049730e7ce7,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,656,nilearn,nilearn,GaelVaroquaux,2015-07-14 07:37:34,"The various atlas downloading functions have been renamed (this is already done), and the old one deprecated. However, in the reference documentation, this change has not been done. The file doc/modules/reference.rst must be modified to put it up to date.
",start issue,Rename the atlas downloading functions in the reference documentation
2,issue_closed,656,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:01:04,,closed issue,Rename the atlas downloading functions in the reference documentation
3,issue_comment,656,nilearn,nilearn,MartinPerez,2015-07-14 09:27:44,"I will take care of this.
",,
4,issue_comment,656,nilearn,nilearn,banilo,2015-07-14 10:19:52,"> I will take care of this.

+1
",,
5,issue_comment,656,nilearn,nilearn,MartinPerez,2015-07-14 10:48:44,"its done... I made the pull request
",,
6,issue_comment,656,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:01:04,"Closed by #661.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,638,nilearn,nilearn,arthurmensch,2015-07-08 11:32:50,"This PR contains the basic code for l1 dictionary learning. This could constitute a base for next week sprint
@GaelVaroquaux @agramfort @bthirion  
### Integration within nilearn

I made a few design choices that should be discussed:
- I use a composition pattern over CanICA : this allows the code to be quite concise but leads to a loss of flexibility regarding initialization of the dictionary learning algorithm
- I use a flag `keep_data_mem` in MultiPCA to prevent us from loading several time (from files or from cache) the filtered and masked data. This make the code a bit more complicated, but I think this is the price to pay if we want to keep the NiftiMasker embedded within `decomposition` classes (which in itself may be discussed).
- [ ] Tests are needed
### Efficiency

This code is based on scikit-learn 0.16.1, though it should work on every scikit-learn release since dictionary learning has been introduced. With this version, coordinate descent for DL does not work (on read-only data), see https://github.com/scikit-learn/scikit-learn/pull/4775. However, `cd` is faster once this issue is fixed (see attached file, so it should be used instead of `lars` whenever it becomes possible. Discussion with @ogrisel also leads to think that `cd` method could be made way faster.

Maps are held in the code matrix of the DL formulation. We therefore need to compute back the code after learning the dictionary online. Presently, most of the computation time is spent computing back the code after the dictionary learning part. A simple way to speed up results consist in reducing the dictionary with a RandomizedPCA after the dictionary learning part (RandomizedPCA reduce `lasso_cd` computation time, and has a lower computation cost - linear in data dimension, but with a smaller coefficient).

Two benchmarks can illustrate these points : version with RandomizedPCA is in blue, without in red. Output maps are almost not distinguishable. Reduction is quite experimental, but we can be sure that `cd` is better than `lars` in our context.

Coordinate descent
<img src=""https://cloud.githubusercontent.com/assets/4078691/8569732/c13ce6d0-257a-11e5-89a1-2b6708b5cbbd.png"" width=""300px"" />

LARS
<img src=""https://cloud.githubusercontent.com/assets/4078691/8569733/c4b2fd0e-257a-11e5-8978-afcaba3bec64.png"" width=""300px"" />
### Examples

I adapted the code from the CanICA example. I guess a more pertinent example would be to demonstrate DL effectiveness over ICA (which is the method that the community knows about). For this, we could rely on a scoring function embedded in MultiPCA, which should show better results for DL (explained variance ratio or reproducibility may be a good measure). I can provide the code for explained variance (should it be in another PR, or maybe in PR #630 ?)
#### Visualization

@KamalakerDadi It would be great if we could make use of PR #588 to demonstrate DL ability along with plotting power of nilearn.
### Cross validation

For the moment, we do not provide cross validation facilities for alpha. However, it should stay within the same range as the one provided in the example, as :
- Resolution in the direction of features does not vary a lot (from 1 to 10 I would say) from one dataset to another), which makes choice of alpha non critical
- Dictionary learning algorithm from scikit-learn is suppose to scale its regularization parameters so as to obtain similar sparsity for same input parameter. However, I think that regularization scaling is not made properly in scikit-learn (see https://github.com/scikit-learn/scikit-learn/pull/4873 in function `_sparse_encode`, comments to come), so we cannot rely on this
### Online setting

This implementation is based on an online algorithm for dictionary leaning. However, that way we do this today is actually online in the direction of features (i.e. voxels in our case), due to the fact that we call `dict_learning_online` on the transposed dataset (we use MiniBatchDictionaryLearning but it is more logical to use MiniBatchSparsePCA).

This does not allow the use of `partial_fit` on batches of samples from a dataset (Nifti file after Nifti file for instance).

For large datasets (e.g. HCP), this is a big problem, as we have to load the whole dataset (1,5TB) in memory before starting the algorithm. @lesteve PR #613 has begun adressing the issue of large data analysis within nilearn, and it would therefore be logical to find a solution to this design issue.

One solution would therefore consists in changing the current paradigm in `scikit-learn`, so as to be able to learn the dictionary in an online setting. This is what is proposed in https://github.com/scikit-learn/scikit-learn/pull/4873. I wrote nilearn code based on this PR, which could be introduced in the future.
#### Initialization

Initialization for such large data setting would then need to be studied (especially the sensitivy of the algorithm to this initialization). For example, we could try on doing an ICA on only a subset of the input data.
### Further development
- Group-level Dictionary learning

@AlexandreAbraham provided code for MSDL in PR #88, which could be considered for further development. This would be more involved, would yield better results but would be slower. Another direction to consider would be cohort-level brain mapping https://hal.inria.fr/hal-00841502, which may integrate more smoothly with scikit-learn API.
- Regularization methods

We use a l1 regularization on the code to enforce sparsity. New https://github.com/scikit-learn/scikit-learn/pull/4873 sparse PCA used elastic-net ball constraint for this purpose. We could also consider ways to integrate better regularizations, such as TV @dohmatob.
",start issue,Simple L1 dictionary learning
2,issue_closed,638,nilearn,nilearn,GaelVaroquaux,2015-07-16 16:38:07,,closed issue,Simple L1 dictionary learning
3,pull_request_title,638,nilearn,nilearn,arthurmensch,2015-07-08 11:32:50,"This PR contains the basic code for l1 dictionary learning. This could constitute a base for next week sprint
@GaelVaroquaux @agramfort @bthirion  
### Integration within nilearn

I made a few design choices that should be discussed:
- I use a composition pattern over CanICA : this allows the code to be quite concise but leads to a loss of flexibility regarding initialization of the dictionary learning algorithm
- I use a flag `keep_data_mem` in MultiPCA to prevent us from loading several time (from files or from cache) the filtered and masked data. This make the code a bit more complicated, but I think this is the price to pay if we want to keep the NiftiMasker embedded within `decomposition` classes (which in itself may be discussed).
- [ ] Tests are needed
### Efficiency

This code is based on scikit-learn 0.16.1, though it should work on every scikit-learn release since dictionary learning has been introduced. With this version, coordinate descent for DL does not work (on read-only data), see https://github.com/scikit-learn/scikit-learn/pull/4775. However, `cd` is faster once this issue is fixed (see attached file, so it should be used instead of `lars` whenever it becomes possible. Discussion with @ogrisel also leads to think that `cd` method could be made way faster.

Maps are held in the code matrix of the DL formulation. We therefore need to compute back the code after learning the dictionary online. Presently, most of the computation time is spent computing back the code after the dictionary learning part. A simple way to speed up results consist in reducing the dictionary with a RandomizedPCA after the dictionary learning part (RandomizedPCA reduce `lasso_cd` computation time, and has a lower computation cost - linear in data dimension, but with a smaller coefficient).

Two benchmarks can illustrate these points : version with RandomizedPCA is in blue, without in red. Output maps are almost not distinguishable. Reduction is quite experimental, but we can be sure that `cd` is better than `lars` in our context.

Coordinate descent
<img src=""https://cloud.githubusercontent.com/assets/4078691/8569732/c13ce6d0-257a-11e5-89a1-2b6708b5cbbd.png"" width=""300px"" />

LARS
<img src=""https://cloud.githubusercontent.com/assets/4078691/8569733/c4b2fd0e-257a-11e5-8978-afcaba3bec64.png"" width=""300px"" />
### Examples

I adapted the code from the CanICA example. I guess a more pertinent example would be to demonstrate DL effectiveness over ICA (which is the method that the community knows about). For this, we could rely on a scoring function embedded in MultiPCA, which should show better results for DL (explained variance ratio or reproducibility may be a good measure). I can provide the code for explained variance (should it be in another PR, or maybe in PR #630 ?)
#### Visualization

@KamalakerDadi It would be great if we could make use of PR #588 to demonstrate DL ability along with plotting power of nilearn.
### Cross validation

For the moment, we do not provide cross validation facilities for alpha. However, it should stay within the same range as the one provided in the example, as :
- Resolution in the direction of features does not vary a lot (from 1 to 10 I would say) from one dataset to another), which makes choice of alpha non critical
- Dictionary learning algorithm from scikit-learn is suppose to scale its regularization parameters so as to obtain similar sparsity for same input parameter. However, I think that regularization scaling is not made properly in scikit-learn (see https://github.com/scikit-learn/scikit-learn/pull/4873 in function `_sparse_encode`, comments to come), so we cannot rely on this
### Online setting

This implementation is based on an online algorithm for dictionary leaning. However, that way we do this today is actually online in the direction of features (i.e. voxels in our case), due to the fact that we call `dict_learning_online` on the transposed dataset (we use MiniBatchDictionaryLearning but it is more logical to use MiniBatchSparsePCA).

This does not allow the use of `partial_fit` on batches of samples from a dataset (Nifti file after Nifti file for instance).

For large datasets (e.g. HCP), this is a big problem, as we have to load the whole dataset (1,5TB) in memory before starting the algorithm. @lesteve PR #613 has begun adressing the issue of large data analysis within nilearn, and it would therefore be logical to find a solution to this design issue.

One solution would therefore consists in changing the current paradigm in `scikit-learn`, so as to be able to learn the dictionary in an online setting. This is what is proposed in https://github.com/scikit-learn/scikit-learn/pull/4873. I wrote nilearn code based on this PR, which could be introduced in the future.
#### Initialization

Initialization for such large data setting would then need to be studied (especially the sensitivy of the algorithm to this initialization). For example, we could try on doing an ICA on only a subset of the input data.
### Further development
- Group-level Dictionary learning

@AlexandreAbraham provided code for MSDL in PR #88, which could be considered for further development. This would be more involved, would yield better results but would be slower. Another direction to consider would be cohort-level brain mapping https://hal.inria.fr/hal-00841502, which may integrate more smoothly with scikit-learn API.
- Regularization methods

We use a l1 regularization on the code to enforce sparsity. New https://github.com/scikit-learn/scikit-learn/pull/4873 sparse PCA used elastic-net ball constraint for this purpose. We could also consider ways to integrate better regularizations, such as TV @dohmatob.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,Simple L1 dictionary learning
4,issue_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-09 14:09:09,"Concretely, is it interesting to merge this if the scikit-learn PR is not merged ? Or should we wait ?
",,
5,issue_comment,638,nilearn,nilearn,arthurmensch,2015-07-09 19:48:12,"It is already interesting as it allows to run online in the direction of features. For ADHD this allows better maps which are more reproducible than CanICA. We could provide an example comparing the different algorithms.
",,
6,issue_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 12:12:59,"In my opinion, this PR would benefit from PR #630, which provides a scoring function. This way we would be able to compare in the dictionary learning example the output of canica and dictionary learning, sorted by relevance (computed as explained variance ratio on training set)
",,
7,issue_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-14 14:58:01,"@GaelVaroquaux the struggle of `keep_data_mem` is real and is due to the fact that we integrated the masker directly into MultiPCA. If we use a composition pattern rather than inheritance with the masker, we could consider CanICA / DictLearning as a pipeline and then solve this problem. This is one of the solution I had in mind to solve the spaghetti code issue.
",,
8,issue_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 15:30:49,"ping @KamalakerDadi 

Results using 4D plotting
![figure](https://cloud.githubusercontent.com/assets/4078691/8677200/06422b64-2a4e-11e5-807a-331a463c02af.png)

~3 minutes run
",,
9,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:11:58,"perhaps add a short sentences how it related to CanICA and MultiPCA conceptually...
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
10,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:16:40,"In my little timeit-experiment, np.ravel() was faster.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
11,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:23:59,"""Data are"", not ""data is"" -> therefore datas might be a bad name for a variable?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
12,pull_request_commit_comment,638,nilearn,nilearn,eickenberg,2015-07-08 22:26:57,"not sure of the context, but if data_flat is a list, you need to
concatenate. If it is an array of unknown ordering, you should ravel. The
fact that ravel was fast points to the fact that it was C ordered, in which
case the most explicit thing to do is self.data_flat.shape = -1,

On Thursday, July 9, 2015, Danilo Bzdok notifications@github.com wrote:

> In nilearn/decomposition/dict_learning.py
> https://github.com/nilearn/nilearn/pull/638#discussion_r34205287:
> 
> > -                        standardize=standardize)
> > -        self.reduction = reduction
> > -        # Setting n_jobs = 1 as it is slower otherwise
> > -        MiniBatchDictionaryLearning.**init**(self, n_components=n_components, alpha=alpha,
> > -                                             n_iter=n_iter, batch_size=batch_size,
> > -                                             fit_algorithm='lars',
> > -                                             transform_algorithm='lasso_lars',
> > -                                             transform_alpha=alpha,
> > -                                             verbose=max(0, verbose - 1),
> > -                                             random_state=random_state,
> > -                                             shuffle=True,
> > -                                             n_jobs=1)
> >   +
> > -    def _init_dict(self, imgs, y=None, confounds=None):
> > -        CanICA.fit(self, imgs, y=y, confounds=confounds)
> > -        self.data_flat_ = np.concatenate(self.data_flat_, axis=0)
> 
> In my little timeit-experiment, np.ravel() was faster.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/638/files#r34205287.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
13,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:28:56,"These lines are found in both MultiPCA.fit() and .transform(). Chance both the same way for consistency? Also we could loose the itertools-import then.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
14,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:29:26,":)
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
15,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:30:27,"appears to be hardcoded path
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
16,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:32:01,"Maybe not be very specific. Perhaps more comments on the why and the motivation, rather than verbalizing the code.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
17,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-08 22:34:01,"Some people might wonder here, why the components are ""independent"".

As a random thought: perhaps extend the example into a comparison of ICA, PCA and dictionary learning?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
18,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-09 06:57:10,"This is a glitch coming from the adaptation of canica example. 
I think that a comparison would be the right example to propose.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
19,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-09 07:00:17,"I don't know if this is the right solution, but I encountered what appeared to be a bug in itertools.repeat. confounds ended up being repeat(None, 0) after being initialized at repeat(None, len(imgs)), and I could not identify why
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
20,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-09 07:00:51,"data_flat is in this case a tuple, so we need to concatenate
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
21,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-11 20:59:40,"The example is great, thx !
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
22,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-11 21:01:52,"... based on a CanICA ...
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
23,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-11 21:02:42,"???
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
24,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-11 23:35:28,"I know I am always saying this, but ""DictLearning: performs dictionary learning."" does not appear to be a crisp, high-yield explanation to me. Could we not add at least one sentence, in particular with regard to difference to PCA and ICA, perhaps?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
25,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-12 07:34:22,"+ve ?
If I undestand correctly, you compare the l1 norm of positive and negative parts, which feels right.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
26,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-12 07:34:57,"Can you clarify  /explain a bit more ?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
27,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-12 07:36:42,"- add a test for novel keep_mem=True behavior ? (not sure what to test though)
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(3, '', u'nilearn/decomposition/tests/test_canica.py')"
28,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-12 21:49:40,"Done
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(3, '', u'nilearn/decomposition/tests/test_canica.py')"
29,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-12 21:53:11,"I made it more explicit
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
30,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-13 08:16:07,"Seems to contradict the 'l1 norm' heuristic you chose ?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/tests/test_dict_learning.py')"
31,pull_request_commit_comment,638,nilearn,nilearn,bthirion,2015-07-13 08:18:34,"Actually, this seems to trigger a travis failure
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/tests/test_dict_learning.py')"
32,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-13 12:40:44,"Fixed
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/tests/test_dict_learning.py')"
33,pull_request_commit_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-14 08:42:38,"I am not very happy about this `keep_data_mem`... If it something only used in DictLearning, we should hide it from the user.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/canica.py')"
34,pull_request_commit_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-14 08:43:55,"As discussed, I'd like to be able to bootstrap the dictionary learning with KMeans. Not a big deal, I think you should just add a `init_maps` parameter and call CanICA only if it is not provided.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
35,pull_request_commit_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-14 08:45:17,"Should we propose some post-normalization of the components?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(196, '', u'nilearn/decomposition/dict_learning.py')"
36,pull_request_commit_comment,638,nilearn,nilearn,AlexandreAbraham,2015-07-14 08:55:27,"I see what you are doing with `keep_data_mem`. However, is the speed up really worth the code overhead?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/canica.py')"
37,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 09:16:56,"It is, given that otherwise we have to reload all data (filter_and_mask takes a considerable time)
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/canica.py')"
38,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:22:39,"Alternative: ""Perform Dictionary Learning: divide brain maps by linear combinations of basis functions with sparse coefficients""
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(2, '', u'nilearn/decomposition/dict_learning.py')"
39,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 09:23:41,"Plus it avoids code spaguetti, as we do not embed any masker logic within dict_learning
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/canica.py')"
40,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 09:32:08,"output of MiniBatchDictionaryLearning.fit is already normalized
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(196, '', u'nilearn/decomposition/dict_learning.py')"
41,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 09:47:08,"Actually it may make more sense to call it SparsePCA
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(2, '', u'nilearn/decomposition/dict_learning.py')"
42,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:51:01,"rather than indepedence [ICA] or orthogonality [PCA]
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
43,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:51:26,"new sentence before yield
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
44,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:52:04,"n_components = number of basis functions to learn from the data?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(41, '', u'nilearn/decomposition/dict_learning.py')"
45,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:52:52,"after the PCA to .... .
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
46,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:53:43,"You can say that faster: times-series are mean-centered and unit-variance scaled in the time dimension.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
47,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:55:03,"The part in brackets: I think I know what you mean, but it is rather unclear the way it is said here
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
48,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 09:56:14,"Defaults to 1.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
49,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 10:03:54,"As a random thought: what to do in the case of extreme collinearity?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
50,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 10:06:02,"perhaps mention that it is some kind of ""regression test"", as this caused us problems at some earlier point
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/tests/test_dict_learning.py')"
51,pull_request_commit_comment,638,nilearn,nilearn,banilo,2015-07-14 10:06:22,"vanitas
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/tests/test_dict_learning.py')"
52,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 11:48:45,"If we have components with variance 0. ? We could raise a warning
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/multi_pca.py')"
53,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 11:52:49,"It's a copy of MultiNiftiMasker docstring
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
54,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:35:43,"You cannot change the data_dir in an example. This crashes on people's computer.

My advice: just make a symlink on your computer from ~/nilearn_data to whereever is convenient.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
55,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:36:52,"Same remark here about referring to /media
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
56,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:37:14,"We should import directly from nilearn.decomposition both objects.
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
57,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:40:35,"Avoid having 3 for loops: just do one for loop, and each time, fit the estimator, save the results and plot them
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
58,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 13:55:19,"I am merging the two first loops but merging the last one would involve keeping a list of figures, I think it would make the example less readable
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
59,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:56:06,"All the attributes that are estimated from data should end with an underscore: self.dict_init_ (scikit-learn convention).
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
60,pull_request_commit_comment,638,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:57:19,"I would think that here you can use the function 'online_dict_learning' from scikit-learn, rather than the object. Is there a reason that you are using the object?
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
61,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 13:59:10,"I found it more elegant to use inheritance, and I had in mind that we could use a partial fit in the future
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
62,pull_request_commit_comment,638,nilearn,nilearn,arthurmensch,2015-07-14 14:29:36,"OK I changed this
",75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,"(None, '', u'nilearn/decomposition/dict_learning.py')"
63,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-08 09:35:00,Base code for l1 dictionary learning,50f5d957034154a5788d5f31a72601a7fd3c1e95,
64,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-08 11:55:48,Base code for l1 dictionary learning,95cba24e587d81b680fcf96f199395c67cf972f1,
65,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-08 15:40:57,Base code for l1 dictionary learning,5952515ce9cce2978570a4ba0dc12f1390b670b0,
66,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-09 07:07:12,Working on PR,2d35b9ab6d5a44f22090560da0cc184deac78ed5,
67,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-09 08:09:39,Added tests,a13ec1e8f959257f9602d86381f94c3b6f916790,
68,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-09 08:09:53,Added tests,bdd6057e1bd23e8c0c6097e86fca2a87cc828631,
69,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-09 08:11:09,PEP8,0592a6ff236f5f1a2a9f6eb02f5323a3306f8235,
70,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-12 10:23:06,Moved experimental code into seperate branch + adressed comments,d0d335eea2dbac180086caff6b731fe9a2f7d05a,
71,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-12 21:46:23,Added,b11a756374c989085046ed7f8fb332287059e6de,
72,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-12 21:48:07,Comments,d7c243b170b579136900802d28ab28c3fd5bb325,
73,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-12 21:51:18,Comments,b336e7e53be9fbbc27b8f0193f4e1efcbf0ef40d,
74,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-13 10:16:19,Improved example,c523250ec2ec0533a682af1fc866c68050c22cda,
75,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-13 12:35:22,Changed tests,02352eb8c65ba269600e5112b23797077764f217,
76,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-13 15:45:08,Changed parameters,06ec21b702d1b3b272a42dd14be081ca39dc4084,
77,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-13 16:13:42,Changed example,3850be069aff646e4f0bf14782ded9a0bd70d1a8,
78,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-13 16:21:00,Fix,591dbb00177104c750c7e377d07022e4d1aced3c,
79,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 09:36:16,Removed keep_data_mem from API,61728a7e011e6eaa206d267ba0d31634a009b0b3,
80,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 11:46:27,Travis,9b37cea5533a4a346c9225620d54bb8e4aaa35da,
81,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 11:52:07,Addressed banilo comments,daabb9296bd1a18ee96374d1ca24cdd13beefa55,
82,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 11:56:42,Cleaned dict learning api,4c361969a826c920252b190aec1e77bdcdc08731,
83,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 13:57:50,WIP,27d2724e28113ba5951302cf875bd4327d3180dd,
84,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 14:28:27,Suing dict_learning_online,e4e0e9f1c419880f66f2bb6ab21b0bc9a0d2a831,
85,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 14:30:29,__init__.py,5c2ea462677e108a33df4107aac6306bda462b2d,
86,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 15:16:27,Travis,35806e28d80cca6feecc330f5adc7b88254ae5b9,
87,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 15:38:24,Travis,643ce4b2019d214f8dd601ad541f86a6e05e5a0e,
88,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 15:50:25,Travis,89e4d41c622f7531a1b351444e5e775812e074a4,
89,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-14 16:39:57,Travis,46709296a0111a18ac46a49ca7f5d6e46bafb645,
90,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-15 08:23:21,Travis,3f13ed8999aed607cca26719f0d1735450b1a146,
91,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-15 08:33:55,Travis,0644a5c3b3f14ae5955655e89ad154a061b2fa19,
92,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-15 09:04:06,Travis,51d239238e36b143061d2aceff3e787ba463b9c8,
93,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-15 09:13:54,Travis,c207177317fd3fe1d9b22f8711f397140345522e,
94,pull_request_commit,638,nilearn,nilearn,arthurmensch,2015-07-15 12:18:44,Fixed example,75e8fe3c4f84b0b3e331f1e8e51987e92b736cb0,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,616,nilearn,nilearn,salma1601,2015-06-24 13:39:46,"displays.add_edges used to plot edges of the same image sometimes gives an error
Cannot reorder the axes: the image affine contains rotations 
",start issue,displays.add_edges error : Cannot reorder the axes
2,issue_closed,616,nilearn,nilearn,lesteve,2015-07-02 11:05:45,,closed issue,displays.add_edges error : Cannot reorder the axes
3,issue_comment,616,nilearn,nilearn,banilo,2015-06-24 13:43:36,"See also #368 
",,
4,issue_comment,616,nilearn,nilearn,lesteve,2015-06-24 13:45:20,"As discussed with @salma1601 it looks like we need to add a resample_interpolation in the reorder_img call in add_edges.

The only question is whether resample_interpolation='continuous' makes sense for all cases, e.g. how likely is it to call add_edges with a label img (in which case resample_interpolation='nearest' would make sense)?
",,
5,issue_comment,616,nilearn,nilearn,GaelVaroquaux,2015-07-02 09:56:07,"Agreed with @lesteve : we can safely assume that resample interpolation will always be continuous.
",,
6,issue_comment,616,nilearn,nilearn,lesteve,2015-07-02 11:05:45,"Fixed in ab6689a.
",,
7,issue_comment,616,nilearn,nilearn,GaelVaroquaux,2015-07-02 12:57:51,"Stop closing all the issues! Or the only thing left to do for the sprint
will be drinking beers :).

OK, we'll find things.
",,
8,issue_comment,616,nilearn,nilearn,AlexandreAbraham,2015-07-02 13:02:13,"I have plenty of issues to open if you want!
",,
9,issue_comment,616,nilearn,nilearn,GaelVaroquaux,2015-07-02 13:08:34,"> I have plenty of issues to open if you want!

If they are easy, go for it!
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,622,nilearn,nilearn,arthurmensch,2015-06-30 16:57:47,"Calling

``` python
from nilearn.masking import intersect_mask
epi_img = intersect_masks(subject_filenames)
```

raises error

```
Traceback (most recent call last):
  File ""/home/arthur/repos/internship/tools/intersection.py"", line 14, in <module>
    epi_img = intersect_masks(subject_filenames[:10])
  File ""/media/data/work/repos/nilearn/nilearn/masking.py"", line 162, in intersect_masks
    return new_img_like(mask_imgs[0], grp_mask, ref_affine)
  File ""/media/data/work/repos/nilearn/nilearn/_utils/niimg.py"", line 96, in new_img_like
    return ref_img.__class__(data, affine, header=header)
TypeError: str() takes at most 1 argument (3 given)
```

 See PR #623 for fix
",start issue,intersect_mask raises bug when given a list of filename string
2,issue_closed,622,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:42:18,,closed issue,intersect_mask raises bug when given a list of filename string
3,issue_comment,622,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:42:18,"Fixed by #623
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,642,nilearn,nilearn,mih,2015-07-13 09:42:31,,start issue,Fix path specification in LICENSE
2,issue_closed,642,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:09:25,,closed issue,Fix path specification in LICENSE
3,pull_request_title,642,nilearn,nilearn,mih,2015-07-13 09:42:31,,857fd68eff312eb4846413ed358df36461b0e79b,Fix path specification in LICENSE
4,pull_request_merged,642,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:09:25,Fix path specification in LICENSE,81ce7d8131dfdbbdc9d8b63b7db022b95d9759d4,Pull request merge from mih/nilearn:master to nilearn/nilearn:master
5,issue_comment,642,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:09:22,"Thanks! Merging
",,
6,issue_comment,642,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:27:11,"Nice catch ;)
",,
7,pull_request_commit,642,nilearn,nilearn,mih,2015-07-13 09:40:54,Fix path specification in LICENSE,857fd68eff312eb4846413ed358df36461b0e79b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,660,nilearn,nilearn,mih,2015-07-14 10:07:30,"Once the debian package is propagated to repositories, we should add it to the installation instructions.

(Original issue below)

The sources of the Debian packaging are available here:

https://github.com/hanke/nilearn/tree/debian

The packaging is self-contained in the debian/ directory. The only other change to the source tree is the removal of source-less javascript libraries. This modification is performed by the `dfsg-source-tree` target implemented in the debian/rules (Make)file. For this reason, this branch should be kept separate permanently.
",start issue,Add debian package to docs
2,issue_closed,660,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:19:15,,closed issue,Add debian package to docs
3,issue_comment,660,nilearn,nilearn,GaelVaroquaux,2015-07-14 10:19:42,"Thank Michael. I have pushed the debian branch to origin.

We'll also have to update our install instructions (rename the issue to
that).
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,674,nilearn,nilearn,dohmatob,2015-07-15 11:10:25,"See comments on issue #658 
",start issue,still fixing issue #658
2,issue_closed,674,nilearn,nilearn,lesteve,2015-07-15 12:14:38,,closed issue,still fixing issue #658
3,pull_request_title,674,nilearn,nilearn,dohmatob,2015-07-15 11:10:25,"See comments on issue #658 
",d27bee725336afd0f3b4464d05f4bf09b374fe05,still fixing issue #658
4,issue_comment,674,nilearn,nilearn,AlexandreAbraham,2015-07-15 11:23:21,"I passed a patch to fix the general issue of having 4 different lists so I don't think that your patch is necessary.
",,
5,issue_comment,674,nilearn,nilearn,AlexandreAbraham,2015-07-15 12:09:34,"Honestly, these values are not even checked. We could replace the whole thing by range(40). Is it worth spending time on this issue?
",,
6,issue_comment,674,nilearn,nilearn,AlexandreAbraham,2015-07-15 12:18:05,"OK so let's close it.
",,
7,issue_comment,674,nilearn,nilearn,lesteve,2015-07-15 11:51:03,"For reference Alex's fix was here: https://github.com/nilearn/nilearn/commit/da17372b4f4947615bcf34d7e20c3335dd3326b0

Actually I think the problem is that the asarray doesn't have an explicit dtype. @AlexandreAbraham can you add it ?
",,
8,issue_comment,674,nilearn,nilearn,lesteve,2015-07-15 12:00:01,"Oh and I forgot using 'i8' for the dtype is better than 'int' since it is more explicit. 'int' depends on the platform.
",,
9,issue_comment,674,nilearn,nilearn,lesteve,2015-07-15 12:14:37,"Good enough for now, thanks. Closing.
",,
10,pull_request_commit,674,nilearn,nilearn,dohmatob,2015-07-15 11:09:34,still fixing issue #658,d27bee725336afd0f3b4464d05f4bf09b374fe05,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 13:14:02,"Fix #650.
",start issue,Security guard in file fetching with authentication.
2,issue_closed,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:13:14,,closed issue,Security guard in file fetching with authentication.
3,pull_request_title,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 13:14:02,"Fix #650.
",40fb3e6243145ea142cc48be2d2670ff8d9ae8c9,Security guard in file fetching with authentication.
4,pull_request_merged,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:13:14,Security guard in file fetching with authentication.,3312e8ae41afa28a3ab8dcce69aa8056be2e4660,Pull request merge from AlexandreAbraham/nilearn:check_https to nilearn/nilearn:master
5,issue_comment,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:13:18,"I merge it since it's a simple one.
",,
6,pull_request_commit,713,nilearn,nilearn,AlexandreAbraham,2015-07-21 13:12:50,"Security guard in file fetching with authentication.
Fix #650.",40fb3e6243145ea142cc48be2d2670ff8d9ae8c9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,721,nilearn,nilearn,AlexandreAbraham,2015-07-24 13:41:05,"threshold can clearly not be above the number of maps. Yet, we don't check that anywhere. I think we should do it and fail with a user-friendly error message.
",start issue,"""threshold"" has no bounds in CanICA"
2,issue_closed,721,nilearn,nilearn,KamalakerDadi,2017-06-23 00:43:01,,closed issue,"""threshold"" has no bounds in CanICA"
3,issue_comment,721,nilearn,nilearn,banilo,2015-08-04 18:02:43,"I can do this.
",,
4,issue_comment,721,nilearn,nilearn,arthurmensch,2015-10-06 12:17:47,"I also think that this `threshold` parameter is confusing for the user, something between 0 and 1 would maybe be easier to understand.
",,
5,issue_comment,721,nilearn,nilearn,GaelVaroquaux,2015-10-06 14:47:06,"> I also think that this threshold parameter is confusing for the user,
> something between 0 and 1 would maybe be easier to understand.

But it cannot be between 0 and 1. The maps are not bound between zero and
one.
",,
6,issue_comment,721,nilearn,nilearn,arthurmensch,2015-10-06 15:00:51,"Then I guess we could rename it and call it active_ratio or something
similar. Right now the end user has probably no clue on why he should set
the threshold between zero and n_components.
Le 6 oct. 2015 4:47 PM, ""Gael Varoquaux"" notifications@github.com a
écrit :

> > I also think that this threshold parameter is confusing for the user,
> > something between 0 and 1 would maybe be easier to understand.
> 
> But it cannot be between 0 and 1. The maps are not bound between zero and
> one.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/721#issuecomment-145880114.
",,
7,issue_comment,721,nilearn,nilearn,souravsingh,2015-10-11 15:16:59,"I wish to work on this.How do I start?
",,
8,issue_comment,721,nilearn,nilearn,lesteve,2015-10-13 12:47:47,"We don't have documentation for contributing to nilearn unfortunately but you can check the [scikit-learn](http://scikit-learn.org/dev/developers/contributing.html#how-to-contribute) one. It has some relevant information about how to clone the nilearn repo on your local computer, run the tests, open a PR (Pull Request), etc ...

The basics is to try to understand the issue and open a PR with a tentative fix/solution which we can then discuss. 
",,
9,issue_comment,721,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:46:15,"We should put the bound in the doc too.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,673,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:10:21,"As discussed in #668 , we need to run the doctests too on travis.
",start issue,[MRG] MAINT: test docs in travis
2,issue_closed,673,nilearn,nilearn,lesteve,2015-07-17 10:28:04,,closed issue,[MRG] MAINT: test docs in travis
3,pull_request_title,673,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:10:21,"As discussed in #668 , we need to run the doctests too on travis.
",a72d117d540e74897e038d80e3f038f85e8aef40,[MRG] MAINT: test docs in travis
4,pull_request_merged,673,nilearn,nilearn,lesteve,2015-07-17 10:28:04,[MRG] MAINT: test docs in travis,14d6c6190dace791130f2008887a4c0b0dd4bf95,Pull request merge from GaelVaroquaux/nilearn:test_doc_travis to nilearn/nilearn:master
5,issue_comment,673,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:39:29,"This now finally works. Please review and merge
",,
6,issue_comment,673,nilearn,nilearn,GaelVaroquaux,2015-07-16 05:57:22,"> I started fixing the problems. However, is we decide not to allow dataset
> downloading, then I end up skipping all the doctests.

Can you send in a pull request, so that we see how much damage there is?
",,
7,issue_comment,673,nilearn,nilearn,GaelVaroquaux,2015-07-17 10:33:39,"gr8
",,
8,issue_comment,673,nilearn,nilearn,AlexandreAbraham,2015-07-15 22:42:20,"I replaced `doc/` in the `Makefile` by `find doc -name '*.rst'` and it works.

I started fixing the problems. However, is we decide not to allow dataset downloading, then I end up skipping all the doctests.
",,
9,issue_comment,673,nilearn,nilearn,AlexandreAbraham,2015-07-16 06:45:30,"#680

On Thu, Jul 16, 2015 at 7:57 AM, Gael Varoquaux notifications@github.com
wrote:

> > I started fixing the problems. However, is we decide not to allow dataset
> > downloading, then I end up skipping all the doctests.
> 
> Can you send in a pull request, so that we see how much damage there is?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/673#issuecomment-121842091.
",,
10,issue_comment,673,nilearn,nilearn,lesteve,2015-07-15 21:23:53,"For some reason, it seems like doctests are run from introduction.rst only. See https://travis-ci.org/nilearn/nilearn/jobs/71109899#L1044. Note I get the same thing if I run locally.
",,
11,issue_comment,673,nilearn,nilearn,lesteve,2015-07-17 10:28:06,"Merging this one, thanks.
",,
12,pull_request_commit_comment,673,nilearn,nilearn,banilo,2015-07-16 09:42:13,"Isn't PEP8 to have only 2 spaces before #?
",a72d117d540e74897e038d80e3f038f85e8aef40,"(5, '', u'doc/introduction.rst')"
13,pull_request_commit_comment,673,nilearn,nilearn,GaelVaroquaux,2015-07-16 11:02:19,"You're anal.
",a72d117d540e74897e038d80e3f038f85e8aef40,"(5, '', u'doc/introduction.rst')"
14,pull_request_commit,673,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:06:47,"MAINT: test docs in travis

MAINT: test docs only with matplotlib
MAINT: travis: only run doc-tests with matplotlib
MAINT: skip doc tests that vary in python versions",a72d117d540e74897e038d80e3f038f85e8aef40,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,704,nilearn,nilearn,MartinPerez,2015-07-17 13:39:49,"Solution for #691. Added a line to plot the components together as an atlas before the individual plot of the components. Updated documentation accordingly.

Here the resulting plot:
![plot_prob_atlas](https://cloud.githubusercontent.com/assets/8766915/8748265/b88dcb32-2c99-11e5-8988-3cd585aba6ce.png)
",start issue,[MRG] Plot prob atlas 691
2,issue_closed,704,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:50:40,,closed issue,[MRG] Plot prob atlas 691
3,pull_request_title,704,nilearn,nilearn,MartinPerez,2015-07-17 13:39:49,"Solution for #691. Added a line to plot the components together as an atlas before the individual plot of the components. Updated documentation accordingly.

Here the resulting plot:
![plot_prob_atlas](https://cloud.githubusercontent.com/assets/8766915/8748265/b88dcb32-2c99-11e5-8988-3cd585aba6ce.png)
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,[MRG] Plot prob atlas 691
4,pull_request_merged,704,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:50:40,[MRG] Plot prob atlas 691,c888b4ddb5e94d3da9920338eac8cc821a224ef9,Pull request merge from MartinPerez/nilearn:plot_prob_atlas_691 to nilearn/nilearn:master
5,issue_comment,704,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:05:02,"Apart from cosmetics, LGTM.
",,
6,issue_comment,704,nilearn,nilearn,MartinPerez,2015-07-17 14:09:37,"I fixed all the comments
",,
7,pull_request_commit_comment,704,nilearn,nilearn,GaelVaroquaux,2015-07-17 13:54:36,"Can you include the image here, using the 'image' directive, as elsewhere in the docs.
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
8,pull_request_commit_comment,704,nilearn,nilearn,GaelVaroquaux,2015-07-17 13:55:12,"Actually, we are showing all the components here. So I think that the comment needs to be changed.
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
9,pull_request_commit_comment,704,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:03:45,"a z coordinate map -> an axial cut
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
10,pull_request_commit_comment,704,nilearn,nilearn,lesteve,2015-07-17 14:58:28,"Interesting you had to tweak the width of the figures!
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,"(22, '', u'doc/connectivity/resting_state_networks.rst')"
11,pull_request_commit_comment,704,nilearn,nilearn,GaelVaroquaux,2015-07-19 10:57:00,"I asked for that. The single component figures looked bigger than the summary figure, and that looked wrong. 

Sent from my phone. Please forgive brevity and mis spelling

On Jul 17, 2015, 16:58, at 16:58, ""Loïc Estève"" notifications@github.com wrote:

> > ```
> > :target:
> > ```
> > 
> > ../auto_examples/connectivity/plot_canica_resting_state.html
> > -   :width: 48%
> > -   :width: 33%
> 
> Interesting you had to tweak the width of the figures!
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/704/files#r34897053
",de42e1c0cc666b93198fb56a3d3d2c98e3988c20,"(22, '', u'doc/connectivity/resting_state_networks.rst')"
12,pull_request_commit,704,nilearn,nilearn,MartinPerez,2015-07-17 13:27:04,added plot_prob_atlas to example and updated documentation,3902d5585cee6f2b731c014f23f9254aad43afad,
13,pull_request_commit,704,nilearn,nilearn,MartinPerez,2015-07-17 13:33:22,small doc fix,974ac615e396e556768ffba519d374f80e6b004c,
14,pull_request_commit,704,nilearn,nilearn,MartinPerez,2015-07-17 14:08:52,fixed link to image in rst file and cosmetics,c8086b2dc39f21d0b5cedc771e2f476844428225,
15,pull_request_commit,704,nilearn,nilearn,MartinPerez,2015-07-17 14:11:21,minor cosmetic,8dbffaef6e53a7be33d45e4cfd066ec45d7893b3,
16,pull_request_commit,704,nilearn,nilearn,MartinPerez,2015-07-17 14:38:24,extra layout minor fixes for the images in doc,de42e1c0cc666b93198fb56a3d3d2c98e3988c20,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,699,nilearn,nilearn,juhuntenburg,2015-07-17 10:07:37,"The function is used to derive the value limits for the colormap and colorbar depending on whether a symmetric colorbar is requested or not. But when the symmetric_cbar option is set to False (or chosen to be False by the 'auto' option), the colormap is still forced to be symmetric, while the colorbar is correctly unsymmetric:

symmetric_cbar=True
![symmetric_thr_2](https://cloud.githubusercontent.com/assets/6514016/8745042/227b5578-2c7c-11e5-8354-a35bd08936fe.png)

symmetric_cbar=False
![nonsymmetric_thr_2](https://cloud.githubusercontent.com/assets/6514016/8745056/3f6c6f96-2c7c-11e5-89a5-a6a5f7cdf4fd.png)
",start issue,Internal function _get_plot_stat_map_params in img_plotting does not work properly
2,issue_closed,699,nilearn,nilearn,juhuntenburg,2015-07-17 16:03:49,,closed issue,Internal function _get_plot_stat_map_params in img_plotting does not work properly
3,issue_comment,699,nilearn,nilearn,eickenberg,2015-07-17 10:15:33,"I'm slow.

> the colormap is still forced to be symmetric

Could you explain what this means?

On Fri, Jul 17, 2015 at 12:08 PM, Julia Huntenburg <notifications@github.com

> wrote:
> 
> I am working on this.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/699#issuecomment-122235414.
",,
4,issue_comment,699,nilearn,nilearn,eickenberg,2015-07-17 10:23:28,"Got it.

Yes.

Easy to fix, but points again to the deeper problem that hacking the cbar
as we did was probably not a good idea to begin with ;)

On Fri, Jul 17, 2015 at 12:17 PM, Julia Huntenburg <notifications@github.com

> wrote:
> 
> vmin is set to -vmax
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/699#issuecomment-122236731.
",,
5,issue_comment,699,nilearn,nilearn,juhuntenburg,2015-07-17 10:08:10,"I am working on this.
",,
6,issue_comment,699,nilearn,nilearn,juhuntenburg,2015-07-17 10:17:05,"vmin is set to -vmax
",,
7,issue_comment,699,nilearn,nilearn,juhuntenburg,2015-07-17 15:22:09,"symmetric_cbar=False after the fix in PR #705
![nonsymmetric_thr_2_new](https://cloud.githubusercontent.com/assets/6514016/8750517/28f7bf64-2ca8-11e5-9fa3-fce4309e8fb2.png)
",,
8,issue_comment,699,nilearn,nilearn,juhuntenburg,2015-07-17 16:01:59,"Turns out the logic was correct in the beginning and I was only confused by the doc string of plot_stat_map / plot_glass_brain. So the resolution to this issue is simply updating the doc string.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,647,nilearn,nilearn,banilo,2015-07-13 13:55:51,"Datasets.py has grown into tremendous proportions. This is an attempt to restructure this part of the code base.

The biggest share of the work is done.

There is however still a bug in the tests that makes nosetests fail. I suspect that the mock filefetcher might be the culprit....
",start issue,[MRG] Migrated dataset code
2,issue_closed,647,nilearn,nilearn,AlexandreAbraham,2015-07-17 08:29:23,,closed issue,[MRG] Migrated dataset code
3,pull_request_title,647,nilearn,nilearn,banilo,2015-07-13 13:55:51,"Datasets.py has grown into tremendous proportions. This is an attempt to restructure this part of the code base.

The biggest share of the work is done.

There is however still a bug in the tests that makes nosetests fail. I suspect that the mock filefetcher might be the culprit....
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,[MRG] Migrated dataset code
4,issue_comment,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 14:48:46,"In `nilearn/_utils/testing.py:179`:
`_mock_fetch_files = functools.partial(datasets.utils._fetch_files, mock=True)`
",,
5,issue_comment,647,nilearn,nilearn,banilo,2015-07-13 14:50:24,"> In nilearn/_utils/testing.py:179:
> _mock_fetch_files = functools.partial(datasets.utils._fetch_files, mock=True)

What about it?
",,
6,issue_comment,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 14:53:00,"So, your problem is here: `nilearn/datasets/tests/test_datasets:49`.
The line is: `datasets.utils._fetch_files = file_mock  # overwrite the actual function`

The problem is that, in `func.py` for example, `_fetch_files` is already loaded. It should therefore be:
`datasets.func._fetch_files = file_mock  # overwrite the actual function`

My advice:
- split `test_datasets` in several files (`test_func.py`...)
- adapt the line for each module.

This is a very vicious bug ;)
",,
7,issue_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:53:56,">   • split test_datasets in several files (test_func.py...)
>   • adapt the line for each module.

+1. This is good practice in general
",,
8,issue_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:19:06,"It seems that tests are failing: you probably forgot the update the description of the package data in the setup.py
",,
9,issue_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 18:26:30,"# 

## ERROR: test_func.test_fetch_haxby_simple

Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/home/varoquau/dev/nilearn/nilearn/datasets/tests/test_func.py"", line 57, in test_fetch_haxby_simple
    verbose=0)
  File ""/home/varoquau/dev/nilearn/nilearn/datasets/func.py"", line 71, in fetch_haxby_simple
    files = _fetch_files(data_dir, files, resume=resume, verbose=verbose)
  File ""/home/varoquau/dev/nilearn/nilearn/datasets/utils.py"", line 719, in _fetch_files
    raise IOError('Fetching aborted: ' + abort)
IOError: Fetching aborted: [Uncompress] unknown archive file format: /tmp/tmpqtKrmU/haxby2001_simple/aa575d1f6900a88de2047fca5c2f99bd/pymvpa-exampledata.tar.bz2

---
",,
10,issue_comment,647,nilearn,nilearn,banilo,2015-07-15 12:29:13,"Ok, this PR passes at least on my machine now
:cake: 

:neckbeard: Year, please merge this PR!
",,
11,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:28:54,"I don't think that we want _fetch_files in __init__. It's a private stuff for our own use.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/__init__.py')"
12,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:29:17,"Why the UTF-8. I would rather avoid it.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/atlas.py')"
13,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:34:05,"There should be an extra empty line here.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(352, '', u'nilearn/datasets/atlas.py')"
14,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:34:15,"Here also.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(360, '', u'nilearn/datasets/atlas.py')"
15,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:36:06,"Why can't we have a relative import here? It would be nicer.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(8, '', u'nilearn/datasets/func.py')"
16,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:53:18,"Relative import please.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(7, '', u'nilearn/datasets/struct.py')"
17,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:53:59,"""from .utils"" please. This will not work in python 3: there are no implicit absolute imports.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/struct.py')"
18,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-15 11:40:46,"there are special characters in the file that is why python complained without this line
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/atlas.py')"
19,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-15 12:00:22,"> there are special characters in the file that is why python complained
> without this line

OK.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/atlas.py')"
20,pull_request_commit_comment,647,nilearn,nilearn,AlexandreAbraham,2015-07-15 12:08:46,"Are they useful?
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/atlas.py')"
21,pull_request_commit_comment,647,nilearn,nilearn,AlexandreAbraham,2015-07-15 14:38:00,"The point of this test is to run the non-mocked code. This annotation makes the test pointless and reduce code coverage.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/tests/test_func.py')"
22,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-15 14:41:22,"Ok, but could you make a suggestion on how to fix it?

2015-07-15 16:38 GMT+02:00 Alexandre Abraham notifications@github.com:

> In nilearn/datasets/tests/test_func.py
> https://github.com/nilearn/nilearn/pull/647#discussion_r34684579:
> 
> > -    url_request = mock_request()
> > -    datasets.utils._urllib.request = url_request
> > -    datasets.utils._chunk_read_ = wrap_chunk_read_(datasets.utils._chunk_read_)
> > -    global file_mock
> > -    file_mock = FetchFilesMock()
> > -    datasets.func._fetch_files = file_mock  # overwrite the actual function
> >   +
> >   +
> >   +def teardown_tmpdata():
> > -    # remove temporary dir
> > -    global tmpdir
> > -    if tmpdir is not None:
> > -        shutil.rmtree(tmpdir)
> >   +
> >   +
> >   +@with_setup(setup_mock)
> 
> The point of this test is to run the non-mocked code. This annotation
> makes the test pointless and reduce code coverage.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/647/files#r34684579.

## 

Viele Grüße,
Danilo
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/tests/test_func.py')"
23,pull_request_commit_comment,647,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:25:44,"Can you not simply remove the decorator: what Alex is saying is that this mocking should not happen here.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/tests/test_func.py')"
24,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-16 13:00:36,"I got that. I was asking for a suggestion on how to continue with the decorators in their inital form?
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/tests/test_func.py')"
25,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-16 13:18:30,"Python complained without them. Now solved by replacing all the special characters.
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/atlas.py')"
26,pull_request_commit_comment,647,nilearn,nilearn,AlexandreAbraham,2015-07-16 13:27:49,"The solution is to have a closing functions for the test that put the original modules back instead of the mock. This is cleaner and safer.

Could be:

``` python
original_fetch_files = None
original_url_request = None
original_chunk_read = None
mock_fetch_files = None
mock_url_request = None
mock_chunk_read = None

def setup_mock():
    global original_url_request
    global mock_url_request
    mock_url_request = mock_request()
    original_url_request = datasets.utils._urllib.request
    datasets.utils._urllib.request = mock_url_request

    global original_chunk_read
    global mock_chunk_read
    mock_chunk_read = wrap_chunk_read_(datasets.utils._chunk_read_)
    original_chunk_read = datasets.utils._chunk_read_
    datasets.utils._chunk_read_ = mock_chunk_read

    global original_fetch_files
    global mock_fetch_files
    mock_fetch_files = FetchFilesMock()
    original_fetch_files = datasets.func._fetch_files
    datasets.func._fetch_files = mock_fetch_files

def teardown_mock():
    global original_url_request
    datasets.utils._urllib.request = original_url_request

    global original_chunk_read
    datasets.utils._chunk_read_ = original_chunk_read

    global original_fetch_files
    datasets.func._fetch_files = original_fetch_files
```
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(None, '', u'nilearn/datasets/tests/test_func.py')"
27,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-16 13:29:51,"solved (but does not show here)
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(352, '', u'nilearn/datasets/atlas.py')"
28,pull_request_commit_comment,647,nilearn,nilearn,banilo,2015-07-16 13:29:54,"solved (but does not show here)
",c0b14df710edcb8f87d0a1e83737d11ef1765d13,"(360, '', u'nilearn/datasets/atlas.py')"
29,pull_request_commit,647,nilearn,nilearn,lesteve,2015-06-29 14:16:49,Add test for threshold plotting bug with uint8 data,5d192cf14063f4e4ffb05b6e45f2130801dbeee6,
30,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:03:59,Change dtytpe of the data when loading them for plotting,784e4d92ea4b3c1157878a90a8f32baa96bd5d8d,
31,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:39:25,Use dtype.kind instead of dtype.type,9b65b510ffa647ad326d0b7d4abcb6f793e8fe86,
32,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:59:47,Add docstring for dtype,e2d8b721d02d0f67a468e61c0e08c5d49e703fad,
33,pull_request_commit,647,nilearn,nilearn,lesteve,2015-05-13 21:08:10,Put the sign back into glass brain plotting,053a3b89fc70c16d35b5430f8343ddb8cf635f3e,
34,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-13 10:09:59,Added option to represent negative values in glass brain. Closes #455.,c8482db64bb21d781a59c808249a51f1e5b56eab,
35,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:05:39,Fix dtype type,64fb1f2154f58501de772f9b2686523fd53de2ae,
36,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:27:36,"REL: 0.1.4.1post1 Post-relase tag:

forgotten a couple of bug fixes",0f472f231d1c4fd12d87578abb8e0817452cfbfd,
37,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-14 09:48:12,"MISC: remove unused variable

Use pyflakes, people :)",1f80239714e1f9942a67bdd52c573bf5657707aa,
38,pull_request_commit,647,nilearn,nilearn,MartinPerez,2015-07-14 10:30:29,updated reference.rst with all fetch dataset methods that were deprecated,32472c59360de4e56b4eff82c969eb4804d2be62,
39,pull_request_commit,647,nilearn,nilearn,mih,2015-07-14 12:00:02,Mention Debian package as installation option (fixes gh-660),d45e0723a0a2b2f8e94142c8d9b75e538acab675,
40,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:03:21,Add missing atlases in the reference,230d9be20e5103ab667fc992716667aeba06d402,
41,pull_request_commit,647,nilearn,nilearn,dohmatob,2015-07-14 12:59:27,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658",5610ec4566317832fb8e5780729529038716142c,
42,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-15 08:45:29,Reorganize ids in ADHD test,a4af7b39d3652219bd91056d0187e1f108b01f8b,
43,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:17:51,"BUG: fix doc tests

Fix #668",6cb1f3cec263fae738b6f489021b9e540a222e97,
44,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-13 13:51:21,Fixed color maps.,e5e40d8d5231496349f5eb98aaba8eb377519197,
45,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-13 14:20:26,Fixed the plot_connectome inheritance bug.,fd276eeb5b1e20ef4690bc486236f1bd2de4ebe5,
46,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 12:11:04,rename plot_negative to plot_abs,e94081d4e678bc1b31c75aaf9e188067de317c23,
47,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 12:27:15,added test,f2b538e74814d425a62fa2f142422f3f8df83274,
48,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 13:32:07,added comments simplified code,3c7083084e69e7ff247d9f43fd422f956b91e491,
49,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 13:32:17,fixed the demo,166abcf20d7341cb6833f5b014d215786d94a0db,
50,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 15:15:49,fixed sign,9de218a807ad6efe164bf5c853b40c1cd6701572,
51,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 15:16:02,refactor demos,b6275fc38686780da7c8185440284fe506b024f4,
52,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 15:24:55,reference the example in docstring,ea28b96c0faa220a0703ede4cb9e217eccb12083,
53,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 16:59:49,Revert zero threshold.,55104a8ea6aff53a43ac882cd153f33a33f623ef,
54,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 17:01:59,sync with upstream,7879fa0451381da967f398e7df0de0b89a4c20e8,
55,pull_request_commit,647,nilearn,nilearn,banilo,2015-05-22 19:31:03,simple exposure of new_img_like,0b00f716843b317104d634fbf7a32088e9d553cf,
56,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-11 13:15:09,new_img_like: make affine optional,cb7d88d8bb87cf9dae8b661227fbf29955cca132,
57,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-27 08:56:00,new_img_like: niimg compat,89db123e4f9214778f32f54e8b73e63fdeddf6b0,
58,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 17:20:09,Added a mention of of the new glass brain functionality.,c0ed3dff2ba1017ab901680addb117004e1973d7,
59,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-14 17:25:06,fixed identation,f20c9f732395571071cdab6d98e20b3d07325167,
60,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-15 09:42:08,PEP8,3874560f7294e16387cfdc096af960745dda21fd,
61,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-15 09:48:12,extracted common function,0b110d9f243a4c0ed80d77111e25c427183293e4,
62,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-15 11:44:36,Refactoring examples and docs.,1dde005779ea8d0054232c153a2ccbfd5ecdc3e1,
63,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-15 11:48:09,revert t map import,3ff2999e9fb9e1a86600b78fa4200f6e7cd309ca,
64,pull_request_commit,647,nilearn,nilearn,chrisfilo,2015-07-15 12:36:15,pep and small refactoring,bb7768e97cad68b1928b557f787c382c44b3ef08,
65,pull_request_commit,647,nilearn,nilearn,lesteve,2015-07-15 13:50:45,"Slight improvement of the 32-bit python fix

Using i8 dtype to be more explicit",48905c8c2b5cc32d0152cd02df83ec36a983096a,
66,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-29 19:08:01,added wrapper,549ff02e659d2dca89b77dd762568fc8faf13863,
67,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-14 11:51:12,restore circular import,777db0356ce9db8b58cd27d9a4101dde6407af4d,
68,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 11:31:32,iterm,c85016dadaf05befcd86ecc523ee0810bf2e2dd6,
69,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 14:46:10,fix im/exports,ddfa4337211f410c35e27f0dc5e8df524d9eec7d,
70,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 16:43:43,update setup.py,b9c4e32390f793a0c6798df87d1ca79eb7c223ea,
71,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 17:02:20,add missing init file,506593d4b634bf13868e64a494e7eb7428fe57c5,
72,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-16 06:17:10,cosmit,f6213772955f516913b3998ef0c020d9bb613372,
73,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:06:10,"MAINT: have 'make doc' not build example

This is a change of defaults in the Makefile",7319d624bdb5ac2663a9c7aeebf177fa13b97a62,
74,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:11:06,Use new_img_like everywhere.,6ad45285b590431c24717d3716124433ea1b75b7,
75,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:35:11,MAINT: now minimum requirement for sklearn is 0.13,62ed062e8a49bf8bf8fce95022c419153bea3726,
76,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-16 09:26:53,"MAINT: examples are not run by default for docs

Make it really sure that examples are not run by default when building
docs

Related to sphinx-gallery-#46",47a80628c7622f664fbf5785b1d2694c9f3e72af,
77,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-22 17:40:57,doccheck 2: preparation,e3ad3165be8102a942a618c7962b0fb999a9b0b4,
78,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-24 14:03:20,doccheck 2: fixes,59c59d271efb0cfca3d3e932a38cc49e70daf4f1,
79,pull_request_commit,647,nilearn,nilearn,banilo,2015-06-27 03:33:29,double-checked manipulation docs,e5b9c8cd7d97675a61686f556dd45fcf2da6b4da,
80,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-13 14:05:40,migrated dataset code,ad3e81422e35f319cd292882d8244d79f6e4b511,
81,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-13 14:13:08,del old dataset files,41d4a6f26a0e1770e80362ca3b61e146ff7ab5a4,
82,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-13 16:05:03,handle namespace problem,2848f1bfcc1cacd9458c9c43421bbdd4b7ee5d95,
83,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-16 08:34:00,cosmit,9cde8761e3ffdd68899ccd84755bab668ca78208,
84,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-16 08:58:33,integrated Loics comment,73ccc26b56f9e051138d87122cd57092cda12fd6,
85,pull_request_commit,647,nilearn,nilearn,GaelVaroquaux,2015-07-16 10:48:12,"MAINT: actually make doc not run examples

Fix the error in 84d2ca7",f056c37770afa247ba4b43ed6c98841c2ce58a70,
86,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-16 12:53:53,integrate Loics comments,54c1c8ddd9385c1f55d2deb3332dfc15a2755902,
87,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-13 16:30:58,Add test files,93c297b7d44aaace11a24efc74354052e95d8f2c,
88,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 12:24:39,improve style,00f2c669d47adb6bf8f63b2072ee037b56c61f8a,
89,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-15 12:42:23,update setup.py,a8c4a2a37be9fe539fd3b3fc3ea9061eb571a48a,
90,pull_request_commit,647,nilearn,nilearn,banilo,2015-07-16 13:24:32,solve encoding issues,de9b52bc6704731b54a4c89033feceee36c35058,
91,pull_request_commit,647,nilearn,nilearn,AlexandreAbraham,2015-07-16 16:39:04,Fix tests,c0b14df710edcb8f87d0a1e83737d11ef1765d13,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,726,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:16:15,"Changes the name of `return_raw_data` by something like `preprocessed_data`.
",start issue,SpaceNet: fetch_mixed_gambles
2,issue_closed,726,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:45:32,,closed issue,SpaceNet: fetch_mixed_gambles
3,issue_comment,726,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:45:32,"No strong feeling either, I was just stating the issue here. Closing.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,353,nilearn,nilearn,AlexandreAbraham,2015-01-16 14:02:11,"Many studies use 6mm balls around seeds to extract signal. A Masker could take these seeds and extract the corresponding signal. I already have some code to get the sphere around a seed in MNI space:

``` python
def _sqr_distance_matrix(array, affine, seed):
    # You need a lot of faith to believe in this code!
    seed = np.asarray(seed)
    # Create an array of shape (3, array.shape) containing the i, j, k indices
    indices = np.vstack((np.indices(array.shape), np.ones((1,) + array.shape)))
    # Transform the indices into original space
    indices = np.tensordot(affine, indices, axes=[[1], [0]])[:3]
    # Compute square distance to the seed
    indices = ((indices - seed[:, None, None, None]) ** 2).sum(axis=0)
    return indices


def _create_sphere(array, affine, seed, radius):
    dist = _sqr_distance_matrix(array, affine, seed)
    array[dist <= radius ** 2] = 1
```

Note that this code use a bit of memory in `_sqr_distance_matrix` and could be optimized (at the cost of execution time). But if it is called seed by seed it shouldn't be a problem.
",start issue,Create NiftiSpheresMasker (was NiftiBallsMasker)
2,issue_closed,353,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:42:33,,closed issue,Create NiftiSpheresMasker (was NiftiBallsMasker)
3,issue_comment,353,nilearn,nilearn,GaelVaroquaux,2015-01-16 14:18:54,">   • NiftiBallsMasker is a funny name in a slightly unfortunate way :) (Might
>     have to use the misnomer sphere to avoid this ...)

+1. I am the one who suggested it :$
",,
4,issue_comment,353,nilearn,nilearn,GaelVaroquaux,2015-01-20 10:21:58,"OK, to be pragmatic, in the neuroimaging litterature, the term of sphere
is widely used, eventhough it is incorrect. I think that it is used more
often than ""balls"". So let's go for ""NiftiSpheresMasker"".
",,
5,issue_comment,353,nilearn,nilearn,GaelVaroquaux,2015-01-20 21:01:23,"> More concretely, do you anticipate that people will use spheres/balls for
> somethings else than time-series extraction for seed correlation or graph
> analyses? If not, then NiftiSeedMasker might be a viable alternative.

That would be a horrible misnomer. A seed is not necessary a ball. And
the ball is not always used for seeding (eg with graph analyses). While
the sphere/ball is a small misnomer, that one would be misleading.
",,
6,issue_comment,353,nilearn,nilearn,eickenberg,2015-01-16 14:17:47,"Definitely looks like it does what it is supposed to do :)

Some cosmetics / potential benchmark questions:
- I'd use `np.concatenate([...], axis=0)` instead of `np.vstack` just to be clear what is being done
- apart from `np.tensordot`, there is also the option to just `reshape(4, -1)` and `np.dot` (probably faster). (And the slower option: `np.einsum`)
- [We may be able to transform the other way round, i.e. transform the seed into voxel space. For (up to permutation) symmetric 3x3 parts of the affine, we would then be able to just shrink or dilate along the principle axes and thus be able to use `ogrid`. But that is probably way to complicated for the simple generation of a mask]
- `None == np.newaxis`
- `NiftiBallsMasker` is a funny name in a slightly unfortunate way :) (Might have to use the misnomer _sphere_ to avoid this ...)

Why does `_create_sphere` set that part of `array` to 1? Is the rest known to be 0?
",,
7,issue_comment,353,nilearn,nilearn,AlexandreAbraham,2015-01-19 11:50:55,"> NiftiBallsMasker is a funny name in a slightly unfortunate way :) (Might have to use the misnomer sphere to avoid this ...)

Gaël suggested it and I did not change it on purpose. For the same reason, we used the word ""sphere"" instead of ""ball"" in the SearchLight code/documentation and the main feedback I had on this was ""but Searchlight uses balls, not spheres"". A sphere is a surface, a ball is a volume and people knows that. If you have a solution to make the name more serious, I'd like to know it, but I think that using ""sphere"" would be a mistake.
",,
8,issue_comment,353,nilearn,nilearn,bcipolli,2015-01-19 16:04:47,"Can the `s` be dropped?  `NiftiBallMasker` is something I'd be willing to say out loud... :)
",,
9,issue_comment,353,nilearn,nilearn,eickenberg,2015-01-20 10:00:39,"@AlexandreAbraham I am aware of the mathematical definition of these words, and even the non-mathematical definition of a sphere in Wikipedia clearly indicates that it refers to the 2D surface in 3D space. However, I think the effect of names is not to be underestimated and it is beneficial to avoid sources of awkwardness where we can ... :)

@bcipolli I think that is probably the best option. Thanks for the suggestion!

Otherwise something like `NiftiRadiusMasker` should probably be descriptive enough as well.
",,
10,issue_comment,353,nilearn,nilearn,banilo,2015-01-20 10:11:56,"Am I the only one who is forced to think of this regarding the masker name?

![image](https://cloud.githubusercontent.com/assets/3907396/5815319/091d1c1a-a095-11e4-8774-b2b92f997ef9.png)
",,
11,issue_comment,353,nilearn,nilearn,lesteve,2015-01-20 10:18:16,"> NiftiBallMasker is something I'd be willing to say out loud

Just to point it out in case it wasn't obvious already: the slightly annoying thing with NiftiBallMasker (without s) is that the other maskers use the plural: NiftiLabel**s**Masker, NiftiMap**s**Masker.
",,
12,issue_comment,353,nilearn,nilearn,banilo,2015-01-20 20:24:54,"Sorry for crashing the party, my impression is that ""sphere"" and ""ball"" is what usually comes up in method sections, where the radius is specified etc. Yet, in the (actually more often read) introduction and discussion sections frequent notions appear to be
- seed
- ROI / region of interst
- VOI / volume of interest

More concretely, do you anticipate that people will use spheres/balls for somethings else than time-series extraction for seed correlation or graph analyses? If not, then NiftiSeedMasker might be a viable alternative.
",,
13,issue_comment,353,nilearn,nilearn,banilo,2015-01-20 20:25:38,"Sorry for crashing the party, my impression is that ""sphere"" and ""ball"" is what usually comes up in method sections, where the radius is specified etc. Yet, in the (actually more often read) introduction and discussion sections frequent notions appear to be
- seed
- ROI / region of interst
- VOI / volume of interest

More concretely, do you anticipate that people will use spheres/balls for somethings else than time-series extraction for seed correlation or graph analyses? If not, then NiftiSeedMasker might be a viable alternative.
",,
14,issue_comment,353,nilearn,nilearn,eickenberg,2015-01-20 20:26:08,"""""""searchlight""""""?

On Tuesday, January 20, 2015, Danilo Bzdok notifications@github.com wrote:

> Sorry for crashing the party, my impression is that ""sphere"" and ""ball"" is
> what usually comes up in method sections, where the radius is specified
> etc. Yet, in the (actually more often read) introduction and discussion
> sections frequent notions appear to be
> - seed
> - ROI / region of interst
> - VOI / volume of interest
> 
> More concretely, do you anticipate that people will use spheres/balls for
> somethings else than time-series extraction for seed correlation or graph
> analyses? If not, then NiftiSeedMasker might be a viable alternative.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/353#issuecomment-70726147.
",,
15,issue_comment,353,nilearn,nilearn,banilo,2015-01-20 20:28:49,"> searchlight

Are you suggesting SeedMVPAMasker?
",,
16,issue_comment,353,nilearn,nilearn,bthirion,2015-01-20 20:43:35,"-1 for me. First we need homogeneity in the naming. Second, a seed is not necessary a ball (it can be  a predefined ROI, a single voxel). I think that the term does not convey an accurate idea about the object.
",,
17,issue_comment,353,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:42:33,"Fixed by #430.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,692,nilearn,nilearn,MartinPerez,2015-07-16 15:27:49,"I fixed the links of the right top corner of the banner in layout.html. Solution for issue #684
This branch only contains the correct commit to solve issue #684. Unlike #686 
",start issue,[MRG] Broken links correct branch. 
2,issue_closed,692,nilearn,nilearn,lesteve,2015-07-16 15:52:33,,closed issue,[MRG] Broken links correct branch. 
3,pull_request_title,692,nilearn,nilearn,MartinPerez,2015-07-16 15:27:49,"I fixed the links of the right top corner of the banner in layout.html. Solution for issue #684
This branch only contains the correct commit to solve issue #684. Unlike #686 
",ed2340c63a8b9624c10bbacf35f0469b3baf40d3,[MRG] Broken links correct branch. 
4,pull_request_merged,692,nilearn,nilearn,lesteve,2015-07-16 15:52:33,[MRG] Broken links correct branch. ,f524c841ebdf2afe4677e83f2a97b8a49014d7f9,Pull request merge from MartinPerez/nilearn:corrected_broken_links to nilearn/nilearn:master
5,pull_request_commit,692,nilearn,nilearn,MartinPerez,2015-07-16 15:19:06,only fixed links of right corner of banner,ed2340c63a8b9624c10bbacf35f0469b3baf40d3,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,671,nilearn,nilearn,dohmatob,2015-07-15 08:19:43,"This following fault happens, and the whole ""make doc"" process halts.  We should catch errors in line 320 return.
# Sphinx version: 1.2.2
# Python version: 2.7.6
# Docutils version: 0.11 release
# Jinja2 version: 2.7.2
# Loaded extensions:

Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/sphinx/cmdline.py"", line 253, in main
    warningiserror, tags, verbosity, parallel)
  File ""/usr/lib/python2.7/dist-packages/sphinx/application.py"", line 139, in **init**
    self._init_builder(buildername)
  File ""/usr/lib/python2.7/dist-packages/sphinx/application.py"", line 201, in _init_builder
    self.emit('builder-inited')
  File ""/usr/lib/python2.7/dist-packages/sphinx/application.py"", line 400, in emit
    results.append(callback(self, *args))
  File ""/home/parietal/dohmatob/CODE/FORKED/nilearn/doc/sphinxext/sphinxgallery/gen_gallery.py"", line 51, in generate_gallery_rst
    generate_dir_rst(directory, fhindex, examples_dir, gallery_dir, gallery_conf, plot_gallery, seen_backrefs)
  File ""/home/parietal/dohmatob/CODE/FORKED/nilearn/doc/sphinxext/sphinxgallery/gen_rst.py"", line 277, in generate_dir_rst
    backrefs = generate_file_rst(fname, target_dir, src_dir, gallery_conf, plot_gallery)
  File ""/home/parietal/dohmatob/CODE/FORKED/nilearn/doc/sphinxext/sphinxgallery/gen_rst.py"", line 570, in generate_file_rst
    make_thumbnail(first_image_file, thumb_file, 400, 280)
  File ""/home/parietal/dohmatob/CODE/FORKED/nilearn/doc/sphinxext/sphinxgallery/gen_rst.py"", line 320, in make_thumbnail
    img = Image.open(in_fname)
  File ""/usr/lib/python2.7/dist-packages/PIL/Image.py"", line 2028, in open
    raise IOError(""cannot identify image file"")
IOError: cannot identify image file
",start issue,make_thumbnails function of gen_rst.py not fault-tolerant enough
2,issue_closed,671,nilearn,nilearn,AlexandreAbraham,2015-07-15 08:23:57,,closed issue,make_thumbnails function of gen_rst.py not fault-tolerant enough
3,issue_comment,671,nilearn,nilearn,GaelVaroquaux,2015-07-15 09:18:32,"> Closed #671.

We need this fixed, though. The whole doc building framework is broken
currently, and it's penalizing the sprint a lot.
",,
4,issue_comment,671,nilearn,nilearn,GaelVaroquaux,2015-07-15 09:42:51,"> Can you clarify the problem? And why do people need to build the doc?
> 
> make doc should be working but yes, it requires heavy downloads.

Just 'make' should not require downloads
",,
5,issue_comment,671,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:15:49,"> make do not require downloads. It runs nosetests, which requires no data and
> doctest which are broken since last doc refactoring.

That's issue #668

I am on it. Almost fixed
",,
6,issue_comment,671,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:19:52,"> Adding a few # doctest: +SKIP in introduction.rst worked for me!

Sent a PR
",,
7,issue_comment,671,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:26:45,"> Just 'make' should not require downloads

We are not able to reproduce this problem. Probably a user error. This is
telling me that we need to work on developer documentation soon.
",,
8,issue_comment,671,nilearn,nilearn,AlexandreAbraham,2015-07-15 09:41:11,"Can you clarify the problem? And why do people need to build the doc?

`make doc` should be working but yes, it requires heavy downloads.
",,
9,issue_comment,671,nilearn,nilearn,AlexandreAbraham,2015-07-15 10:14:50,"> Just 'make' should not require downloads

`make` does not require downloads. It runs nosetests, which requires no data and doctest which are broken since last doc refactoring.
",,
10,issue_comment,671,nilearn,nilearn,AlexandreAbraham,2015-07-15 10:19:07,"Adding a few `# doctest: +SKIP` in `introduction.rst` worked for me!
",,
11,issue_comment,671,nilearn,nilearn,AlexandreAbraham,2015-07-15 10:27:59,"I diagnosed it in #669. It's a sphinx problem.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,682,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:37:37,"Addresses #667
",start issue,Drop sklearn 0.12
2,issue_closed,682,nilearn,nilearn,lesteve,2015-07-16 09:42:03,,closed issue,Drop sklearn 0.12
3,pull_request_title,682,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:37:37,"Addresses #667
",7ee79a139293f4f03d57f3f563ee720463b6fe94,Drop sklearn 0.12
4,pull_request_merged,682,nilearn,nilearn,lesteve,2015-07-16 09:42:03,Drop sklearn 0.12,07cb0ceb601a623482b4ac3c3c541c7eb278b868,Pull request merge from GaelVaroquaux/nilearn:drop_sklearn_012 to nilearn/nilearn:master
5,issue_comment,682,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:58:26,"Tests are passing. Merge, merge, merge!
",,
6,pull_request_commit,682,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:35:11,MAINT: now minimum requirement for sklearn is 0.13,7ee79a139293f4f03d57f3f563ee720463b6fe94,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,640,nilearn,nilearn,chrisfilo,2015-07-10 05:49:02,"As part of the datasets and/or examples.
",start issue,Add NeuroVault downloader.
2,issue_closed,640,nilearn,nilearn,KamalakerDadi,2017-05-16 15:37:27,,closed issue,Add NeuroVault downloader.
3,issue_comment,640,nilearn,nilearn,GaelVaroquaux,2015-10-13 18:55:25,"@bcipolli : do you still have this in mind? It would be awesome to have this in nilearn.
",,
4,issue_comment,640,nilearn,nilearn,bcipolli,2015-10-14 14:16:39,"@GaelVaroquaux yes, though it's low on my priority list at the moment, especially as I didn't know there's interest in it. Would be glad to work on it after SfN.

The data download should be straightforward; there are good docs and examples from https://github.com/NeuroVault/pyneurovault . Just need to port things to nilearn's downloading framework, which I'm well familiar with.

Settling on a reasonable example is the most important thing. Glad to have suggestions, or to run with @chrisfilo 's idea of running ICA on some number of maps with DOIs.
",,
5,issue_comment,640,nilearn,nilearn,GaelVaroquaux,2015-10-14 14:23:56,"> @GaelVaroquaux yes, though it's low on my priority list at the moment,
> especially as I didn't know there's interest in it. Would be glad to
> work on it after SfN.

OK. Great. It's good to have you in the loop. Keep us posted on this.

> Settling on a reasonable example is the most important thing. Glad to
> have suggestions, or to run with @chrisfilo 's idea of running ICA on
> some number of maps with DOIs.

I really like his suggestion, actually. I think that it's a great example
of using nilearn (and maybe SparsePCA will give us cooler maps :P).
",,
6,issue_comment,640,nilearn,nilearn,chrisfilo,2015-10-15 12:27:13,"I agree that ICA would be the way to go. We should filter the maps (via the
API)  to only get unthresholded ones.
On Oct 14, 2015 9:23 AM, ""Gael Varoquaux"" notifications@github.com wrote:

> > @GaelVaroquaux yes, though it's low on my priority list at the moment,
> > especially as I didn't know there's interest in it. Would be glad to
> > work on it after SfN.
> 
> OK. Great. It's good to have you in the loop. Keep us posted on this.
> 
> > Settling on a reasonable example is the most important thing. Glad to
> > have suggestions, or to run with @chrisfilo 's idea of running ICA on
> > some number of maps with DOIs.
> 
> I really like his suggestion, actually. I think that it's a great example
> of using nilearn (and maybe SparsePCA will give us cooler maps :P).
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/640#issuecomment-148065558.
",,
7,issue_comment,640,nilearn,nilearn,vsoch,2015-10-15 15:17:24,"Example here:

https://github.com/NeuroVault/pyneurovault/blob/master/examples/download_example.py#L18

It's basically a pandas data frame, and you can do traditional filtering on
it, if the pyneurovault filter function is not suitable. Please post issue
for functionality that would be desired but is not yet offered!

On Thu, Oct 15, 2015 at 5:27 AM, Chris Filo Gorgolewski <
notifications@github.com> wrote:

> I agree that ICA would be the way to go. We should filter the maps (via the
> API) to only get unthresholded ones.
> On Oct 14, 2015 9:23 AM, ""Gael Varoquaux"" notifications@github.com
> wrote:
> 
> > > @GaelVaroquaux yes, though it's low on my priority list at the moment,
> > > especially as I didn't know there's interest in it. Would be glad to
> > > work on it after SfN.
> > 
> > OK. Great. It's good to have you in the loop. Keep us posted on this.
> > 
> > > Settling on a reasonable example is the most important thing. Glad to
> > > have suggestions, or to run with @chrisfilo 's idea of running ICA on
> > > some number of maps with DOIs.
> > 
> > I really like his suggestion, actually. I think that it's a great example
> > of using nilearn (and maybe SparsePCA will give us cooler maps :P).
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/nilearn/nilearn/issues/640#issuecomment-148065558.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/640#issuecomment-148370651.

## 

Vanessa Villamia Sochat
Stanford University
(603) 321-0676
",,
8,issue_comment,640,nilearn,nilearn,GaelVaroquaux,2015-10-15 15:18:54,"nilearn doesn't have a pandas dependency so far, but I am happy adding
one.
",,
9,issue_comment,640,nilearn,nilearn,bcipolli,2015-11-06 16:47:41,"Cool. I will be giving a ""citizen science"" talk at a public library in San Diego on Nov. 15; I hope I could have this ready to present for then. So, hope to have a PR done today or tomorrow and iterate with y'all then.
",,
10,issue_comment,640,nilearn,nilearn,AlexandreAbraham,2015-11-06 16:53:55,"Gael will be off this week end but I'll be there ;).
",,
11,issue_comment,640,nilearn,nilearn,KamalakerDadi,2017-05-16 15:37:27,Closing in favour of #1182 ,,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,706,nilearn,nilearn,GaelVaroquaux,2015-07-17 16:12:52,"The best URL to grab it is
http://www.gin.cnrs.fr/AAL-217

This should be added to nilearn/datasets/atlas.py where other loaders for atlases are.

It should be a drop-in replacement for other atlases.
",start issue,Add an AAL downloader
2,issue_closed,706,nilearn,nilearn,AlexandreAbraham,2015-08-25 10:49:29,,closed issue,Add an AAL downloader
3,issue_comment,706,nilearn,nilearn,MartinPerez,2015-08-08 17:04:45,"@GaelVaroquaux By ""a drop-in replacement for other atlases"" do you mean something in addition to the implementation of the fetch_atlas function and documentation 
",,
4,issue_comment,706,nilearn,nilearn,AlexandreAbraham,2015-08-25 10:49:29,"Fixed by #758.
",,
5,issue_comment,706,nilearn,nilearn,MartinPerez,2015-07-17 16:13:07,"Im on it
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,585,nilearn,nilearn,AlexandreAbraham,2015-05-13 08:51:23,"Fix #457
- In CacheMixin, make memory levels mandatory for function `_cache`. It is logic and they are never used without them.
- Fix logic in `cache` function (if called with a valid memory, no cache)
- Add tests
- Fix cache levels for several calls
",start issue,Fix logic flaws in caching system (was Fix 457)
2,issue_closed,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:40:52,,closed issue,Fix logic flaws in caching system (was Fix 457)
3,pull_request_title,585,nilearn,nilearn,AlexandreAbraham,2015-05-13 08:51:23,"Fix #457
- In CacheMixin, make memory levels mandatory for function `_cache`. It is logic and they are never used without them.
- Fix logic in `cache` function (if called with a valid memory, no cache)
- Add tests
- Fix cache levels for several calls
",07366be1a0638c957e3b56dcc930d2909c4c505b,Fix logic flaws in caching system (was Fix 457)
4,pull_request_merged,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:40:52,Fix logic flaws in caching system (was Fix 457),9cc40b097cd63844fe6f271bbc5645391c898107,Pull request merge from AlexandreAbraham/nilearn:fix_457 to nilearn/nilearn:master
5,issue_comment,585,nilearn,nilearn,bthirion,2015-05-23 20:46:28,"Please notice a travis failure on Python 3.
",,
6,issue_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 12:14:22,"@lesteve Ready for next round ;)
",,
7,issue_comment,585,nilearn,nilearn,lesteve,2015-06-23 14:20:36,"> @lesteve Ready for next round ;)

Not clear to me what the target_resampling=None has to do with this PR. Can you enlighten me ?
",,
8,issue_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 14:23:34,"The code handling `target_resampling` was really messy and prevented me to do proper caching. I had to refactor it. I took this occasion to make it clearer.
",,
9,issue_comment,585,nilearn,nilearn,lesteve,2015-06-24 06:37:46,"Looks like you need a rebase to fix the merge conflict.
",,
10,issue_comment,585,nilearn,nilearn,lesteve,2015-06-25 12:08:16,"FYI this PR needs a rebase.
",,
11,issue_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:40:43,"OK. Thx. Merging.
",,
12,pull_request_commit_comment,585,nilearn,nilearn,bthirion,2015-05-23 20:41:09,"Could you add parentheses to help parsing ? I'm not sure I get ti right.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
13,pull_request_commit_comment,585,nilearn,nilearn,bthirion,2015-05-23 20:41:46,"And if this is not too complicated, explain the logic...
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
14,pull_request_commit_comment,585,nilearn,nilearn,bthirion,2015-05-23 20:45:53,"In general, what is the strategy to set memory_level / func_memory elvel to 1 or 2 ? Should there be a pragraph on it in the doc ?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_masker.py')"
15,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-05-23 22:19:08,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
16,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-05-23 22:24:13,"Each function has a reference memory_level (func_memory_level). If the user memory_level if equal or greater to func_memory_level, then the function is cached. The goal is, for example, to have several layers of caching. In NiftiMasker:
- level 1 only cache the output (masked data)
- level 2 will cache intermediate step of the pretreatment.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_masker.py')"
17,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-09 09:07:34,"While you are at it: typo here grater -> gr**e**ater
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
18,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-09 09:10:40,"Looks like you meant to make both `func_memory_level` and `memory_level` parameters required but didn't do it in the function signature.

Also just wondering whether something more explicit than func_memory_level could be used ... No great suggestions other than reference_memory_level though.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
19,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 09:15:15,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
20,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 09:17:15,"Is there a standard way to precise that in the doc?

Also, I'm not fond of this name but it already changed twice...
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
21,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-09 09:34:26,"You are only checking half of your comment. Maybe something like that:

``` python
memory_params = [memory_level, func_memory_level]
both_params_integers = all(isinstance(param, int) for param in memory_params)
both_params_none = all(param is None for param in memory_params)

if not (both_params_integers or both_params_none):
    raise ValueError(...)
```
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
22,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-09 11:06:30,"Sorry I wasn't clear what I meant is that you didn't do what you announced in the description of the PR.

> In CacheMixin, make memory levels mandatory for function _cache. It is logic and they are never used without them.

Both `func_memory_level` and `memory_level` are still optional parameters atm ...
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
23,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 11:28:45,"> In CacheMixin, make memory levels mandatory for function **_cache**. It is logic and they are never used without them.

I talk about function `_cache`, for which `func_memory_level` is now a mandatory parameter. `cache` is another function and can be called without them.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
24,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 11:35:46,"I like your version. Replaced!
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
25,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-12 11:54:33,"Fair enough, but then func_memory_level is optional and the docstring should be consistent.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
26,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-12 11:54:50,"same thing here, optional shouldn't have been removed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
27,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-12 11:59:32,"Fixed.

On Fri, Jun 12, 2015 at 1:54 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/_utils/cache_mixin.py
> https://github.com/nilearn/nilearn/pull/585#discussion_r32309405:
> 
> > ```
> >      The memory_level from which caching must be enabled for the wrapped
> >      function.
> > ```
> > -    memory_level: int, optional
> > -    memory_level: int
> 
> same thing here, optional shouldn't have been removed.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/585/files#r32309405.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
28,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-12 12:00:09,"Any reason why you changed func_memory_level in this file? Used to be 1 now is 2.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
29,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-12 13:54:13,"Good point! The logic is that at level 1, only the signals should be cached. And at level 2, all intermediate steps should be cached. But the level 1 is missing here.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
30,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:15:44,"For better or worse it seems that logger is used consistently in this file. Not sure that this PR is the right place to replace logger.log by print statements.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
31,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:24:10,"The use of itertools.combinations looks quite smart but you could just take the first image and make sure it has the same field of view as the remaining ones, couldn't you ?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
32,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:24:54,"It is a bit of a shame that _assert_same_fov doesn't reuse _check_same_fov given their similar functionality.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
33,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:28:15,"Don't you need to add more ignored parameters, for example memory and memory_level?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
34,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:28:33,"Maybe a short docstring would be nice
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
35,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:34:39,"Just curious, where is `_resampled_labels_img_` likely to be set prior to this statement?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(72, '', u'nilearn/input_data/nifti_labels_masker.py')"
36,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:41:44,"Seems very similar to _extract_signals in nifti_labels_masker.py. Maybe worth looking at some refactoring here.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(21, '', u'nilearn/input_data/nifti_maps_masker.py')"
37,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 07:43:52,"Do you need to ignore memory and memory_level here?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
38,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 08:07:30,"`assert_equal(a, b)` gives slightly nicer error messages than `assert_true(a == b)`.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/tests/test_cache_mixin.py')"
39,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 08:11:11,"Looking at it a bit closer, maybe from multiple calls to transform ?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(72, '', u'nilearn/input_data/nifti_labels_masker.py')"
40,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:09:35,"This is a PR to fix bugs so I took the occasion to fix other problems. I can remove it if it's necessary though.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
41,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:10:50,"It's possible but I wanted to have the best error message possible. Note that this function is called with one or two params.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
42,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:12:37,"They can be merged if I add a parameter to raise an error.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
43,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:17:40,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
44,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:19:15,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
45,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:19:43,"Yes. It is a caching system for multiple calls.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(72, '', u'nilearn/input_data/nifti_labels_masker.py')"
46,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:20:36,"Fixed
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
47,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:22:52,"I'm afraid to fix stuff since people tell me that it should be part of another PR :P.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/tests/test_cache_mixin.py')"
48,pull_request_commit_comment,585,nilearn,nilearn,lesteve,2015-06-24 10:53:24,"Can you remind me what was the problem with the logger?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
49,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 11:35:07,"Nothing but the fact that it is not consistant with the rest of the API. I know that we once talked about removing it. Gaël has also suggested another logging system to replace it.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
50,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 14:07:01,"Merged.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
51,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 15:29:53,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/tests/test_cache_mixin.py')"
52,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-02 10:53:23,"Yes, but this is not the point of this PR. This is not as trivial as it seems. In particular, this is not the only code that can be factorized. It can be merged with the code coming from NiftiSpheresMasker and Searchlight (which have very similar code too). I was thinking of a BaseElementMasker that iterates on some kind of ROI iterator (list of ROI or labels or maps). But this require a lot of work. This is the step after!
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(21, '', u'nilearn/input_data/nifti_maps_masker.py')"
53,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:37:01,"That function needs a better docstring. First, the notion of ""equivalence"" of images should be made explicit (am I right in understanding that its: same shape and affine?). Second, what the kwargs are should be detailed.

It doesn't have to be of the quality of user-facing docs, it's more a question of devs easily understanding what the function does.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
54,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:40:46,"I would prefer, for readability, still having the name of the keyword argument in the code. It serves to explain what the '1' means.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
55,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:41:04,"Same remark about keeping the name of the kwarg.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
56,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:48:13,"I'd be happier with the kwarg being explicit :)
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
57,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:48:55,"I think that in English, this is know as 'pre-processing"". ""Treatement"" being a bad translation.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
58,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:53:27,"Is there a specific reason that you removed the default value?
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
59,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:13:56,"I just wanted to make it explicit and mandatory. No strong feelings about that.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
60,pull_request_commit_comment,585,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:15:05,"> I just wanted to make it explicit and mandatory. No strong feelings about that.

I'd rather not bother people if they are not thinking about this kind of
problem: it's a valid usecase to want to cache without controling the
granularity.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/cache_mixin.py')"
61,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:21:54,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
62,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:27:14,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
63,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:27:18,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
64,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:27:30,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
65,pull_request_commit_comment,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:28:38,"Fixed.
",07366be1a0638c957e3b56dcc930d2909c4c505b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
66,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-05-13 08:34:27,Mask func_memory_level mandatory. Fix cache logic.,1185ba104fa30497f41c6e080ae74f2efdd3c629,
67,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-05-13 08:40:30,Add cache tests,710f2b010aafe2e7eb98c4255afc59858e9540ca,
68,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-05-13 08:49:02,Add tests.,0c1016dc47c671a1469f25e8686717bfbfbca127,
69,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-05-23 22:26:00,Address comments,dc04ce2dab9a344636a53bf3a6a06710adb62a28,
70,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-05-24 06:57:10,Fix P3 compat.,cc1379f572923f9434de085fad13146a96dfc9c8,
71,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 09:17:27,Fix typo,eec2c6099f1f0339d99de7bb59530226e5dcdd55,
72,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 11:32:36,Fix missing parameter names.,2130cd709e753f3bedf8d410dc482ef14c12d95a,
73,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-09 11:35:10,Better parameter check.,f33bed6553c861e49dd2d0ba8218059e068bcdde,
74,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-12 11:58:53,Fix docstrings,9d68ac6fdcc11da7388b3990a8b24f4543851863,
75,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 08:50:56,Activate level 1 caching for maps masker,951829286c6022af6e457cf1a2e6921a268ad169,
76,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 09:12:00,Do things,ebb82224b974c6e19ecd26c885c58071718e88ab,
77,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 11:09:46,Handle the `target_resampling=None` handling,063907787cd54bd3d2321bb130c24e4ab79f9f30,
78,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 11:45:04,Forgotten file in commit,9998a0f577087d0bfb1ea0ae68e8f1051e47e487,
79,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 12:01:03,Fix tests,828e66b204141a3bb6f6b89d69f16d4359bfc19a,
80,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-23 14:22:05,Add tests,d20836544187b27aa88cef9edab17b63e9c989bf,
81,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:17:29,Add forgotten ignored parameters,f1175c65c15805f9411a057bcecf21fbc0c73bc7,
82,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-24 09:28:25,Fix comments,d769ecf3f61593d97158a5fafd62c3fe210a8050,
83,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 13:32:50,Make tests Py3 compliant,bc005ae46de33b280d0f1be29ab4a2abbc04d04a,
84,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 14:02:53,Merge check_same_fov and assert_same_fov,779765b666b5cedf5458aba8e76825dd8a7530cc,
85,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 14:12:04,Fix tests,e466be090ab1cfa57239a1b6ced00d378dc4f749,
86,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-06-30 15:29:52,Fix tests,d15e296fd530172a60bd69d42a9fb8ced9d44230,
87,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-02 11:15:33,Fix tests,a040234a30e6a279fe3265f89211642d36c70ab8,
88,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-02 11:52:35,Fix backward compat,4739e9e321f7ae68794e374819d4a6125b8bbb95,
89,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-02 13:17:41,Address comments,39f9fadbf5d83e71627ca7d637ab48511e13c0da,
90,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:21:19,Better docstring for `_check_same_fov`.,c33e9214156882a276d959b250f2e661b71e9d63,
91,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:26:40,Put explicit keywork arg for `_cache`,31de368bbce60709d4ded78b20dd012e2685df04,
92,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:28:14,Fix typo,d8556a7106f4da85de29900613ec49c8de669fce,
93,pull_request_commit,585,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:18:15,Put `func_memory_level=1` as default,07366be1a0638c957e3b56dcc930d2909c4c505b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,615,nilearn,nilearn,banilo,2015-06-22 17:42:31,,start issue,[MRG] doccheck 2: preparation
2,issue_closed,615,nilearn,nilearn,lesteve,2015-07-16 10:11:22,,closed issue,[MRG] doccheck 2: preparation
3,pull_request_title,615,nilearn,nilearn,banilo,2015-06-22 17:42:31,,b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,[MRG] doccheck 2: preparation
4,pull_request_merged,615,nilearn,nilearn,lesteve,2015-07-16 10:11:22,[MRG] doccheck 2: preparation,478b812fbfc250c6eb55bdff63018de8c6840163,Pull request merge from banilo/nilearn:doccheck to nilearn/nilearn:master
5,issue_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:55:46,"Great improvements, as usual!
",,
6,issue_comment,615,nilearn,nilearn,banilo,2015-06-24 14:04:27,"Thx for the pointers, just updated this one.
",,
7,issue_comment,615,nilearn,nilearn,AlexandreAbraham,2015-07-06 21:05:57,"@lesteve can you do a pass on @banilo's PR?
",,
8,issue_comment,615,nilearn,nilearn,lesteve,2015-07-16 10:11:20,"Merging, thanks a lot!
",,
9,issue_comment,615,nilearn,nilearn,banilo,2015-07-16 09:10:25,":octocat: Nice PR, merge it now!
",,
10,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:42:16,"Rather than?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
11,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:43:43,"MIssing period at the end of the sentence?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
12,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:46:27,"Look, maybe there are too much look in this look.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
13,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:48:04,"We wanted to avoid the word `preprocessing` that is specific to operations applied before what we do here.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
14,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:49:12,"I think we can explicitely cite fslview.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
15,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:52:34,"Referring to my previous note. If you use `preprocessing` here, people may be troubled because you call smoothing itself `preprocessing`. 
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
16,pull_request_commit_comment,615,nilearn,nilearn,AlexandreAbraham,2015-06-23 07:54:42,"I don't know if the addition of `topographically` will make sense to most of the readers.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
17,pull_request_commit_comment,615,nilearn,nilearn,banilo,2015-06-24 14:00:02,"looky looky
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
18,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:08:09,"You are removing part of the meaning of this sentence as I understand it, i.e. that the default parameters are set to commonly used values. Maybe ""with commonly used parameters as defaults""?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
19,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:09:24,"I am not convinced dynamically adds anything here, especially given our target audience.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
20,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:10:43,"Just curious, does using a masker really qualify as feature engineering ?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(139, '', u'doc/manipulating_visualizing/data_preparation.rst')"
21,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:11:24,"typo: arugment -> argument
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
22,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:13:14,"""for"" sounds weird, maybe ""by"" or maybe just stops the sentence as ""visualize it"".
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
23,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:14:09,"it's -> its
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
24,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:17:45,"I find resampling clearer, but that may be me and the fact that I don't really understand what ""constellations of brain voxel data"" means.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
25,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:21:37,"why ""typically""? IIRC you have to pass it in millimeter to the function, right?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
26,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:22:17,"""the"" sounds better to me.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
27,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:23:26,"""typically wants"" -> ""may want""
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
28,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:24:46,"I think you need adjectives here, so:
- slowly -> slow
- abruptly -> abrupt
- transiently -> transient
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
29,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:26:19,"Also why did you remove the note about detrend=False by default although it is probably a good idea to set it to True in general ?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
30,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:27:09,"Oops sorry scratch the last comment.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
31,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:31:46,"""regions cannot spatially overlap"" is quite redundant with ""(i.e., regions cannot overlap)""
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
32,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:34:36,"""these the"" pick one between the two
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
33,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:38:34,"either stick to ""corresponding"" or switch to ""that corresponds""
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
34,pull_request_commit_comment,615,nilearn,nilearn,lesteve,2015-07-13 14:40:51,"what was wrong with ""and is referred as background""?
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
35,pull_request_commit_comment,615,nilearn,nilearn,banilo,2015-07-16 08:40:51,"Ok.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
36,pull_request_commit_comment,615,nilearn,nilearn,banilo,2015-07-16 08:44:34,"yes. Feature Agglomeration woould be plain Masking, but Feature Engineering implies something smarter than just selecting.
",b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,"(139, '', u'doc/manipulating_visualizing/data_preparation.rst')"
37,pull_request_commit,615,nilearn,nilearn,banilo,2015-06-22 17:40:57,doccheck 2: preparation,5d9a0e6cfff5c7be24adfebdb1f977b75eb38b30,
38,pull_request_commit,615,nilearn,nilearn,banilo,2015-06-24 14:03:20,doccheck 2: fixes,8c52a635532461c6fef06890abcc8261814dcf14,
39,pull_request_commit,615,nilearn,nilearn,banilo,2015-07-16 08:58:33,integrated Loics comment,b6e3995d51f6dc9097f6a6ea4463ce3da3604eb2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,733,nilearn,nilearn,lesteve,2015-07-29 07:08:14,"For new files, I think we should try to stive for PEP8 perfection ... running autopep8 on the SpaceNet files would be really appreciated.

```
❯ pep8 nilearn/decoding | grep -v searchlight
nilearn/decoding/objective_functions.py:301:29: E128 continuation line under-indented for visual indent
nilearn/decoding/proximal_operators.py:45:36: E701 multiple statements on one line (colon)
nilearn/decoding/proximal_operators.py:73:13: W503 line break before binary operator
nilearn/decoding/proximal_operators.py:77:15: E128 continuation line under-indented for visual indent
nilearn/decoding/proximal_operators.py:78:15: E128 continuation line under-indented for visual indent
nilearn/decoding/proximal_operators.py:169:33: W503 line break before binary operator
nilearn/decoding/proximal_operators.py:249:53: E202 whitespace before ')'
nilearn/decoding/proximal_operators.py:250:29: E128 continuation line under-indented for visual indent
nilearn/decoding/proximal_operators.py:295:35: E714 test for object identity should be 'is not'
nilearn/decoding/space_net.py:143:9: E128 continuation line under-indented for visual indent
nilearn/decoding/space_net.py:413:26: W503 line break before binary operator
nilearn/decoding/space_net.py:649:12: E714 test for object identity should be 'is not'
nilearn/decoding/space_net.py:679:12: E714 test for object identity should be 'is not'
nilearn/decoding/space_net.py:721:13: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:722:24: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:746:49: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:748:46: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:749:12: E714 test for object identity should be 'is not'
nilearn/decoding/space_net.py:749:33: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:750:29: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:751:13: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:757:17: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:765:27: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:766:13: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:769:13: E701 multiple statements on one line (colon)
nilearn/decoding/space_net.py:773:27: E701 multiple statements on one line (colon)
nilearn/decoding/space_net_solvers.py:57:19: W503 line break before binary operator
nilearn/decoding/space_net_solvers.py:86:13: W503 line break before binary operator
nilearn/decoding/space_net_solvers.py:159:48: E128 continuation line under-indented for visual indent
nilearn/decoding/space_net_solvers.py:189:44: E128 continuation line under-indented for visual indent
nilearn/decoding/space_net_solvers.py:210:22: W503 line break before binary operator
nilearn/decoding/space_net_solvers.py:223:13: W503 line break before binary operator
nilearn/decoding/space_net_solvers.py:238:31: E127 continuation line over-indented for visual indent
nilearn/decoding/space_net_solvers.py:239:31: E127 continuation line over-indented for visual indent
nilearn/decoding/space_net_solvers.py:278:57: E128 continuation line under-indented for visual indent
nilearn/decoding/space_net_solvers.py:298:27: E127 continuation line over-indented for visual indent
nilearn/decoding/space_net_solvers.py:299:27: E127 continuation line over-indented for visual indent
nilearn/decoding/space_net_solvers.py:340:63: E128 continuation line under-indented for visual indent
nilearn/decoding/space_net_solvers.py:537:1: W293 blank line contains whitespace
nilearn/decoding/tests/simulate_graph_net_data.py:18:5: E266 too many leading '#' for block comment
nilearn/decoding/tests/simulate_graph_net_data.py:28:5: E266 too many leading '#' for block comment
nilearn/decoding/tests/simulate_graph_net_data.py:37:5: E266 too many leading '#' for block comment
nilearn/decoding/tests/simulate_graph_net_data.py:49:5: E266 too many leading '#' for block comment
nilearn/decoding/tests/test_fista.py:6:36: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_fista.py:7:36: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_fista.py:8:36: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_fista.py:54:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_fista.py:55:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_fista.py:56:32: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_fista.py:57:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_fista.py:59:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_same_api.py:114:35: E127 continuation line over-indented for visual indent
nilearn/decoding/tests/test_same_api.py:115:35: E127 continuation line over-indented for visual indent
nilearn/decoding/tests/test_same_api.py:151:31: E127 continuation line over-indented for visual indent
nilearn/decoding/tests/test_same_api.py:156:23: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_same_api.py:157:23: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_same_api.py:159:25: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_same_api.py:160:25: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_same_api.py:187:25: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_same_api.py:188:25: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_sklearn_compatibility.py:16:30: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_sklearn_compatibility.py:27:25: E122 continuation line missing indentation or outdented
nilearn/decoding/tests/test_smooth_lasso.py:132:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:133:52: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_smooth_lasso.py:134:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:150:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:152:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:173:54: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_smooth_lasso.py:174:13: W503 line break before binary operator
nilearn/decoding/tests/test_smooth_lasso.py:175:56: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_smooth_lasso.py:193:13: W503 line break before binary operator
nilearn/decoding/tests/test_smooth_lasso.py:241:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:242:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_smooth_lasso.py:243:5: E731 do not assign a lambda expression, use a def
nilearn/decoding/tests/test_space_net.py:28:1: E402 module level import not at top of file
nilearn/decoding/tests/test_space_net.py:30:1: E402 module level import not at top of file
nilearn/decoding/tests/test_space_net.py:98:5: E129 visually indented line with same indent as next logical line
nilearn/decoding/tests/test_space_net.py:155:22: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_space_net.py:156:22: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_tv.py:22:30: E128 continuation line under-indented for visual indent
nilearn/decoding/tests/test_tv.py:23:30: E124 closing bracket does not match visual indentation
```
",start issue,SpaceNet : autopep8
2,issue_closed,733,nilearn,nilearn,lesteve,2015-07-31 10:37:57,,closed issue,SpaceNet : autopep8
3,issue_comment,733,nilearn,nilearn,lesteve,2015-07-31 10:38:07,"Fixed by #739.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,645,nilearn,nilearn,amadeuskanaan,2015-07-13 10:33:38,"needs another look at edge thresholding
",start issue,power 264 connectome example
2,issue_closed,645,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:30:03,,closed issue,power 264 connectome example
3,pull_request_title,645,nilearn,nilearn,amadeuskanaan,2015-07-13 10:33:38,"needs another look at edge thresholding
",eef22342780686978953425805d47cdf1809b838,power 264 connectome example
4,issue_comment,645,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:29:55,"Thanks for your work, I'm going to take care of the last details in another PR.
",,
5,issue_comment,645,nilearn,nilearn,lesteve,2015-07-17 10:42:20,"The example doesn't work for me because power_coords is an array with a dtype=[('x', '<i8'), ('y', '<i8'), ('z', '<i8')] and shape (264,).

The definition for power_coords needs to be amended:

``` python
power_coords = power.rois[['x', 'y', 'z']]
```

I believe you need to use a vstack as in examples/connectivity/plot_probabilistic_atlas_extraction.py
",,
6,issue_comment,645,nilearn,nilearn,lesteve,2015-07-17 17:02:17,"vstack sounds good enough to me, not strong difference in pythonicity.
",,
7,issue_comment,645,nilearn,nilearn,amadeuskanaan,2015-07-16 09:41:17,"done
",,
8,issue_comment,645,nilearn,nilearn,amadeuskanaan,2015-07-17 10:49:54,"i could use vstack or 

``` python
power_coords = [(i[1], i[2], i[3]) for i in power.rois]
```

whats more pythonic ?
",,
9,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:35:10,"This is equivalent to: `power_coords = power.rois[['x', 'y', 'z']]`.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
10,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:39:59,"`datasets.fetch_adhd(n_subjects=1)`
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
11,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:41:38,"Missing blank line for PEP8 compliance.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
12,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:13:12,"Could you remove this empty line.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
13,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:14:42,"Could you install a pep8 checker: this code does not satisfy pep8 standard (it has whitespace surrounding equal signs in the keyword arguments).
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
14,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:16:13,"pep8 violation here also.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
15,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:16:46,"I would remove the line above.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
16,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:00:52,"present progressive does not appear the most natural style choice at this point
",eef22342780686978953425805d47cdf1809b838,"(2, '', u'examples/connectivity/plot_power_connectome.py')"
17,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:02:38,"A minor thing but: beginners could be wondering why you are switching between `plt` and `plotting`. Perhaps simply?
",eef22342780686978953425805d47cdf1809b838,"(69, '', u'examples/connectivity/plot_power_connectome.py')"
18,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:03:43,"perhaps add: negated = partial correlations
",eef22342780686978953425805d47cdf1809b838,"(75, '', u'examples/connectivity/plot_power_connectome.py')"
19,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:27:41,"Fixed.
",eef22342780686978953425805d47cdf1809b838,"(2, '', u'examples/connectivity/plot_power_connectome.py')"
20,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:28:24,"plt is pyplot, plotting is nilearn. There is no simple way to handle it.
",eef22342780686978953425805d47cdf1809b838,"(69, '', u'examples/connectivity/plot_power_connectome.py')"
21,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:29:42,"This is not partial correlation but sparse inverse covariance.
",eef22342780686978953425805d47cdf1809b838,"(75, '', u'examples/connectivity/plot_power_connectome.py')"
22,pull_request_commit_comment,645,nilearn,nilearn,banilo,2016-02-22 16:01:35,"what signals? ""resting-state signals"" could make this sentence more explict
",eef22342780686978953425805d47cdf1809b838,"(5, '', u'examples/connectivity/plot_power_connectome.py')"
23,pull_request_commit_comment,645,nilearn,nilearn,banilo,2016-02-22 16:05:54,"That is a lot of steps in one line for a tutorial example. In particular, perhaps do the `arctanh` in a separate line with a comment why you do this scaling.
",eef22342780686978953425805d47cdf1809b838,"(42, '', u'examples/connectivity/plot_power_connectome.py')"
24,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:01:58,initial commit,f8cdb242bdea44ac787e3b95a40c3a42009d2c35,
25,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:32:22,initial commit,f6576e710ac5d424e08e850df8c0a7a47f1e6bdd,
26,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 12:20:11,various,9369cad6560c954b71b3716b194679c2cdb94318,
27,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-16 09:40:15,"pep8  checker, description of example",eef22342780686978953425805d47cdf1809b838,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,560,nilearn,nilearn,banilo,2015-04-24 13:02:59,"I tried to use NiftiMasker.transform() on a 3600-sample 4d nifti image (~6GB of memory). This does freeze my computer (16GB memory) when trying to apply transform() on the full 4d image, yet does not when transforming individual 3d images of the 4d nifti image successively. Mask and 4d nifti are in the same space (i.e., no resampling). Sorry for the anecdotal evidence.

Might there be a memory issue in NiftiMasker.transform()?
",start issue,masker.transform() on 4d image crashes computer
2,issue_closed,560,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:31:13,,closed issue,masker.transform() on 4d image crashes computer
3,issue_comment,560,nilearn,nilearn,GaelVaroquaux,2015-04-24 15:20:41,"I am sorry. My crystal ball is not working currently. I'll try to call
the 33 to have it fixed.
",,
4,issue_comment,560,nilearn,nilearn,GaelVaroquaux,2015-04-24 15:58:01,"> Until the crystal ball is working again, I could provide a tar ball with the
> used files to reproduce...

And code
",,
5,issue_comment,560,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:39:10,"Should be fixed by #614. Can you try?
",,
6,issue_comment,560,nilearn,nilearn,AlexandreAbraham,2015-04-24 13:37:39,"My guess is that NiftiMasker.transform() will force loading of the data in memory instead of using memmapped data, blowing up your memory.
",,
7,issue_comment,560,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:31:13,"Superseded by #715. Closing this one as the other has more discussions.
",,
8,issue_comment,560,nilearn,nilearn,banilo,2015-04-24 15:54:30,"Until the crystal ball is working again, I could provide a tar ball with the used files to reproduce...

Sent from my iPhone

> On 24 Apr 2015, at 17:20, Gael Varoquaux notifications@github.com wrote:
> 
> I am sorry. My crystal ball is not working currently. I'll try to call
> the 33 to have it fixed.
> —
> Reply to this email directly or view it on GitHub.
",,
9,issue_comment,560,nilearn,nilearn,banilo,2015-04-27 15:32:10,"Here is code + data.

https://dl.dropboxusercontent.com/u/4403154/mtransform.zip

Hope it helps
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,728,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:19:47,"@bthirion : my comment was: 'int, a cv generator instance, or None (default 10)' could be replaced by
'int, a sklearn.cross_validation.CrossValidation generator instance, or None (default 10)'
",start issue,SpaceNet: SpaceNetRegressor documentation
2,issue_closed,728,nilearn,nilearn,dohmatob,2015-07-29 11:35:51,,closed issue,SpaceNet: SpaceNetRegressor documentation
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,653,nilearn,nilearn,mih,2015-07-13 17:28:42,,start issue,Generalize example README to cover package-based installations
2,issue_closed,653,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:48:22,,closed issue,Generalize example README to cover package-based installations
3,pull_request_title,653,nilearn,nilearn,mih,2015-07-13 17:28:42,,60d2a1bd4907c8f1ad3393557b087d4a7df3dae4,Generalize example README to cover package-based installations
4,pull_request_merged,653,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:48:22,Generalize example README to cover package-based installations,8173e578d6ad81f51ef9eb26a8b0f6d786a48434,Pull request merge from mih/nilearn:master to nilearn/nilearn:master
5,issue_comment,653,nilearn,nilearn,GaelVaroquaux,2015-07-13 17:40:27,"LGTM. Merging.
",,
6,pull_request_commit,653,nilearn,nilearn,mih,2015-07-13 17:27:23,Generalize example README to cover package-based installations,60d2a1bd4907c8f1ad3393557b087d4a7df3dae4,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,730,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:22:30,"_graph_net_adjoint_data_function
@bthirion : what is the meaning of [the] output vector ?

_tvl1_objective_from_gradient
@bthirion : Returns...
",start issue,SpaceNet: doc of the returned object (again)
2,issue_closed,730,nilearn,nilearn,dohmatob,2015-07-31 10:55:48,,closed issue,SpaceNet: doc of the returned object (again)
3,issue_comment,730,nilearn,nilearn,dohmatob,2015-07-31 10:55:48,"Fixed.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,700,nilearn,nilearn,GaelVaroquaux,2015-07-17 10:37:51,"This test is much much too slow. Someone should look at it and see if we can make it faster.
",start issue,Slow test: nilearn.image.tests.test_resampling.test_resample_img_segmentation_fault 
2,issue_closed,700,nilearn,nilearn,lesteve,2015-08-24 13:36:26,,closed issue,Slow test: nilearn.image.tests.test_resampling.test_resample_img_segmentation_fault 
3,issue_comment,700,nilearn,nilearn,AlexandreAbraham,2015-08-05 07:24:54,"Linked to #736. By using ulimit, we can reduce the memory available and maybe trigger the segfault faster.
",,
4,issue_comment,700,nilearn,nilearn,lesteve,2015-08-05 08:07:41,"> Linked to #736. By using ulimit, we can reduce the memory available and maybe trigger the segfault faster.

Not entirely sure this is true. The segmentation fault is due to an int32 array index wrapping over IIRC.
",,
5,issue_comment,700,nilearn,nilearn,AlexandreAbraham,2015-08-05 08:16:09,"OK, my bad!
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,675,nilearn,nilearn,dohmatob,2015-07-15 11:40:42,"See comments on issue #658 
",start issue,Minor issues
2,issue_closed,675,nilearn,nilearn,lesteve,2015-07-15 11:52:15,,closed issue,Minor issues
3,pull_request_title,675,nilearn,nilearn,dohmatob,2015-07-15 11:40:42,"See comments on issue #658 
",151ff24f25198d9aece2a387d16f745f10c216df,Minor issues
4,issue_comment,675,nilearn,nilearn,lesteve,2015-07-15 11:52:15,"Closing as most changes pertain to sphinx-gallery. Also the fault tolerance for the examples is debatable ...
",,
5,pull_request_commit,675,nilearn,nilearn,dohmatob,2015-07-15 09:15:19,Inserted full-stops at end of docstring one-liners,4d17bb7b873aaa5b57e77b01d651da90abd856fc,
6,pull_request_commit,675,nilearn,nilearn,dohmatob,2015-07-15 09:15:37,fixups,a8c5575bd6b631fe19a89d4d25326100b7121d06,
7,pull_request_commit,675,nilearn,nilearn,dohmatob,2015-07-15 09:18:12,more punctuation,a88b0e2abe15164eb7f971a04788a44cb9fb2678,
8,pull_request_commit,675,nilearn,nilearn,dohmatob,2015-07-15 09:54:49,pep8 + fix for issue #671,ec1d31eafa79571dbb6806373213f012966a4eb1,
9,pull_request_commit,675,nilearn,nilearn,dohmatob,2015-07-15 11:39:09,fixups,151ff24f25198d9aece2a387d16f745f10c216df,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,691,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:48:27,"In the CanICA example, we should add after CanICA runs and before the for loop on all maps, a plotting of the whole set of maps in one figure.
",start issue,Add the new plot_prob_atlas to display the canica maps
2,issue_closed,691,nilearn,nilearn,lesteve,2015-07-20 06:49:12,,closed issue,Add the new plot_prob_atlas to display the canica maps
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,219,nilearn,nilearn,dohmatob,2014-06-27 09:16:58,"- Supports TV-l1 and S-LASSO priors
- Supports logistic and squared losses
- Has cross validation
- Can automatically select alpha by CV (+ automatic computation of useful alpha ranges for the CV)
- Warning: User must supply l1_ratio
",start issue,(WIP) Sparse models: S-LASSO and TV-l1
2,issue_closed,219,nilearn,nilearn,dohmatob,2015-07-14 07:45:53,,closed issue,(WIP) Sparse models: S-LASSO and TV-l1
3,pull_request_title,219,nilearn,nilearn,dohmatob,2014-06-27 09:16:58,"- Supports TV-l1 and S-LASSO priors
- Supports logistic and squared losses
- Has cross validation
- Can automatically select alpha by CV (+ automatic computation of useful alpha ranges for the CV)
- Warning: User must supply l1_ratio
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,(WIP) Sparse models: S-LASSO and TV-l1
4,issue_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:22:16,"prox_tv_l1.py should be merged with operators.py
",,
5,issue_comment,219,nilearn,nilearn,agramfort,2014-06-27 14:14:58,"no example with TV L1?
",,
6,issue_comment,219,nilearn,nilearn,agramfort,2014-06-27 14:51:22,"tests pass in 5s on my box + 88% coverage. Good job.

just a note on the smooth lasso example I am not really able to see something on the score graph.

that's it for me now
",,
7,issue_comment,219,nilearn,nilearn,agramfort,2014-06-27 16:11:54,"how about poldrack's data?
",,
8,issue_comment,219,nilearn,nilearn,agramfort,2014-06-27 17:00:27,"can you share with me your script on PMG?
",,
9,issue_comment,219,nilearn,nilearn,agramfort,2014-06-28 13:19:31,"pretty nice !

the selected alpha seems a bit weird to me. I thought that Gael wanted to
select one alpha per fold and average the weights rather than refit?
",,
10,issue_comment,219,nilearn,nilearn,agramfort,2014-06-28 18:34:34,"ok let me know when I shall review again.
",,
11,issue_comment,219,nilearn,nilearn,agramfort,2014-07-03 09:53:48,"@dohmatob let us now when you're done addressing all our comments
",,
12,issue_comment,219,nilearn,nilearn,agramfort,2014-07-10 08:24:26,"we'll discuss tomorrow at NS
",,
13,issue_comment,219,nilearn,nilearn,agramfort,2014-09-03 10:35:06,"class SpatialNet(object):

:)

besides I love the idea.
",,
14,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:04:14,"As a general comment, I think that the sparse_model folder should be a sub-folder of the 'decoding' folder.
",,
15,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:12:07,"With insight, and to have a path for forward migration, I suggest that we have one unique object for SmoothLasso and TV-l1. The benefit is that it would reduce the number of lines of code now, and even more in the future when we add more spatial penalties. We could call it 'SpatialNet', to be a bit tongue in cheak :).

So, the prototype of this class would be something like:

<pre>
class SpatialNet:
   def __init__(self, penalty='smooth-lasso', mask=None, ...(usual stuff)):
       ...
  def fit(self, niimgs):
     # Note that here fit takes niimgs, so you will have to use a NiftiMasker to learn a mask
     # see the MultiPCA code in nilearn. As in the MultiPCA code, mask given in fit can be a niimg or a NiftiMasker, if None, a NiftiMasker is used.
</pre>
",,
16,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:13:48,"The above change actually requires bit of work. I suggest to plan work like this:
- First address comments above on current code base
- Second, merge the TVL1 and SmoothLasso object with still fit taking arrays (always keep you testcase passing)
- Last, adapt the object to accept niimgs
",,
17,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:46:11,"The tests are failing on my box and on travis. You should fix them before doing any changes.
",,
18,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:34:11,"By the way, with regards to the name: 'SpatialNet', or 'SpaceNet'? :)
",,
19,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 14:47:44,"@dohmatob : we have made a lot of comments. Before moving to the refactoring, could you please ping me when you are done with them. That way we can discuss the refactoring based on the new code.
",,
20,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-04 15:23:44,"Yes, I still have tests failing. You need to get rid of the backports for the tests to pass, as these backports are incompatible with the current version of scikit-learn.
",,
21,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-08 09:01:27,"> Ping @GaelVaroquaux I hope your tests are passing now.

Not quite yet, but I fixed that, and sent you a PR:
https://github.com/dohmatob/nilearn/pull/1

Could you please merge that in your branch.
",,
22,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-10 09:12:25,"Not the fista optimizer, which is fairly generic. But I guess that the rest can probably be in the same file. Let's see how it goes, and we can judge based on the result.
",,
23,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-10 09:16:49,"Note that, based on earlier comments, you can still remove some code from the corresponding files. For instance the plotting code should (for now) be in the example, not in the codebase, and the *CV object definitions should simply be removed.
",,
24,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 17:06:58,"Still a lot of minor details to be changed (I had already mentioned that I didn't want to support mask=None).

Once you are done with all the changes (please go over your code fully to make sure that you haven't left anything and that the code looks clean), could you paste an image of the output of your example with the corresponding run-time.
",,
25,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 17:15:09,"As a general remark, you are skipping a lot of tests. This is not good.
",,
26,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:11:17,"I just ran the haxby example. Good job. It runs out of the box, in a pretty decent run time. And the results look good. For future reference, on my laptop, using a single core:
- TV-l1 takes 1564s = 26min to run
- Smooth lasso takes 249s = 4mn to run

The maps look very, very similar (but they are actually different):

TV-1:
![space_net_haxby](https://cloud.githubusercontent.com/assets/208217/4620210/64aa158a-531d-11e4-880e-87c2287178bf.png)

Smooth-lasso:
![space_net_haxby_smooth_lasso](https://cloud.githubusercontent.com/assets/208217/4620214/7098553c-531d-11e4-8ccf-13120b81cafb.png)
",,
27,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:33:21,"Something that remains to be done is to have two classes, one SpaceNetClassifier and the other SpaceNetRegressor. I'd also like the option to use the squared loss to be available in the classification settings.
",,
28,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 05:31:50,"The fact that smooth-lasso and TV-l1 looked exactly similar felt very fishy to me. It took me a long time to realize what was wrong.

The problem is that you are using the mask_vt, which is a tiny mask. Thus, once you apply feature screening, there is very little left in the mask.

**First action point**

In general, we feel that SpaceNet is best designed for full brain use. Thus you need to change the definition of the masker in the example to:

<pre>
nifti_masker = NiftiMasker(mask_strategy='epi', standardize=True)
</pre>

Once this is done, the results make more sens (I'll post figures when computations are finished).

**Second action point**

Because users will fall in this trap, we need to express the percentile of voxels kept as a volumetric percentile with regards to a full brain. For this:
- I would like you to compute the volume in a standard brain (/usr/share/fsl/data/standard/MNI152_T1_1mm_brain_mask.nii.gz)
- When you are given a mask, in space_net, you should compute it's volume, and use the ratio of the two to adjust the screening percentile.
",,
29,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 11:57:20,"I don't see the change in EarlyStopping. Did you forget to add it?
",,
30,issue_comment,219,nilearn,nilearn,dohmatob,2014-06-28 16:34:35,"The legend about the selected alpha is just for information. The grand final weights map is still an average of the maps corresponding to the best models per fold, as intended. So we are fine. Good remark though.
",,
31,issue_comment,219,nilearn,nilearn,dohmatob,2014-06-30 09:39:41,"OK, I'll have a look after launch.
",,
32,issue_comment,219,nilearn,nilearn,dohmatob,2014-06-30 16:04:03,"@agramfort  You may resume reviewing.
",,
33,issue_comment,219,nilearn,nilearn,dohmatob,2014-06-30 16:04:30,"Ok.
",,
34,issue_comment,219,nilearn,nilearn,dohmatob,2014-07-10 07:30:02,"Hurray! ""TV-l1"" deconvolution using an appropriate primal-dual (re-)formulation. In a sense, this is the 'optimal' scheme (the 'book' scheme) for this long lasting problem... Ping @agramfort. The code will follow soon.

Remark: Smooth lasso is (it seems to me) the ultimate Occam's razor for the ""structure"" + ""sparsity"" prior.

![tvl1_weights](https://cloud.githubusercontent.com/assets/634068/3535480/908e2e64-0801-11e4-8f45-6d69ca31f135.png)
![tvl1_folds](https://cloud.githubusercontent.com/assets/634068/3535483/998d4126-0801-11e4-94d3-5795bb8e6de6.png)
",,
35,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-03 16:45:40,"OK, I'll look at the rest of the comments tomorrow. Keeping you posted.

On Wed, Sep 3, 2014 at 4:47 PM, Gael Varoquaux notifications@github.com
wrote:

> @dohmatob https://github.com/dohmatob : we have made a lot of comments.
> Before moving to the refactoring, could you please ping me when you are
> done with them. That way we can discuss the refactoring based on the new
> code.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-54308254.

## 

DED
",,
36,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-04 08:47:08,"ping @GaelVaroquaux: Travis tells me all is well. Do you still have tests falling on your box ?
",,
37,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-04 16:20:29,"OK, I'll cleanup the backports tomorrow morning.
",,
38,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-05 12:01:16,"On old sklearn versions, LinearClassifierMixin is absent. I've copied the ""predict_proba"" function.  I still need ""decision_function"" and ""predict"" APIs.
",,
39,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-08 08:22:56,"OK, the only back-ports retained are for `center_data` and `LabelBinarizer`. Ping @GaelVaroquaux I hope your tests are passing now.
",,
40,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-08 09:28:31,"OK. Merged. Thanks.
",,
41,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-10 09:10:39,"In the end, you want solvers + estimators (and the like) to be in the same source file ? I was thinking of merging all solvers into the same source file (for example space_net_solvers.py) and all estimators (and the like) into the same source file space_net.py
",,
42,issue_comment,219,nilearn,nilearn,dohmatob,2014-09-10 09:15:18,"Yes of course fista remains in fista.py. OK, i'm merging.
",,
43,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-18 17:10:35,"# Baseline QA (in case things get broken in future)

Latest dev:

```
    # Univariate feature screening. Note that if we have only as few as 1000
    # features in the mask's support, then we should to use all of them to
    # learn the model i.e disable this screening)
    do_screening = screening_percentile < 100. and mask.sum() > 1000.
    if do_screening:
        # smooth the data before screening
        sX = np.empty(list(mask.shape) + [n_samples])
        for row in xrange(n_samples):
            sX[:, :, :, row] = _unmask(X[row], mask)
        sX = ndimage.gaussian_filter(sX, (2., 2., 2., 0.))
        sX = sX[mask].T

        # do feature screening proper
        selector = SelectPercentile(f_classif if is_classif else f_regression,
                                    percentile=screening_percentile).fit(sX, y)
        support = selector.get_support()

        # erode and then dilate mask, thus obtaining superset of the mask on
        # on which a spatial prior makes sense
        nice_mask = mask.copy()
        nice_mask[mask] = (support > 0)
        nice_mask = ndimage.binary_dilation(ndimage.binary_erosion(nice_mask),
                                           iterations=2).astype(np.bool)
        nice_mask[np.logical_not(mask)] = 0
        support = nice_mask[mask]
        X = X[:, support]
        mask = nice_mask

    # crop the mask to have a tighter bounding box
    mask = _crop_mask(mask)
```

Also, `standardize=True` in NiftiMasker.

`$ ipython plot_haxby_space_net.py --pdb`

![tvl1_faces_vs_houses](https://cloud.githubusercontent.com/assets/634068/4692895/a79bfd7a-577f-11e4-9b2e-4de3d8fad6d4.png)

Time elapsed                  : 169.082 seconds.
Number of train samples : 180
Number of test samples  : 36
Classification accuracy: 100%

commit hash 2a7ba74a1553e4cba5f47309147b4bed504953b4
",,
44,issue_comment,219,nilearn,nilearn,bthirion,2014-10-18 17:26:14,"Great ! thanks
",,
45,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-21 07:47:42,"@GaelVaroquaux About the volume of the mask (for correcting the user-supplied percentile), you confirm we're talking about the volume (in mm^3) occupied by the voxels in the support of this mask. Right ?
",,
46,issue_comment,219,nilearn,nilearn,bthirion,2014-10-21 07:50:20,"cm^3 is probably easier to figure out.
",,
47,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-21 08:28:52,"I'm computing the volumes in same units; the ratio is thus a unitless constant, and its value doesn't depend on the units used for the volumes. However, When I report the volumes (in a warning, a verbose print, etc.), I report them in mm^3 and cm^3 (as you suggest). I'm creating a fresh issue so we can track this volume discussion.
",,
48,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-21 18:09:00,"Correct, but I agree with @bthirion that cm^3 would be better.
",,
49,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-21 18:27:37,"OK. I'm moving the discussion here issue #265.
",,
50,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-23 15:10:54,"A few comments on the Haxby example:
- Could you remove the contour of the mask on the image (and remove the 'slicer' variable)
- Use 'cut_coords=(20, -34, -16)'
- Do a for loop demoing boths penalties: smooth-lasso and TV-l1

As mentionned before:
- in SpaceNet: scores_ -> cv_scores_
- cv should be 8 by default
- scores should always be bigger is better.
",,
51,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-28 13:13:28,"Oasis vbm (regression + SL penalty)

![vbm_sl](https://cloud.githubusercontent.com/assets/634068/4808721/0cc606ca-5ea4-11e4-9dee-6fa49633fe18.png)
![vbm_sl_curves](https://cloud.githubusercontent.com/assets/634068/4808726/148b921c-5ea4-11e4-8a32-28c392232eac.png)
",,
52,issue_comment,219,nilearn,nilearn,eickenberg,2014-10-28 14:00:27,"Just logging: It may be interesting to order subjects by age before the plot, because the estimate seems slightly compressive around the extreme values, which can be due to the penalization.
",,
53,issue_comment,219,nilearn,nilearn,dohmatob,2014-10-28 14:06:55,"On Tue, Oct 28, 2014 at 3:00 PM, eickenberg notifications@github.com
wrote:

> Just logging: It may be interesting to order subjects by age before the
> plot, because the estimate seems slightly compressive around the extreme
> values, which can be due to the penalization.
> 
> Yes definitely should reorder. Thanks for the remark. Will apply asap.
> —
> 
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-60759151.

## 

DED
",,
54,issue_comment,219,nilearn,nilearn,eickenberg,2014-12-02 13:59:11,"Would it be prudent to return the union of the feature masks obtained by SelectPercentile in the folds? That way one could at least know which zeros are due to screening, and which are due to the algorithm. Right now the only way to tell this on stat maps is that the ""zeros"" coming from the algorithm are not exactly 0, so are not masked away.
",,
55,issue_comment,219,nilearn,nilearn,dohmatob,2014-12-02 19:11:20,"On Tue, Dec 2, 2014 at 2:59 PM, eickenberg notifications@github.com wrote:

> Would it be prudent to return the union of the feature masks obtained by
> SelectPercentile in the folds? That way one could at least know which zeros
> are due to screening, and which are due to the algorithm. Right now the
> only way to tell this on stat maps is that the ""zeros"" coming from the
> algorithm are not exactly 0, so are not masked away.
> 
> On a debug branch, yes. But in prod, I don't think so. Lest the front-end
> users may (and will) try to do funky things with this feature.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-65233921.

## 

DED
",,
56,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:13:47,"> On a debug branch, yes. But in prod, I don't think so. Lest the front-end
> users may (and will) try to do funky things with this feature.

Agreed.
",,
57,issue_comment,219,nilearn,nilearn,eickenberg,2014-12-02 19:44:12,"yes, for debugging. it wouldnt be available in prod. thing is that it needs
some rearranging of outputs, which is structural

On Tuesday, December 2, 2014, Gael Varoquaux notifications@github.com
wrote:

> > On a debug branch, yes. But in prod, I don't think so. Lest the front-end
> > users may (and will) try to do funky things with this feature.
> 
> Agreed.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-65286483.
",,
58,issue_comment,219,nilearn,nilearn,dohmatob,2015-01-26 13:06:50,"Hi,

Discusion:
Is there any plan to merge this PR anytime soon ? Concerning the doc (sphinx), there're probably one or two things to add, but otherwise the code is mergeable and usable rightaway.
",,
59,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2015-01-26 13:08:49,"> Is there any plan to merge this PR anytime soon ? Concerning the doc
> (sphinx), there're probably one or two things to add, but otherwise the
> code is mergeable and usable rightaway.

Can you paste the figure output by the examples so that we have a look?

Also, indeed there is some work to be done on the docs.
",,
60,issue_comment,219,nilearn,nilearn,AlexandreAbraham,2015-06-03 11:27:41,"@dohmatob @schwarty @GaelVaroquaux What is the status on this PR?
",,
61,issue_comment,219,nilearn,nilearn,dohmatob,2015-06-03 13:57:58,"The PR is pretty much complete. The only thing left is to make the examples
integrate into the docs (this has been started). I'll allocate some time to
address it next week..

On Wed, Jun 3, 2015 at 1:27 PM, Alexandre Abraham notifications@github.com
wrote:

> @dohmatob https://github.com/dohmatob @schwarty
> https://github.com/schwarty @GaelVaroquaux
> https://github.com/GaelVaroquaux What is the status on this PR?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-108314717.

## 

DED
",,
62,issue_comment,219,nilearn,nilearn,GaelVaroquaux,2015-07-14 07:34:02,"> Closed #219.

219 closed. Sniff! That was an old friend.

Looking forward to see its daugther.
",,
63,issue_comment,219,nilearn,nilearn,dohmatob,2015-07-14 07:48:23,"On Tue, Jul 14, 2015 at 9:34 AM, Gael Varoquaux notifications@github.com
wrote:

> > Closed #219.
> 
> 219 closed. Sniff! That was an old friend.
> 
> [Chuckles] true true
> 
> Looking forward to see its daugther.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219#issuecomment-121153206.

## 

DED
",,
64,issue_comment,219,nilearn,nilearn,lesteve,2015-02-04 17:47:18,"Before I forget, the examples will need to be moved to their relevant subfolders, like examples/decoding for example.

Also for plot_haxby_space_net.py and plot_oasis_vbm_space_net.py, the examples they were based on have changed cosmetically but significantly compared to when this work started. For obvious uniformity reasons, it would be very nice if your examples could be updated accordingly. 

Stuff I can think of off the top my head, using index_img, some uniformity with dataset naming and using variables with filename in them to make it more obvious what dataset_files.cmaps[0] is for example. It is quite easy to figure out by looking at an up-to-date version of plot_haxby_simple.py and plot_oasis_vbm.py.
",,
65,issue_comment,219,nilearn,nilearn,mrahim,2015-02-04 15:28:28,"> Is there any packaged / fetchable template with / nilearn ?

You can remove `background_img` from `plot_stat_map`

![figure_1](https://cloud.githubusercontent.com/assets/8612476/6043179/cc13308c-ac8a-11e4-94e2-03471d5753a8.png)
",,
66,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:39:19,"how about using 

from distutils.version import LooseVersion

?

ping @GaelVaroquaux 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
67,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:39:51,"partial from functools does not pickle. I don't know if it's a pb here
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
68,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:43:10,"it's a correlation of the y right? not an L2 / MSE loss
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
69,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-27 12:43:12,"Yeah, i have other backward-compat problems with center_data (not present sklearn <= 0.10). I'm implementing some lightweight backports, so that travis can let me go...
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
70,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:43:29,"X_std does not seem to be used
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
71,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:44:49,"learned by univariate selection. ANOVA is one way to do it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
72,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:47:01,"returns ones?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
73,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:47:14,"proof? I would talk about accuracy.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
74,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-27 12:48:10,"Yes.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
75,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:48:13,"ndim as meaning a numpy which is different here. I would call is size as np.size
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
76,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:48:36,"missing space before if
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
77,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:48:58,"cleanup / decide
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
78,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:49:19,"Say what None does
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
79,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-27 12:49:27,"But precisely, ANOVA (one-way) seems to be what's been done under the hood in the scikit (i just rushed into the code at the moment).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
80,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:51:10,"remove comment. Name is good for me.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
81,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:51:39,"if you return linalg.svdvals(X)[0] *\* 2
then it corresponds to ""0.5 \* ||y - Xw||^2""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
82,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:52:45,"Compute upper bound on Lipschitz constant for the gradient of the logistic sum:
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
83,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:52:53,"then remove this 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
84,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:53:40,"why norm(X, 2) here and svdvals above? make up your mind on what is faster.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
85,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:55:01,"Standard formatting is:

```
    X: 2D array, shape (n_samples, n_features)
        Design matrix.
```
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
86,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:55:30,"```
   y: 1D array , shape (n_samples,)
        Target.
```
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
87,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:55:40,"no =
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
88,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:55:52,"bad formatting
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
89,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:56:24,"call it residual, r or R

aux is bad
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
90,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:57:01,"shape?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
91,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:57:09,"remove empty line
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
92,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:57:37,"docstring not up to date
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
93,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 12:58:57,"> But precisely, ANOVA (one-way) seems to be what's been done under the hood in the scikit (i just rushed into the code at the moment).
> 
> there are different ways. It depends what nilearn supports.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
94,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:07:33,"update docstring
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
95,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:08:01,"+1 for img.dtype
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
96,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:09:30,"private function?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
97,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:10:57,"use np.log1p
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
98,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:11:32,"add your name + license on top of every file.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
99,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:11:52,"import nilearn stuff at the end
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
100,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:12:29,"end of sentence ??
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
101,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:12:50,"documenetation -> documentation
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
102,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:13:17,"mechanism
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
103,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:13:53,"you don't cache these solver calls?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
104,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:14:14,"don't you want to average rather than refit?

ping @GaelVaroquaux 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
105,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:14:26,"XXX : docstring
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
106,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:15:11,"cache?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
107,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:15:38,"no =
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
108,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:16:05,"hum :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
109,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:17:12,"???
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
110,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:19:40,"remove w
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
111,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:20:30,"sklearn import before common
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/estimators.py')"
112,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-27 13:21:49,"No, because the whole path_func is supposed to be cached anyway. Plus caching has an overhead, and I try to avoid it where i can.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
113,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-27 13:28:35,"Averaging is done after joining all the fold workers . This re-fit here is simply to solve the best model to high precision to reduce the noise / imprecision in the maps induced by early stopping, etc. Plus this only adds worst-case complexity O(n_folds \* hardness of high precision problem), which is reasonable.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
114,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:29:34,"fair enough.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
115,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:30:52,"why tv stuff in common.py ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
116,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:31:22,"authors + license should be on top of every file
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
117,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:31:44,"logisitc -> logistic
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
118,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:31:49,"these
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
119,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:32:02,"this docstring does not respect pep257
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
120,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 13:32:20,"type is not formatted right
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
121,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 14:09:19,"if  loss not in [""mse"", ""logistic""]:

is enough
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
122,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 14:13:40,"import matplotlib.pyplot as plt
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
123,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-27 14:14:23,"this print will not work with python3
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
124,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 09:11:13,"Indeed, there is an underlying naming problem: ""mse"" or ""squared_loss"". This problem is ubiquitous in the code base. Will fix this asap.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
125,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 09:13:04,"rm what ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
126,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 09:28:51,"OK, fine. Co-authors should claim ownership by appending / pre-pending their names themselves.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
127,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 09:42:13,"Please could you be more precise ? pep257 is a whole document http://legacy.python.org/dev/peps/pep-0257/ :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
128,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 09:54:47,"you copied code from different places. Just keep the names when you do this.

At least there is Gael, Gaspard, You, me, certainly Fabian and Michael...

license is important too
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
129,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 09:55:26,"If you update the docstring headline you can remove this sentence.
The headline says it's an upper bound.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
130,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 09:57:42,"docstring structures

```
""""""Headline

Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
occaecat cupidatat non proident, sunt in culpa qui officia deserunt
mollit anim id est laborum.

Parameters
---------------
foo : type
    Description.

Returns
----------
out : type
    Description.
""""""
```

Headline fits on one line.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
131,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 09:59:09,"ex of type desc for a numpy array

```
foo : ndarray, shape (n_samples, n_features)
```
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
132,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 11:02:42,"OK, I've tried my best to build a comprehensive authors' list.

@everybody: Please let me know if you think you've been forgotten, or your code has simply been plagiarized! Better still, simply go ahead and (dis-)claim ownership by deleting / appending / prepending your name from / to the authors' list of the concerned module / script. This is an issue like any other code bug, and you shouldn't hesitate to provide fixes, etc.

I'm done with this for now. 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
133,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 11:24:29,"OK. Done.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
134,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-29 11:28:42,"OK, makes sense. Done.

On Sun, Jun 29, 2014 at 11:57 AM, Alexandre Gramfort <
notifications@github.com> wrote:

> In nilearn/sparse_models/tv.py:
> 
> > +import numpy as np
> > +from .common import (compute_mse_lipschitz_constant,
> > -                     compute_logistic_lipschitz_
> >   constant,
> > -                     tv_l1_reg_objective, mse_loss, mse_loss_grad,
> > -                     logistic_grad as logistic_loss_grad,
> > -                     logistic as logistic_loss)
> >   +from .prox_tv_l1 import prox_tv_l1, intercepted_prox_tv_l1
> >   +from .fista import mfista
> >   +
> >   +
> >   +def tvl1_solver(X, y, alpha, l1_ratio, mask=None, loss=None,
> > -                rescale_alpha=True, lipschitz_constant=None,
> > -                prox_max_iter=5000, verbose=0, tol=1e-4, **kwargs):
> > -    """"""Minimizes empirical risk for TV-l1 penalized least-squares (
> > -    mean square error --a.k.a mse) or logisitc regression. The same solver
> > -    works for both of this losses.
> 
> docstring structures
> 
> """"""Headline
> 
> Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
> tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim
> veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea
> commodo consequat. Duis aute irure dolor in reprehenderit in voluptate
> velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint
> occaecat cupidatat non proident, sunt in culpa qui officia deserunt
> mollit anim id est laborum.
> 
> ## Parameters
> 
> foo : type
>     Description.
> 
> ## Returns
> 
> out : type
>     Description.
> 
> Headline fits on one line.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r14328391.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
135,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 16:06:09,"why those **kwargs? I tend to avoid kwargs especially in high level functions.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/tv.py')"
136,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 16:09:27,"extra =
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
137,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 16:09:54,"missing . at the end of line. Same pb above.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
138,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 16:11:59,"ping
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
139,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-06-29 16:12:42,"ping this is for w -> 0.5 \* ||y - Xw||^2

as said already. Let me know when you're done addressing my comments.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
140,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 15:52:29,"I wouldn't skip a line here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
141,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 15:58:05,"Incorrect docstring formatting: there is a space missing in front of the "":"" (the problem is repeated quite a few times in the file).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
142,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 15:59:41,"I don't think that a function should be called ""my_alpha_grid"". The name isn't quite as explicit as we would like it to be. We need to find a good term to replace the ""my_"". What is special about this alpha_grid?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
143,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-06-30 16:02:43,"More control on the way the grid is created (i.e more options). will change the name asap.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/_cv_tricks.py')"
144,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:05:41,"This file needs to be called different. 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
145,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:26:11,"> > -    gradient = np.zeros(shape, dtype=np.float)  # xxx: img.dtype?
> 
> +1 for img.dtype

No. It needs to be done in the following way:

<pre>
if img.dtype.kind == 'f':
   dtype = img.dtype
elif img.dtype.itemsize == 8:
   dtype = np.float64
else:
   dtype = np.float32
</pre>


this is to avoid at all cost using float64, which consume a lot of memory
and slow computations down.

We should implement a helper function in nilearn._utils.numpy_conversions
that does the above.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
146,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:26:43,"> > +def test_grad_div_adjoint_arbitrary_ndim(size=5, max_ndim=5, random_state=42):
> 
> private function?

Should be in tests.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
147,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:27:48,"> don't you want to average rather than refit?
> 
> ping @GaelVaroquaux

Yes, average.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
148,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:29:47,"> > -        self.**class**.**name**.endswith(""CV"")
> 
> ???

Just don't catter for non CV stuff. In the nilearn codebase, the way to
do non-CV stuff will be to give a single value of alpha and l1_ratio to
the objects.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/cv.py')"
149,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-06-30 16:33:37,"> Indeed, there is an underlying naming problem: ""mse"" or ""squared_loss"".

Should be called ""squared_loss"".
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
150,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-07-04 06:04:55,"Are you ok with loss.py ?

On Mon, Jun 30, 2014 at 6:05 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/sparse_models/common.py:
> 
> > @@ -0,0 +1,393 @@
> > +""""""
> 
> This file needs to be called different.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r14358354.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/sparse_models/common.py')"
151,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:11:29,"Can the `**kwargs` be avoided?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
152,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:11:48,"weights
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
153,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:13:57,"This is never executed
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
154,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:15:18,"`if callback is not None`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
155,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:16:43,"naming question: Why is this a call **ER** back? It is also being called.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
156,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:17:20,"can we be explicit about the kwargs?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
157,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:17:52,"kwargs
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
158,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:32:33,"Why not `self.debias` ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
159,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:35:00,"what about `supplementary_kwargs` or being explicit?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
160,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:36:20,"This creates a list of `n_problems` times the **same** instance of a list. Are you sure you want this?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
161,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-08-07 09:36:39,"Short answer: No. These are arguments to the solver under-the-hood. Having a kwargs in very-very low-level APIs is not really a problem.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
162,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:40:50,"OK, it seems you are overwriting those scary empty lists from above. So it will work.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
163,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:52:02,"eval is evil
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
164,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-08-07 09:52:42,"Indeed this an utterly dangerous potential bug:

```
In [1]: l = [[]] * 5

In [2]: l[0].append(3)

In [3]: l
Out[3]: [[3], [3], [3], [3], [3]]
```

Fixed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
165,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:53:21,"add error message or work with traditional `raise`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
166,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-08-07 09:55:23,"You might want to close your parietal-python issue :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
167,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:57:48,"Could you put the function instead of the string?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
168,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 09:58:15,"function instead of string
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
169,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 10:01:14,"Cross-validated
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
170,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 10:05:57,"Which `ImportError` are you catching? nilearn depends on sklearn, so it shouldn't be necessary. If I am mistaken, then at least change `pass` to `raise SkipTest` (or something to that effect), because `except: pass` is bad practice
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/tests/test_cv.py')"
171,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-07 13:58:58,"The order is wrong with respect to your outputs.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/tv.py')"
172,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-08 10:42:38,"We should make sure we are all talking about the same rescaling if/when we are talking about rescaling. The default of `rescale_alpha` is set to `True` which I fully endorse, because we do not want different numbers of samples changing the effective regularization: This parameter indicates whether or not we put `1. / (2 * n_samples)` in front of the loss instead of `1. / 2.`

We should discuss a) whether `False` for this parameter is ever useful (AFAIK, sklearn does this scaling by default) and b) whether we should talk about a much more interesting scaling which is a scaling as a fraction of `alpha_max`. The only reason not to do this is that we only have an upper bound for `alpha_max` and not the exact value. The upper bound is not unreasonable, though, as it is the `alpha_max` of the corresponding tvl1 variation lasso.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/tv.py')"
173,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-08-10 14:13:58,"error message or preferably `raise ValueError(""loss must be one of 'mse' or 'logistic', not '%s'"" % loss)`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/tv.py')"
174,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-01 21:44:08,"then there should be elastic_net somewhere in the name of the function
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
175,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 11:21:00,"This is great, bit for the sake of future maintenance, please indicate whether each feature put in this module has been introduced in skl (say) 0.14 or 0.15, so that this part can be safely removed within a few years.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
176,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:08:09,"This choice should be documented
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
177,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:08:40,"More complete docstrings for that guy ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
178,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:23:18,"What do you mean ?  ;-)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
179,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:24:49,"gradient is computed
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
180,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:25:55,"close the parentheses
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
181,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:27:29,"use sk's fast_dot fast_dot ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
182,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:28:48,"compute_hess
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
183,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:30:53,"hess_matvec
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
184,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:32:53,"Don't call it gradient, this is confusing
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
185,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:35:59,"grad: what are the expected dimensions etc ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
186,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:38:26,"reorganize the dosctrings
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
187,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:39:40,"img.dtype would make sense I guess
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
188,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:42:34,"Why not use nilearn.masking._unmask_nd ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
189,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:43:34,"dosctring ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
190,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-02 21:44:56,"dosctrings ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
191,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:49:34,"We do we need this backport? It seems to me that it is a class that has not changed at all lately.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
192,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:50:03,"Why do we need this backport.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
193,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:50:07,"Why do we need this backport.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
194,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:51:40,"There is something that makes me uneasy with the code here. You are grabbing huge portions of the codebase of scikit-learn, and slightly modifying them. There must be better ways to do things.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
195,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 09:53:13,"This sentence is imprecise and unprofessional. You should not be putting such sentences in production code but actually describing what is going on.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
196,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:26:18,"I would prefer if you could inherit from sklearn.base.BaseEstimator here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
197,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:27:34,"Also, I would prefer that you implement this as a function, or maybe even in-lined in the right place, as in the SparseVariation codebase. It helps reducing the complexity of the codebase.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
198,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:31:41,"Same remark here: that class can go away, as in the Sparse Variation codebase.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
199,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:32:56,"In general, any function or class name that is 'my_something' is wrong, as it is not a useful name.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
200,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:36:03,"In docstrings, there should always be a space between the parameter name and the colon ':', elsewhere the doc rendered doesn't render the docstring well. Please check that this applies to all your docstrings.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
201,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:39:39,"Don't use lambdas.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
202,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:41:23,"I'd rather not use partial either: I don't think that it pickles, thus it makes it harder to do parallel computing on this code.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
203,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:45:16,"You can remove the support for the callback here, it will make the codebase lighter.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
204,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:47:47,"I don't understand the logic for caching this. If another fold return the same alpha, it will be on different data.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
205,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:49:21,"There is a lot of duplication in the two functions: logistic_path_scores and squared_loss_path_scores. Wouldn't it be possible to merge them?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
206,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-03 11:51:31,"If I'm not mistaken, the tricks used in fast_dot are now defacto. No ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
207,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:51:40,"We try to avoid at all cost properties. Here I believe that it is not necessary.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
208,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:52:12,"> If I'm not mistaken, the tricks used in fast_dot are now defacto. No ?

What do you mean by 'defacto'?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
209,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:52:55,"I guess this is the class that will evolve into a 'SpatialNet' object.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
210,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:54:18,"Can you find a more explicite name than 'tricky_kwargs'?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
211,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 11:55:24,"It would probably be better to use 'np.sort(alphas)[::-1]'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
212,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-03 12:17:04,"This is just two lines of code for doing something precise. I'd consider using nilearn.masking._unmask_nd an overkill.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
213,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:21:44,"Is there a reason why you did not use np.range here?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
214,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:30:02,"The function _ovr_y is a slightly tricky pattern to read. It deserves at least a comment above to explain what it does.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
215,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:31:48,"What's the use of this method? Can't you just let inheritence work, and not actually define a fit?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
216,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:33:00,"Same here: I am not sure that you need the method.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
217,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:33:24,"Once again, inheritence does the job for you.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
218,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:36:03,"I suggest that we drop the 'CV' names. The neuroimaging end user will not understand what CV means, and we'll just say in the docstring that these objects set their parameters by cross-validation.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
219,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:36:53,"This shouldn't be in, I believe.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm.py')"
220,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:44:00,"Let's not create a subackage. We can organize the code in a small number of files with explicit names, and thus avoid a nested structure.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'setup.py')"
221,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:46:06,"I believe that you are not dividing by n_samples.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
222,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:46:24,"The docstring is thus false.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
223,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:49:35,"I believe that this function should be moved to the test sub-package.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
224,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:50:32,"Here you are using the global random number generator, which you should never do, as you don't control its internal state. You should use the 'random_state' local variable.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
225,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 12:52:46,"I believe that we should try to get rid of 'common': it is somewhat of a generic file which has a non descriptive name. We could start by moving 'check_lipschitz_continuous' in the 'fista' file: is this function used anywhere else?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/fista.py')"
226,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-03 12:55:52,"""de facto"", i.e ""standard"", ""in practice""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
227,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:04:03,"To avoid being fragile with regard to the version of scikit-learn, and also having a huge set of backports, I suggest that you copy the logic of this function into a 'predict_proba' method for your object that implements a logistic loss. That should enable you to remove all the backports.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
228,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:27:28,"There is indeed a name collision between the image spatial gradient and the derivative of a function.

With Gaspar we had decided to call gradients in the sens of derivatives 'derivative'. This is not standard, but removes the confusion. In addition, here, we could use the term 'img_gradient'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
229,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:30:18,"What we often do is the following: dtype=(np.float32 if img.dtype == np.float32 else np.float64), to preserve float32
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
230,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:48:48,"This should go somewhere in utils.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
231,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:49:02,"This should go somewhere in utils.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
232,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-03 13:50:45,"The file should be renamed 'objective_functions', or something like this.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
233,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-09-03 20:15:13,"All right, got it.
maybe: precomputed ""spatial derivative + id"" array

In nilearn/decoding/sparse_models/common.py:

> > +
> > +
> > +def get_gradient_id_shape(img_shape):
> > -    """"""Return the shape of the gradient + id operator output.
> >   +
> > -    """"""
> > -    return [len(img_shape) + 1] + list(img_shape)
> >   +
> >   +
> >   +def tv_l1_from_gradient(gradient):
> > -    """"""Our total-variation like norm: TV + l1
> >   +
> > -    Parameters
> > -    ----------
> > -    gradient: array
> > -       precomputed ""gradient + id"" array
> 
> There is indeed a name collision between the image spatial gradient 
> and the derivative of a function.
> 
> With Gaspar we had decided to call gradients in the sens of 
> derivatives 'derivative'. This is not standard, but removes the 
> confusion. In addition, here, we could use the term 'img_gradient'.
> 
> —
> Reply to this email directly or view it on GitHub 
> https://github.com/nilearn/nilearn/pull/219/files#r17048340.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
234,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-04 09:06:45,"Done.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/_cv_tricks.py')"
235,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-04 09:45:26,"Does this have an explicit advantage. Is this best-practice-related ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/cv.py')"
236,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:14:02,"Make things simpler here: just use 'n_jobs=1'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
237,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:15:31,"""bingo"" is neither very professional nor precise. Could describe exactly what you meant here?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_tv.py')"
238,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:17:48,"You can't do that! Playing with sys.path is strictly forbidden. It has crazy side effects and leads to problems hard to debug.

Why are you doing that?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_tv.py')"
239,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:31:38,"No, you are not allow to do this :). Use the rng object for that, instead of the Python random module.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
240,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:33:56,"Same thing here: you cannot modify sys.path.

This might mean that the functions in simulate_smooth_lasso_data should be moved in the nilearn package, where they are importable.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
241,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:34:46,"You should not use the global random number generator. Only the local one that you have created.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
242,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:34:58,"You should not use the global random number generator. Only the local one that you have created.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
243,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-11 13:35:14,"You shouldn't be modifying sys.path
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
244,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-12 11:28:38,"Indeed partial pickels.

On Wed, Sep 3, 2014 at 1:41 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/sparse_models/common.py:
> 
> > -    z = np.dot(X, w[:-1]) + w[-1]
> > -    yz = y \* z
> > -    z = _sigmoid(yz, copy=False)
> > -    z0 = (z - 1) \* y
> > -    grad = np.empty(w.shape)
> > -    grad[:-1] = np.dot(X.T, z0)
> > -    grad[-1] = np.sum(z0)
> > -    if mask is not None:
> > -        grad = np.append(_unmask(grad[:-1], mask), grad[-1])
> > -    return grad
> >   +
> >   +# Wrappers.
> >   +# XXX div (see below) could be computed more efficienty!
> >   +gradient = lambda w: gradient_id(w, l1_ratio=0.)[:-1]  # pure nabla
> >   +div = lambda v: div_id(np.vstack((v, [np.zeros_like(v[0])])), l1_ratio=0.)
> >   +squared_loss_grad = partial(squared_loss, compute_energy=False,
> 
> I'd rather not use partial either: I don't think that it pickles, thus it
> makes it harder to do parallel computing on this code.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r17043508.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
245,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-12 11:37:23,"> Indeed partial pickels.

Cool! It used not to be the case.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/sparse_models/common.py')"
246,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-13 18:11:53,"We haven't found empirically any benefit from the backtracking. You should remove it from the codebase.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
247,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-13 18:15:33,"No need to define a variable if you are using it only once and not modifying it. You should simply inline '.5' in the code. For someone who reads the code, it is easier, as he does not have to scroll between variable definitions and the lines where the variables are used.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
248,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-13 18:18:03,"I don't see where the notion of mask is used in this function. Is this comment relevant.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
249,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-13 18:38:11,"Let's just remove these 2 last lines: we don't need them.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
250,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-09-15 06:08:56,"OK, I'll look at your comments this morning. See you.

On Sat, Sep 13, 2014 at 8:38 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > +
> > -        if energy < best_energy:
> > -            best_energy = energy
> > -            best_w = w.copy()
> > -            best_z = z.copy()
> > -            best_t = t
> > -            best_dgap_tol = dgap_tol
> > -            best_dgap_tol = dgap_tol
> >   +
> > -    return (best_w,
> > -            objective,
> > -            dict(w=best_w.copy(), z=best_z, t=best_t, dgap_tol=best_dgap_tol,
> > -                 stepsize=stepsize))
> >   +
> >   +# pure ISTA
> >   +ista = partial(mfista, pure_ista=True)
> 
> Let's just remove these 2 last lines: we don't need them.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r17513677.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
251,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:32:35,"Minor typo in the comment
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
252,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:39:00,"How about we never deal with the case of no mask (ie mask becomes a mandatory argument), and write the code above as:

<pre>
w = w[mask]
</pre>


This would also remove the need for raveling.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
253,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:39:41,"Same thing here: let's just consider that we always have a mask.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
254,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:40:43,"That's a function of only one line, that you are using in only one place. It think that you could inline it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
255,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:41:19,"I am not sure what the 'otherwise' is doing here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
256,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:43:13,"Do we really want to deal with 'None' masks. I think that it would make the code more straightforward to only accept masks.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
257,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:44:23,"This test function should be moved in a separate test module.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
258,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:57:27,"Same thing here: let's always consider that we have a mask.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
259,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:58:47,"This should probably be renamed 'projector_on_tvl1_dual'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
260,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 11:59:26,"Do we use the callback anywhere in the code? If not, let's remove it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
261,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 12:00:14,"That 'XXX' is no longer relevent.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
262,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 12:03:57,"Why is there an 'l1_ratio' variable here that is not used?

Why is 'tau' called 'tau', and not 'alpha' as we do in standard?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
263,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 12:13:34,"I think that you are using this function only once, and that in the tests. You should probably inline it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
264,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 12:14:09,"I don't think that you are using this function anywhere. It should probably go.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
265,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 13:37:30,"You are not using locals random number generators here. You should always use RNGs that are local to the function, so that 2 calls to the function return exactly the same thing.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
266,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 15:49:12,"Comment line needs to be updated
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
267,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 15:49:31,"Comment needs to be updated.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
268,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 15:50:28,"These lines should not be commented. They should either be running, or removed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_sklearn_basic_backports.py')"
269,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-22 15:52:21,"It's somewhat a problem that you are skipping those tests, as they end up being false (here you are using the 'SmoothLassoClassifier' which is not defined.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
270,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 15:27:14,"Please, no global rng, but a 'random_state' argument to functions, as it is done in standard with scikit-learn.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
271,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 15:29:23,"I would prefer a longer name. Say 'lipschitz_const'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
272,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 15:29:37,"I would remove this comment
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
273,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:28:13,"@dohmatob : I would be interested in testing the ideas in the following paper:
http://statweb.stanford.edu/~candes/papers/adap_restart_paper.pdf
in particular paragraph 3.2

Basically, it boils down to the fact that resetting the FISTA parameters (t and t0) every once in a while speeds the convergence process. We are already partly doing that by setting 'z = w' in the monotonous FISTA scheme below.

What I would like you to test is the following strategies:
1. if at line 235 we put z=w and t=1, do we get a better convergence (standard log-log plots on fMRI problems)?
2. if, at the line above (line 226) we do the following (mfista_factor being initialized above to eg 1e-2):

``` python
     if energy_delta < mfista_factor * energy:
            mfista_factor *= 1e-2
            ....
```

in other words, loosen the criteria to switch to mFISTA in the beginning of the convergence of the algorithm.
I'd be interested in empirical tests (as usual, standard log-log plots on fMRI data) to see if this speeds things up.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
274,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:30:51,"@dohmatob : comment still to address: let's now always assume that mask=None is not a valid situation, and always raise an error.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
275,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:31:13,"I meant not raise an error. Just not support it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
276,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:32:46,"Please rename this function to 'dual_gap_prox_tv'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
277,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:33:13,"Please rename this function to '_objective_function_prox_tv'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
278,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:33:40,"Please update the equation to show the l1 part.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
279,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:34:43,"Let's just rename the input argument 'im' to 'input_img', instead of doing this in the code.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
280,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:37:02,"We need a backport of sklearn.utils.extmath.squared_norm, and we need to use it in many places.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
281,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:38:35,"I think that this should be a private function.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
282,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:42:49,"I would phrase this with something like 'taking in account the fact that the last entry of w is the intercept'.

I am surprised that you are not (optionally) dealing with the mask in this function. I would have thought that, from a code design point of view, this would be a good place to deal with a mask.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
283,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:44:52,"As we are using a spearman correlation, I would have thought that there is no need to remove the mean, as it wouldn't change anything to the spearman correlation.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
284,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:47:52,"I'd like this class, and it's subclasses to be removed. The code can be made tighter by inlining the corresponding logic where these classes are used.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
285,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:49:30,"What's the purpose of the call to 'np.array'? If the goals is to conver to booleans, I'd rather have 'mask.astype'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
286,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:50:39,"It would be cheaper to test whether  the percentile is 100, I would say.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
287,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:51:18,"I'd call this function '_space_net_alpha_grid'
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
288,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:54:36,"You need to specify the expected shape of X. I cannot tell from looking at the function's signature and docstring if it is expected to be 4D (volumetric) or 2D.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
289,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:56:10,"Once https://github.com/nilearn/nilearn/pull/241
is merged, you should apply the _fast_smooth_array to X before learning the feature selection. It is always important to smooth a bit before applying univariate feature selection with fMRI data.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
290,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:57:49,"Could you define a _test_score_classif and _test_score_regression outside of the function. Defining functions inside other functions isn't great as it doesn't encourage their test / reuse.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
291,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 16:58:38,"This logic should be folded into the EarlyStoppingCallback object, adding an extra argument 'classif' to it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
292,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 17:01:20,"Because parameters can be changed later by user, we usually do these checks at fit time.

If you want to do them both at construction time and at fit time, you can define a _check_params method that does these checks, and run it at the end of the __init__ and at the beginning of the fit.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
293,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 17:03:01,"How about renaming this function to '_binarize_y' and moving the mask stuff to the fit part.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
294,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-09-30 17:03:21,"I would like to never support mask being None.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
295,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-01 08:46:36,"In #241, we agreed that calling _smooth_array with fwhm='fast' was the way forward because it has a little bit of additional logic, like getting rid of non-finite values in the array. It may apply to this case too.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
296,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-01 12:37:40,"Nop, the TVl1 denoising problem is solved on a full cuboid. Masking and unmasking are handled outside. I tend not to mix the two.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
297,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-01 12:41:49,"Is it really reasonable to have a function called _space_net_something in a module named space_net.py ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
298,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-01 12:43:23,"It would at least help my allergy against functions containing the particle
/my/ ... :)

On Wed, Oct 1, 2014 at 2:41 PM, dohmatob elvis dopgima <
notifications@github.com> wrote:

> In nilearn/decoding/space_net.py:
> 
> > -        """"""Unmasks the input vector `w`, according to the mask learned by
> > -        Univariate screening.
> >   +
> > -        """"""
> >   +
> > -        if self.support_.sum() < len(self.support_):
> > -            w_ = np.zeros(len(self.support_))
> > -            w_ = np.append(w_, w[-1])
> > -            w_[:-1][self.support_] = w[:-1]
> > -        else:
> > -            w_ = w
> >   +
> > -        return w_
> >   +
> >   +
> >   +def _my_alpha_grid(X, y, eps=1e-3, n_alphas=10, l1_ratio=1., alpha_min=0.,
> 
> Is it really reasonable to have a function called _space_net_\* in a named
> space_net.py ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18275441.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
299,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-01 18:35:11,"The code snippet you've highlighted is essentially scoring logic code (at least the regression case). Are you saying you want me to embed scoring logic into early stopping logic ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
300,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-01 20:18:41,"> The code snippet you've highlighted is essentially the code for the scoring
> logic (at least the regression case). Are you saying you want me to embed
> scoring logic into early stopping logic ?

I don't think that it is used elsewhere. So, for now, I don't see a
reason not to.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
301,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-02 12:31:38,"SpaceNet should be importable from nilearn.decoding (and imported like this in the examples).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
302,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-02 12:35:20,"Let's use 'decoder' as a variable name here, rather than 'slcv'.

Also, let's split the instantiation of the object and the call to fit in two different lines: it will be easier for the reader.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
303,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-02 12:36:29,"Don't seed the global RNG. Use a local one.

Could you please check that you are never doing that anymore.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
304,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-02 15:38:53,"That use of a first masker to remove features feels hackish. Do we actually need this, now that we do univariate feature screening?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
305,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-02 16:52:42,"You're right we don't need this anymore (this is residual hack from the
original plot_oasis_vbm.py script). Will cleanup asap.

On Thu, Oct 2, 2014 at 5:38 PM, Gael Varoquaux notifications@github.com
wrote:

> In plot_oasis_smoothlasso_vbm.py:
> 
> > +
> > +n_subjects = 100   # more subjects requires more memory
> > +memory = Memory(""cache"")
> > +
> > +### Load Oasis dataset ########################################################
> > +dataset_files = datasets.fetch_oasis_vbm(n_subjects=n_subjects)
> > +age = dataset_files.ext_vars['age'].astype(float)
> > +
> > +### Preprocess data ###########################################################
> > +nifti_masker = NiftiMasker(
> > -    standardize=False,
> > -    smoothing_fwhm=2,
> > -    memory=memory)  # cache options
> >   +# remove features with too low between-subject variance
> >   +gm_maps_masked = nifti_masker.fit_transform(dataset_files.gray_matter_maps)
> >   +gm_maps_masked[:, gm_maps_masked.var(0) < 0.01] = 0.
> 
> That use of a first masker to remove features feels hackish. Do we
> actually need this, now that we do univariate feature screening?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18347190.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
306,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-02 17:04:16,"> You're right we don't need this anymore (this is residual hack from the
> original plot_oasis_vbm.py script). Will cleanup asap.

Awesome! It's always a pleasure to see hacks disappear from a codebase.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
307,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 14:02:16,"You should be able to specify memory as a string, and thus not import Memory at all.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
308,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 14:03:01,"Do we still need the NiftiMasker import?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
309,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 14:03:58,"I'd like this import to be moved below, in the visualization part. 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
310,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 14:11:14,"The naming convention is to end names of variables that are niimgs with '_img', not '_niimg'. So that would be 'coeg_img'. Please also correct all the other variable names of this script.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
311,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-07 16:25:53,"Ok will fix asap.

On Tuesday, October 7, 2014, Gael Varoquaux notifications@github.com
wrote:

> In plot_oasis_smoothlasso_vbm.py:
> 
> > +from nilearn.input_data import NiftiMasker
> > +
> > +n_subjects = 100   # more subjects requires more memory
> > +memory = Memory(""cache"")
> > +
> > +### Load Oasis dataset ########################################################
> > +dataset_files = datasets.fetch_oasis_vbm(n_subjects=n_subjects)
> > +age = dataset_files.ext_vars['age'].astype(float)
> > +
> > +
> > +### Fit and predict ###########################################################
> > +from nilearn.decoding import SpaceNet
> > +decoder = SpaceNet(memory=memory, screening_percentile=20., verbose=1,
> > -                   smoothing_fwhm=2.)
> >   +decoder.fit(dataset_files.gray_matter_maps, age)
> >   +coef_niimg = decoder.coef_img_
> 
> The naming convention is to end names of variables that are niimgs with
> '_img', not '_niimg'. So that would be 'coeg_img'. Please also correct all
> the other variable names of this script.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18521100.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
312,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:48:08,"The title should state 'Space-Net' instead of 'S-LASSO prior' and the file should be renamed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
313,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:52:00,"You should not import nibabel for this. You can simply pass the filename to plot_stat_map.

Also, you should rename the title of the figure. Maybe we should use the term 'Graph-net' here, as it is the term used by many people in neuroimaging.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
314,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:53:35,"Same remark about ""memory"": you don't need to create a memory object. You can simply pass the path to the objects.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
315,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:55:39,"You should import directly from nilearn.image and not its sub packages.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
316,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:56:09,"The filename should be rather 'tvl1' than 'slcv'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
317,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 16:59:13,"You are doing TV-l1 here. You should use a title that conveys this.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
318,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 17:04:19,"You are doing TV-l1 here. The filename and title should be renamed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_smoothlasso.py')"
319,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 17:06:25,"The line above should be removed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_tv.py')"
320,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-07 17:13:42,"You shouldn't be printing. You should be testing the corresponding property.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
321,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 07:45:22,"I'd prefer the name 'decoder', rather than slcv.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_smoothlasso_vbm.py')"
322,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 10:58:01,"Any update on that?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
323,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-08 11:07:28,"No, will look at it asap (hopefully today).

On Wed, Oct 8, 2014 at 12:58 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -        # ISTA is provably monotonous
> > -        if i > 0 and check_monotonous:
> > -            assert energy <= 1.1 \* old_energy, (
> > -                ""Oops! old_energy = %g < energy = %g. This is ""
> > -                ""unacceptable since ISTA and mFISTA are provably monotonous.""
> > -                "" The must be a bug in the code. For example, maybe ""
> > -                ""you are assuming a wrong lipschitz constant or you ""
> > -                ""have bugs in the way you compute the gradient of""
> > -                "" the smooth part of the energy."") % (old_energy, energy)
> >   +
> > -        # energy house-keeping
> > -        energy_delta = old_energy - energy
> > -        old_energy = energy
> >   +
> > -        # z update
> > -        if energy_delta < 0.:
> 
> Any update on that?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18575016.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
324,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 11:16:50,"> No, will look at it asap (hopefully today).

Remember: this PR is a priority. It is blocking for several people to be
able to move on.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
325,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-10-08 11:40:12,"@GaelVaroquaux it is unclear where the priority is: this particular portion of the PR looks like a new feature and may actually slow down the process. Should it be kept for a future PR ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
326,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 11:47:46,"> @GaelVaroquaux it is unclear where the priority is: this particular portion of
> the PR looks like a new feature and may actually slow down the process. Should
> it be kept for a future PR ?

It's a couple of hours of work not more.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
327,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-08 11:55:21,"On Wed, Oct 8, 2014 at 1:47 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -        # ISTA is provably monotonous
> > -        if i > 0 and check_monotonous:
> > -            assert energy <= 1.1 \* old_energy, (
> > -                ""Oops! old_energy = %g < energy = %g. This is ""
> > -                ""unacceptable since ISTA and mFISTA are provably monotonous.""
> > -                "" The must be a bug in the code. For example, maybe ""
> > -                ""you are assuming a wrong lipschitz constant or you ""
> > -                ""have bugs in the way you compute the gradient of""
> > -                "" the smooth part of the energy."") % (old_energy, energy)
> >   +
> > -        # energy house-keeping
> > -        energy_delta = old_energy - energy
> > -        old_energy = energy
> >   +
> > -        # z update
> > -        if energy_delta < 0.:
> 
>  @GaelVaroquaux https://github.com/GaelVaroquaux it is unclear where
> the priority is: this particular portion of the PR looks like a new feature
> and may actually slow down the process. Should it be kept for a future PR ?
> It's a couple of hours of work not more.
> 
> Well, it's probably much less than a couple of hours of work. The point is
> this adaptive restart stuff is at the bottom of my priority list. It's yet
> another experiment, and can only only slow down the PR. Thence, I don't
> think it's blocking the PR in any way.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18576623.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
328,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 12:38:04,"On Wed, Oct 08, 2014 at 04:55:21AM -0700, dohmatob elvis dopgima wrote:

> Well, it's probably much less than a couple of hours of work.

If things are unclear about what I would like as far as experiments go,
we can sit down together and work on it together, when you get to it, to
make sure that you spend as little work as possible on this.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(203, '', u'nilearn/decoding/fista.py')"
329,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 13:25:20,"I think that I would like this function to be called 'spectral_norm_squared', to be very explicit about which norm it is.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
330,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 13:27:17,"I think here, it should be 'n_features', and not 'n_voxels', to be consistent with the fact that there is no notion of voxels in this part of the code.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
331,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 13:28:08,"I would like to use a backport of _squared_norm from scikit-learn, as already mentioned elsewhere in the PR.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(97, '', u'nilearn/decoding/objective_functions.py')"
332,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 13:59:31,"Nitpicking: I'd like this function to be called '_prox_tvl1_with_intercept'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
333,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:02:40,"I'd prefer 'classif' to be named 'is_classif'. We don't have a docstring here, which I think is fine because it is a very internal object, but we need to be careful that people can guess the function of the argument as easily as possible.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
334,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:04:49,"Great code! It's easy to under-estimate how much fine knowledge a function like this captures.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
335,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:16:41,"We need to smooth the data that we are passing to the SelectPercentile here, using nilearn.image.image._smooth_array with fwm='fast'. PR #258 will enable you to pass affine=None there.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
336,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:17:38,"Actually, scrap that, you might as well use _smooth_array_fast, as we don't need the 'ensure_finite'.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
337,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:22:30,"Please change `**params` to solver_params, and use a dict rather than a `'**'` pattern. We have a policy against `'**'`, as they make forward evolution hard. Here you can just use a dictionary, that you pass to your solver using `'**'`.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
338,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:23:15,"Please describe this without reference to sklearn.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
339,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:27:12,"I think that we need two subclasses: one SpaceNetClassifier and one SpaceNetRegressor. These would simply set this parameter (which you could move to a class parameter, that way you don't have to override the init).

The benefit is that it makes it more explicit for the user, and thus reduces the risk of human error.

What do you think, @agramfort ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
340,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-08 14:50:56,"The fact that you are renaming when importing tells me that we should rename those functions in the file. Could you please do that (for logistic and div).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
341,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-08 16:53:24,"> What do you think, @agramfort https://github.com/agramfort ?
> 
> +1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
342,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-09 06:20:30,"(Applies to all comments about smoothing and the like): Smoothing is already done in the NifitMasker. How do we reconcile these smoothings (the one in NiftiMasker and the proposed one in path_scores) ?

On Wed, Oct 8, 2014 at 4:16 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/space_net.py:
> 
> > -        List of regularization parameters being considered.
> >   +
> > -    l1_ratio : float in the interval [0, 1]; optinal (default .5)
> > -        Constant that mixes L1 and TV (resp. Smooth Lasso) penalization.
> > -        l1_ratio == 0: just smooth. l1_ratio == 1: just lasso.
> >   +
> > -    solver : function handle
> > -       See for example tv.TVl1Classifier documentation.
> >   +
> > -    """"""
> >   +
> > -    alphas = sorted(alphas)[::-1]
> >   +
> > -    # univariate feature screening
> > -    mask = mask.copy()
> > -    if screening_percentile < 100.:
> 
> We need to smooth the data that we are passing to the SelectPercentile
> here, using nilearn.image.image._smooth_array with fwm='fast'. PR #258
> https://github.com/nilearn/nilearn/pull/258 will enable you to pass
> affine=None there.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18584555.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
343,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-09 07:49:46,"> Smoothing is already done in the NifitMasker.

We need to disable it: we should never smooth when there is a spatial
penalty. Thus, for SpaceNet, we don't smooth, aside in the feature
selection.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
344,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-10 03:11:35,"Oops, this is a bug (smoothing data on which spatial prior is optimized).
Fixed.

On Thu, Oct 9, 2014 at 9:49 AM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/space_net.py:
> 
> > -        List of regularization parameters being considered.
> >   +
> > -    l1_ratio : float in the interval [0, 1]; optinal (default .5)
> > -        Constant that mixes L1 and TV (resp. Smooth Lasso) penalization.
> > -        l1_ratio == 0: just smooth. l1_ratio == 1: just lasso.
> >   +
> > -    solver : function handle
> > -       See for example tv.TVl1Classifier documentation.
> >   +
> > -    """"""
> >   +
> > -    alphas = sorted(alphas)[::-1]
> >   +
> > -    # univariate feature screening
> > -    mask = mask.copy()
> > -    if screening_percentile < 100.:
> 
>  Smoothing is already done in the NifitMasker.
> We need to disable it: we should never smooth when there is a spatial
> penalty. Thus, for SpaceNet, we don't smooth, aside in the feature
> selection.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18630977.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
345,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 20:22:56,"Please move the author line to a comment, rather than a docstring line, and add that this is BSD licensed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
346,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 20:23:36,"Please rename this file plot_haxby_space_net.py : CamelCase gets translated to underscore separated, as in camel_case.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
347,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 20:28:40,"Is there any reason that you are creating a NiftiMasker here, rather than passing the filename to the mask keyword of SpaceNet?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
348,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 20:29:18,"This line is too long.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
349,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 20:57:39,"Could you also print in minutes, as in:

<pre>
total_time = time.time() - tic
print(""Time Elapsed: %g seconds, %i minutes.""  % (total_time, total_time / 60))
</pre>
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
350,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:00:55,"Could you please entitle this 'TV-l1 weights', as we are using TV-l1 here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
351,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:05:59,"Same remark on the filename: it should be space_net.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm_spacenet.py')"
352,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:13:36,"Typo: accuracy
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_spacenet.py')"
353,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:15:55,"Don't we want to keep the best_init here (using a ""copy"") and pass it during the refit, below.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
354,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:16:48,"Should be called early_stopper.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
355,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-13 21:18:00,"I would prefer if you could use np.empty here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
356,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 05:22:57,"there is little logic in the namings here: there is a ""-"" between smooth and lasso, but not tv and l1. I think that I would prefer the parameter to TV-l1 to be ""tv-l1""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
357,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 08:54:47,"That test is too stringent. In practice, it pretty much never fires and models are optimized to convergence during the parameter selection period, which takes for ever. I would change it to '>= -1e-4'. This will lead to a great change in run-time for no change in results.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
358,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 11:02:05,"Here, what you can do is to define an 'inner_mask', which is a cropped version of the mask. It will be used in the solver, and make the computation of the prox operator much faster.

I would do something like this:

<pre>
idx = np.where(mask)
i_min = max(idx[0].min() -1, 0)
i_max = max(idx[0].max(), mask.shape[0] - 1)
j_min = max(idx[1].min() -1, 0)
j_max = max(idx[1].max(), mask.shape[1] - 1)
k_min = max(idx[2].min() -1, 0)
k_max = max(idx[2].max(), mask.shape[2] - 1)
inner_mask = mask[i_min:i_max, j_min:j_max, k_min:k_max]
</pre>


PS: do this outside the 'if screening_percentile...' test, as is it also valid for user-supplied masks.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
359,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 11:44:13,"I don't understand the purpose of the line above.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
360,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 11:45:41,"Done.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
361,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 11:46:35,"Definitely. Done.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
362,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 13:12:26,"OK. Great code except for an tiny off-by-one error: i_max -> i_max + 1, etc. ;)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
363,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 13:16:24,"For the haxby epi mask, cropping screens-away upto 37% of the original box.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
364,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 13:25:40,"> OK. Great code except for an tiny off-by-one error: i_max -> i_max + 1, etc. ;)

:) Good catch!
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
365,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 13:26:10,"> For the haxby epi mask, cropping screens-away upto 37% of the original box.

And that's pretty sweet: factor of 3 improvement in the proximal
operator!
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
366,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 13:47:33,"The convention is scikit-learn is that a score is always 'bigger is better'. We need to change this test_score to conform to the convention. Elsewhere it's confusing when trying to figure out what is happening in the codebase (I just went through that).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
367,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 14:20:09,"I'd like this function to take an explicit verbose parameter, to replace the one that it is currently hiding in the solver_params dictionary. The way it should be handled is that it should be passed raw to the EarlyStoppingCallback, but to the solver, it should be passed as follows:

<pre>
verbose=max(verbose -1, 0)
</pre>


that patterns enables to control the amount of verbosity in a pipeline.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
368,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 14:26:09,"One things that makes the haxby dataset unusual is that it has a much larger number of samples than most datasets. As a result, the regularization is less important on this example.

What I suggest is to take only a subset of the data for training, and use the rest for testing. You can do that with the following:

<pre>
condition_mask_train = np.logical_and(condition_mask, labels['sessions'] < 10)
condition_mask_test = np.logical_and(condition_mask, labels['sessions'] >= 10)
</pre>


and then define X_train, y_train, X_test, y_test below.

You can then compute the performance of the model on left-out data using the predict method of the model.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
369,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 14:49:48,"After investigation, the mask returned by the strategy we have here is not sufficiently structured. Thus I suggest, first to change the default percentile to 20% of the brain, and second the following strategy, which works better:

<pre>
sX = ndimage.gaussian_filter(sX, (2, 2, 2, 0))
...
mask[mask] = (support > 0)
mask = ndimage.binary_dilation(mask).astype(np.bool)
</pre>
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
370,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 17:02:28,"This trick imay be good for spatial prior, but then we need to unmask the
design matrix X unto the larger / dilated support (for we always require
mask.sum() == X.shape[1]).

On Tue, Oct 14, 2014 at 4:49 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/space_net.py:
> 
> > -    n_samples, _ = X.shape
> >   +
> > -    # make local copy of mask
> > -    mask = mask.copy()
> >   +
> > -    # misc
> > -    verbose = solver_params.get('verbose', 0)
> > -    alphas = sorted(alphas)[::-1]
> >   +
> > -    # univariate feature screening
> > -    if screening_percentile < 100.:
> > -        # smooth the data before screening
> > -        sX = np.empty(list(mask.shape) + [n_samples])
> > -        for row in xrange(n_samples):
> > -            sX[:, :, :, row] = _unmask(X[row], mask)
> > -        sX = _fast_smooth_array(sX)
> 
> After investigation, the mask returned by the strategy we have here is not
> sufficiently structured. Thus I suggest, first to change the default
> percentile to 20% of the brain, and second the following strategy, which
> works better:
> 
> sX = ndimage.gaussian_filter(sX, (2, 2, 2, 0))
> ...
> mask[mask] = (support > 0)
> mask = ndimage.binary_dilation(mask).astype(np.bool)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r18833219.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
371,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 20:51:06,"Yes, indeed. Thus we need to do something like:

<pre>
new_mask = mask.copy()
new_mask[mask] = (support > 0)
new_mask = ndimage.binary_dilation(mask).astype(np.bool)
new_mask[np.logical_not(mask)] = 0
support = new_mask[mask]
</pre>


A little bit more work :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
372,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-15 07:05:50,"OK. When we're done with this mask wizardry, we'll barely need any spatial
prior whatsoever: we could simply fit a vulgare ridge on the then highly
structured support :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
373,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-15 07:07:23,"> OK. When we're done with this mask wizardry, we'll barely need any spatial
> prior whatsoever: we could simply fit a vulgare ridge on the then highly
> structured support :)

The important aspect is to select a super-set of the voxels that matter.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
374,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-16 09:08:59,"I will be much more efficient to do something like:

<pre>
sX = sX[mask]
</pre>
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
375,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-16 09:29:07,"It should be:

<pre>
      new_mask = ndimage.binary_dilation(new_mask).astype(np.bool)
</pre>
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
376,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-16 09:33:16,"Could you please:

a. Not keep the return value: it is not used here, so let's not clutter the script

b. Lock the cut_coords to z=-16, y=-38, x=35 so that the images are comparable with other images in the docs.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
377,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-16 11:18:32,"Thanks to the use of the label binarizer, we don't need to convert to numerical targets. Thus, I'd prefer if the code of this part of the file, was rewritten as follow:

<pre>
target = labels['labels']
condition_mask = np.logical_or(target == ""face"", target == ""house"")
condition_mask_train = np.logical_and(condition_mask, labels['chunks'] <= 9)
condition_mask_test = np.logical_and(condition_mask, labels['chunks'] > 9)


# make X (design matrix) and y (dependent variate)
import nibabel
niimgs  = nibabel.load(data_files.func[0])
X_train = nibabel.Nifti1Image(niimgs.get_data()[:, :, :, condition_mask_train],
                        niimgs.get_affine())
y_train = target[condition_mask_train]
X_test = nibabel.Nifti1Image(niimgs.get_data()[:, :, :, condition_mask_test],
                        niimgs.get_affine())
y_test = target[condition_mask_test]
</pre>
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
378,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 12:38:44,"What is the question mark for?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(79, '', u'nilearn/decoding/fista.py')"
379,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 12:43:02,"I'd prefer being very clear: ""breaking -> terminating the optimization loop"". And qualify what is meant by ""meaning"" by naming two ways it can be employed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
380,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 12:44:50,"Are we supposed to use double/single backticks etc for the docs or not? I have seen them in several places, but not consistently.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
381,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-17 12:58:31,"> Are we supposed to use double/single backticks etc for the docs or not? I have
> seen them in several places, but not consistently.

Only if there is an underscore at the end of the variable name, as
without the backticks, it is interpreted as a link.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
382,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:03:12,"descendent -> descending
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
383,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:03:59,"it doesn't default, it is set.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
384,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-17 13:11:47,"You're looking at a typo. Thanks for catching.

On Fri, Oct 17, 2014 at 2:38 PM, eickenberg notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -            b = lipschitz_constant \* linalg.norm(x - y, 2)
> > -            assert a <= b, err_msg + (""(a = %g >= %g)"" % (a, b))
> >   +
> >   +
> >   +def mfista(f1_grad, f2_prox, total_energy, lipschitz_constant, w_size,
> > -           dgap_tol=None, init=None, max_iter=1000, tol=1e-4,
> > -           check_lipschitz=False, dgap_factor=None, callback=None,
> > -           verbose=2):
> > -    """"""
> >   +
> > -    Parameters
> > -    ----------
> > -    f1_grad : callable(w) -> np.array
> > -        Gradient of smooth part of energy
> >   +
> > -    f2_prox : callable(w, stepsize, dgap_tol, init?) -> float, dict
> 
> What is the question mark for?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19014904.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(79, '', u'nilearn/decoding/fista.py')"
385,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:15:01,"Shouldn't we prefer pre-allocating space for `w_old`, then setting it inplace using `w_old[:] = w` in order to avoid re-allocating heap memory in different places? Or is my thinking deprecated and old-school? :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
386,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:19:34,"Why is `gradient_buffer` initialized above, if its pointer is overwritten here? Either update inplace `gradient_buffer[:] = f1_grad(z)` or don't initialize. (modulo my missing something between the initialization line and here)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
387,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-17 13:26:34,"Good point. This is garbage (the initialization).

On Fri, Oct 17, 2014 at 3:19 PM, eickenberg notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -        objective.append(old_energy)
> > -        w_old = w.copy()
> >   +
> > -        # Invoke callback.
> > -        if verbose:
> > -            print 'mFISTA: Iteration % 2i/%2i: E = %7.4e, dE % 4.4e' % (
> > -                i + 1, max_iter, old_energy, energy_delta)
> > -        if callback and callback(locals()):
> > -            break
> > -        if np.abs(energy_delta) < tol:
> > -            if verbose:
> > -                print ""\tConverged (|dE| < %g)"" % tol
> > -            break
> >   +
> > -        # Forward (gradient) step
> > -        gradient_buffer = f1_grad(z)
> 
> Why is gradient_buffer initialized above, if its pointer is overwritten
> here? Either update inplace gradient_buffer[:] = f1_grad(z) or don't
> initialize. (modulo my missing something between the initialization line
> and here)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19016663.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
388,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-17 13:28:08,"No, w.copy() is just fine.

On Fri, Oct 17, 2014 at 3:15 PM, eickenberg notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -    energy_delta = np.inf
> > -    best_w = w.copy()
> > -    best_energy = old_energy
> > -    best_dgap_tol = dgap_tol
> > -    ista_step = False
> > -    best_z = z.copy()
> > -    best_t = t
> > -    best_dgap_tol = dgap_tol
> > -    prox_info = dict(converged=True)
> > -    stepsize = 1. / lipschitz_constant
> > -    objective = []
> >   +
> > -    # FISTA loop
> > -    for i in xrange(int(max_iter)):
> > -        objective.append(old_energy)
> > -        w_old = w.copy()
> 
> Shouldn't we prefer pre-allocating space for w_old, then setting it
> inplace using w_old[:] = w in order to avoid re-allocating heap memory in
> different places? Or is my thinking deprecated and old-school? :)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19016430.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
389,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:39:03,"Could we have a comment saying `Ideally this loop is broken after one single iteration. It only loops if the precision of the proximal operator is too low, as measured by a non-decrease of the energy functional after the energy-decreasing prox operator. If the maximum of 10 loops is reached, then the dual gap precision is decreased by a factor of (.2) ** 10`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
390,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:42:29,"similarly as above: Would old-school memory house-keeping be in order?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
391,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:44:13,"as above (memory house keeping?)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
392,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:46:27,"Lipschitz
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
393,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:48:50,"curious mixture of mathematical arrow notation for functions and computer notation (.5)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
394,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 13:51:45,"`np.ones((X.shape[0], 1))`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
395,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:04:03,"Where else is this used? Seems not so straight forward to me. A reference, if available, would be cool. Or a quick outline as to why this should be so in the docstring. (I always had the feeling that the lipschitz constant of the gradient of the logistic loss was quite an issue)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
396,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-17 14:07:12,"I would naively agree with @eickenberg on principles. I ran a quick and dirty timing comparison which seems to indicate the same thing although it does depend of the size of the loop and the shape of the array you are copying.

To get a better idea whether it matters in your case, I can rerun it if you provide me with a typical size of max_iter and a typical shape of w.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
397,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:10:22,"An `einsum` on the raveled `spatial_grad[:-1]` would save a copy
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(123, '', u'nilearn/decoding/objective_functions.py')"
398,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:19:32,"@dohmatob any arguments as to why? What are the time scales of the necessary operations these days?
@lesteve a `w` instance would contain a brain image, potentially masked, but I am not sure at this point. So its shape can go from around `(10, 40, 40)` to `(100, 100, 100)`. As for `max_iter`, I am guess a couple of hundreds, but @dohmatob has more experience with that.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
399,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:28:53,"any decision here? If `np.float` is decided, then I'd prefer being precise about which type.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
400,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:30:44,"`ndarray`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
401,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:41:14,"Is ravelling necessary? Could we force a view?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
402,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:48:15,"Specify that they must be in {-1, 1}
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
403,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:55:52,"Sorry, it's an upper bound. OK. The difficulty was elsewhere and is not solved by calculating this exactly. But still, maybe it can be replaced by using the operator norm (\infty, 2)?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
404,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:57:50,"Are static lambda expressions ever useful? You are naming them into a variable. Why should they stay anonymous?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
405,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:58:09,"TV-L1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
406,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:58:43,"[Citation needed]
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
407,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-17 14:59:42,"complete
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
408,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-18 14:51:50,"is this tuple valid python ? ;)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
409,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-18 14:53:53,"actually, in 3 lines above the thing is named in 3 ways
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
410,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-18 14:55:27,"the docstring says that a 1d array must be input. so the thing to do would be to verify this condition instead of ravelling or making a 1d view
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
411,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 15:28:33,"This is too verbose. There are already a couple of comments baring the same pedagogy.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
412,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 15:29:50,"NO. BTW, what do you mean by ""old-school memory house-keeping""?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
413,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 15:36:06,"Read this: http://www.csie.ntu.edu.tw/~cjlin/papers/l1_glmnet/supplement.pdf
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
414,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 15:58:42,"Done.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
415,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 16:12:28,"Oops! Indeed, we're in a loop, and so *.copy() is not ""just fine"", as the overhead will become apparent for large ""max_iter"". Good catch.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
416,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-18 16:14:07,"OK see updated comment above, on the same issue.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
417,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:18:04,"X_std[X_std == 0.] = 1.

these are floats
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(40, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
418,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:19:19,"in closed-form

in is missing
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
419,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-19 16:21:08,"while we're at it:

aN inner loop

closed form

On Sunday, October 19, 2014, Alexandre Gramfort notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > @@ -0,0 +1,241 @@
> > +""""""
> > +Generic FISTA for solving TV-l1, S-Lasso, etc., problems.
> > +For problems on which the prox of the nonsmooth term cannot be computed
> > +closed-form (e.g TV-l1), approximate it using a inner FISTA loop.
> 
> in closed-form
> 
> in is missing
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19061211.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
420,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:21:46,"assert is not always evaluated. Eg. some production python code.
I would raise a RuntimeError
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
421,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:22:21,"Docstring headline missing

see pep257
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
422,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:31:09,"I don't really like the term energy. How about cost?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(84, '', u'nilearn/decoding/fista.py')"
423,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:32:07,"@GaelVaroquaux are ok with using cost and not energy? it sounds too much like physics for me :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
424,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:34:30,"why int(max_iter) ? max_iter is supposed to be an int already.

also what is the policy towards py3k? because of xrange.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
425,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:34:45,"print uses () on py3k
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
426,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:36:07,"note for later. Reviewer is (almost) always right and if to make him happy you need to type 2 lines just do it :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
427,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:39:59,"The objective is
or
The cost is
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
428,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:40:35,"Numpy standard is:

X : ndarray, shape (n_samples, n_features)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
429,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:40:45,"y : ndarray, shape (n_samples,)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
430,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:41:08,"w : ndarray, shape (n_features,)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
431,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:41:56,"I don't like asserts :) I prefer proper exceptions
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
432,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:43:29,"what shape?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
433,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:43:41,"l1 -> L1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
434,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:44:53,"please check docstring formatting
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
435,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-19 16:47:22,"Fixed th max_iter stuff.
For the moment there's no py3 anticipation. There are other non py3"" stuff like `print ""Hallo!""` lurking in the code base.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
436,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:48:22,"(gap *\* 2).sum() -> np.dot(gap, gap)

?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
437,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:49:25,"sometimes you write l1 and sometimes L1. Please be consistent in docstring and use L1.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
438,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-19 16:49:28,"Personally, I'm fine with the (equivalent) terms energy, cost, etc. If I get another +1 for this, then I'll change it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(84, '', u'nilearn/decoding/fista.py')"
439,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:50:16,"Some param description start with a capital some don't. Please be consistent.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(101, '', u'nilearn/decoding/proximal_operators.py')"
440,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:51:31,"np.dot(input_img.ravel(), input_img.ravel())

is faster as it avoids a temp array.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
441,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 16:55:19,"The docstring is certainly wrong. L2 does not apply to TV-L1 etc.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
442,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:00:58,"this block of code is not tested. cf. coverage report
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(180, '', u'nilearn/decoding/space_net.py')"
443,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:02:28,"TVl1-> TV-L1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
444,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:03:05,"weigghts -> weights
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
445,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:04:21,"tvl1 -> tv-l1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
446,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:04:59,"shape = [n_samples, n_features] -> shape (n_samples, n_features)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
447,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:05:10,"idem for shape formatting
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
448,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:06:45,"fix docstring
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
449,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:07:11,"fix docstring
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
450,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:07:20,"idem
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
451,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:08:09,"no random state?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
452,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:08:47,"when you compute sqrt on float use math.sqrt and not np.sqrt. Same remark applies above.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
453,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:09:53,"info of what?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
454,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:10:14,"params are not documented
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
455,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:10:39,"params are not documented. Same remark with info below
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(304, '', u'nilearn/decoding/space_net_solvers.py')"
456,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-19 17:10:49,"gap is a 3D array.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
457,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:11:20,"some functions are private some not. I vote to make as many functions private as possible.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(361, '', u'nilearn/decoding/space_net_solvers.py')"
458,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:11:32,"returns?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
459,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:11:43,"docstring missing
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
460,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:12:28,"don't talk about length but shape

y : 1D array, shape (n_samples,)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
461,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-19 17:12:46,"But yep, i can ravel and then dot. thx
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
462,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:14:07,"hum some parameters are missing

returns are not documented
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(18, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
463,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:14:22,"docstring
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(73, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
464,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:15:50,"invalide -> invalid
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_objective_functions.py')"
465,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:16:02,"why trailing _?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(80, '', u'nilearn/decoding/tests/test_objective_functions.py')"
466,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-19 17:16:03,"better to force a non-copying view than to ravel
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
467,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:16:17,"ok got it
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(80, '', u'nilearn/decoding/tests/test_objective_functions.py')"
468,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:16:55,"assert_equal with nottest above
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
469,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-19 17:16:55,"unless we can guarantee C ordering, ravel may make copies ...
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
470,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:18:50,"can you explicit what you're testing?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
471,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:19:43,"XXX to be done?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(207, '', u'nilearn/decoding/tests/test_same_api.py')"
472,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:20:22,"if you import assert_array_equal on top you can avoid all the np.testing.

we do this in sklearn
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(23, '', u'nilearn/decoding/tests/test_sklearn_basic_backports.py')"
473,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 17:20:46,"don't use relative imports in tests

fix import order
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_sklearn_compatibility.py')"
474,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:37:08,"we don't use relative imports in tests
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
475,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:39:15,"use assert_true
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
476,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:39:53,"assert_true
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
477,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:40:37,"0.

it's a float
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
478,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:46:43,"clarify what you're testing
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
479,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:47:33,"what is the difference between @ notest and @ SkipTest?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
480,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:48:58,"insert _ between words
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
481,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:50:46,"functions above are named tvl1 and here it is called tv_l1
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_tv.py')"
482,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-19 19:51:38,"you call it smooth-lasso and below you say tv-l1 weights
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
483,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-19 20:57:41,"@agramfort this typo was fixed a long time ago.

On Sun, Oct 19, 2014 at 9:51 PM, Alexandre Gramfort <
notifications@github.com> wrote:

> In plot_haxby_space_net.py:
> 
> > +_, target = np.unique(labels['labels'], return_inverse=True)
> > +
> > +# make X (design matrix) and y (response variable)
> > +import nibabel
> > +niimgs  = nibabel.load(data_files.func[0])
> > +X_train = nibabel.Nifti1Image(niimgs.get_data()[:, :, :, condition_mask_train],
> > -                        niimgs.get_affine())
> >   +y_train = target[condition_mask_train]
> >   +X_test = nibabel.Nifti1Image(niimgs.get_data()[:, :, :, condition_mask_test],
> > -                        niimgs.get_affine())
> >   +y_test = target[condition_mask_test]
> >   +
> >   +
> >   +### Fit and predict ##########################################################
> >   +from nilearn.decoding import SpaceNet
> >   +decoder = SpaceNet(memory=""cache"", is_classif=True, penalty=""smooth-lasso"",
> 
> you call it smooth-lasso and below you say tv-l1 weights
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19062860.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
484,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 08:20:28,"as discussed, but I am unsure: wouldn't you want to subtract the intercept from `self.y_test` before this dot product?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
485,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 08:26:47,"`self.ymean` is supposed to hold the intercept, which is added to y_pred before the score is computed. So, yes the intercept is being subtracted.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
486,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:22,"are the two above comments necessary?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm_space_net.py')"
487,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:27,"Can we have the `""%""` in the preceding string as `""%%""`? Otherwise the string interpolation in unnecessary and should also be done with `+`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
488,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:36,"Is this copy necessary? `squared_loss` doesn't modify the data, right?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(21, '', u'nilearn/decoding/tests/test_tv.py')"
489,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:45,"What is not working here yet?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(221, '', u'nilearn/decoding/tests/test_space_net.py')"
490,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:51,"Comparison of coefs impossible, even with `assert_array_almost_equal`?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(215, '', u'nilearn/decoding/tests/test_space_net.py')"
491,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:44:57,"Are these loops to be extended or removed?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
492,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:02,"_at_ some point? (not completely understanding)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
493,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:24,"Maybe this test can be revived using `assert_array_almost_equal` using a lax `decimal=` kwarg. But that depends on how bad the differences are when using early stopping. If the smooth lasso with `l1_ratio=1.` and the TV-L1 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
494,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:38,"maybe ""are equal to zero""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(227, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
495,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:44,"the test depend **s**

Preference on impersonal formulation - ""According to/In the paper, the authors calculate the norm of `starting_point - optimum`""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(219, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
496,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:50,"objective
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
497,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:45:57,"can you motivate this choice? (for future understanding)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(184, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
498,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:01,"`of of` -> `of`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
499,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:08,"Sometimes there are comments, sometimes there are docstrings. It would be better to have the same everywhere.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(163, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
500,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:13,"remove `np.testing`, `assert_almost_equal` is imported
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(124, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
501,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:19,"adjointness

And end the sentence with a `.`.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(83, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
502,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:21,"remove space btw `-` and `xdotAty`

Also end docstring with .
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(79, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
503,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:26,"prefer ""matrix form"", end with .
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(60, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
504,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:30,"I'm fine with creating these global variables, but it does come with risks.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(36, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
505,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:47,"import `assert_array_almost_equal`.

OK, here you check equality of `coef_`, so maybe my comment below is obsolete.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(163, '', u'nilearn/decoding/tests/test_same_api.py')"
506,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:52,"import `assert_array_almost_equal` directly
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(130, '', u'nilearn/decoding/tests/test_same_api.py')"
507,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:46:58,"import `assert_array_equal`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(84, '', u'nilearn/decoding/tests/test_same_api.py')"
508,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:00,"`np.ones(X.shape[1], dtype=np.bool)`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
509,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:06,"it would probably be good to import `assert_array_equal` directly.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(72, '', u'nilearn/decoding/tests/test_same_api.py')"
510,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:12,"`assert_true`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
511,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:15,"you have imported `check_random_state`, so you could use it here, too, preferring the numpy rng.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
512,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:20,"functions
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(3, '', u'nilearn/decoding/tests/test_same_api.py')"
513,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:25,"cool test!! `strong` -> `firm` for most
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_operators.py')"
514,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:32,"probably also _base_estimator_ (CamelCase -> snake_case)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_objective_functions.py')"
515,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:38,"Shouldn't this method rather have a leading underscore, so that it isn't called twice with `size=5` ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(82, '', u'nilearn/decoding/tests/test_objective_functions.py')"
516,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:44,"`(img.ndim + 1,) + img.shape` should work as well and save some symbols.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(36, '', u'nilearn/decoding/tests/test_objective_functions.py')"
517,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:47:59,"you can use `gaussian_filter` here once with `sigma=(0,) + (smooth_X,) * 3`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(43, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
518,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:48:10,"whereas in smooth_lasso there are comments of the type ""better to make them slightly bigger"", there are none here. It should be the same in both algorithms.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(508, '', u'nilearn/decoding/space_net_solvers.py')"
519,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:48:14,"Lipschitz
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
520,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:48:19,"You are using `lambda` here vs `def` above. Change this too?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
521,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:48:55,"square -> squared
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
522,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:49:05,"If, as the doctring indicates, we know that we are in 4D, a copy could be saved using `np.sum(np.sqrt(np.einsum(""ijkl, ijkl -> jkl"", gradient[:-1])))`. But this may or may not be relevant in a benchmark.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(372, '', u'nilearn/decoding/space_net_solvers.py')"
523,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:49:16,"the factor is different here from above for squared loss. It would be good if the comment could state this.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(332, '', u'nilearn/decoding/space_net_solvers.py')"
524,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:49:25,"all the lambdas ... I'd sincerely prefer `functools.partial` or good old `def`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
525,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:49:32,"Remove or shorten
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(268, '', u'nilearn/decoding/space_net_solvers.py')"
526,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:49:44,"meh - if I may: This function name sounds like it kind of stops the `prox_l1` from doing something somewhere in the middle. `prox_l1_skip_intercept` ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
527,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:50:21,"specify `n, p` in design matrix shape above. Maybe be slightly more explicit than {2|3} :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
528,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:50:29,"how are these stacked? If I am reading correctly this is not matlab notation. In which case, specify notation.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(127, '', u'nilearn/decoding/space_net_solvers.py')"
529,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:50:35,"Mixed matlab arts notation? :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(92, '', u'nilearn/decoding/space_net_solvers.py')"
530,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:50:57,"full stop . :) (PEP 257)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
531,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 09:51:05,"`g2_weight` -> `grad_weight` ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
532,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-20 09:51:32,"einsum can be quite slow. I would bench first.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(372, '', u'nilearn/decoding/space_net_solvers.py')"
533,pull_request_commit_comment,219,nilearn,nilearn,agramfort,2014-10-20 09:52:12,"i would say ""square""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
534,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 10:49:07,"agreed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(372, '', u'nilearn/decoding/space_net_solvers.py')"
535,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 10:51:20,"I did too, until I looked it up in wikipedia, but they are probably both OK. (If you see error==residual, then it is ""squared"" with a d)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
536,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:03:35,"Do you mean in the line below (186)? Is `self.y_test` centered when it comes into `__init__` ? My comment is not about the computation of the score, but about the debiasing itself, but I am failing to gather all the information from the context (maybe it is just fine due to prior calculations): My worry is that `np.dot(y_pred, self.y_test)` may be quite different from `np.dot(y_pred, self.y_test - m)`, where `m` is e.g. the intercept accompanying `w` -- (in short: you wouldn't want to debias against an offset variable).
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
537,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:04:14,"between 

(Also I really like the idea of Spearman correlation here)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
538,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:09:29,"as much as I tend to like writing things like this myself, could we have

```
end = grad.shape[0] - 1
if l1_ratio  == 0.:
    end += 1
```
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(40, '', u'nilearn/decoding/proximal_operators.py')"
539,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:10:13,"efficiently
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
540,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:11:14,"don't change (see @agramfort s comment below)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(123, '', u'nilearn/decoding/objective_functions.py')"
541,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:21:06,"unless C ordering guaranteed, there is a risk of a copy here (but it should mostly be C-ordered). Can we still have that the reshaping logic happens in the `total_energy` function? It feels more consistent.

Also somehow my previous comment on the legibility of this loop has disappeared. Since I have parsed it now, I cannot comment anymore on how simple or difficult this is, but my first reading would have been better guided by a short explanatory text before the loop.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
542,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:21:59,"Cater?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
543,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:22:51,"Dopgima missing :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(5, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
544,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:32:10,"raise?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
545,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:32:17,"raise?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
546,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:33:06,"what exactly is actually Chambolle?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
547,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:37:21,"Ensure C ordering

or ravel only once

or

`input_img_flat = input_img.view();
input_img_flat.shape = input_img.size,;
input_img_norm = np.dot(input_img_flat, input_img_flat)`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
548,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:39:44,"Careful
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
549,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:48:46,"@GaelVaroquaux do we need to clip in any of this code? Seems to me like some positivity constraint stuff that was used in other contexts, but doesn't seem to be called on here. (Certain future use or out?)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(180, '', u'nilearn/decoding/proximal_operators.py')"
550,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 11:49:13,"other part of clipping logic here
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(218, '', u'nilearn/decoding/proximal_operators.py')"
551,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 11:58:16,"This is a legacy test case. Yes it can be greatly simplified but I won't enjoy the pleasure of rewriting it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(43, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
552,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 12:01:06,"OK
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(43, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
553,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 12:01:40,"too verbose :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(40, '', u'nilearn/decoding/proximal_operators.py')"
554,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 12:04:48,"No, there is apparent bad naming here. It ought to be something like
`prox_l1_with_intercept`.

On Mon, Oct 20, 2014 at 11:49 AM, eickenberg notifications@github.com
wrote:

> In nilearn/decoding/space_net_solvers.py:
> 
> > +
> > -    a = np.random.randn(X.shape[1])
> > -    a /= sqrt(np.dot(a, a))
> > -    grad_buffer = np.zeros(mask.shape)
> > -    for _ in xrange(n_iterations):
> > -        grad_buffer[mask] = a
> > -        a = - div(gradient(grad_buffer))[mask] / sqrt(np.dot(a, a))
> >   +
> > -    grad_buffer[mask] = a
> > -    grad_constant = (- np.dot(div(gradient(grad_buffer))[mask], a)
> > -                     / np.dot(a, a))
> >   +
> > -    return data_constant + grad_weight \* grad_constant
> >   +
> >   +
> >   +def intercepted_prox_l1(x, tau):
> 
> meh - if I may: This function name sounds like it kind of stops the
> prox_l1 from doing something somewhere in the middle.
> prox_l1_skip_intercept ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19075936.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
555,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 12:35:49,"Nice proposal.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
556,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 12:37:33,"Superfluous brackets?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
557,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 12:43:53,"Commentary could be more explicit here: e.g. ""Zeroing both spatial-prior penalty weights should yield identical results""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(148, '', u'nilearn/decoding/tests/test_same_api.py')"
558,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 12:45:48,"Yes. Good catch.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
559,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 12:57:39,"This might be a good place to briefly render explicit the relation between ""L1"" (refers mostly to the L1-Norm penalty, AFAIK, independent of a specific optimization problem) and ""Lasso"" (refers to the regression problem including regularization by L1-Norm, AFAIK). I feel that terms such as ""Lasso"" and ""Ridge"" are jargon terms that are difficult to investigate for non-machine-learning folks. More concretely, on could at least mention that ""TV-L1 and Smooth-Lasso have the L1 penalty in common but differ in the type of spatial prior."" or something like that
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
560,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 13:43:45,"Perhaps give complete citation by Beck & Teboulle here (including page numbers, journal and year of publication)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
561,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 13:45:00,"the ref sounds colloquial this way
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
562,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 13:48:56,"This explanation is self-referential: Blah_intercept ...takes into the intercept.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(266, '', u'nilearn/decoding/proximal_operators.py')"
563,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 13:49:22,"typo: i.e.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
564,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 13:51:30,"Again, pretty self-referential explanation. In philosophy, this would not qualify as a definition.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
565,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 13:59:54,"This is statement is void as such. Which type of discourse are you referring to?

(Also, I think the principle is to have a full description of the function in the docstring, without implicating the function name)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
566,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 14:10:45,"It's not necessary to nest ndimage.binary_dilation/erosion because it could be in one step by ndimage.binary_closing/fill_holes
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
567,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 14:10:57,"Yes, they're like pedagogic subtiles (what's happening in each portion of the script) to the user.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm_space_net.py')"
568,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 14:14:47,"sure that you did not mean ""verbose=0""?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
569,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 14:18:41,"OK - yes, better more than less. Although for once I thought it was clear ;) since those exact words are the actual names of the commands used. (I am talking about lines 21 and 23)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm_space_net.py')"
570,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 14:26:38,"""structured (i.e., respective spatial prior)"" and ""sparse (i.e., enforced by L1 norm)""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
571,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 14:27:11,"final point missing
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
572,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-20 14:27:13,"Also for completeness, these comments are used as targets to include excerpts from example scripts in the documentation (probably not in this case I am guessing since this is a new example script).

For example here is the [html doc](http://nilearn.github.io/data_analysis/decoding.html#loading-the-data-into-python) and the [rst](https://raw.githubusercontent.com/nilearn/nilearn/master/doc/data_analysis/decoding.rst). You'll see that the comments are used as start-after and end-before targets for the literalinclude.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_oasis_vbm_space_net.py')"
573,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-20 14:29:12,"Again, TV (a penalty) is mixed up by juxtaposition with S-Lasso (more than a penalty) -> Adds to confusion for new people in the field
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
574,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 14:33:08,"Quality comment (cf. other comments thus far ;) )
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
575,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-10-20 14:34:35,"True. It should be S-LASSO -> L2-smoothness (or something to that effect)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
576,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 16:59:50,"@eickenberg  @banilo : Gentlemen, could you be less superficial and impertinent in your comments ? This is a headliner saying in the most succint words, what the (private low-level) function is doing. It's by no means an _ouroboros_. It's a pity, such an improbably heavy bail of poor reviews drown a few interesting comments which actually have a point to make. I know it's a delicate art to make good reviews, but if you can make an effort,  then we can see some better reviews here. Looking forward to this.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
577,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 17:47:11,"Lambda is just fine, and is an incredible convenience in such matters. Also, Lambda reminds us of the Lispy origins of python, which most people seem to have forgotten, or completely ignore. Lambda is your f(r)iend. AC would agree.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
578,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-20 19:01:20,"Well, actually lambda is discouraged. It gives code that is hard to read.

I would strongly prefer if the use of lambda could be minimized.

And nobody care about lisp anymore :P
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
579,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 19:14:35,"OK, it's sad to see _Lisp_ end this way. I'll hereby promise to make a tremendous effort to mitigate my use of the _Lambda_ in the codebase henceforth :)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
580,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-20 19:17:03,"Good point. I'll look at this asap.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(508, '', u'nilearn/decoding/space_net_solvers.py')"
581,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-21 06:46:48,"Good point. Fixed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
582,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-22 09:14:35,"li_p_schitz
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
583,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-22 09:20:00,"I thought the right way to do it was to pass a  `random_state` argument to the function
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
584,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 09:26:47,"It's all about making the test reproducible using a local
random-number-generator, without unnecessary sophistications :)

On Wed, Oct 22, 2014 at 11:20 AM, Loïc Estève notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > +
> > -    n_trials : int,
> > -      Number of tests performed when assessing the Lipschitz continuity of
> > -      function `f`. The more tests, the more confident we are in the
> > -      Lipschitz continuity of `f` if the test passes.
> >   +
> > -    err_msg : {str, or None},
> > -      String used to tune the output message when the test fails.
> > -      If `None`, we'll generate our own.
> >   +
> > -    Raises
> > -    ------
> > -    RuntimeError
> > -    """"""
> >   +
> > -    rng = check_random_state(42)
> 
> I thought the right way to do it was to pass a random_state argument to
> the function
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19202162.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
585,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 09:27:11,"Thanks. Fixing right away.

On Wed, Oct 22, 2014 at 11:14 AM, Loïc Estève notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > -    Lipschitz continuity of the function with respect to the given
> > -    constant `L`. This confidence increases with the `n_trials` parameter.
> >   +
> > -    Parameters
> > -    ----------
> > -    f : callable,
> > -      The function to be checked for Lipschitz continuity.
> > -      `f` takes a vector of float as unique argument.
> > -      The size of the input vector is determined by `ndim`.
> >   +
> > -    ndim : int,
> > -      Dimension of the input of the function to be checked for Lipschitz
> > -      continuity (i.e. it corresponds to the size of the vector that `f`
> > -      takes as an argument).
> >   +
> > -    lischitz_constant : float,
> 
> li**p**schitz
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19201962.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
586,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-22 09:32:25,"I don't understand the logic at play here.
1. If no `err_msg` argument is provided, it seems to me that in err_msg the `x` and `y` will be set to the first x and y in the loop rather to the ones that don't satisfy the constraint, potentially yielding to a misleading error message. In other words, I would move this statement in the `if a > b:` block below.
2. I don't really get the point of being able to provide an err_msg as an argument to be honest.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
587,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-22 09:34:28,"I would use Lipschitz Continuity fully spelled out (or whatever LC stands for) for clarity reasons.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
588,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 09:44:41,"This is the fingerprint of a piece of code that once lived on planet _parietal-python_. Good catch. Fixed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
589,pull_request_commit_comment,219,nilearn,nilearn,lesteve,2014-10-22 09:44:43,"But this function is not a test or am I missing something? Basically I am just advocating following http://scikit-learn.org/stable/developers/#random-numbers.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
590,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 11:03:27,"It's not a test, it's a check, but my remark still applies I believe.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
591,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-22 12:57:47,"Loic's remark was a good one. His suggestion is a tiny modification, it's standard practice, and it enables varying a parameter that should really be independent of the test.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
592,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 13:01:41,"I don't mind implementing this. My point was I don't see what added value
this modification has, appart from being a ""'good"" practice.

On Wed, Oct 22, 2014 at 2:57 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > +
> > -    n_trials : int,
> > -      Number of tests performed when assessing the Lipschitz continuity of
> > -      function `f`. The more tests, the more confident we are in the
> > -      Lipschitz continuity of `f` if the test passes.
> >   +
> > -    err_msg : {str, or None},
> > -      String used to tune the output message when the test fails.
> > -      If `None`, we'll generate our own.
> >   +
> > -    Raises
> > -    ------
> > -    RuntimeError
> > -    """"""
> >   +
> > -    rng = check_random_state(42)
> 
> Loic's remark was a good one. His suggestion is a tiny modification, it's
> standard practice, and it enables varying a parameter that should really be
> independent of the test.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19211055.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
593,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-22 13:11:26,"> I don't mind implementing this. My point was I don't see what added value this
> modification has, appart from being a ""'good"" practice.

The choice of 42 is arbitrary. To make a check more robust, one might
want to marginalize it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
594,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-22 13:22:50,"These are far-fetched considerations and I'm still not convinced :) In any
case, I've implemented the _random_state_ arg so we can move on.

On Wed, Oct 22, 2014 at 3:11 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/fista.py:
> 
> > +
> > -    n_trials : int,
> > -      Number of tests performed when assessing the Lipschitz continuity of
> > -      function `f`. The more tests, the more confident we are in the
> > -      Lipschitz continuity of `f` if the test passes.
> >   +
> > -    err_msg : {str, or None},
> > -      String used to tune the output message when the test fails.
> > -      If `None`, we'll generate our own.
> >   +
> > -    Raises
> > -    ------
> > -    RuntimeError
> > -    """"""
> >   +
> > -    rng = check_random_state(42)
> 
>  I don't mind implementing this. My point was I don't see what added value
> this modification has, appart from being a ""'good"" practice.
> The choice of 42 is arbitrary. To make a check more robust, one might want
> to marginalize it.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19211812.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
595,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-22 13:28:51,"Please remove the word novel here. Some people find it annoying to use that word too often.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
596,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-10-29 12:57:16,"Sorry, but I can barely see any difference between smooth-lasso and TV-l1. Is there something wrong ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
597,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:02:24,"Please move to cost.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(84, '', u'nilearn/decoding/fista.py')"
598,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:27:21,"repeats line 153
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
599,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:27:40,"repeated line ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
600,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:30:45,"ndarray, shape (w_size,)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
601,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:31:25,"maybe: solution of the optimization problem
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/fista.py')"
602,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:33:42,"compute_cost
(in the doc above, you called this curve). A discussed by @agramfort energy as a peculiar connotation that is not useful here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(74, '', u'nilearn/decoding/objective_functions.py')"
603,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:34:03,"cost
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(82, '', u'nilearn/decoding/objective_functions.py')"
604,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:35:17,"ndarray, shape (4, nx, ny, nx)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
605,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 21:48:49,"To me, such simplified docstrings are OK for private functions. Should we have those private ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
606,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-11-02 21:51:45,"> To me, such simplified docstrings are OK for private functions. Should we have
> those private ?

I think that this is a good idea.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
607,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:00:50,"ndarray, shape (w_size,)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
608,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:01:15,"same here
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/proximal_operators.py')"
609,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:03:21,"This is a bit large... We will probably have to update it. Never mind, this is not essential obviously.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(37, '', u'nilearn/decoding/space_net.py')"
610,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:09:18,"This is a subset of the mask
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
611,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:16:33,"Is the use of Spearman standard here ? Or simply common sense, to accomodate losses more general than least squares ? 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(205, '', u'nilearn/decoding/space_net.py')"
612,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:19:43,"we should use
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
613,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:20:29,"100, not 50
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
614,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:28:42,"If True, the data (X,y) are centered in order to have mean zero along axis 0.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(1160, '', u'nilearn/decoding/space_net.py')"
615,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:30:28,"Could this be a bit more explicit: you're talking about change across successive estimates ?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(1171, '', u'nilearn/decoding/space_net.py')"
616,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:32:04,"remove  'the' at the end of the line
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
617,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:33:10,"ndarray of shape (nclasses - 1)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
618,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:36:27,"should be relative to the provided mask. The volume of standard brain should only be indicative. 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(594, '', u'nilearn/decoding/space_net.py')"
619,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:38:37,"/ 1000. (same below)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
620,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:40:56,"range(n_problems)
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
621,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:47:10,"I don't like this. One aspect is that ""the volume of the MNI 152 brain"" is very accurately defined. Second,  the user may have a hard time guessing what is actually done (some datasets are not full-brain, henc ethe user will have to figure out what fraction of MNI space their mask represents). I think that the setting is clearer is the percentile is wrt the provided mask.  
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
622,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:54:55,"Same comment here on private functions and non-developed dosctrings.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(157, '', u'nilearn/decoding/space_net_solvers.py')"
623,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 22:57:28,"to solve
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
624,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-02 23:02:18,"to solve
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(407, '', u'nilearn/decoding/space_net_solvers.py')"
625,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-03 08:43:14,"Please describe in a couple of sentences what the simulated data look like.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(2, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
626,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-03 08:55:04,"_loss_
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
627,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-03 08:55:35,"_loss_
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
628,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-11-03 09:25:19,"> I don't like this. One aspect is that ""the volume of the MNI 152 brain""
> is very accurately defined. Second, the user may have a hard time
> guessing what is actually done (some datasets are not full-brain, henc
> ethe user will have to figure out what fraction of MNI space their mask
> represents). I think that the setting is clearer is the percentile is
> wrt the provided mask.

I disagree. I want the measure to be absolute so that we can set a
reasonable default. Things should work out of the box.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
629,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-11-03 11:52:28,"Maybe I'm wrong, but that basically excludes all ROI based analyses from benefitting from sensible out-of-the-box settings, right? (I am not mentioning single subject analyses as an argument, but one may want to accommodate those as well in the future.) As @bthirion says, a _volume_ percentile of a specified mask seems as sensible to me as selecting a percentile can get in the context of this algorithm.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
630,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-11-03 12:19:03,"Both views are certainly reasonable and just as _ad hoc_ as one another. I
think there is room for this to evolve in future, and we should leave it at
that for now (and see how it goes). BTW,  issue #265 (
https://github.com/nilearn/nilearn/issues/265) was created to track this
discussion.

On Mon, Nov 3, 2014 at 12:52 PM, eickenberg notifications@github.com
wrote:

> In nilearn/decoding/space_net.py:
> 
> > -        documentation for details
> >   +
> > -    high_pass : False or float, optional (default None)
> > -        This parameter is passed to signal. Clean. Please see the related
> > -        documentation for details
> >   +
> > -    t_r : float, optional (default None)
> > -        This parameter is passed to signal.clean. Please see the related
> > -        documentation for details
> >   +
> > -    screening_percentile : float in the interval [0, 100]; Optional (
> > -    default 20)
> > -        Percentile value for ANOVA univariate feature selection. A value of
> > -        100 means 'keep all features'. This percentile is is expressed
> > -        w.r.t the volume of a standard (MNI152) brain, and so is corrected
> > -        at runtime by premultiplying it with the ratio of the volume of the
> 
> Maybe I'm wrong, but that basically excludes all ROI based analyses from
> benefitting from sensible out-of-the-box settings, right? (I am not
> mentioning single subject analyses as an argument, but one may want to
> accommodate those as well in the future.) As @bthirion
> https://github.com/bthirion says, a _volume_ percentile of a specified
> mask seems as sensible to me as selecting a percentile can get in the
> context of this algorithm.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/219/files#r19728797.

## 

DED
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
631,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-03 12:37:44,"You're right that this is not relevant for SpaceNet. Let's handle this 
later.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
632,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-11-03 17:52:00,"redundant: default parameter for smooth is given here and a few lines down under ""Parameters""
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
633,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-11-03 17:52:17,"""on"" is repeated here
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
634,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-11-03 17:52:22,"superfluous bracket
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
635,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-11-03 19:00:04,"> Maybe I'm wrong, but that basically excludes all ROI based analyses from
> benefitting from sensible out-of-the-box settings, right? (I am not mentioning
> single subject analyses as an argument, but one may want to accommodate those
> as well in the future.)

Quite on the contrary. With the settings being a percentile of the voxels
(which is basically what you are advocating), when doing ROI-based
analysis, the default give meaningless selections. For instance selecting
40 voxels. This is exactly what happened earlier, and what prompted me to
ask for this specific implementation.

> As @bthirion says, a volume percentile of a specified mask seems as
> sensible to me as selecting a percentile can get in the context of this
> algorithm.

Honestly, please no. Think about it. If people specify a small mask, as
in the Haxby dataset, and leave the default settings (which 90% of the
users will), they will get nonsense. And it's not like it's nonsense that
is easy to diagnose.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(995, '', u'nilearn/decoding/space_net.py')"
636,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-11-03 19:00:45,"> redundant: default parameter for smooth is given here and a few lines down
> under ""Parameters""

Yes, that's the numpy doc standard.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
637,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-11-04 09:16:31,"Yes it is of great convenience. There are probably other ways to go about this, but this is clean.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(205, '', u'nilearn/decoding/space_net.py')"
638,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-11-04 09:27:10,"See on-going discussion about volume-corrected percentile, etc.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(594, '', u'nilearn/decoding/space_net.py')"
639,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-11-04 09:50:31,"I guess this is related to python3, etc. OK changing this. BTW, issue #274 has is open for discussing py3 stuff.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
640,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-11 11:28:15,"There is an issue with the default alpah_min (1.e-6): in both cases, the decoder selects the highest penalty. I have replayed it with a higher alpha_min: 1.e-4 and obtain clear differences between the two decoders.
The heuristic to set the alpha grid/ choose alpha_min should be revisited ? 
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'plot_haxby_space_net.py')"
641,pull_request_commit_comment,219,nilearn,nilearn,bthirion,2014-11-14 13:59:02,"The TV+L1 term is bit surprising here, given that this function computes image gradients that are not necessarily related to spatial penalties but can be used in other context. I think that this holds for all functions in this module.
 To some extent, this also holds for the 'l1_ratio' term, but I have no great idea on how to replace it.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
642,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-11-14 14:30:56,"Indeed. Fixed. commit e91a66d1535e67c0a819b88bdde226081267be70
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/objective_functions.py')"
643,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-12-02 13:50:41,"Could we please have something different from `c` in either one of these two loops?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
644,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-12-03 08:48:41,"in the three above blocks, the `def` statements would be better inside the `if` blocks (they don't need to check `loss` every time that way). Some editors will claim redefinition of function names, but that is not the case.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(497, '', u'nilearn/decoding/space_net_solvers.py')"
645,pull_request_commit_comment,219,nilearn,nilearn,eickenberg,2014-12-03 08:52:58,"I don't understand why `loss` gets a default value here.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(399, '', u'nilearn/decoding/space_net_solvers.py')"
646,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:28:27,"There is a problem here: `standardize` is given to a NiftiMasker which centers AND norms the data. Is the `normalize` parameter supposed to do something else?
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(534, '', u'nilearn/decoding/space_net.py')"
647,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:37:47,"Really useful function. A few suggestions:
- we should maybe put it into _utils, I would use it for the `Decoder` class
- should it be called check_univariate_screening instead?
- should we create a _utils/checkers.py files for this?
- could the `screening_percentile` argument just be called `screening`? In the classes constructors as well?
- this would integrate nicely with a `compressing` argument for clustering methods in future averaging models for example
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
648,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:40:02,"`smooth` is called `smoothing_fwhm` in the NiftiMaskers
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
649,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2015-02-05 13:42:49,"The doc for `normalize` is zombie code. This parameter is not used anymore. Removed.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(534, '', u'nilearn/decoding/space_net.py')"
650,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:47:21,"`mask` should be `mask_img`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
651,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:48:19,"`mask` should be `mask_img`
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(500, '', u'nilearn/decoding/space_net.py')"
652,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:52:22,"pep8 nitpicking: Xmean to X_mean. This exception to pep8 is Xmas.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(449, '', u'nilearn/decoding/space_net.py')"
653,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:55:15,"It's advised to only
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(648, '', u'nilearn/decoding/space_net.py')"
654,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 13:55:50,"Set the loadings vector
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(674, '', u'nilearn/decoding/space_net.py')"
655,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:02:29,"Does it really work with np arrays? Doesn't TV require an affine (and therefore) a Niimage? Doesn't the
 _univariate_feature_screening also require an affine to estimate the brain volume? Anyway the fit method appears to require a NiftiMasker that fit_transforms the X argument. Which would fail if X is an array.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
656,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:02:48,"pep8
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(732, '', u'nilearn/decoding/space_net.py')"
657,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:07:23,"I think it is better to use range rather than xrange
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
658,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:08:02,"mask_img
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(965, '', u'nilearn/decoding/space_net.py')"
659,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:09:17,"mask_img
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(965, '', u'nilearn/decoding/space_net.py')"
660,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2015-02-05 14:17:38,"Yes indeed, xrange will become range in py3, blablabla
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
661,pull_request_commit_comment,219,nilearn,nilearn,schwarty,2015-02-05 14:19:34,"@dohmatob @GaelVaroquaux 

Really useful function. A few suggestions:
- we should maybe put it into _utils, I would use it for the `Decoder` class
- should it be called check_univariate_screening instead?
- should we create a _utils/checkers.py files for this?
- could the `screening_percentile` argument just be called `screening`? In the classes constructors as well?
- this would integrate nicely with a `compressing` argument for clustering methods in future averaging models for example
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(71, '', u'nilearn/decoding/space_net.py')"
662,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2015-02-05 14:19:45,"Deceptive docstring, fixing...
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'nilearn/decoding/space_net.py')"
663,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2015-02-05 14:29:25,"The function is not meant to become a tool. It's just a piece of inline code which got factored out for software-engineering reasons.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(71, '', u'nilearn/decoding/space_net.py')"
664,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2015-07-07 09:02:48,"You cannot have changes to gen_rst in this PR: they need to go to sphinx-gallery.
",99b9c5534d1318f2e5f64f69ba8620c73580f0f5,"(None, '', u'doc/sphinxext/gen_rst.py')"
665,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-10 03:51:45,BF: broken demo script,0d4b43407e2f84cbb84abc1146190db8795eb9ce,
666,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-11 09:16:31,"CLEANUP: removed support for pure ISTA
CLEANUP: unused f1 in mfista prototype",349e493522ed641387168ef6f85e5dee7f5a7c7e,
667,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-11 09:17:08,Merge branch 'sparse-models' of github.com:dohmatob/nilearn into sparse-models,9981cc3a03a6fed67681c46695eaee5596aeeb60,
668,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-13 14:08:11,"- REFACTOR: no longer using nifti_masker in path_scores(...) + usign 3D booleans mask instead
- REFACTOR + CLEANUP: rmed dead code chunks from space_net_solvers.py",476174ce885333eadd0c4195fae31ce388c8540e,
669,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 13:31:38,ENH: ndarray -> empty in path_scores(...),9e5a85e5c5655b848dea7eb2ac8dbb772316bafd,
670,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 13:44:51," - ENH: using best_init in re-fit in path_scores(...)
- earlystopping -> early_stopping",d2db10c44f6b99d34bf111f835fb686c2799b0c2,
671,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 13:47:56,introduced bug,00329c7fca1ae8655302db58604213f3cf31352b,
672,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 13:49:55,cosmetics,5c9b0a9488073252bf2f95fb419898a3b6b5ec54,
673,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 13:53:23,RENAME: tvl1 -> tv-l1,dc0995b90c67507f7a24424073ea3e22e185ed7f,
674,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 14:05:27,ENH: renamed *spacenet.py -> *space_net.py,fca7a98921b1d2738e9dcf3ebf15522e74b74869,
675,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 15:22:37,ENH: _crop_mask(...): new function to crop mask,7cba5e781200335c1e48ac218a265d56de755902,
676,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 15:49:36,ENH: tiny fixes on _crop_mask + test cases for this new function,f1bc3c4d63fe6833bd28a24992c40559ce177794,
677,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-14 15:58:06,TYPO: self.i_alpha_ = self.i_alpha_ -> self.i_alpha_ = self.i_alpha_[0],5fe88b48396f53abf6ee0d3130330a3e3dc1f018,
678,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 11:00:21,"- ENH: explicit verbose param in path_scores(...) function
- ENH: dilating mask after screening (WIP)",cc1c2be6be3365f29da94f2d2bfffe2f6c8d162e,
679,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 11:57:41,ENH: _fast_smooth_array -> scipy.ndimage.gaussian_filter,5a0a9fc8280f195606bc2fb43815ab6bb8d82215,
680,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 12:03:30,unused import,4e3aaf05637554f1794e0790d66ef6835ba61188,
681,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 12:07:06,unused import,ae765470421494c8855070191dc4ffb493da20ee,
682,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 13:07:11,mergeconfilict,9adf2c82487fe5f48d56702931ec55f9b574e848,
683,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 13:25:38,ENH: in haxby demo: splitting data into train (10 sessions)  and test (4 sessions),bf20ef34b7febffb5c9396f9e4fbc6e898328896,
684,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-15 13:32:17,ENH: changed screening_percentile from 10 to 20 (percentage full-brain),3be57488a63443bc5749672e0c5c7d49a735f51c,
685,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:00:52,"BF: horrible classification scores due to unstandardized data; standardize = True in NiftiMasker henceforth
CLEANUP: removed junk initialization of gradient_buffer
ENH: cv=8 is new default in SpaceNet
ENH: new default screening_percentile=20",ac665520e0efef30e32c4b86d92e75c0eb5e86d2,
686,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:10:30,CLEANUP: confusing docstring about tol in mfista,821e9af32325346bc82f243ca9ed723347416832,
687,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:29:40,CLEANUP: some errors in docstrings,87bf5f64157a8717b94a8fa410e9a07ede0e9d25,
688,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:42:48,BF: couple of tiny bugs,e246b4aa4da843d3101797273493a5d48d55c3ad,
689,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:47:14,CLEANUP: minor troubles,acc64ccc429b317141d4f05368e8b51d20ab312e,
690,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 13:59:41,more authors,c6a1226d00d30b29031ca62c77f85e82c132c765,
691,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 14:18:52,printint more results in haxby demo,b82efa0046d090914f8a20a2b82633236347d761,
692,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 14:20:12,cosmetic change,2a7ba74a1553e4cba5f47309147b4bed504953b4,
693,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 14:48:33,ENH: not screening if mask has as few as 1000 features in its support,604c2214a331bc13fe215f2a33f4092f6a6e79a7,
694,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 15:14:40,ENH: better var names + tiight_mask -> mask,02774b4882eaeb93c29a794b2169692973cceb54,
695,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-18 15:40:28,CLEANUP: junk _ovr_y function in SpaceNet,090da52753b47f6aa8910c27ad9e656b7680dbf4,
696,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 14:39:55,CLEANUP: fex typos,fe8a47174b2d4c931ce2527b32c0ed104fc3c6eb,
697,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 14:44:33,CLEANUP: usless int casting,502e9465803ddeb542fee75da63cc9a4a56bfa7a,
698,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 14:49:20,"CLEANUP: tiny fixups about objective, cost, energy stuff",8240ebfae4d4690bbce33893bc6ebd33732cdbaf,
699,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 14:58:24,CLEANUP: corrected some docstrings about numpy ndarray shapes,bc3ae9cf19244351e5476f804234d49aa5eba7b8,
700,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:20:19,"* ENH: (gap ** 2).sum() -> np.dot(gap, gap)
* CLEANUP: l1 -> L1",66961984a9286f0c6b5edc6554a4144c72e5072e,
701,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:25:01,"ENH: input_img_norm = (input_img.ravel() * input_img.ravel()).sum() -> input_img_norm = np.dot(input_img.ravel(), input_img.ravel())",e3eff16e00aeb37da0ecef8df7d12b63e22038e9,
702,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:29:18,ENH: np.sqrt(float) -> math.sqrt(float),b809a3fd39c43d953e42086116a413116f2b0e07,
703,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:31:28,cosmetic fixups about docstrings etc.,3d59f9b61fe3b76a63fef56b9835353e19333590,
704,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:33:11,CLEANUP: more corrections on docstrings about numpy ndarray shapes,ddea1bfe6d2196f8d58d50758062ec17f71d54f4,
705,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 15:40:32,ENH: printing elapsed time in minutes too,0fd87f5e3a649a0484f469ad1ed4d4b200aad9b4,
706,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-19 18:52:20,BF: broken commit,22f3471fd9927163bfda208df039ebd90b131302,
707,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 09:49:15,addressing @agramfort's comments,ec0cea3a02284b118aebf4d1d8a5366bf98fc251,
708,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 10:29:09,cosmetic changes to address comments,8542ff1511a953f52aeeb4e0a41c56b100c0a1b6,
709,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 10:30:40,inserted _ in name of test case,0e3ab788f6a1030f74bdc451eac9115bc91aa307,
710,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 10:46:13,explict testcase name,ea4367ecd48ac3460a0598730408086ff3f8e48d,
711,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 10:56:50,ENH: not using relative imports in tests,546718b07c9f632faa0c4d3d429bdc951e4ad520,
712,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 10:58:52,invalide -> invalid,1b867ef6bf1a0900500abfa8ac49e82aa258da68,
713,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 11:03:29,more docstrings fixed,02679fead5f446ea5d31c8e8d8e11a17bc79e6e0,
714,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 11:11:51,ENH: headline in mfista docstring,a4521147084cca1235217e9635b0112230750979,
715,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 13:40:29,REFACTOR: factored out code for univariate screening into separate function,3cba6a9bca2b9596735e8d301b4cfc5780ba9e69,
716,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 14:08:55,intercepted_prox_l1 -> prox_l1_with_intercept,2ee231e505b07857de3bd2fb93478299ba9ec763,
717,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 14:23:20,still fixing minor issues,b5b2cb7394df9eb0f469f2abbace7ee24825a2cb,
718,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 14:28:54,ENH: binary_dilation(binary_erosion) -> binar_fill_holes,ba74b7f35d049bb34663ed109f08d760ca9dc069,
719,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 14:37:58,avoiding ravelling twice by using a view instead,5f774b8739ec595bc2287d62e99d3de7b3f41c6a,
720,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 14:43:12,repairing broken testcase,e5297398c9878e82ec6812d8b05c629ca1dd1cbd,
721,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 15:01:48,removed superfluous ravelling in mfista,ca9cb70d84cb0906281fd277cd6025872d93c0b7,
722,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 15:13:58,DOC: improving SpaceNet doc,76256cee6a97121521f3b19c0ecb3286edd0deed,
723,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 15:15:36,relaxed very string test,5f81cf875ca24a803864bf2dec80cb892c535967,
724,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-20 15:44:53,typo,322e7d315e9668f8d60773772a08647dffea6a34,
725,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 06:38:21,ENH: improving docstring of SpaceNet,6c82f183d3736dcd4f4b136c28546c95d0efc82f,
726,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 06:46:35,ENH: still enhancing docstrings,0ac2c166b09f6d1dc67a25e84820a10d999b72fa,
727,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 07:51:26,ENH: volume-corrected screening percentile,a126ce347db3721ba7f45f2418a795c85a138d3c,
728,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 08:40:05,cosmetics,dae019e69a24a1c75559be331ce9786dd2963550,
729,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 09:12:44,NEW TEST: testing code computing mask volume,49de576cc3b3853026c1c4746240c93422a85079,
730,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 09:16:21,Merge branch 'master' into sparse-models,b97f8409a971d60d0d1183e7976a77c341ee4503,
731,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 10:43:00,Merge branch 'master' into sparse-models,4de277ed6a5d1ae685194a4ba6df8c70b30d79c6,
732,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 11:16:27,Merge branch 'sparse-models' of github.com:dohmatob/nilearn into sparse-models,d2f0b15b71b4cd6b91c98068bed437d284902aa9,
733,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 11:22:49,doc,dacedb7d9027140c105c135906385842d050d6c9,
734,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 11:42:14,typos + more references,01ccbae79f4f3338cee22b1efb18ae4025570e98,
735,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 14:27:06,Merge branch 'sparse-models' of github.com:dohmatob/nilearn into sparse-models,8d34bb49f104161a9b1ab50028b113ad99a1f28e,
736,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 14:36:14,implemented SpaceNetRegressor subclass,80d938dbeea45ec393db3ff180e5b411ee2edafd,
737,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 14:58:20,typos + more coverage,2ecded3805b8c1abb9e39c19f7571d1acb8a7110,
738,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 15:14:28,cosmetics,18f62f898050f0d2d0cf4eb264841326c1c3027e,
739,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 15:54:29,typo,65e7a2b3434656c92982bd7ff65e69fd1dd2723d,
740,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 16:16:32,"* NEW FEATURE: SpaceNetClassifier (subclass of SpaceNet, specialized in classification problems)
* DOC: documented is_classif parameter of SpaceNet class",5d150b67e6e24fb7c5e81c36da0fd04fe863a00e,
741,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-21 17:20:06,reporting mask volume in cm^3 + plus other cosmetics,7c1a7c8d8b67ac644e972aaf014398936d3ab9de,
742,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 02:20:58,REFACTOR: refactored classification-specific APIs from SpaceNet base class,18ed48c9533bd49fdd0a5015af6b5f7da4a38859,
743,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 02:30:50,ENH: disabling screening if only 100 features or fewer,e2f60bba6186d1bfd2b511863f35ebf7c91e2263,
744,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 02:50:05,small corrections,5feb7bf572fd037e8d282f063abad43918b40da3,
745,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 02:57:13,corrected some errors in param docstrings,41e3c9a5e4912c6b5f0b5279863ba4e411047b1b,
746,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 02:58:58,corrected more errors in param docstrings,ea876c61820a0359e398a34b985e15f89044ba5c,
747,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 09:14:50,NEWFEATURE: SpaceClassification works with mse loss too,be5fa423f60599afbf2b6fd8a7d6f819c024577b,
748,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 11:30:59,fixed typo pointed-out by Loic,56b913200f790e0c998b30f5400c09a70df73c13,
749,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 11:43:18,clean err_msg logic,5ea9ec3c5c14c84f7188420fdf0fd3642db49e10,
750,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 11:56:56,ENH: better computation of intercept form mse loss,2d158cebce567815a93a50e294e8142258b0110e,
751,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 13:28:34,restored default loss in demo,087eb327269b04d05151f64e7227b97aa4cad47e,
752,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 13:37:16,cleanup demo,33d7a453f621615be3e55b49299be6b3c9075bba,
753,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 14:40:26,ENH: not centralizing y for classif problems (recently introduced bug),6deb9adf81686ff1c44332f9874650976ff24590,
754,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 15:17:38,random_state arg in _check_lipschitz_continuous,1d2487bc5d4b8e227355c27b7dcaf38bcf3004a1,
755,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 15:23:41,BF: warnings.Warn -> warnings.Warn,8c3a27e7825887cc13c6bb374ee40d065c45f7d1,
756,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-22 15:34:15,removed abnoxious 'novel' word from mfista docstring,ccf1400e978c3761aef9be787d5bb4e31f5a5131,
757,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-24 17:12:48,WIP: Turning off smooth done before screening,b493b97beff3a68b016e3f9c15bbb5b43c86b23b,
758,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-24 17:15:00,NEW DEMO: PMG,c0eff5a12502c7521c767ade9c01ac7275c99afa,
759,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-24 17:28:53,more,60181fd15ca2ed25737a6d09206c04b5933ce5c7,
760,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-24 17:35:01,more,0733e5a00766baf4a565e443ce5d63a082392e7f,
761,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 07:21:32,l1_ratio=.3 for pmg,6a06e7fa4931b4e5cc883de60fab6ec15d516c8e,
762,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 11:26:51,full brain sl (ok),4243e531519d27b5fbbccd4e21105379803324ea,
763,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 12:45:55,l1_ratio=.3 in poldrack tvl1 demo,cab64c7d67576f3e2fc943b637c8089d35d036c2,
764,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 13:21:44,CLEANUP + ENH: new option smooth=0 in _univariate_feature_screening,838f14a51742b287053044bac8a5d2ee749b5a9d,
765,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 14:19:15,morphing strategy = dilation o erosion,46f1fc1abce0d0fad65710f2497605b1570f38d5,
766,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 14:20:12,cleanup demo,b830c1caed9cb42a53f1eac06aa038dac6330499,
767,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 14:35:33,WIP: demoing sl and tvl1 on haxby,6018695ef07095f1cb46cdfd5faed2614e9b9c60,
768,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 15:26:33,BF: restored standardize=self.standardize in SpaceNet's NiftiMasking,2595152d32cb7fe19bd76c22b1cc2ab8f3db3e18,
769,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 15:47:09,defaut cv=8 in SpaceNet,bf1bde83218a2bde192c38f65c0776c02e7e7568,
770,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 15:49:51,scores_ -> cv_scores_ in SpaceNet,36aa5c120e9ea10e6dfd6daa51db8b7c342c2230,
771,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 16:10:58,misc cleanups and cosmetics,fe97195a2968f8533a16d3fffa49e199895c4b15,
772,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-25 17:44:43,cleanup,bf6e8f62eb188b854db82c5fc382abbaf07d86a9,
773,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-28 08:43:53,removed unused slicer var in plot_haxb_space_net.py,4200fffef35f85cc5cab46a1f43f5125ecf084ae,
774,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-28 12:40:16,"- BF: proper standardization of input data (in fit and predict)
- BF: restored broken oasis spacenet demo",699c23b465dbab55be25a9e1191a8657b8c3bffc,
775,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-28 13:09:58,ENH: properly setting intercept after fitting,2737be9fce689bb88117c0ca52b02d8c68a9981c,
776,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-10-28 13:26:32,tiny bug fixes,9d17d8b05de876510d9146b03e359031ed0bdb7d,
777,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-04 09:17:37,addressing @bthirion's recent comments,af4591b36c1caa5323d0f26be43bebcbaa4db86d,
778,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-04 09:51:46,still addressing @bthirion's comments,c72471949898276adc4761f2f2950ca667adf3c4,
779,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-04 10:13:13,still addressing recent comments,2366907140c42682602ec3f0fb427208d2bfc626,
780,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-12 13:39:07,"ENH: alpha_min=None by default, so that eps is used (instead) to construct alpha grid",a4275a3bdc646e00df887a7cb191d4e484670fda,
781,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-11 17:17:10,updated ROI extraction,70119ef3c29ee68d3a12c30cb26a3b46dc5dd2d5,
782,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-13 15:33:56,ROI example: second version,a3fc5d96454b1c4d1a7aad263693a9e18e6eec9a,
783,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-15 17:07:37,Now Subplots and boxplots,16212e47cfb806c5cbfe7c70662624adfe5721d4,
784,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-21 14:14:02,PEP8ized + more intuitive variable names,c4cb038dee78d1f2c669a2c44446fe1d5edae492,
785,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-25 06:55:11,Fit-Check added to NiftiLabelsMasker,4c05eebe8cfbd67616cb610302aadd3e64e84b9a,
786,pull_request_commit,219,nilearn,nilearn,lesteve,2014-10-27 14:49:54,Remove explicit mention of NiftiMasker from BaseMasker,96947c798ef5756a56bfd9ce888e8c5b9d31b130,
787,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-27 20:48:41,changed exception type + unit tests pass now,49038c290430d3a2470ef279cf57749a4a448371,
788,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-28 23:20:23,variable renaming + cosmetics,7acf6feaa52d3014b03a7fe8d18aa03f31bcf011,
789,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 14:39:35,"fit-check for Nifti([Labels, Maps])Masker + type in BaseMasker corrected",db484d2331d0a5d6de9b7ad78ea1e88229ff1473,
790,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 15:20:34,Adapted .rst files for Sphinx,7475a0770276c19e05aa75844d4d8fe7374abe93,
791,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 15:27:58,de-sniggle-ized,5f8c6dc10208f39ef7d1869a3bd7616fa80d4548,
792,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-14 09:11:38,Create nilearn_data as a working dir for _get_dataset_dir,1ff59a0bad3c74ac0ed0d239133075841e417414,
793,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-14 17:23:28,"Change logic for searching dataset dir
Catching all exceptions and reporting at the end",3d1da5ae5b11493b098a5436cae9e0820041b7bd,
794,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-18 17:11:35,Test clause on non-directories,e93e71c49a8f0c49abb2d6ec7633a3ac60ee56e6,
795,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-24 08:53:26,change work inside temporary directory in get dataset dir test,857f4cc608721562b6b630fed0c937c248918439,
796,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-24 23:22:30,Regexp control on raised errors,f4ee636e39ac0694755a132c5dfd85a83e7c72bb,
797,pull_request_commit,219,nilearn,nilearn,lesteve,2014-10-28 10:23:53,"reorder_img 'resample' argument sets interpolation resampling

Also:
* niimg variable names should end with _img in test_resampling.py
* fix PEP8 and typo axis -> axes
* add value of interpolation in resample_img error message",cbbbff84519a594e13e1fff9c5dd263aa7ad406a,
798,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-27 23:20:49,Different environment setup testing,6e50cc1a24c2d780f40595be52751424ad194aad,
799,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 14:39:35,"fit-check for Nifti([Labels, Maps])Masker + type in BaseMasker corrected",897e5b311e27612841d6504c076c49a017af14ed,
800,pull_request_commit,219,nilearn,nilearn,Titan-C,2014-10-31 10:00:13,_get_dataset_dir error message string,70d4ce4c4b0a517198aa6f78b870aa92f99499af,
801,pull_request_commit,219,nilearn,nilearn,banilo,2014-11-02 15:18:23,Uniform use of float literals,fc33229896a47c210670138be42c718142aee70d,
802,pull_request_commit,219,nilearn,nilearn,lesteve,2014-11-04 12:58:15,Example uses nomcsv rather than loadtxt,fbd5f294b066b5f8a976a96bcc786145c93c6994,
803,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-12 14:23:35,Merge branch 'master' into sparse-models,a57f6f43e415e577ed85c4db95d785d963540056,
804,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-13 07:56:25,REFACTOR: adressing @bthirion's oral remarks about the lambda (no more lambdas in modules),46deadd9802514b20b6ac5cc946c689f8316f2ed,
805,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 08:44:37,typo,370cb31a2826b54ab7dbb78bd4f5f088623ab763,
806,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 14:39:35,"fit-check for Nifti([Labels, Maps])Masker + type in BaseMasker corrected",2aa8ebca4b9aa7295459554606a3a20a940afe46,
807,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 08:51:11,Merge branch 'master' of github.com:dohmatob/nilearn,388d5af8f31c557def57d73d558e7209bf411f8a,
808,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 08:51:22,Merge branch 'master' into sparse-models,5cc7784af8c96f2f8986b995cef173aca7a9b812,
809,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 14:24:38,ENH: cleanup for poldrack demo script,22b7b76d26d2d4b35b63ced3422430d2e7b22c8c,
810,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 14:29:17,DOC: rmed ref to TV-L1 in l1_ratio doc of gradient_id(...) function,e91a66d1535e67c0a819b88bdde226081267be70,
811,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-10 16:18:43,cooler,493a021d9f39c9ceeff02f96b113d9dce43da748,
812,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 19:00:29,n_jobs=1 restored in demo,ec3343668fecf82c1812b35a828c2f5071750c76,
813,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 20:32:51,ENH: fixed MemoryError in _univariate_feature_screening(...) function,1ba60ee38ed15156e9707e04c838625be7b7f784,
814,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-14 22:52:31,BF: restored face vs house in haxby spacenet demo,c70cc68797885246c38aed1a86b94fff151c890f,
815,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-15 15:11:15,ENH: demoing all penalties in poldrack demo,5e15c6c79177435cb9f2ede872695921f5a704e2,
816,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-17 13:53:45,Merge branch 'master' of https://github.com/dohmatob/nilearn,143da80df56fcb246f1abeff3782610445b0e94c,
817,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-19 17:36:45,Merge branch 'master' of github.com:dohmatob/nilearn,0d5dcbaa18f83e552c8af267ce2a9482777c8b18,
818,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-19 17:37:22,Merge branch 'master' into sparse-models,fe308e5bf99f9af178969d4830ffa976056b56cc,
819,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 10:26:17,REFACTOR: in space_net.py cv scores are 'bigger is better',c032f241cf8d0315baadb68ded8b2b193dde511b,
820,pull_request_commit,219,nilearn,nilearn,banilo,2014-10-29 14:39:35,"fit-check for Nifti([Labels, Maps])Masker + type in BaseMasker corrected",4f072c0c2a90f765b3ebe5381d78d213d76dc04c,
821,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 10:30:04,Merge branch 'master' of github.com:dohmatob/nilearn,8d13881b009f3abfc6d7037ba2f45ee53fef1ec5,
822,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 10:30:40,Merge branch 'master' into sparse-models,befefa9151f02e4996c08645fec12007edc4efc0,
823,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 10:32:14,BF: trailing X_ in space_net.py,dc88ffea9da53a5172ae2d44833a95baa9a56c26,
824,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 13:28:39,closes issue #286 (about nans when l1_ratio = 0),0f4a9f2aa6ef090083f1e161ad1a9bd76b9ef636,
825,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-20 13:54:28,ENH: tests for issue #286,933e5552d6678e76f151d92dbf82d6b5ba7b6bda,
826,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-21 12:59:52,ENH: returning lists of pairs of lists of indices used in cv,002f29accc7185a7ab1a0baf1376c9d93cd2243d,
827,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-21 13:16:53,typo,705d93abfd976728ace365b42798a13b7bc7e672,
828,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-23 10:28:05,Merge branch 'master' into sparse-models,9f61c7e4c3cfbe53702a23c63a4ceff47724df00,
829,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-11-23 10:31:17,BF: wrong docstring about ventral mask in plot_haxby_space_net.py demo,435d77ed0982e298e1e33b44f62b4547988a5462,
830,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 09:52:56,Clean unused imports,07b96d634d917d6487f4affb5842fed8668a9774,
831,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 10:02:00,MISC: Cosmetics in the example,f613ce721e6e836a711dd9fe2221dc8034270204,
832,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 10:02:14,"API: SpaceNet -> BaseSpaceNet

We want to make it really clear that it is a base class, and is not
intended for the end user.",d03733af215d14ea0e9d3a0e53324b013d7f4abb,
833,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-02 11:25:17,Merge branch 'master' into sparse-models,ab01ddfe8aa262b17e95f646f52b0d8a6741ebcf,
834,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-02 11:28:09,Merge remote-tracking branch 'gael/pr_219' into sparse-models,26b11e059d42b40b573d8048f47f5947bfefc612,
835,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 11:47:32,WIP: try to fix the alpha grid,6f32f778e42aca6d8d42718c6a76a8c182ff8cd9,
836,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 18:03:59,WIP: add a second score to disambiguate,ec32c62e6548df0ac84df20974e670aa8eb82664,
837,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-02 18:49:21,Merge branch 'master' into sparse-models,c6d80dbbaa2d8805d9a6368103a974617a11b141,
838,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:16:51,"ENH: better verbosity

verbose=1 should simply give us an idea of how the progress is doing",1cae9a42af74663950c0d5ab5935c5d6fe9b0768,
839,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:17:22,DOC: complete the docstring,8aae3c707907630f0a9f6e5b52307e1ae434a6f2,
840,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:17:35,MISC: avoid deprecation with new numpy,4607c5fc69adb0a78ed6092f2b8109c821cdb630,
841,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:18:47,MISC: minor improvement in example,96f763c1b28af501057eac9ec4b80cc5696c4ce7,
842,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-02 19:39:18,fixed tests broken by the other other pr_219,3cccb1db763eb552a722eec3e0ec06bfe4418f21,
843,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-03 09:13:33,BF: trailing assert ...,9ae4f0a8ff3d453c6528ec0a3d0f93ef10be1544,
844,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-03 14:56:11,"-BF: confusing rescale_alpha param removed from code base
-BF: multiple tiny bugs
-BF: restored broken oasis demo",6cbd4df470b864840e37da04d4679719d197518d,
845,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-04 14:32:48,Merge branch 'master' into sparse-models,73037a3889f78b9e990f2fb28616f7d336a188dc,
846,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-04 14:34:41,BF: still fixing alpha grid computation,cf493afadae81e0f15df143e5ed6fb88d1542bf8,
847,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-06 07:32:54,cleanups,a1e5940e82788636492adfb0f7bc5a55f9385364,
848,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-06 07:33:35,Merge branch 'master' into sparse-models,b3a95249993e56563b7d49a35c33e5abd64d235a,
849,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-06 09:09:49,NF: poldrack loader (local),d1cb877785a238def010661aca816ce736efa95a,
850,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-06 09:49:31,SL & TVL1 ok on poldrack :),2d538009d7c132eefd86d251e3db101044c1cf68,
851,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-06 18:28:49,NF: cv on l1_ratio,e22195a4007e124ce2a7f5f52e285b4325be303d,
852,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-07 08:39:46,cleanup,fa977bae28bd4f5cb6ff02fa1fbd781c5f29f9ea,
853,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-07 15:55:09,cv on l1_ratio: ok,875a9a9e3044b36e2847dc15d3166ea514df147b,
854,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-08 14:27:47,"NF: fetcher for PMG (code stubb, only works locally for now)",b076fa8a1d989dcf7c3a748dcc1d50620b62a9e2,
855,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-08 14:28:17,remove obselet load_poldrack.py module,e1ffc24742b25017ce3ad764beda7c381b5dd3a2,
856,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-08 14:40:33,typo,508a9680bfd9af981d0b7b08e31693fbd4fb6a9c,
857,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-09 07:00:18,fixing some underground bugs,273f394a5661e4504d250f83d9f83af5d8d82850,
858,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-09 07:03:51,NF: fetch_mixed_gambles,99201266bbd8b8eb90f3173baac545f651cff3b4,
859,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-09 07:08:53,Merge branch 'master' into sparse-models,ff6cd3fe34102d3abf39676d17fd95bf9f88f97a,
860,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-09 08:51:49,wip,857c04e9506b72cc07a2b5356883fa70c7d67d47,
861,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-09 13:02:37,wip,4ab3c6e15068227660924662725f169b4a764fcc,
862,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-11 06:57:55,Merge branch 'master' into sparse-models,513ac7b4a80a28d6bb93199b16aff98cb0e798ce,
863,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-11 16:31:06,Favor small l1_ratios,ffa5fd1ac19f45058ba29226ba22c1cc669f60f7,
864,pull_request_commit,219,nilearn,nilearn,GaelVaroquaux,2014-12-11 18:32:04,Fix path on l1_ratio,62366c9385d6afcc1dce84f5bc38df66fdc8763a,
865,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 08:55:05,Merge branch 'pr_219' into sparse-models,65e149fa27ee6de3538e2aa544b783077f9371ae,
866,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 09:43:10,BF: fixed couple of testcases broken by pr_219 :),035982da68942e50e0d1b00724c25aa38eee907a,
867,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 09:45:25,restored default l1_ratios to .5 (from .75),4e14d9800755e3bee0d3b09255e4d7ead8b632c4,
868,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 10:02:07,ENH: addressing @gael's comments about spurous start(...) method in EarlyStoppingCallback,c1a4b020467afd76e5303ca7df26c004b958b7eb,
869,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 13:32:36,"""""""
I would prefer to avoid casting the ""penalty"" string to all lower
case. I would prefer if you did an actual check to ""tv-l1""...  The
reason is that other Python objects (eg dicts) behave with an exact
check, and thus you can confuse people and give them bad habits.
""""""",0b1e9d22b65582f605adc8048f25c3a1449b8746,
870,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 13:35:10,BF: broken demos,525e4bdc5ba2a7222005177dfb8e82e74fa69589,
871,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-12 13:56:59,cosmetics,cb4dcb45ffe8c8dd41eab57ff85ae8d0ca63ae48,
872,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-15 12:54:31,Merge branch 'master' into sparse-models,7af81f80655b0237eb83a741c72e912c397a89ad,
873,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-17 15:16:51,EXPERIMENTS: debugging why good alphas don't mean good maps,383e0eeac9aaa0d08ecde59fc8c8bcbd6c8512bc,
874,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-17 15:17:14,typo,99d999a74e9b773f62bfd428e868b94973623fab,
875,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 12:34:53,wip,6bc1b4cfd58a970a4a1ade59717b24405d4b7e52,
876,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 17:02:11,wip,361b1d982d4d825d29813762dd5eb01a5acfb3cc,
877,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 21:04:50,ENH: using sk.cv.train_test_split in oasis,0ad1e9a67b5bc31b0f470c9f766c0f6edd3d5b16,
878,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 21:15:37,BF: train_size=.8 in oasis space net demo,d86c23e212c3bbc64b96c225c43c7f5606e746e8,
879,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 21:18:19,Merge branch 'master' into sparse-models,cc747215a114f11879e076a56a6f7d8aad0dc3a9,
880,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 21:47:58,ENH+BF+CONFUSION: (on utterly bad prediction scores on oasis dataset) now using all oasis subjects,9f980a2a3865403cff7ad0fe0fe14a4a3656c105,
881,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 21:49:20,rmed n_jobs=24 in demo,2652d64f94ca959c7e2abd4ab8698e7ad7eb63b2,
882,pull_request_commit,219,nilearn,nilearn,dohmatob,2014-12-18 22:10:37,BF: weirdo,ea6a440e059b94934751ebecc141b36da619f3e0,
883,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-01-13 10:29:08,Merge branch 'master' into sparse-models,1012c0e43c04297e6413c023c1a447c3ca8aa3ce,
884,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-01-13 13:04:33,Merge branch 'master' into sparse-models,2794dfe242b19ea62e24804287738f9705194337,
885,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-01-16 21:46:02,Merge branch 'master' into sparse-models,ae08b93f931b61631ede8a98d2688d97a47c8760,
886,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-01-26 12:12:39,Merge branch 'master' into sparse-models,9928cdef3d3db5f3dd10443b182360c86f809f31,
887,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-04 17:02:00,"- ENH: putting Mean Abs Error in titles of Oasis prediction curves
- ENH: using MNI template (default) in poldrack demos
- ENH: various tiny things",7ceb460382e5c618b1d04069a2af93fbd7ffa5a7,
888,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-04 17:03:05,Merge branch 'master' into sparse-models,4b35b7e0121e66e83f4ccc8d17d8225783974964,
889,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 08:11:33,REFACTOR: moved space net demos to examples/decoding sub-dir,493ac104168fdff2296fbe9a2a33485f3745a334,
890,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 11:44:16,"- ENH: added space net entry in doc (decoding.rst)
- ENH: in haxby example, using index_img",d6ffdbced61b47993576e8e010054765d31aaffc,
891,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 11:45:08,Merge branch 'master' into sparse-models,867d93b375f4d32c07de3038ecf0313528fa67a9,
892,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 12:39:02,"- ENH: removed zombie doc for inexistend normalize param
- ENH: simplified space nets by removing superfluous for loops",56c2e3adb4ecdcfae23ba6b84ba6c601c841169d,
893,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 12:39:20,Merge branch 'master' into sparse-models,6f0b059dd8c56ba22306254d2a0e75939cdcdaff,
894,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 12:43:30,smooth -> smoothing_fwhm,94d89bf347d39501449c453fa008a4ba483a95aa,
895,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 12:48:58,mask -> mask_img in _get_mask_volume,d00eefd36147cdaf1b9e432eadf073cf4f2d86eb,
896,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 13:10:59,tiny fixes,9a426fd66b01e25f7be71b0830d6a003c77dd1dc,
897,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 13:21:57,BF+DOC: fixed bug in docstring about type / shape of X,34ce15d94e6006d4912a5f0504e3721919978aba,
898,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 15:50:38,ENH: adding oasis vbm in doc,252dd4dd9a07faf861261a3e3c40e4031375d808,
899,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-02-05 16:17:40,Merge branch 'master' into sparse-models,61c36711add36af8e9b86e72166f5048e0dde8ef,
900,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-12 17:34:23,mergeconflict,4fdb5e56fbcc12fb8e0bd6f8fa948b97217fa96f,
901,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 12:13:05,BF: fixing py3 issues + 0400 ==> 400 (error = invalid token),37331549e8ed2a5ebbd7d46241e7bb02862f210c,
902,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 15:42:06,BF: still fixing py3 stuff,3aaea8dab666ca34ecb88376e6cd81c600b78741,
903,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 15:44:26,Merge branch 'master' into sparse-models,be52601e0585a0d43026c0fc09822c885edf49cb,
904,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 15:53:20,BF: still fixing py3 stuff,0a9540f72e6fd9a7b633523e21f80b4b5049b57f,
905,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 16:02:36,xrange ==> range,b9a179a4957e1c83a64e9acea83dfa113a388b89,
906,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 16:14:01,random ==> check_random_state,8681ce5ea7b183463290f6d9a895cb7d3c18e2d2,
907,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 16:35:38,rng.sample ==> rng.choice,bcb446254acc472f01c4299003c4e51719e64d92,
908,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 16:35:59,Merge branch 'master' into sparse-models,ad2d495b14521519ed481a0f3548dd7da50c50a5,
909,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 17:11:31,BF: choice ==> choice(replace=False),10a7219e9746a897d03603eab4db4021f5f40238,
910,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 17:11:53,Merge branch 'master' into sparse-models,223aa5ae5b5c5e7226a6024172c319e50527bed2,
911,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 17:22:20,import nibabel in datasets.py,b478c80a8e725cdaeb7677539c3e0910ae5ff0c9,
912,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-13 17:32:28,more,335158518eb63f74475eb81fe43041a506b0d206,
913,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-14 07:26:02,BF: basestring ==> _basestring (bkport for py3),60d0eca5d7cbde8f1f772186d79dbcc1ffd81b77,
914,pull_request_commit,219,nilearn,nilearn,dohmatob,2015-07-14 07:26:37,Merge branch 'master' into sparse-models,99b9c5534d1318f2e5f64f69ba8620c73580f0f5,
915,pull_request_commit_comment,219,nilearn,nilearn,GaelVaroquaux,2014-10-14 11:53:40,"You need to change this in the examples too.
",5c9b0a9488073252bf2f95fb419898a3b6b5ec54,"(5, 401, u'nilearn/decoding/space_net.py')"
916,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-14 12:18:00,"Done.

On Tue, Oct 14, 2014 at 1:53 PM, Gael Varoquaux notifications@github.com
wrote:

> You need to change this in the examples too.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/dohmatob/nilearn/commit/5c9b0a9488073252bf2f95fb419898a3b6b5ec54#commitcomment-8152357
> .
## 

DED
",5c9b0a9488073252bf2f95fb419898a3b6b5ec54,"(5, 401, u'nilearn/decoding/space_net.py')"
917,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-27 22:00:56,"""slicer"" variable appears to be unused
",b830c1caed9cb42a53f1eac06aa038dac6330499,"(None, None, None)"
918,pull_request_commit_comment,219,nilearn,nilearn,banilo,2014-10-16 12:25:48,"Calling y ""dependent variate"" might be confusing. Perhaps ""dependent variable"" or better ""response"", ""predicting target"", or even ""ground truth""?
",bf20ef34b7febffb5c9396f9e4fbc6e898328896,"(32, 31, u'plot_haxby_space_net.py')"
919,pull_request_commit_comment,219,nilearn,nilearn,dohmatob,2014-10-16 12:37:34,"You're right.

On Thu, Oct 16, 2014 at 2:25 PM, Danilo Bzdok notifications@github.com
wrote:

> Calling y ""dependent variate"" might be confusing. Perhaps ""dependent
> variable"" or better ""response"", ""predicting target"", or even ""ground truth""?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/dohmatob/nilearn/commit/bf20ef34b7febffb5c9396f9e4fbc6e898328896#commitcomment-8186234
> .
## 

DED
",bf20ef34b7febffb5c9396f9e4fbc6e898328896,"(32, 31, u'plot_haxby_space_net.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,663,nilearn,nilearn,dohmatob,2015-07-14 13:01:50,"Fix #658 
",start issue,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658"
2,issue_closed,663,nilearn,nilearn,AlexandreAbraham,2015-07-14 13:03:28,,closed issue,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658"
3,pull_request_title,663,nilearn,nilearn,dohmatob,2015-07-14 13:01:50,"Fix #658 
",d32890c2477d82848aee953156b27e14559b21eb,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658"
4,pull_request_merged,663,nilearn,nilearn,AlexandreAbraham,2015-07-14 13:03:28,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658",68f9103639052c4bd6ef137eb6bd902910d76eb8,Pull request merge from dohmatob/nilearn:fix-658 to nilearn/nilearn:master
5,issue_comment,663,nilearn,nilearn,AlexandreAbraham,2015-07-14 13:03:26,"Thanks, you're the best to detect ""leaks"" ;).

Merging.
",,
6,issue_comment,663,nilearn,nilearn,banilo,2015-07-14 13:03:30,"+1
",,
7,issue_comment,663,nilearn,nilearn,lesteve,2015-07-14 20:25:37,"Just curious about this one: `np.dtype('i8')` is the same as `np.dtype('int')` (at least on a 64bit machine, it may well be the same as 'i4' on a 32bit machine). I don't see how this change could fix anything. Also the subject numbers are nowhere close to 2**63 ...
",,
8,issue_comment,663,nilearn,nilearn,lesteve,2015-07-15 08:25:13,"Sorry, what ? Better to chat face to face about this one ...
",,
9,pull_request_commit,663,nilearn,nilearn,dohmatob,2015-07-14 12:59:27,"BF: ""<i8"" ==> ""int"" in test_fetch_adhd (fixes issue #658",d32890c2477d82848aee953156b27e14559b21eb,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,717,nilearn,nilearn,AlexandreAbraham,2015-07-23 12:04:48,"http://humanconnectome.org/about/pressroom/project-news/netmats-megatrawl-released/
",start issue,Add Netmats Megatrawl dataset
2,issue_closed,717,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:54:45,,closed issue,Add Netmats Megatrawl dataset
3,issue_comment,717,nilearn,nilearn,GaelVaroquaux,2015-07-23 12:15:11,"Totally, that would be awesome!
",,
4,issue_comment,717,nilearn,nilearn,KamalakerDadi,2015-08-05 12:37:50,"> I let anybody motivated take it from here ;)

What about me ? I can try to address this. If not, I announce it here.
",,
5,issue_comment,717,nilearn,nilearn,AlexandreAbraham,2015-08-05 15:12:00,"I'm OK with you working on it but you already have a lot of battles to fight.
",,
6,issue_comment,717,nilearn,nilearn,AlexandreAbraham,2015-07-23 12:57:44,"I just browsed quickly and I see no way to get the data. Did you mean that you want the parceallations to be downloaded and the study re-run?
",,
7,issue_comment,717,nilearn,nilearn,AlexandreAbraham,2015-07-23 12:58:24,"I guess that what you wanted were the correlation matrices.
",,
8,issue_comment,717,nilearn,nilearn,AlexandreAbraham,2015-07-23 13:08:14,"Found it. It is really not obvious. Select any run (I take 3T_Q1-Q6related468_MSMsulc_d25_ts3).
Click on ""nodes+edges 2"" to get the netjs graph.
Sniff a little bit, find that ""main.js"" do the job.
Open it: https://db.humanconnectome.org/megatrawl/3T_Q1-Q6related468_MSMsulc_d25_ts2/netjs/js/main.js
Find the matrices, eg : https://db.humanconnectome.org/megatrawl/3T_Q1-Q6related468_MSMsulc_d25_ts2/netjs/data/dataset1/Znet2.txt

The files are very light, we can totally include them directly into nilearn. However, they have a user agreement that we must include.

Most of the work will be to understand dataformat and load it in a user-friendly fashion.

I let anybody motivated take it from here ;).
",,
9,issue_comment,717,nilearn,nilearn,AlexandreAbraham,2015-07-23 13:29:36,"Sidenote: the netjs visualization if very pretty and they basically did most of the work to adapt it to our usecase. It shouldn't be too much work to generate it from our data. PR welcome in `nilearn_sandbox` ;).
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,137,nilearn,nilearn,GaelVaroquaux,2013-11-21 14:20:09,"It is not pointed out that it is a list of csv files, and that the list should be ordered to match the order of the list of niimgs.

As well as the smoothing_fwhm and the t_r and low_pass, high_pass.
",start issue,The confounds attribute should be documented better
2,issue_closed,137,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:54:02,,closed issue,The confounds attribute should be documented better
3,issue_comment,137,nilearn,nilearn,GaelVaroquaux,2015-07-13 09:54:02,"I think that you are right, and that this issue has been fixed since then. 

I am closing it. Thanks a lot for checking things.
",,
4,issue_comment,137,nilearn,nilearn,juhuntenburg,2015-07-13 09:51:18,"Does this refer to the reference doc or user guide?

The reference doc says:
""confounds: list of confounds, optional :
    List of confounds (2D arrays or filenames pointing to CSV files). Must be of same length than imgs_list.""

So is it already solved or should the ordering be pointed out specifically?
",,
5,issue_comment,137,nilearn,nilearn,banilo,2015-07-13 14:20:30,"I agree. People have repeatedly asked me how the confound removal does work
exactly statistics-wise.

2015-07-13 11:54 GMT+02:00 Gael Varoquaux notifications@github.com:

> I think that you are right, and that this issue has been fixed since then.
> 
> I am closing it. Thanks a lot for checking things.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/137#issuecomment-120877002.

## 

Viele Grüße,
Danilo
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,633,nilearn,nilearn,AlexandreAbraham,2015-07-05 00:45:52,"Integrate the methods presented in [Abraham et al. 2013](https://hal.inria.fr/hal-01093944) in a nilearn-friendly interface along with example, test and documentation.

Diffculties:
- my code is generic but very ugly and I'm not happy with it. It needs love.
- random walker and region growing approaches rely completely on the (great) scikit image code for region segmentation. I don't think that we should do our own code (a naive implementation is way slower and writing an optimized implementation takes time) so we have to decide if we add the code in nilearn.externals (the solution I chose so far) or put a dependency on scikit image for that.
- a lot of work in doc and example is also required.
",start issue,Add region extraction methods
2,issue_closed,633,nilearn,nilearn,lesteve,2015-12-14 10:06:27,,closed issue,Add region extraction methods
3,issue_comment,633,nilearn,nilearn,GaelVaroquaux,2015-07-05 09:00:40,"> Integrate the methods presented in Abraham et al. 2013 in a nilearn-friendly
> interface.

Not all of the methods. Just the one or two that works best.
",,
4,issue_comment,633,nilearn,nilearn,lesteve,2015-12-14 10:06:27,"Closing since RegionExtractor has reached master probably via #898 and a push in master.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,658,nilearn,nilearn,dohmatob,2015-07-14 08:44:19,"# 
## ERROR: nilearn.tests.test_datasets.test_fetch_adhd

Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/home/elvis/CODE/FORKED/nilearn/nilearn/tests/test_datasets.py"", line 438, in test_fetch_adhd
    n_subjects=12, verbose=0)
  File ""/home/elvis/CODE/FORKED/nilearn/nilearn/datasets.py"", line 1653, in fetch_adhd
    dtype=None)
  File ""/usr/lib/python2.7/dist-packages/numpy/lib/npyio.py"", line 1721, in genfromtxt
    output = np.array(data, dtype=ddtype)
OverflowError: Python int too large to convert to C long

BTW,  this is the contents of the .csv generated by the test case (which looks weird to me):
""# Subject""
33390385728031749
8650549469148439
4378444284640131
16685754674586676
17757804278344090
26264712857545098
36119777311222173
12917479214967171
41878941916772270
90275917604688
43499428783930
17885601032707231
17380349668994869
7211859975363044
98818608752748
6091964436794103
17154520289969762
6515714499656048
6710018826350358
15567529874352769
",start issue,Python int too large to convert to C long
2,issue_closed,658,nilearn,nilearn,lesteve,2015-07-15 13:52:36,,closed issue,Python int too large to convert to C long
3,issue_comment,658,nilearn,nilearn,dohmatob,2015-07-14 14:22:05,"Fixed.
",,
4,issue_comment,658,nilearn,nilearn,lesteve,2015-07-15 13:52:36,"I pushed a tiny improvement of the fix in https://github.com/nilearn/nilearn/commit/ddef38a299ed0fedeee5f16f6cc08060dd998018.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,710,nilearn,nilearn,banilo,2015-07-18 13:34:16,"Cleanups from yesterday...
",start issue,PEP8 fixes in datasets/*
2,issue_closed,710,nilearn,nilearn,lesteve,2015-07-19 18:09:09,,closed issue,PEP8 fixes in datasets/*
3,pull_request_title,710,nilearn,nilearn,banilo,2015-07-18 13:34:16,"Cleanups from yesterday...
",d3e3120c81e5f292f7734b7feafa7eb60406eded,PEP8 fixes in datasets/*
4,pull_request_merged,710,nilearn,nilearn,lesteve,2015-07-19 18:09:09,PEP8 fixes in datasets/*,71ef03cba4aa8780f803b47028c0170c15e72ba6,Pull request merge from banilo/nilearn:ds_fix_pep8 to nilearn/nilearn:master
5,issue_comment,710,nilearn,nilearn,AlexandreAbraham,2015-07-19 16:10:41,"LGTM
",,
6,issue_comment,710,nilearn,nilearn,lesteve,2015-07-19 18:09:07,"Merging, thanks!
",,
7,issue_comment,710,nilearn,nilearn,banilo,2015-07-19 18:18:47,":octocat: Good idea!

2015-07-19 20:09 GMT+02:00 Loïc Estève notifications@github.com:

> Merged #710 https://github.com/nilearn/nilearn/pull/710.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/710#event-359503943.

## 

Viele Grüße,
Danilo
",,
8,pull_request_commit_comment,710,nilearn,nilearn,dohmatob,2015-07-18 13:41:58,"moved the files requested ==> move the requested files
",d3e3120c81e5f292f7734b7feafa7eb60406eded,"(32, '', u'nilearn/datasets/utils.py')"
9,pull_request_commit_comment,710,nilearn,nilearn,dohmatob,2015-07-18 13:43:40,"? This XXX looks dangerous. It'd be better to tackle the underlying problem.
",d3e3120c81e5f292f7734b7feafa7eb60406eded,"(33, '', u'nilearn/datasets/utils.py')"
10,pull_request_commit_comment,710,nilearn,nilearn,dohmatob,2015-07-18 13:44:50,"Use assert_true instead.
",d3e3120c81e5f292f7734b7feafa7eb60406eded,"(10, '', u'nilearn/datasets/tests/test_struct.py')"
11,pull_request_commit,710,nilearn,nilearn,banilo,2015-07-18 13:32:12,PEP8 fixes,d3e3120c81e5f292f7734b7feafa7eb60406eded,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,227,nilearn,nilearn,salma1601,2014-07-21 19:37:25,"Different connectivity measures, including tangent space measure
",start issue,Tangent space embedding
2,issue_closed,227,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:35:58,,closed issue,Tangent space embedding
3,pull_request_title,227,nilearn,nilearn,salma1601,2014-07-21 19:37:25,"Different connectivity measures, including tangent space measure
",ce5b1f99f7c781cf757d691d75d8783198437c9e,Tangent space embedding
4,issue_comment,227,nilearn,nilearn,salma1601,2014-08-25 08:40:29,"Dear all,
Some comments on the changes:

@AlexandreAbraham
Removed manifold.py and grouped all functions in embedding.py.
Replaced all the `try` ... `except` statements by `if`.

@agramfort
Checked all docstrings.
Used relative imports in module and absolute in tests.
Used a random state.

@AlexandreAbraham and @agramfort
Moved the functions used only in tests to the test file.

@AlexandreAbraham and @rphlypo
Replaced all matrix functions by the function
`map_sym(function, sym)`
that applies a given function to the eigenvalues of `sym` and returns the transformed matrix.
Alternatively, `map_eig(function, vals, vecs)` is used directly on eigenvalues and eigenvectors to avoid multiple eigen decomposition of the same matrix if one needs to transform it by different matrix functions.

@rphlypo
Added an extra function `check_mat(mat, props)` to check positive definiteness etc.
Used `np.random.randn` instead of `np.random.rand` to generate matrices to be QR-decomposed.
Replaced the non-unitary tests of matrix functions based on random matrices by testing expected results on simple cases.
",,
5,issue_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:30:33,"Could you rebase on master ? You work on a very old code base.
",,
6,issue_comment,227,nilearn,nilearn,bthirion,2014-08-28 07:29:50,"Big picture: In spite of a couple of details, the PR sounds good. My main worry is that we are adding somewhat complicated code and that I do not see what difference it makes wrt the good old Euclidean mean. So
1. Could the example be reworked to illustrate the difference (this is a matter of pedagogy) ?
2. Could the modules doctrings give some explanations on the definition of the distance functions involved
e.g d_g(A,B) = || log(B^{-1/2} A B^{-1/2})||
and of the resulting mean definition:
e.g.mean(A_1,..., A_n) = argmin_M sum_{i=1}^n d_g^2(M, A_i)
Good news: you can do that without using the terms 'embedding' and 'manifold'
3. Of course: do a pass on the necessary corrections, rebase on master etc.
",,
7,issue_comment,227,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:35:58,"Closing this PR, as it is superseeded by #677
",,
8,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 22:50:36,"Missing space: `(n + 1) / 2)`
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
9,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 22:56:02,"`off_diag_mask = tril_mask - np.eye(p, dtype=bool)`
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
10,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 22:56:20,"The copy is only necessery if isometry is True
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
11,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 23:01:31,"Why using a `try ... except` ? You can use a simple `if` there. Also, `np.testing.assert_almost_equal(p, int(p))` is always true.

```
if n != int(p):
    raise ...
```
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
12,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 23:02:30,"Why do you impose a dtype float?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
13,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 23:21:39,"The newaxis trick may be unclear for people who are not used to it.
I would have written sth like:

```
def my_cov_to_corr(cov):
    d = np.atleast_2d(1. / np.diag(np.sqrt(cov)))
    corr = cov * d * d.T
    return corr
```
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
14,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 23:33:17,"This is equivalent to `np.array(arrays)`
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
15,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-21 23:34:47,"The error message is a bit light. `Expected a square matrix. Got a matrix of shape: ...`
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
16,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-22 00:00:05,"All these functions are special cases of a general pattern:

```
if mat.ndim != 2 or mat.shape[0] != mat.shape[-1]:
    raise ValueError('expected a square matrix')
vals, vecs = linalg.eigh(mat)
mat_exp = np.dot(vecs * f(vals), vecs.T)
return mat_exp
```

You can factorize some code
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
17,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-22 11:09:30,"All this code can be factorized.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'plot_adhd_tangent.py')"
18,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-07-22 11:25:21,"you don't need to put cov_estimator explicitely
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'plot_adhd_tangent.py')"
19,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:41:47,"use relative import 

from .manifold

with .
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
20,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:42:09,"use ----- not ====
you use ---- below
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
21,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:43:08,"shape as to be put on the line above:

```
sym : ndarray, shape (..., m, n)
    Input array.
```

note the space before :
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
22,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:43:24,"please check all your docstrings
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
23,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:43:54,"```
output : ndarray, shape ...
    The output flattened ...
```
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
24,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:45:16,"```
off_diag_mask = tril_mask
off_diag_mask.flat[::p + 1] = False
```

to avoid the eye allocation.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
25,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:45:42,"avoid the eye allocation
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
26,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:46:16,"use math.sqrt for floats
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
27,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:47:06,"np.sqrt(np.diag(cov))

to avoid computing the sqrt of all entries.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
28,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:47:14,"---
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
29,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:47:33,"missing empty line
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
30,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:48:12,"bad formatting
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
31,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:49:16,"to me all functions that work with spd matrices should have spd in their name.

it's weird to have a function called inv that only works for spd data
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
32,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:49:28,"inv_spd?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
33,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:49:51,"mat : ndarray, shape (M, M)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
34,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:50:33,"xrange will not work with py3k
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
35,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:51:19,"use linalg.norm
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
36,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:52:35,"all these functions used in tests should be in the test file.
you should use a random state.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
37,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:52:50,"use assert_greater from nose
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/manifold.py')"
38,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:53:24,"for tests don't use relative imports. It's a good way to check install problems.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
39,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 11:53:39,"math.sqrt
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
40,pull_request_commit_comment,227,nilearn,nilearn,salma1601,2014-07-22 13:13:05,"This puts the diagonal of `tril_mask` to False. What about 

```
off_diag_mask = tril_mask - np.diag(np.diag(tril_mask))
```
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
41,pull_request_commit_comment,227,nilearn,nilearn,agramfort,2014-07-22 13:14:33,"same pb np.diag(np.diag(tril_mask)) allocates a full dense matrix. Then

off_diag_mask.flat[::p + 1] -= np.diag(tril_mask)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
42,pull_request_commit_comment,227,nilearn,nilearn,salma1601,2014-07-22 13:32:24,"replaced by 

```
if p > floor(p):
    raise ...
```

I want to check that `p` is an integer 
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
43,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:17:07,"As ususallyn this property has little to do with the set of sdp matrices being a manifold, but is actually tied to the metric you decide to use in this set. 
Actually, the words _embedding_, _manifold_ sound a bit pedantic in this code base, and do not help since neither the embedding nor the manifold structure are even made explicit. 
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(91, '', u'nilearn/connectivity/embedding.py')"
44,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:18:29,"Sounds very cool but it is important for Nilearn to check that this complex way of computing means actually matters for the problems we deal with.
Moreover, this is horribly expensive.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(97, '', u'nilearn/connectivity/embedding.py')"
45,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:20:27,"if these functions are not used outside of this module, they could be private:

def _map_eig(function, vals, vec):
     """"""Return the symmetric matrix with eigenvectors vecs and eigenvalues
- obtained by applying the function to vals.""""""
  return np.dot(vecs \* function(vals), vecs.T)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
46,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:24:17,"call it geo_mean. geo is not explicit enough
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(121, '', u'nilearn/connectivity/embedding.py')"
47,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:33:24,"Sorry, I still don't have the big picture, but shouldn't this function be merged with the previous one ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(184, '', u'nilearn/connectivity/embedding.py')"
48,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:41:04,"Could this be the case systematically ?
Should this function be private ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(249, '', u'nilearn/connectivity/embedding.py')"
49,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:42:54,"Make this function private ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(305, '', u'nilearn/connectivity/embedding.py')"
50,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:43:28,"pep8:
partial = - cov_to_corr(prec)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(336, '', u'nilearn/connectivity/embedding.py')"
51,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:45:36,"This definition is cryptic. Please clarify it
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(343, '', u'nilearn/connectivity/embedding.py')"
52,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:46:33,"why not geo_mean then ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(359, '', u'nilearn/connectivity/embedding.py')"
53,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:47:42,"Are the 'subjects' datasets or correlation matrices ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(378, '', u'nilearn/connectivity/embedding.py')"
54,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:49:26,"A bit of pedagogy is needed here : what should one expect from the output ? what does it look like ? How to name it ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(409, '', u'nilearn/connectivity/embedding.py')"
55,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:55:32,"You should probably focus on the second goal rather than both.
One example = one idea = one message
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(6, '', u'plot_adhd_tangent.py')"
56,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:57:51,"maybe rather: from matplotlib import colors
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(10, '', u'plot_adhd_tangent.py')"
57,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:58:25,"this function should go somewhere in utils
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(19, '', u'plot_adhd_tangent.py')"
58,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:59:17,"Also seems a general purpose function. Could be added in visualization code
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(29, '', u'plot_adhd_tangent.py')"
59,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 21:59:31,"what do you call a measure ?
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(30, '', u'plot_adhd_tangent.py')"
60,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 22:01:17,"If you don't write proper doctrings, make this function private. But I feel that it should rather go to a module dedicated to connectivity matrices visualization.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(55, '', u'plot_adhd_tangent.py')"
61,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 22:02:30,"Please use less subjects if this possible. The example takes ages to run !
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'plot_adhd_tangent.py')"
62,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 22:05:37,"what you call 'subject' is actually something like 'individual_time_series'.

The you could write:
'for subject in subjects'
which is nicer.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'plot_adhd_tangent.py')"
63,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 22:06:47,"This is nice, but I don't see by eye any difference between the mean estimators. Is there (really) any difference (I mean: larger than the sampling noise ?)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'plot_adhd_tangent.py')"
64,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-27 22:07:27,"Nice work on visualization. i'm not sure of the message though
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(191, '', u'plot_adhd_tangent.py')"
65,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 06:43:37,"I think that some functions that are not restricted to tangent space embedding (like this one) should be included in a  ̀utils` package outside of this file.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(305, '', u'nilearn/connectivity/embedding.py')"
66,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 06:47:15,"Actually pep8 does not impose a whitespace here. I would write the same as Salma, it's clearer to me.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(336, '', u'nilearn/connectivity/embedding.py')"
67,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 06:48:58,":+1: 
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(10, '', u'plot_adhd_tangent.py')"
68,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 06:49:06,":+1: 
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(19, '', u'plot_adhd_tangent.py')"
69,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 06:53:29,"I would go for a `plot_connectivity_matrix` function that set a good colormap and do fancy labelling (see seaborn[2]). We could even propose to rearrange labels by block (using a spectral clustering for exemple) and give a different color for each block (see bokeh [1]).

[1] http://bokeh.pydata.org/docs/gallery/les_mis.html
[2] http://stanford.edu/~mwaskom/software/seaborn/examples/many_pairwise_correlations.html
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(29, '', u'plot_adhd_tangent.py')"
70,pull_request_commit_comment,227,nilearn,nilearn,bthirion,2014-08-28 07:15:55," You're right. fair enough. Now I got used to the opposite ;-)
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(336, '', u'nilearn/connectivity/embedding.py')"
71,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-08-28 07:19:28,"Fun fact: PEP8 recommands to remove spaces around operators with highest priority if you write an arithmetic operation containing several operators with different priorities.

Therefore `x = 2*2 + 3`should be preferred to `x = 2 * 2 + 3` but most of pep8 validators will consider the first expression as non compliant (I also prefer the second expression).
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(336, '', u'nilearn/connectivity/embedding.py')"
72,pull_request_commit_comment,227,nilearn,nilearn,AlexandreAbraham,2014-10-10 22:44:47,"The `testing` module contains functions related to testing only. If a function in there become useful into nilearn itself, then I think that we should move it out from this package for the sake of clarity.
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
73,pull_request_commit_comment,227,nilearn,nilearn,lesteve,2014-10-13 09:14:55,"Good catch, I opened an [issue](https://github.com/nilearn/nilearn/issues/260) about that
",ce5b1f99f7c781cf757d691d75d8783198437c9e,"(None, '', u'nilearn/connectivity/embedding.py')"
74,pull_request_commit,227,nilearn,nilearn,GaelVaroquaux,2014-03-27 10:28:40,"MISC: Add covariance embedding files

This is completely temporary and just a copy of our own internal files",4a8fdfd1db449280da8e4ca48005f500b4cda4ac,
75,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-04-07 13:23:38,tmp save,f38a2f4289837a2934d6f4fff35e812d654e45c4,
76,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-07-21 19:01:55,connectivity measure in manifold of spd matrices,4184f4a91c23f40d2b814357aaeb32497fe4f4e3,
77,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-07-21 19:21:33,new connectivity files,e6669aadce1d59a0bf8bb7f5c0658aba36efe791,
78,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-07-21 19:24:22,"example for different connectivity measures
Please enter the commit message for your changes. Lines starting",814604f661384f47668650ca9e5fe8651415939e,
79,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-08-22 14:45:40,checked docstrings and factorized matrix functions,fbf2fe13bc585fb80b0e12aa514fc1be5a209ad7,
80,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2014-08-25 08:53:20,updated __init__.py,1cedbbf8e711078638ec30c5130f1a7bab98c654,
81,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-06-30 16:53:50,plot correlation of tangent measure,f2e2ea98fd0ea652deec475eb6f343e6411ba66e,
82,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 04:08:17,added classification,83eabfa8d85332e48025215f987dba244f7ebfe6,
83,pull_request_commit,227,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 04:09:06,updated is_spd,ce5b1f99f7c781cf757d691d75d8783198437c9e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:04:38,"Fix #636.
",start issue,Solve ADHD downloader problem.
2,issue_closed,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 20:51:00,,closed issue,Solve ADHD downloader problem.
3,pull_request_title,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:04:38,"Fix #636.
",b2ab6238ac870228ea94df2b4d4f882afd45f85d,Solve ADHD downloader problem.
4,pull_request_merged,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 20:51:00,Solve ADHD downloader problem.,50c8c7c4ee26a85c298f44f0726f5b61569ccaa9,Pull request merge from AlexandreAbraham/nilearn:fix_636 to nilearn/nilearn:master
5,issue_comment,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:06:06,"I will tyranically merge this PR after Travis agreement since ADHD is completely broken. Note that I can unfortunately not restore the files in their previous URL and therefore make older versions of nilearn work again.
",,
6,pull_request_commit,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:03:32,Solve ADHD downloader problem. Introduce subject wise download.,f9c82f965cdb0d65093e4fd267b0cc9818dc8a40,
7,pull_request_commit,637,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:38:23,Fix Py3 compat,b2ab6238ac870228ea94df2b4d4f882afd45f85d,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,619,nilearn,nilearn,banilo,2015-06-27 03:30:46,"Next round of documentation tuning...
",start issue,doccheck 3: manipulation
2,issue_closed,619,nilearn,nilearn,lesteve,2015-07-16 13:06:08,,closed issue,doccheck 3: manipulation
3,pull_request_title,619,nilearn,nilearn,banilo,2015-06-27 03:30:46,"Next round of documentation tuning...
",442f555024b1993dcb09d77fd366f889149a0d8d,doccheck 3: manipulation
4,pull_request_merged,619,nilearn,nilearn,lesteve,2015-07-16 13:06:08,doccheck 3: manipulation,72c104b000b3dce05a44e8f12d2d1eaf06a8b84c,Pull request merge from banilo/nilearn:doccheck3 to nilearn/nilearn:master
5,issue_comment,619,nilearn,nilearn,AlexandreAbraham,2015-07-06 21:04:43,"Great work, as usual!
",,
6,issue_comment,619,nilearn,nilearn,lesteve,2015-07-16 13:06:00,"Good stuff, merging!
",,
7,issue_comment,619,nilearn,nilearn,banilo,2015-07-16 08:35:44,":octocat:  says: ""Merge me!""
",,
8,pull_request_commit_comment,619,nilearn,nilearn,AlexandreAbraham,2015-07-06 20:57:47,"loaded **with** a single line?
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
9,pull_request_commit_comment,619,nilearn,nilearn,AlexandreAbraham,2015-07-06 20:58:16,"typo voluem.
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
10,pull_request_commit_comment,619,nilearn,nilearn,AlexandreAbraham,2015-07-06 21:00:40,"For me, **sets of Nifti-like** means that we have several which has no sense since we don't know what is the dimension of the nifti-like.
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
11,pull_request_commit_comment,619,nilearn,nilearn,banilo,2015-07-16 08:31:35,"Right!
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
12,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 08:48:06,"file names of the file names ?
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
13,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 08:49:45,"pète un coup please !
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
14,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 09:39:19,"Nifti vs nifti doesn't seem to be consistent. I don't really know which one is preferable.
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
15,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 09:40:56,"why did you remove 4D this line is about 4D Niimg-like object ...
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
16,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 09:54:20,"translate is a bit ambiguous I find especially the mathematical meaning, maybe transform ?
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
17,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 09:54:35,"I don't really see what compressed means here.
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
18,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 10:02:48,"mean -> means or maybe method, way, etc ...
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
19,pull_request_commit_comment,619,nilearn,nilearn,lesteve,2015-07-16 10:05:00,"missing verb: We can then **use**/**apply** a logical ""and"" operation
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
20,pull_request_commit_comment,619,nilearn,nilearn,banilo,2015-07-16 12:52:09,"I wanted to explicitly not use Transform() to paraphrase the function name intentionally.
",442f555024b1993dcb09d77fd366f889149a0d8d,"(None, '', u'doc/manipulating_visualizing/manipulating_images.rst')"
21,pull_request_commit,619,nilearn,nilearn,banilo,2015-06-27 03:33:29,double-checked manipulation docs,5cecdc253e9cdf1e41fdeab782e4742cd91122fd,
22,pull_request_commit,619,nilearn,nilearn,banilo,2015-07-16 08:34:00,cosmit,62545acba02bfd315dbaf4e43a24a7f68f6c060a,
23,pull_request_commit,619,nilearn,nilearn,banilo,2015-07-16 12:53:53,integrate Loics comments,442f555024b1993dcb09d77fd366f889149a0d8d,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,680,nilearn,nilearn,AlexandreAbraham,2015-07-16 06:44:38,,start issue,Fix glitches in doctest and disable dataset fetching.
2,issue_closed,680,nilearn,nilearn,lesteve,2015-07-17 10:29:06,,closed issue,Fix glitches in doctest and disable dataset fetching.
3,pull_request_title,680,nilearn,nilearn,AlexandreAbraham,2015-07-16 06:44:38,,00fbd56bb2074457429719c94c3e1d85a50b0ab9,Fix glitches in doctest and disable dataset fetching.
4,pull_request_merged,680,nilearn,nilearn,lesteve,2015-07-17 10:29:06,Fix glitches in doctest and disable dataset fetching.,66476f75b0b6c9ced4b95255bb88f528d1820e53,Pull request merge from AlexandreAbraham/nilearn:fix_docs to nilearn/nilearn:master
5,issue_comment,680,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:32:31,"You should probably merge my PR in this one.
",,
6,issue_comment,680,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:40:40,"OK. Let's talk about this when you come in.
",,
7,issue_comment,680,nilearn,nilearn,GaelVaroquaux,2015-07-17 12:12:19,"Oh, I am not taking care of this :$

I think that it's still good to have merged this guy. It's an improvement.
",,
8,issue_comment,680,nilearn,nilearn,GaelVaroquaux,2015-07-17 12:52:44,"> That was the fix 295eaf1. I just skipped all the remaining doctests,
> not sure whether there was a better way to do it ...

Tests are now failing under CircleCI:

https://circleci.com/gh/nilearn/nilearn/75

we need to make it so that all the tests passed.
",,
9,issue_comment,680,nilearn,nilearn,AlexandreAbraham,2015-07-17 11:52:23,"I don't know if this PR was supposed to be merged actually. @GaelVaroquaux is taking care of the problem now.
",,
10,issue_comment,680,nilearn,nilearn,AlexandreAbraham,2015-07-17 12:23:57,"> Oh, I am not taking care of this :$

I thought you were.

I skipped all the doctests that were based on data fetching. I know that some of them still fail but that's because the fix is not trivial.
",,
11,pull_request_commit,680,nilearn,nilearn,AlexandreAbraham,2015-07-15 22:24:34,Functional connectomes,85d718d647b067ecfcf7ac9fdb55841be494310e,
12,pull_request_commit,680,nilearn,nilearn,AlexandreAbraham,2015-07-16 06:42:38,Fix minor bugs in doc,00fbd56bb2074457429719c94c3e1d85a50b0ab9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,742,nilearn,nilearn,KamalakerDadi,2015-07-30 12:43:26,"Edit, trying to add Fix #741 after the PR is merged to see if that works ... Nope.
",start issue,Addressing issue 741. Some easy fixes
2,issue_closed,742,nilearn,nilearn,lesteve,2015-07-30 13:40:59,,closed issue,Addressing issue 741. Some easy fixes
3,pull_request_title,742,nilearn,nilearn,KamalakerDadi,2015-07-30 12:43:26,"Edit, trying to add Fix #741 after the PR is merged to see if that works ... Nope.
",b3391eeb2f8587c0ebefe7f7a00f55ac6ec4dcf0,Addressing issue 741. Some easy fixes
4,pull_request_merged,742,nilearn,nilearn,lesteve,2015-07-30 13:40:59,Addressing issue 741. Some easy fixes,88d66e4b5746c0e7137e35cbda21c5c794072691,Pull request merge from KamalakerDadi/nilearn:issue741 to nilearn/nilearn:master
5,issue_comment,742,nilearn,nilearn,lesteve,2015-07-30 13:40:22,"@KamalakerDadi for the future, it's better to mention the issue number in the description rather than the title and have something informative in the title.

I like to use ""Fix #bla"" this way issue ""#bla"" gets closed automatically when the PR is merged.
",,
6,issue_comment,742,nilearn,nilearn,lesteve,2015-07-30 13:40:55,"Fix #741. Merging, thanks a lot.
",,
7,pull_request_commit_comment,742,nilearn,nilearn,lesteve,2015-07-30 13:04:52,"You don't need parentheses here

``` python
classification_target = stimuli[task_mask] == category
```

works as well as

``` python
classification_target = (stimuli[task_mask] == category)
```

but it could be argued that parentheses makes the whole thing slightly more readable (not entirely convinced personally). @AlexandreAbraham what do you think?
",b3391eeb2f8587c0ebefe7f7a00f55ac6ec4dcf0,"(5, '', u'examples/decoding/plot_haxby_different_estimators.py')"
8,pull_request_commit_comment,742,nilearn,nilearn,AlexandreAbraham,2015-07-30 13:12:38,"Well, since I proposed to add the parenthesis, I prefer with the parenthesis.
",b3391eeb2f8587c0ebefe7f7a00f55ac6ec4dcf0,"(5, '', u'examples/decoding/plot_haxby_different_estimators.py')"
9,pull_request_commit_comment,742,nilearn,nilearn,lesteve,2015-07-30 13:38:28,"All right let's go for this then!
",b3391eeb2f8587c0ebefe7f7a00f55ac6ec4dcf0,"(5, '', u'examples/decoding/plot_haxby_different_estimators.py')"
10,pull_request_commit,742,nilearn,nilearn,KamalakerDadi,2015-07-30 12:38:31,Addressing issue 741. Some easy fixes,b3391eeb2f8587c0ebefe7f7a00f55ac6ec4dcf0,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,741,nilearn,nilearn,lesteve,2015-07-30 11:55:12,"``` python
classification_target = stimuli[
    np.logical_not(resting_state)] == category
```

From #740, @AlexandreAbraham  said:

> I already found this line hard to understand before (I particularly dislike playing with the priority of operators = and ==) but now the new_line make it even more obscure. Maybe we could change by:
> 
> ```
> task_mask = np.logical_not(resting_state)  # or sample_mask?
> classification_target = (stimuli[task_mask] == category)
> ```

Quickly git-grepping it looks like this pattern is both present in:
examples/decoding/plot_haxby_different_estimators.py
examples/decoding/plot_haxby_full_analysis.py

They may be other places where this is used.
",start issue,Improve task mask pattern in examples
2,issue_closed,741,nilearn,nilearn,lesteve,2015-07-30 13:42:43,,closed issue,Improve task mask pattern in examples
3,issue_comment,741,nilearn,nilearn,KamalakerDadi,2015-07-30 12:11:27,"Please assign it. I will do it.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,743,nilearn,nilearn,lesteve,2015-07-31 12:57:36,"### [Codacy](https://www.codacy.com/app/lesteve/nilearn/commit?cid=13573588) detected an issue:
#### Message: `Bad except clauses order (TypeError is an ancestor class of DimensionError)`
#### Occurred on:
- **Commit**:  a6fa5848930c40a59652231a47b7f6d4a9edefc5
- **File**:    [nilearn/_utils/niimg_conversions.py](https://github.com/nilearn/nilearn/blob/a6fa5848930c40a59652231a47b7f6d4a9edefc5/nilearn/_utils/niimg_conversions.py)
- **LineNum**: [140](https://github.com/nilearn/nilearn/blob/a6fa5848930c40a59652231a47b7f6d4a9edefc5/nilearn/_utils/niimg_conversions.py#L140)
- **Code**:    `except DimensionError as exc:`
#### Currently on:
- **Commit**:  5b5d8d206c03c3c65ee22896d2850bbb886b333a
- **File**:    [nilearn/_utils/niimg_conversions.py](https://github.com/nilearn/nilearn/blob/5b5d8d206c03c3c65ee22896d2850bbb886b333a/nilearn/_utils/niimg_conversions.py)
- **LineNum**: [149](https://github.com/nilearn/nilearn/blob/5b5d8d206c03c3c65ee22896d2850bbb886b333a/nilearn/_utils/niimg_conversions.py#L149)

It looks like this is a real issue since it was caught by landscape.io too.
",start issue,Bad except clauses order (TypeError is an ancestor class of DimensionError)
2,issue_closed,743,nilearn,nilearn,AlexandreAbraham,2015-08-04 09:02:21,,closed issue,Bad except clauses order (TypeError is an ancestor class of DimensionError)
3,issue_comment,743,nilearn,nilearn,AlexandreAbraham,2015-07-31 13:01:41,"Wow, effectivement !
",,
4,issue_comment,743,nilearn,nilearn,lesteve,2015-07-31 13:10:09,"BTW as a general announcement I just set up Codacy which looks quite good. It should add a new status for code quality in PR, let's see how useful this is.

One reason to love Codacy even if you have no clue what it does: it rates nilearn as an A project: https://www.codacy.com/app/lesteve/nilearn/dashboard.
",,
5,issue_comment,743,nilearn,nilearn,lesteve,2015-07-31 13:11:19,"Also you can create issue from Codacy which is what I did here, hence the very detailed template (no I didn't do the history research and type that in).
",,
6,issue_comment,743,nilearn,nilearn,AlexandreAbraham,2015-07-31 13:36:14,"Can you exclude sphinx gallery from Codacy? It raises most of the issues.
",,
7,issue_comment,743,nilearn,nilearn,lesteve,2015-07-31 13:46:01,"I just tried but I am not sure if/when this is going to have an effect. FWIW you can filter by language, severity, or type, for the Codacy issues.
",,
8,issue_comment,743,nilearn,nilearn,lesteve,2015-07-31 15:41:09,"I see that you have pushed a fix in master, thanks! There is something I don't understand though shouldn't it have been caught by the tests?

I seem to remember that we checked the error message to make sure it mentioned 4d rather than 3d or something like that.
",,
9,issue_comment,743,nilearn,nilearn,AlexandreAbraham,2015-08-04 08:26:15,"> I seem to remember that we checked the error message to make sure it mentioned 4d rather than 3d or something like that.

We check that the number of dimensions asked is the right one ""Data must be 4D but you provided"" but we don't check the number of dimensions given by the user.
",,
10,issue_comment,743,nilearn,nilearn,AlexandreAbraham,2015-08-04 08:32:31,"Well, apparently I was wrong. This is indeed check in some cases... This is weird. Anyway i added more precise check in #749. Closing this one once travis has passed.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,665,nilearn,nilearn,AlexandreAbraham,2015-07-14 14:35:44,"First step toward code factorization in Nifti*Masker.
",start issue,Factorize code in NiftiLabelsMasker and NiftiMapsMasker
2,issue_closed,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 21:13:55,,closed issue,Factorize code in NiftiLabelsMasker and NiftiMapsMasker
3,pull_request_title,665,nilearn,nilearn,AlexandreAbraham,2015-07-14 14:35:44,"First step toward code factorization in Nifti*Masker.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,Factorize code in NiftiLabelsMasker and NiftiMapsMasker
4,pull_request_merged,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 21:13:55,Factorize code in NiftiLabelsMasker and NiftiMapsMasker,115cd3f072ab654ef74cc47835804dc76470b513,Pull request merge from AlexandreAbraham/nilearn:factorize_code to nilearn/nilearn:master
5,pull_request_commit_comment,665,nilearn,nilearn,banilo,2015-07-16 09:44:23,"PEP8
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
6,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:05:56,"Fixed.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
7,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-17 14:26:36,"Wow can you get away with that, without a self and without having it a staticmethod or classmethod? I thought the first argument had to be an instance of the class from the method ...

Also can you use a consistent name? You used extraction_function here and extraction_func somewhere else.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
8,pull_request_commit_comment,665,nilearn,nilearn,bthirion,2015-07-17 18:00:06,"If it's no longer a private function, it deserves docstrings
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
9,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-24 08:17:07,"This is as private as `filter_and_mask`. I added a minimal docstring though.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
10,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-24 08:17:20,"It's a local function.

Naming fixed.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
11,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-27 13:46:43,"> It's a local function.

Ah I missed this horizontal alignment subtlety completely in the diff.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
12,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 12:47:53,"Is it good to go now? ;)
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
13,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-28 13:46:30,"you can remove this comment, right?
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
14,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-28 13:52:13,"There is no kwargs. Maybe you mean to say something like ""For all other parameters refer to NiftiMasker documentation""?
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
15,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-28 13:58:08,"> Naming fixed.

Bonus points if you fix extraction_func in base_masker.py too.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
16,pull_request_commit_comment,665,nilearn,nilearn,banilo,2015-07-28 14:39:09,"Perhaps a more explicit variable name for this one?
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(68, '', u'nilearn/input_data/nifti_maps_masker.py')"
17,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 14:42:42,"Which one? We won't change the NiftiMapsMasker interface...
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(68, '', u'nilearn/input_data/nifti_maps_masker.py')"
18,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 14:43:49,"Fixed.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(62, '', u'nilearn/input_data/nifti_maps_masker.py')"
19,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 14:46:55,"Is it sphinx compatible?
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
20,pull_request_commit_comment,665,nilearn,nilearn,AlexandreAbraham,2015-07-28 14:47:34,"Fixed.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
21,pull_request_commit_comment,665,nilearn,nilearn,lesteve,2015-07-28 16:20:57,"So close and yet just slightly off the mark for the bonus points ;-). Still an extraction_func to go here and I'll merge this one.
",2fc2c3a604cec20aadb5ebb7385ea934870f009f,"(None, '', u'nilearn/input_data/base_masker.py')"
22,pull_request_commit,665,nilearn,nilearn,AlexandreAbraham,2015-07-14 14:29:37,Factorize code in NiftiLabelsMasker and NiftiMapsMasker,43e2e07719c94344a626682e432741c5d68e97b1,
23,pull_request_commit,665,nilearn,nilearn,AlexandreAbraham,2015-07-15 14:32:49,Fix glitches,2fc2c3a604cec20aadb5ebb7385ea934870f009f,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,693,nilearn,nilearn,arthurmensch,2015-07-16 15:36:20,"Decomposition estimators (`DictLearning` / `MultiPCA`) now inherit a  `DecompositionEstimator`.

Loading of data is made through a `PCAMultiNiftiMasker`, which loads data from files and compress it.

Potentially, the function check_masker could solve issue #688, as it factorizes the input checking of estimator to which you provide either a masker or parameters for a mask. It is tuned to be able to use `PCAMultiNiftiMasker`
",start issue,[MRG] Dictionary learning + nilearn.decomposition refactoring
2,issue_closed,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:44:07,,closed issue,[MRG] Dictionary learning + nilearn.decomposition refactoring
3,pull_request_title,693,nilearn,nilearn,arthurmensch,2015-07-16 15:36:20,"Decomposition estimators (`DictLearning` / `MultiPCA`) now inherit a  `DecompositionEstimator`.

Loading of data is made through a `PCAMultiNiftiMasker`, which loads data from files and compress it.

Potentially, the function check_masker could solve issue #688, as it factorizes the input checking of estimator to which you provide either a masker or parameters for a mask. It is tuned to be able to use `PCAMultiNiftiMasker`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,[MRG] Dictionary learning + nilearn.decomposition refactoring
4,pull_request_merged,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:44:07,[MRG] Dictionary learning + nilearn.decomposition refactoring,3a9614cb04687f6384691ad00fc0cb17a8a4e7b2,Pull request merge from arthurmensch/nilearn:l1_dict_learning_composition_mask to nilearn/nilearn:master
5,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-20 05:48:15,">   • SinglePCA is a transformer that takes masked data and returns their PCA.

The problem with this is that it forces to do things with the wrong
parallel-execution layout: you would have to load and mask all the data,
then do SVDs. Both in terms of parallel execution (imposing a barrier
between loading and SVDs) and in terms of memory usage (storing the data
in memory).

I tend to think that the basic element of reuse for stateless pipeline
operations is much more the function than the class. Indeed, objects are
not needed to keep state (the only reason that the Transformer is an
object is because it has separate fit and transform stages, and needs to
keep a state between the two). Functions lead to code reuse with less
boilerplate.
",,
6,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-21 09:51:55,"> Honestly, I don't see why we have make_pca_masker and PCAMultiNiftiMasker where
> we could just use MultiNiftiMasker followed by a PCA.

Once again: parallel computing + memory conception.
",,
7,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 14:49:43,"In terms of examples, I think we need:
- The unmodified CanICA example
- An example comparing both (like you had in June)

In terms of narrative docs:
- I would rename the title of resting_state_networks.rst to ""Extracting resting-state networks: ICA and related""
- In the above, I would have the current content in a section called 'Multi-subject ICA: CanICA' and another section with the doc for dict learning.
",,
8,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 18:24:56,"Can you use 30 subjects from ADHD in your example, please. It will make it use a bit less memory. I checked and it looks quite nice.
",,
9,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:25:33,"We are blowing the memory limit on CircleCI when running the examples. It corresponds to what I have observed: right now the examples use too much memory. Scaling down to 30 subjects would help a bit.
",,
10,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 09:59:04,"I have made a PR to this PR:
https://github.com/arthurmensch/nilearn/pull/1

It addresses the main blocker for merging this, ie that the memory usage of the current state of this PR is linear increasing with the number of subjects. This is blocker.

My PR is not satisfactory, in the sense that it pushes all checking in the inner loop. But right now I am not sure of a way of doing it right, and I don't want to delay merging this feature.

As a side note, we have a major design problem, maybe even a regression compared to the code in master. Right now, if people give images that are not resampled properly, it will run for a long time, and then fail miserably when trying to concatenate data. We'll need to revisit this whole codepath. But I'd rather add an issue and do it later.
",,
11,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:43:19,"> @GaelVaroquaux it should not fail if provided with images with different size
> isn't it ? n_voxels is based on mask_img size

Good point, the masker does a lot to make it work.
",,
12,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 13:07:18,"> To answer you about the design flaw, I listed it in my big refactoring
> issue. I suggest that we merge and take a closer look afterward.

Absolutely!
",,
13,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-04 13:20:15,"> A rebase never comes for free ;)

Quote of the week!
",,
14,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-08 14:45:57,"Yipi!!!!

Sent from my phone. Please forgive brevity and mis spelling

On Dec 8, 2015, 09:44, at 09:44, Alexandre Abraham notifications@github.com wrote:

> Merged #693.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/693#event-485710127
",,
15,issue_comment,693,nilearn,nilearn,eickenberg,2015-07-21 09:55:59,"> We never make pipelines out of transformers, we make pipelines by using
> the functions on which the transformers depend.

It is however imaginable that some such transformers may need spatial
information. I am thinking specifically about the feature screening
currently only used in SpaceNet but which in the future could very well
serve for other estimators as well. In this case it would need to be inside
the masker.

On Tue, Jul 21, 2015 at 11:51 AM, Gael Varoquaux notifications@github.com
wrote:

> > Honestly, I don't see why we have make_pca_masker and
> > PCAMultiNiftiMasker where
> > we could just use MultiNiftiMasker followed by a PCA.
> 
> Once again: parallel computing + memory conception.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/693#issuecomment-123245049.
",,
16,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:35:46,"As a general matter, I am not comfortable with the ""pipelining through inheritance"" pattern. Especially because it is not easy to combine it with out caching system.

What we have now in nilearn.decomposition.MultiPCA is:
- MultiPCA takes a MultiNiftiMasker as parameter (or directly a mask, this is not the point here)
- It masks data and runs a PCA on the masked data.
- Its associated function, session_pca, takes niimgs as parameter, calls filter_and_mask and runs the PCA afterward. We can easily cache the call to session_pca because most of the time niimgs are strings.
- However, if we want to add more steps to the pipeline (ie CanICA), we have to inherit from MultiPCA and thus we don't have access to intermediate data, the masked data in our case.

What is proposed in this PR:
- PCAMultiNiftiMasker inherits from MultiNiftiMasker
- MultiPCA is now almost empty, it is just a wrapper around PCAMultiNiftiMasker
- nothing has changed regarding session_pca function.

What I think is the way to go:
- SinglePCA is a transformer that takes masked data and returns their PCA.
- MultiPCA is a transformer. It has init parameters of both MultiNiftiMasker and SinglePCA. It creates instances of both of them and, on fit, streamline the process: it takes the niimgs as input, mask them in the MNMasker, gives the masked data to the SinglePCA and aggregates the results, doing a cca if asked. Obviously, this is run online and efficiently (njobs and stuff)
- This patterns allows the results of MultiNiftiMasker to be reused in further steps of the process if needed. It also does as little mixing as possible between methods.

Sidenote: is we think of it, the NiftiMasker is already a pipeline of operations (smooting, masking, cleaning). Re-designing it using my proposition would be equivalent to have a SmoothingTransformer, MaskingTransformer, CleaningTransformer and chaining them in a class called NiftiMasker (pretty much the actual code). Using the other pattern, we would have a function called cleaning that would call a function called masking that would call a function called smoothing. Unless you are competing for the prize of the biggest call stack size, this seems not like a good idea to me. This is why I intuitively came up with the other solution.

I am sorry to raise this kind of concern in your PR but, if we are to refactor the entire decomposition framework, I think we should do it well.
",,
17,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 11:35:43,"I moved the fast concatenation to a separate `_utils` function. For the moment you can observe than `multi_pca` and `dict_learning` has a few common lines that could be factorized, but I think that these belongs to the own logic of both objects so it may not be worth.

In term of merging strategy, I merged PR #702 for testing purpose on this PR, but I can remove the commits for this PR easily, so we can merge this PR on top of PR #702
",,
18,issue_comment,693,nilearn,nilearn,lesteve,2015-07-21 06:35:03,"Needs a rebase + failing tests.
",,
19,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-21 08:05:41,"> MultiPCA is a transformer. It has init parameters of both MultiNiftiMasker and SinglePCA. It creates instances of both of them and, on fit, streamline the process: it takes the niimgs as input, mask them in the MNMasker, gives the masked data to the SinglePCA and aggregates the results, doing a cca if asked. Obviously, this is run online and efficiently (njobs and stuff)

This is basically what is done with make_pca_masker : streamline is done within function `session_pca`, instead of setting up a explicit pipe between two transformers. Trouble being that if we want to do that, we need to use MultiNiftiMasker.transform_single_imgs, piped to randomized_pca, which forces use to use Parallel over an already parallel ready object (MultiNiftiMasker)
",,
20,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 09:00:46,"Since your PR is working and improving code organization, I suggest that we go for merge and discuss of code engineering afterward. I don't want this PR to be blocked like Elvis' and the inner code won't change anything for the user.
",,
21,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 09:30:42,"Honestly, I don't see why we have `make_pca_masker` and `PCAMultiNiftiMasker` where we could just use `MultiNiftiMasker` followed by a PCA. We never make pipelines out of transformers, we make pipelines by using the functions on which the transformers depend.

Current state:
- MultiNiftiMasker
  - `fit` calls `filter_and_mask`
- MultiPCA
  - `fit` calls `session_pca`
  - `session_pca` calls `filter_and_mask`
- CanICA
  - `fit` calls `MultiPCA.fit`
  - `fit` then does the work

Proposition:
- MultiNiftiMasker
  - `fit` calls `filter_and_mask`
- SinglePCA
  - `fit` calls`single_pca` that takes as input masked data and do a PCA
- MultiPCA
  - `fit` calls `session_pca`
  - `session_pca` chains `filter_and_mask` and `single_pca`
- CanICA
  - `fit` calls `canica`
  - `canica` calls `session_pca`, and then `single_pca` and does ica afterward.
  - Note : this is optional.
- DictLearning
  - `fit` calls `dict_learning`
  - `dict_learning` calls `filter_and_mask` can easily do the job if init is provided, and compute a CanICA while keeping masked_data in memory since everything is functional. Or it can call `canica` directly and use caching.

I see no need whatsoever for a PCAMultiNiftiMasker, this is over-engineering for me. But maybe I'm wrong.

Also, it is possible to chain transformers. We just need a `transform_iter` method that does no parallel computation but returns an iterator to treat subjects on the fly.
",,
22,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:14:04,"> Once again: parallel computing + memory conception.

Well, no this is not the reason because the code behind the scenes is unchanged, this is only a refactoring the class organization where a part of MultiPCA becomes a class itself.

OK, it took me some time but now I get it. I'm not happy with `make_pca_masker` (I think that you could always use a PCAMultiNiftiMasker and decide to do the PCA or not inside) and I'm not happy with the naming, but I can live with that ;).
",,
23,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:23:35,">  In this case it would need to be inside the masker.

It would precisely need to be inside the masker, after the smoothing and before the cleaning. So, just where the masking is. This is precisely the code pattern I introduced in #665 and that allows to define NiftiMasker, NiftiLabelsMasker, or even NiftiUnivariateScreeningMasker if you want, using the same piece of code. Here, we are talking about software design for a PCA after masking. To summarize it, if masking and pca were 2 boxes, the actual choice is put the masking box inside the pca box. For me, it's not the best choice given that if you want to add another step, then you'll need a bigger box. I see that as boxes put next to each other.

But that's my personal bias, I am aware of that and I am totally opened to other solutions. I am just arguing a bit here because, in my head, I see a very simple schema and my impression here is that the spaghetti code has been replaced by lasagna code.
",,
24,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:25:33,"In particular, the concept itself of MultiNiftiMasker in the MultiPCA is a fraud: we use it to compute the mask, in the fit, that's a fact. But we don't use it for masking at all. For that, we basically use a NiftiMasker chained with a PCA in a parallel loop.
",,
25,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 12:03:29,"Talking with Arthur, we have identified the same weaknesses in the approach of software design in nilearn. Since his PR is an enhancement compared to existent, I suggest that we merge it and we discuss software refactoring after since it's another subject.
",,
26,issue_comment,693,nilearn,nilearn,lesteve,2015-07-21 13:42:55,"Your example doesn't work with python 3 for some reason I don't really understand. In the traceback below `n_iter` is a float (2085.16... if you want to know). The fact that it was not caught by the tests is not really reassuring:

```
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
/home/le243287/dev/nilearn/examples/connectivity/plot_dict_learning_resting_state.py in <module>()
     53     print('[Example] Learning maps using %s model'
     54           % type(estimator).__name__)
---> 55     estimator.fit(func_filenames)
     56     print('[Example] Dumping results')
     57     components_img = estimator.masker_.inverse_transform(estimator.components_)

/home/le243287/dev/nilearn/nilearn/decomposition/dict_learning.py in fit(self, imgs, y, confounds)
    209             random_state=self.random_state,
    210             shuffle=True,
--> 211             n_jobs=1)
    212         self.components_ = self.components_.T
    213         if self.verbose:

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in __call__(self, *args, **kwargs)
    481 
    482     def __call__(self, *args, **kwargs):
--> 483         return self._cached_call(args, kwargs)[0]
    484 
    485     def __reduce__(self):

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in _cached_call(self, args, kwargs)
    428                           'directory %s'
    429                         % (name, argument_hash, output_dir))
--> 430             out, metadata = self.call(*args, **kwargs)
    431             if self.mmap_mode is not None:
    432                 # Memmap the output at the first call to be consistent with

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in call(self, *args, **kwargs)
    673         if self._verbose > 0:
    674             print(format_call(self.func, args, kwargs))
--> 675         output = self.func(*args, **kwargs)
    676         self._persist_output(output, output_dir)
    677         duration = time.time() - start_time

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/decomposition/dict_learning.py in dict_learning_online(X, n_components, alpha, n_iter, return_code, dict_init, callback, batch_size, verbose, shuffle, n_jobs, method, iter_offset, random_state, return_inner_stats, inner_stats, return_n_iter)
    658     ii = iter_offset - 1
    659 
--> 660     for ii, this_X in zip(range(iter_offset, iter_offset + n_iter), batches):
    661         dt = (time.time() - t0)
    662         if verbose == 1:

TypeError: 'float' object cannot be interpreted as an integer
> /volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/decomposition/dict_learning.py(660)dict_learning_online()
    659 
--> 660     for ii, this_X in zip(range(iter_offset, iter_offset + n_iter), batches):
    661         dt = (time.time() - t0)
```
",,
27,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-21 14:00:55,"i guess I should push the coverage to 100%
",,
28,issue_comment,693,nilearn,nilearn,lesteve,2015-10-05 12:26:11,"python 2.6 errors are quite easy to fix,  assert_greater should be nilearn._utils somewhere and you can replace assert_is(a, b) by assert_true(a is b).

About the CircleCI error, it happens during the documentation generation. Not sure what the exact reason is but it looks like this is related to adding `nilearn/examples/__init__.py`. Did you do that on purpose ?
",,
29,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-03 16:04:03,"I updated the doc. It seems ready to me
",,
30,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 08:03:21,"Travis is supposed to be green, but for some reason it does not find conda
",,
31,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 08:24:46,"@lesteve I addressed your comments, sorry I oversaw them. Travis CI is failing on conda due to an install error, do you reckon it is related to Travis itself ?
",,
32,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:26:52,"> @lesteve I addressed your comments, sorry I oversaw them. Travis CI is failing on conda due to an install error, do you reckon it is related to Travis itself ?

The error is a bit weird indeed. Let me try to reproduce it.
",,
33,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:31:30,"It looks like the path of conda has changed. I am testing a fix in one of my branch and I'll push it into master if that works.
",,
34,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:52:09,"@arthurmensch if you rebase on master, Travis has more chances to be green now.
",,
35,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 12:04:28,"For once the codacy status is actually spotting a real issue. You have added a PEP8 violation.
",,
36,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 13:31:17,"Done
",,
37,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:50:29,"On test seems to be failing (which is weird because travis is happy). Apart from small details, LGTM.
",,
38,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:55:15,"Failing test is : 

```
File ""/home/ubuntu/nilearn/nilearn/decomposition/tests/test_dict_learning.py"", line 49, in test_dict_learning
    assert_true(recovered_maps >= 2)
```

Please use proper functions (something like `assert_less`) to get more accurate errors.
",,
39,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 13:05:00,"> Good point, the masker does a lot to make it work.

To answer you about the design flaw, I listed it in my big `refactoring` issue. I suggest that we merge and take a closer look afterward.
",,
40,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:43:14,"Merging this one. I opened issues regarding initialization documentation and broken links. Feel free to open issues if problems remain if I missed them.
",,
41,issue_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:42:14,"@GaelVaroquaux it should not fail if provided with images with different size isn't it ? `n_voxels` is based on `mask_img` size
",,
42,issue_comment,693,nilearn,nilearn,lesteve,2015-12-04 10:09:03,"Hmmm it looks like this needs a rebase on master. Maybe you'll get a few URL fixes by @mrahim for free.
",,
43,issue_comment,693,nilearn,nilearn,arthurmensch,2015-12-04 10:37:14,"A rebase never comes for free ;)
",,
44,issue_comment,693,nilearn,nilearn,bthirion,2015-12-08 14:50:59,"Congrats !
",,
45,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 08:25:56,"memory_level=5, verbose=2, random_state=0 makes it a bit frightening to users. I think that @GaelVaroquaux already raised this issue. Couldn't we rely on defaults ? If not, this couls mean that the defaults are not well chosen... 
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
46,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 08:31:20,"The example is broken here on my box: the masker is not happy with the provided input.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
47,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-17 08:58:13,"You changed n_init default from 10 to 1, is that on purpose ?

Not sure why you reordered the parameters, but that make things like this a lot more likely to pass through the cracks ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
48,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 09:03:48,"I reordered the parameters so that they are consistent with MultiNiftiMasker parameters (an instance of MultiNiftiMasker being created)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
49,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:53:05,"You can add `""Expected type: *NiftiMasker but got type %s"" % type(masker)`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
50,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:53:43,"None would be more meaningful
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
51,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:05:45,"...the mask is calculated.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
52,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:06:34,"To do in this PR ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
53,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:08:23,"Could you reorder the parameters in the docstring for readability ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
54,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:18:30,"Explain that this is typically applied prior to ICA of fMRI data.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
55,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 12:25:07,"This relates to #630. As scoring functions are useful for all decomposition estimators, the idea to derive them from a base DecompositionEstimator definitely makes sense.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
56,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 13:56:41,"Sorted
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
57,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 14:33:03,"We have to put memory_level=2 to have good performance (reuse masking from initialization in dictionary learning). I could make it the default
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
58,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 14:33:21,"Just did
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
59,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:41:20,"> We have to put memory_level=2 to have good performance (reuse masking
> from initialization in dictionary learning). I could make it the
> default

memory_level=1 should always be the default. Maybe we need to change our
'func_memory_level' in a few places.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
60,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 15:00:33,"You say 10 and later you fetch 20.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
61,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:33:36,"Line looks very long. Should be at most 79 characters.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
62,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:34:05,"Same comment as about, about very long lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
63,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:34:16,"Again.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
64,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:35:14,"Long lines ... You need to integrate pyflakes et al. into your editor.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
65,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:46:04,"Prefer assert_equal, assert_false, assert_true over raw assert.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_base.py')"
66,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:46:46,"Same remark about assert as above.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
67,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:47:53,"What does the method return ? Document it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
68,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:50:17,"The comment is not useful. At least not for the line you've applied it to.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
69,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:51:17,"Consistently end each docstring entry with a fullstop ""."".
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
70,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:52:11,"Remove space before ""Prepare"".
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
71,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:52:58,"Missing fullstop. See related comment below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
72,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:56:32,"How is this the user's fault ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
73,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:57:18,"Can't you just concatenate the pcas in a one-liner ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
74,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:58:27,"Missing document for y and confounds.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
75,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-18 16:58:48,"> > -            self.components_ = np.empty((len(imgs) \* self.n_components,
> 
> Can't you just concatenate the pcas in a one-liner ?

This is actually faster. I believe that it is because numpy has a
sub-optimal memory allocation strategy in the simple concatenation
strategy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
76,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 17:05:47,"This line is dangerous. It produces a _generator_ of len(imgs_list) Nones. Generators are consumed without replacement, and you don't want this. Just do a one-liner like `confounds = [None] * len(imgs_list)` or something similar. Also you definitely don't need itertools here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
77,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 17:08:32,"OK.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
78,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:15:30,"Really?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
79,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:18:38,"I said something related in an earlier version of this code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
80,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:23:26,"What do you mean by sorting? PCA-ish, According to explained variance?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
81,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:34:28,"As discussed earlier with Michael, there is some controvery how to call these things. Many appear to say ""component weights"" for the actual maps in our case and ""loadings"" for the coefficients of the linear combination of these maps.

Means: here better `loadings`or something like that
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
82,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:37:23,"Use provided loadings to compute corresponding linear component combination in whole-brain voxel space
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
83,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:41:02,"loose underscore in filename?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
84,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-19 23:16:17,"Your comment is not very helpful.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
85,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-19 23:26:29,"This is not the most elegant code but if you really need that, you should probably call `check_niimg(imgs, ensure_ndim=4, atleast_4d=True)`.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
86,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 09:07:22,"I don't think this is a good idea if we do not want to support `PCAMultiNiftiMasker`, which is really an internal tool.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
87,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 11:31:14,"I ll leav it here as this is the same code as in MultiNiftiMasker. Either we change everything or we keep to this (this is not dangerous as we know that we use it only once).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
88,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-21 17:09:24,"You are not using the `mem` object it looks like. You can also remove the Memory import at the beginning.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
89,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-21 17:15:41,"Doesn't seem to be used in `__init__`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
90,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-21 15:45:42,"The master version fails with floats...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/input_data/masker_validation.py')"
91,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:32:21,"Why don't you take `n_components` from `data[0].shape[0]`?

Note: I think we use this kind of code pattern several time in nilearn. It shouldn't be too much work to add an `axis` parameter and use it elsewhere. If you don't plan to do it, we'll add an issue about that after merging your PR.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
92,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:32:39,"Having the index of the image is usually useful in that context.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
93,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:01,"This should not be removed...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
94,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:11,"Same here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
95,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:26,"Revert here too.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
96,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:34:40,"Warning: this is not safe, `reduction_ratio` could be something else.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
97,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:37:56,"I think it's time to make a `_get_niimg_shape` function that does not load the data to get the shape.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
98,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:39:46,"This has to be discussed. We should, at minimum, allow overriding of this heuristic using an environment variable.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
99,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:40:46,"You have no guarantee that the directory will be writeable. Please use `tempfile`.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
100,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:42:56,"transform method can cache the masking cleanly, is there any reason to do it by hand here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
101,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-24 08:46:27,"Is the plan to add fetch_hcp_rest to nilearn.datasets? Maybe you didn't mean to git add this example.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state_shuffle.py')"
102,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-24 08:48:06,"You don't seem to be using fast_same_size_concatenation anywhere.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
103,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:50:26,"I think that you meant to remove this function along with PCAMultiNiftiMasker. Could you do it so we don't review unused code?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
104,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:34:45,"You say 20 but there are 40.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
105,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:35:21,"Did you want to compare to CanICA?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
106,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:38:41,"I think that `memsize` is a more common naming.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
107,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:38:54,"You are say ""example apply"" twice in the same line
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
108,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:41:05,"Again, write access is not guaranteed here. Is there any reason to save the file here instead of the system temporary folder?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
109,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:42:15,"Seems like debug code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
110,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:44:20,"God bless you!
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
111,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:46:07,"Please raise warning when you override user-defined values.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
112,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:49:03,"We exposer the masker because it ca be used by the user to `inverse_transform` components. Why do make it private?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
113,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-27 12:50:13,"I tend to strongly prefer parentheses over backslashes for multi-line stuff
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
114,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:51:53,"I know we have not done this in the other examples, but why not have one argument to `DictLearning` per line and comment right to it briefly what it roughly means?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
115,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:52:59,"I guess `canica` is not in hear for debugging purposes...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
116,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:56:15,"For a user who does not already know the `NiftiMasker`family, it might be difficult to understand this line. Isn't there a way to expand this into multiple steps for didactic reasons?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
117,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:58:48,"What is the `type`for? - Does it not work without it?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
118,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:03:03,"This line appears ciritical to understand how the visu works, perhaps add an additional comment.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
119,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:05:37,"Yes that was the idea ! Caching it means that it takes very little extra time, as it would be computed anyway in DictLearning
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
120,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:06:17,"`PCA`appears out of date now.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
121,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:06:33,"Ah, true. It can be possibly very large, that's why I wanted to put it in some kind of data folder
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
122,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:07:23,"Doc error, sorry
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
123,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:13:14,"that DO not
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
124,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:22:08,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
125,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:26:39,"Are you sure the `int()` is necessary here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
126,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:28:55,"within
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
127,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:31:40,"perhaps mention somewhere that SVD or RandomizedSVD is used depending on sample/subject ratio...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
128,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:33:33,"""output"" instead of ""data""?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
129,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:00:48,"""signal"" -> ""loading"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
130,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:03:22,"Apparently, it is said nowhere where what the ""score"" corresponds to mathematically? 
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
131,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:06:09,"loose , here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
132,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:12:49,"Explanation could be clearer here. ""Upper limit on...""?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
133,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:19:21,"could still be clearer...the difference between ""in memory"" and memmap file ""on disk"" could be more explicit. As well as what the decision rule is exactly.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
134,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-08-31 07:57:22,"This probably needs to go to some other places e.g. _utils
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
135,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-09-10 12:07:09,"You need that to introspect class name
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
136,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-10-05 14:30:07,"Why the parentheses around the reference ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/dictionary_learning.rst')"
137,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-10-05 14:38:20,"Did mean to write something like this instead?

``` python
try:
    WindowsError
except AttributeError:
    WindowsError = None
```
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/file_io.py')"
138,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:10:06,"PEP8: 2 empty lines
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
139,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:12:22,"@AlexandreAbraham : can we avoid this code thanks to our checkers? I don't like the idea of having it spread in the codebase.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
140,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:22:49,"name: BaseDecomposition
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
141,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:23:25,"I suggest that we don't support persistence to memmap and use a function instead of this object.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
142,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:24:15,"I think that I would prefer 'session' to 'record'.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
143,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:24:36,"No there is not. But it can be done using a one-liner though.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
144,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:25:59,"My username is not arthur so I may have some problems :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
145,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:26:06,"This function cannot be named 'score', because is the scikit-learn API, score returns only one number.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
146,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:26:17,"PEP8: two empty lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
147,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:29:30,"If we remove support for out of core via the memmap, batches are no longer critical here, and we use dict_learning_online with return_code=True.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
148,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:34:27,"Please use masking._load_mask_img
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
149,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:13:50,"necessary? Why not just one variable instead?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
150,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:17:29,"perhaps add comment, why ""6"" as an example
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
151,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:22:09,"Just checking: does this work on Windows machines?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
152,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:27:11,"I know I already said that: but some broad indicators of the conceptual difference between sparse PCA and dictionary learning would be helpful, along the lines of ""Informally, think of sparse PCA (parsimony in voxels) as the transpose of dictionary learning (parsimony in components).""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
153,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:28:04,"too unspecific. What's the difference to PCA, sparse PCA and ICA?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
154,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:34:15,"point-not-point-at-end is inconsistent
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
155,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:40:52,"This explanation does not help much in understanding what this argument actually does.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
156,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:55:44,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
157,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:07:53,"kind of tautological with the score() function of the base class in terms of the explanation #descriminability
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
158,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:15:51,"a) why?
b) Are we sure that we have at least 10 maps?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
159,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:17:59,"""...(as opposed to voxel sparsity)""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
160,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-10-28 14:19:33,"compoent sparsity = voxel sparsity
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
161,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:20:17,"Isn't it more intuitive not to manipulate the data by default?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
162,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:24:02,"Is this pythonic? Is time_[1] ever used?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
163,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:24:42,"typo?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
164,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:33:58,"As far as I understand it, sparse PCA typcially imposes an L1 penalty term on the single voxels, whereas sparse dictionary learning typically imposes an L1 penalty term on the coefficients of the entire components of the dictionary, rather than the voxels of the space that is explained by the components.

Exactly for these aspect, I feel, that the distinction between DictLearning and SparsePCA should be explicit in both examples and nilearn base code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
165,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-10-28 14:45:14,"See below ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
166,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:53:51,"Missing end of the sentence.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
167,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:53:54,"Missing dot at the end.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
168,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:54:32,"Typo: M**ap**s ... lea**r**ning
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
169,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:55:34,"cur -> cut
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/compare_resting_state_decomposition.py')"
170,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:56:15,"Do you need the atexit?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
171,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 10:06:51,"why not put subject_n_samples in the zip in order to avoid the enumerate?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
172,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-04 14:34:55,"Is this been added or I have missed it ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
173,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-05 12:12:13,"Good catch, dictionary_learning.rst hasn't been git added.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
174,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:11:10,"""DictLearning is a ready-to-use class just like CanICA"" should be sufficient I guess.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
175,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:11:53,"It would be nice to make an indentity to parameter ""alpha"". It is mixed in the sentence.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
176,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:12:11,"fullstop ).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
177,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:14:24,"I would write ""Group comparisons of Dictionary Learning and Canonical ICA analysis on resting-state fMRI""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
178,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:18:06,"By default it fetches 40 subjects.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
179,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:24:57,"""Dumping"" to ""Saving"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
180,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:32:13,"For nicer look \* Gael Varoquaux et al. ""Multi-subject dictionary learning to segment an atlas of brain spontaneous activity"", Information Processing in Medical Imaging, 2011, pp. 562-573, Lecture Notes in Computer Science.

""Available on hal""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
181,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:33:26,"""utilities""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
182,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:34:54,"May be ""provided data"" to ""input data"" .
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
183,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:36:19,"""provided masker"" to ""given masker""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
184,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:38:05,"I don't think ""using a PCA"" is required because anyway you are describing below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
185,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:41:16,"""utilities for masking and dimensionality reduction of data"". If you agree.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
186,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:42:30,"For multiple ""images""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
187,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:50:19,"May be ""An instance used to mask the input data"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
188,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:51:11,"subject to ""subjects""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
189,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:53:24,"or 2D matrix ""in an array""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
190,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:54:50,"It would be nice I guess if you say what is default and what is optional. Just for the sake of clarity.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(23, '', u'nilearn/decomposition/base.py')"
191,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:55:55,"Between 0. ""and"" 1.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
192,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:56:20,"Forget if I am mistaken.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
193,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:57:41,"please fullstop :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
194,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 21:00:12,"""Returns""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
195,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 21:02:28,"For consistency either ""int"" or ""integer""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
196,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:46:10,"Sparsity is controlled by a parameter for sparse maps. ;-)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
197,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:51:05,"grammar (second sentence)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
198,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:53:59,"style: leave out ""doing""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
199,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:55:34,"""4D plotting""? Perhaps not exactly intuitive...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
200,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:04:35,"content already in the line above and does not go well with the few lines below
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
201,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:21:00,"Wether ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
202,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:23:08,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
203,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:40:41,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
204,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:43:19,"Should not extend, rather than amount, indicate whether we flip signes?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
205,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:54:01,"Bach & Co usually like to distinguish ""fixed"" and non-""fixed"" dictionaries in DL appraoches.
Besides a reminder to be explicit about wether the map coeffients/loadings (typical sparse DL) or weights (closer to SparsePCA) are what will be sparse.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
206,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:59:07,"""initial estimation""?...perhaps more ""Custom initilization of map parameters...""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
207,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:01:20,"...or even extend+amount
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
208,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:04:01,"comment on these three lines
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(183, '', u'nilearn/decomposition/dict_learning.py')"
209,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:06:40,"unit-variance scaling?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
210,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:18:21,"More precisely, one could mention, it's an initialization of only V or for V+U
(http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.dict_learning_online.html).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
211,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:11:16,"Do you actually need to save components to file?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
212,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:11:42,"~~It should be plotting.show() to avoid the matplotlib import~~. **Edit**: actually you are using plt in plenty of other places so that's fine.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
213,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-01 12:14:18,"> Do you actually need to save components to file?

I think that it is useful because users will most likely want to do that,
and that way, when they copy-paste from the example they don't have to
look for how to do it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
214,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:14:47,"Personally in favor of Python types, i.e. int.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
215,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:15:16,"else clause not needed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
216,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:15:35,"else clause not needed
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
217,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:16:03,"""0. and 1.""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
218,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:17:56," 'int' is platform-dependent, I would use an explicit dtype i.e. 'int64'
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
219,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:21:33,"There has to be a better way of doing this with numpy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
220,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:22:42,"Use -----
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
221,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:23:24,"Short description should fit on one line. Move second sentence below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
222,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:24:39,"{'background', 'epi'} is the way of indicating choices
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
223,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:25:27,"str rather than string (maybe just my own preference for Python types here)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
224,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:26:00,"---- rather than ====
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
225,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:35:06,"Actually this attribute doesn't seem to be used anywhere, has it changed its name somehow?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
226,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:35:36,"Same comment as above `_pca_masker_` doesn't seem to be used anywhere in the code, maybe the name has changed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
227,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:46:00,"Newline needed here, see [PEP 0257](https://www.python.org/dev/peps/pep-0257/#id17). ""Multi-line docstrings consist of a summary line just like a one-line docstring, followed by a blank line, followed by a more elaborate description""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
228,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:40:04,"What do you mean ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
229,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-12-02 09:42:34,"something like this to indicate that it is a parameter 'alpha' ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
230,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:44:07,"It's V only, but I don't think we should talk about it in the documentation, nilearn users do not need to know that.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
231,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:44:52,"We're using extend there !
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
232,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:55:45,"To be addressed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
233,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:56:27,"To be addressed
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
234,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:57:29,"Not sure of that
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
235,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:57:50,"+1 on that suggestion.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
236,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:59:06,"This file should be called 'plot_compare...' to be run by sphinx-gallery to generate a plot.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
237,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:00:11,"Could you rebase on master, and then use the new style of division (for notebook-style sphinx gallery):

<pre>
#######################################################################
# Load ADHD rest dataset
</pre>

throughout the example.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
238,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:01:14,"We no longer need to import matplotlib, as we can use show from nilearn.plotting.show (it simplifies the example).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
239,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:02:09,"I'd rather use multiple figures than multiple axes. It makes the code more complicated, and we are trying to phase out support for this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
240,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:16:05,"I think that we should move this affection below, as it is not used before the for loop (useful for readability and memory usage).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
241,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:16:33,"Me neither :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
242,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:17:03,"State that they can be 3D or 4D.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
243,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:17:52,"I would state in the first line that this function is efficient on multiple blocks of data.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
244,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:19:39,"Is this argument still valid?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
245,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:20:24,"It seems to me that you can search for all the occurences of in_memory and remove them.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
246,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:35:03,"You cannot pass the 2D list (or array) to the inverse_transform of nifti_maps_masker?

What I don't like about this code is that it is going to be returning a list of 3D imgs. For consistency, it seems that we would like a 4D image.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(388, '', u'nilearn/decomposition/base.py')"
247,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:37:27,"Why did you reorder the arguments to CanICA? It's potentially a backward incompatible change, and I don't think that we want it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
248,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:43:30,"Can you do a short one-line docstring here.

The reason being that it helps coders (not end users) understand the purpose of the function.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
249,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:47:24,"+1
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
250,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:48:06,"I think that the formatting is broken here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
251,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:53:16,"@arthurmensch  has validated this choice empirically, and it works well.

@arthurmensch : could you add a comment in the code saying exactly this, so that we avoid people changing it in the future.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
252,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:54:45,"Reordering arguments :). I am not sure that it is a good thing.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
253,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:55:41,"What does the 2 mean here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
254,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 11:54:48,"I think that we should remove these lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_base.py')"
255,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 12:02:16,"We tend to run tests using nose from the command line. Thus I think that we should remove this line.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_canica.py')"
256,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 12:27:48,"IMHO it is better : we put all estimator related argument first, then masker related argument, then system related argument
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
257,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 12:44:35,"Loadings is a list of loadings related to subjetcs. I'll write an issue
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(388, '', u'nilearn/decomposition/base.py')"
258,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:37:17,"1) typo
2) ""Sparsity here refers to parsimony in ....""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
259,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:38:00,"intended?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
260,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:39:16,"I would expect that HAL is perhaps not known to everybody.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
261,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 13:43:46,"While you are at it, touching this file, this line is way too long ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
262,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:45:51,"It is not helpful to explain something with the same something.

""""select pertinent slice section for display""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
263,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:50:02,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
264,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 13:51:34,"Just a side-comment, although it might not really matter in this particular case, changing the order of the arguments might break people code if they pass arguments by position rather than by name.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
265,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:51:50,"sorry, but kinda far from being clear what this does, when not considering the code
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
266,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:55:09,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
267,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 14:14:14,"what about:

``` python
current_pos = 0
for data in data_list:
    len_data = len(data)
    data[current_pos:current_pos+len_data] = data
    current_pos += len_data
```

At the end of the day, isn't this thing just a concatenation?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
268,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:14:51,"""initial estimation"" still does not make sense; one could also use an anatomically motivated map which would then not be ""estimated""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
269,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:15:07,"The notion of compression remains elusive
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
270,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:15:30,"empty line
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
271,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:24:44,"Identation is wrong above (by one whitespace).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
272,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:27:12,"Typo: activitym (last word).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
273,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:29:22,"You should move this comment one line below
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
274,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:30:32,"This reference is wrong. You can grab the right reference from the build of sphinx-gallery, once it is finished.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
275,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:30:55,"Indentation is wrong in the two lines above.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
276,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:31:53,"Here use "":class:'DictLearning'""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
277,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:32:30,"You should remove this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
278,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:32:51,"Wrong indentation.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
279,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:33:07,"Still wrong.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
280,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:34:33,"You need to clean this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
281,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:37:16,"You should fix the indentation: this is not valid rst.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
282,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:45:41,"It seems that you changed the default smoothing from None to 6.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
283,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:14:43,"two comment sharpes?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
284,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:17:16,"I thought, brackets are cleaner or even more pythonic in this setting?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
285,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:18:13,"...and add a short comment for why and what of these two indices.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
286,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:18:40,"Perhaps even expand line 77, which might be a little overloaded for beginners.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
287,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:21:38,"People might wonder, why ""PCA"" if `mask_and_reduce` is a general purpose function?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
288,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:33:53,"Suggestion for higher specificity: ""for MATRIX decomposition""

Also ""estimatorS""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
289,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:39:05,"a) Perhaps introduce a helper function `isemptylist()` that performs both type-checking and test the length
b) perhaps profit from implicit booleaness of list -> `not imgs`?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
290,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:43:55,"I think this function name may contain a grammatical error -> do you mean ""sort by score"", that is, as a fucntion of each components' score/explained variance?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
291,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:47:18,"Do we have a test for both these two code branches?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(453, '', u'nilearn/decomposition/base.py')"
292,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:52:57,"just day `performs dimensionality reduction by subsampling in the temporal domain`. What is written here is a little fuzzy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
293,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:53:55,"One could also make expilcit the way the smaller subset of time point is chosen?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
294,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:03:20,"For me, this is clear. However, I am a bit puzzled by the word ""ratio"". In data compression, the compression ratio is usually computed using the formula `uncompressed data size / compressed data size`, thus a ratio inferior to 1 seems a bit odd. But maybe it's just me.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
295,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:04:57,"This is definitely not a good idea. You will waste a lot of memory here if you load everything instead of iterating over it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
296,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:09:58,"> This is definitely not a good idea. You will waste a lot of memory here if you
> load everything instead of iterating over it.

My PR to this branch solves this problem, to the cost of doing things a
bit more manually. However, I think that we should accept this cost, in
order to merge this PR for the release. We should later  inspect our
loading / checking code to see what is the best way to do this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
297,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:16:39,"It's as simple as removing `list` here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
298,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:25:25,"> > -    imgs = list(_iter_check_niimg(imgs, atleast_4d='True', memory=memory,
> > -                             memory_level=memory_level))
> 
> It's as simple as removing list here.

No, that wasn't enough to limit the memory explosion, it just delayed it.

I suspect that images spanned by the iterator were not properly garbage
collected. But it does require investigation.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
299,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:25:57,"No beacuse we iterate twice. I was stupid to add this list() though. Reviewing Gaël PR now
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
300,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:52:31,"Seems more natural to me...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
301,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:54:11,"Yes
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(453, '', u'nilearn/decomposition/base.py')"
302,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:07:34,"You probably don't want to change this link.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
303,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:07:42,"This one either.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
304,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:08:20,"This reference should probably stay the same.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
305,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:11:23,"In order to be compatible with the changes that have been going on in sphinx-gallery, you should probably a pattern something like this here:

../auto_examples/connectivity/images/sphx_glr_plot_canica_resting_state_003.png

Same thing for the png below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
306,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:27:17,"This link is wrong, it should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
307,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:27:34,"http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
308,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:28:01,"wrong link, should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
309,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:28:09,"wrong link, should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
310,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-04 08:39:05,"49 occurence in the whole codebase. I'll do a pull request to change this once this one is merged
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
311,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 10:03:05,"> 49 occurence in the whole codebase

Nope, all occurences have been fixed by @mrahim recently in master. Just fix yours please!
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
312,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 12:37:20,"Genuine error in CircleCI, it looks like you need a space after the :

Try to run the doc generation with make html-strict and you'll be able to reproduce the error and possibly find other problems.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(114, '', u'doc/connectivity/resting_state_networks.rst')"
313,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 14:09:58,"You probably shouldn't change this link
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(75, '', u'doc/connectivity/resting_state_networks.rst')"
314,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 14:10:03,"and this link either
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(80, '', u'doc/connectivity/resting_state_networks.rst')"
315,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-09-09 13:18:30,Added l1 code based dictionary learning,1a9e8de6d6a3c3663f50a3851c187282b7cc6633,
316,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-12-02 09:30:28,Addressed comments,7af3a07a9fe836f3dc7350732dd71cb214853533,
317,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-12-04 10:41:26,Comments,8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:36:04,"Fix #628.

This PR modifies CSV loading for confounds.
If `np.genfromtxt` fails, we try to guess the delimiter in the file (most of the time, a comma).
",start issue,[MRG+1] Makes loading of CSV files more robust
2,issue_closed,703,nilearn,nilearn,lesteve,2015-07-21 06:30:27,,closed issue,[MRG+1] Makes loading of CSV files more robust
3,pull_request_title,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:36:04,"Fix #628.

This PR modifies CSV loading for confounds.
If `np.genfromtxt` fails, we try to guess the delimiter in the file (most of the time, a comma).
",e677bc34f339b343c11cb16bb23a76c4b33df30a,[MRG+1] Makes loading of CSV files more robust
4,pull_request_merged,703,nilearn,nilearn,lesteve,2015-07-21 06:30:27,[MRG+1] Makes loading of CSV files more robust,4a5f7c38384d53f8eef582a2d0b7087de210ff5b,Pull request merge from AlexandreAbraham/nilearn:csv_reader to nilearn/nilearn:master
5,issue_comment,703,nilearn,nilearn,landscape-bot,2015-07-18 00:03:42,"[![Code Health](https://landscape.io/badge/209554/landscape.svg?style=flat)](https://landscape.io/diff/198187)
Code quality remained the same when pulling **[99393dc](https://github.com/AlexandreAbraham/nilearn/commit/99393dc51a7ea645c8bcf654d86f53137c9fad3c) on AlexandreAbraham:csv_reader** into **[1964c45](https://github.com/nilearn/nilearn/commit/1964c454c68cef07fbe8bd54f353ee52c21ab3b7) on nilearn:master**.
",,
6,issue_comment,703,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:30:31,"This is very cool. +1 for merge.
",,
7,issue_comment,703,nilearn,nilearn,lesteve,2015-07-21 06:30:19,"Merging, as promised, thanks.
",,
8,pull_request_commit_comment,703,nilearn,nilearn,bthirion,2015-07-17 18:06:36,"dosctrings please ?
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
9,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-18 18:57:25,"Any reason why we don't do the usual thing with reraising the original exception, i.e. something like:

``` python
e.args += ('Could not read CSV file ""{0}""'.format(csv_path), )
raise
```
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(51, '', u'nilearn/_utils/numpy_conversions.py')"
10,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 16:20:41,"The csv sniffer returns a csv.Error. I thought it would be more consistent to always return a TypeError when there is an error loading a CSV file. Otherwise doing a `try ... except` around this function could be cumbersome.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(51, '', u'nilearn/_utils/numpy_conversions.py')"
11,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 21:55:37,"say that each character relates to one of the possible dilimiters...other wise the ""syntax"" of the delimiter argument might remain obscure to some. Especially when wondering whether '\t' counts as one or not...
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
12,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 21:56:48,"structured exception handling?
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(41, '', u'nilearn/_utils/numpy_conversions.py')"
13,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 21:59:46,"No way....they have a `Sniffer` class?
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(48, '', u'nilearn/_utils/numpy_conversions.py')"
14,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:01:10,"You might want to add all delimiters that are in the default parameter.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
15,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:03:00,"`òs.remove()`might be more explicit and is identical to `os.unlink`
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
16,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:03:33,"not ""close"", but equal!
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
17,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:04:02,"free line
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
18,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:04:07,"free line
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
19,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:14:12,"Tried to fix it.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
20,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:14:21,"Fixed.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
21,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:14:27,"Fixed.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
22,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-19 22:19:46,"You are fast, Sir.

2015-07-20 0:14 GMT+02:00 Alexandre Abraham notifications@github.com:

> In nilearn/_utils/numpy_conversions.py
> https://github.com/nilearn/nilearn/pull/703#discussion_r34962871:
> 
> > @@ -124,3 +126,46 @@ def as_ndarray(arr, copy=False, dtype=None, order='K'):
> >          raise ValueError(""Type not handled: %s"" % arr.**class**)
> > 
> > ```
> >  return ret
> > ```
> > 
> > +
> > +
> > +def csv_to_array(csv_path, delimiters=' \t,;', **kwargs):
> > -    """"""Read a CSV file by trying to guess its delimiter
> >   +
> > -    Parameters
> > -    ----------
> >   +
> 
> Fixed.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/703/files#r34962871.

## 

Viele Grüße,
Danilo
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
23,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:33:13,"I didn't get your question.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(41, '', u'nilearn/_utils/numpy_conversions.py')"
24,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:33:59,"The behavior is the same, no matter what the delimiter is. I don't think that it matters a lot to test several classifiers.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
25,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:34:17,"Not equal, but close since they're floats ;).
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
26,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:34:37,"Fixed. Unix user reflex!
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
27,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 06:56:49,"BTW just curious, why delete=False and os.remove at the end ? I would have thought that the temporary file would be deleted just fine at the exit of the context generator.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
28,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 06:59:07,"Ah I guess this is because you close the file in the middle of the block, fine.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
29,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-20 07:02:46,"Would it not make sense to extend the SEH frame (except, etc.) to `np.genfromtxt()`?
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(41, '', u'nilearn/_utils/numpy_conversions.py')"
30,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 07:02:52,"Should you really use `**kwargs` rather than `kwargs` here ?
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
31,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 07:09:00,"OK fair enough, you kind of destroy the traceback information though.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(51, '', u'nilearn/_utils/numpy_conversions.py')"
32,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 07:10:59,"I don't think so. I've never seen genfromtxt failing: it only outputs NaNs. But I'm open to suggestions if you see an error to catch.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(41, '', u'nilearn/_utils/numpy_conversions.py')"
33,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 07:11:23,"No. I'll fix that.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
34,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-20 07:11:29,"TypeError + consistency with that appears to make sense for the user. `confounds` is some type of a ""side"" argument in a function call with a different ""main"" purpose, which might make it even more important to have clear and consistent error message.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(51, '', u'nilearn/_utils/numpy_conversions.py')"
35,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-20 07:12:14,"no but yes
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
36,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 07:12:59,"I know... I'm totally opened to discussion on this point : I've done what seems best to me but I can be wrong.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(51, '', u'nilearn/_utils/numpy_conversions.py')"
37,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 07:14:10,"Yes. For some reason, it doesn't work if I don't close the file, I don't know why :-/
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
38,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-20 07:14:55,"csv might manage file handles somewhat differently?

2015-07-20 9:14 GMT+02:00 Alexandre Abraham notifications@github.com:

> In nilearn/tests/test_numpy_conversions.py
> https://github.com/nilearn/nilearn/pull/703#discussion_r34971820:
> 
> > @@ -230,3 +231,15 @@ def test_as_ndarray():
> >      ## Unhandled cases
> >      assert_raises(ValueError, as_ndarray, ""test string"")
> >      assert_raises(ValueError, as_ndarray, [], order=""invalid"")
> > +
> > +
> > +def test_csv_to_array():
> > -    # Create a phony CSV file
> > -    with tempfile.NamedTemporaryFile(suffix='.csv', delete=False,
> > -                                     mode='wt') as csv_file:
> > -        csv_file.write('1.,2.,3.,4.,5.\n')
> 
> Yes. For some reason, it doesn't work if I don't close the file, I don't
> know why :-/
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/703/files#r34971820.

## 

Viele Grüße,
Danilo
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
39,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 08:43:34,"> Yes. For some reason, it doesn't work if I don't close the file, I don't know why :-/

Flushing the file ? csv_file.flush() seems to do it for me and you don't need the delete=False.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
40,pull_request_commit_comment,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:44:58,"Cool. I tried it but for some reason it didn't work.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
41,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 08:45:13,"PEP8, vertical misalignment.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/tests/test_numpy_conversions.py')"
42,pull_request_commit_comment,703,nilearn,nilearn,banilo,2015-07-20 14:29:01,"Ok, sounds good as it is.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(41, '', u'nilearn/_utils/numpy_conversions.py')"
43,pull_request_commit_comment,703,nilearn,nilearn,lesteve,2015-07-20 14:37:55,"Fix this and I'll merge it.
",e677bc34f339b343c11cb16bb23a76c4b33df30a,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
44,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:20:17,Add generic csv reader,c3bbd6b18bf70f735661d6ae5af25b6e20106baa,
45,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:30:16,More clever strategy to load CSV,63d3f85f7890b62bda428455176ef24062c90128,
46,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:09:01,Fix bug,cf23ac3d533dedf8a2d4029f0b803f89a27d3ace,
47,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:49:50,Clean env after test,814855545230e1150fa4721b1ff3bac2983775c2,
48,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-17 23:37:10,"Add doc, fix test",56c411e80bcdd3fcf496a96d21de47b9d5bd769f,
49,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-18 00:00:33,Fix python3 compat,99393dc51a7ea645c8bcf654d86f53137c9fad3c,
50,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-19 22:21:59,Address @banilo's comments round 1,dafa06a1b78ead1b01aeedfbcae6d163e2e466c2,
51,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:46:28,Simplifu test code,11f16c924965f9874d498d65505cab2af01fe7ad,
52,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:47:22,PEP8,1ed0353be50d665729d603757ff7f9fffd12d279,
53,pull_request_commit,703,nilearn,nilearn,AlexandreAbraham,2015-07-20 14:40:12,Fix docstring,e677bc34f339b343c11cb16bb23a76c4b33df30a,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,618,nilearn,nilearn,orchid666,2015-06-26 20:25:11,"Basically when i launch ipython and tries to import nilearn i get this:
ImportError: No module named nilearn

Note that i can import nipy, nibabel and sklearn.
Note also that i have this issue on my lab computer with several users (I have admin privileges) but i dont have this issue on my personal computer on which im the only user (Also on MacOS)

Any ideas?
",start issue,Cannot import nilearn on Macos yosemite
2,issue_closed,618,nilearn,nilearn,orchid666,2015-06-26 21:09:22,,closed issue,Cannot import nilearn on Macos yosemite
3,issue_comment,618,nilearn,nilearn,eickenberg,2015-06-26 20:33:42,"by which method did you install it?

On Friday, June 26, 2015, orchid666 notifications@github.com wrote:

> Basically when i launch ipython and tries to import nilearn i get this:
> ImportError: No module named nilearn
> 
> Note that i can import nipy, nibabel and sklearn.
> Note also that i have this issue on my lab computer with several users (I
> have admin privileges) but i dont have this issue on my personal computer
> on which im the only user (Also on MacOS)
> 
> Any ideas?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/618.
",,
4,issue_comment,618,nilearn,nilearn,orchid666,2015-06-26 20:35:33,"I used 
sudo pip install -U --user nilearn

install went well as far as i can tell.
",,
5,issue_comment,618,nilearn,nilearn,AlexandreAbraham,2015-06-26 21:06:11,"`sudo` and `--user` should not be used together: it installs nilearn for root only.
",,
6,issue_comment,618,nilearn,nilearn,orchid666,2015-06-26 21:09:22,"You were right, that was the issue,
i uninstalled nilearn (sudo pip uninstall nilearn) then reinstalled it (sudo pip install nilearn).
It's working now.
Thanks a lot!
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:53:55,"Fix #641
",start issue,Fix documentation in NiftiMapsMasker.
2,issue_closed,683,nilearn,nilearn,lesteve,2015-07-17 05:12:57,,closed issue,Fix documentation in NiftiMapsMasker.
3,pull_request_title,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:53:55,"Fix #641
",ce01ac61e6af5899ffc4a0f301baefaaffe64a8d,Fix documentation in NiftiMapsMasker.
4,pull_request_merged,683,nilearn,nilearn,lesteve,2015-07-17 05:12:57,Fix documentation in NiftiMapsMasker.,af83c9104163e538ee6ca5d60faa34e94a7144bb,Pull request merge from AlexandreAbraham/nilearn:fix_641 to nilearn/nilearn:master
5,issue_comment,683,nilearn,nilearn,GaelVaroquaux,2015-07-16 09:23:13,"> Orthographical, semantic and grammatical errors in only one sentence, impressive! :-P

Stop being a jerk
",,
6,issue_comment,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:54:06,"@banilo please!
",,
7,issue_comment,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 09:23:51,"> Stop being a jerk

Stop being jerkaaaaaayyyy :P
",,
8,issue_comment,683,nilearn,nilearn,banilo,2015-07-16 09:22:14,"Orthographical, semantic and grammatical errors in only one sentence, impressive! :-P
",,
9,pull_request_commit_comment,683,nilearn,nilearn,lesteve,2015-07-16 10:14:12,"sorry what?
",ce01ac61e6af5899ffc4a0f301baefaaffe64a8d,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
10,pull_request_commit_comment,683,nilearn,nilearn,lesteve,2015-07-16 10:14:40,"Should you not say 4D Niimg-like object?
",ce01ac61e6af5899ffc4a0f301baefaaffe64a8d,"(None, '', u'nilearn/input_data/nifti_maps_masker.py')"
11,pull_request_commit,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:51:26,Fix #641,5ad5727a3221fe7384a61564b92ccb12c39de2ec,
12,pull_request_commit,683,nilearn,nilearn,AlexandreAbraham,2015-07-16 11:52:41,Modifay fuzzay doc,ce01ac61e6af5899ffc4a0f301baefaaffe64a8d,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,628,nilearn,nilearn,KamalakerDadi,2015-07-02 16:17:51,"Minimal test case:

``` python
import numpy as np
from nilearn import signal


n_samples = 10
n_features = 50
data = np.random.random((n_samples, n_features))

n_confounds = 6
confounds = np.random.random((n_samples, n_confounds))

confounds_file = 'tmp.csv'
np.savetxt(confounds_file, confounds, delimiter=',')

signal.clean(data, confounds=confounds_file)
```

The problem here is that the file is given to np.genfromtxt which interpret each line as a nan and therefore thinks that the first line is a header and remove it. We should use a more clever heuristic and also maybe try to find a more flexible way to load CSV files.
",start issue,signal.clean does not accept CSV files delimited by a comma.
2,issue_closed,628,nilearn,nilearn,lesteve,2015-07-21 06:30:27,,closed issue,signal.clean does not accept CSV files delimited by a comma.
3,issue_comment,628,nilearn,nilearn,KamalakerDadi,2015-07-02 16:18:36,"Also discussed with @AlexandreAbraham 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,603,nilearn,nilearn,chrisfilo,2015-06-09 23:37:48,,start issue,NiftiMapsMasker and NiftiLabelsMasker don't have docstring for fit_transforms
2,issue_closed,603,nilearn,nilearn,AlexandreAbraham,2015-06-22 16:03:21,,closed issue,NiftiMapsMasker and NiftiLabelsMasker don't have docstring for fit_transforms
3,issue_comment,603,nilearn,nilearn,AlexandreAbraham,2015-06-22 16:03:21,"Closed in favor of #355.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 13:49:22,"Fix #584.

Basically, it uses a proper zip iterator when using _iter_check_niimg, otherwise the list of niimg is precaclulated and the number of file descriptors (or memory) could explode.

Cannot create a reliable test for that.

Ping @mrahim @banilo could you validate that (don't try on drago since the number of fd allowed on it is now tremendous).
",start issue,Use izip to iterate on _iter_check_niimg to avoid memory/fd explosion
2,issue_closed,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:37:56,,closed issue,Use izip to iterate on _iter_check_niimg to avoid memory/fd explosion
3,pull_request_title,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 13:49:22,"Fix #584.

Basically, it uses a proper zip iterator when using _iter_check_niimg, otherwise the list of niimg is precaclulated and the number of file descriptors (or memory) could explode.

Cannot create a reliable test for that.

Ping @mrahim @banilo could you validate that (don't try on drago since the number of fd allowed on it is now tremendous).
",dbfe7e6e826249a410c606b987473522d56e91be,Use izip to iterate on _iter_check_niimg to avoid memory/fd explosion
4,pull_request_merged,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:37:56,Use izip to iterate on _iter_check_niimg to avoid memory/fd explosion,ab254e1f9998e23143e9e72d6a2c1c43fef5d8e6,Pull request merge from AlexandreAbraham/nilearn:zip_iterator to nilearn/nilearn:master
5,issue_comment,614,nilearn,nilearn,mrahim,2015-06-22 14:08:25,"It works now on my desktop, thanks @AlexandreAbraham !
",,
6,issue_comment,614,nilearn,nilearn,banilo,2015-06-22 18:18:59,"Nice work! My initial crash was on drago, though :(
",,
7,issue_comment,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 19:24:00,"drago should not crash anymore, even without the patch, because the number of file handlers is huge.
",,
8,issue_comment,614,nilearn,nilearn,GaelVaroquaux,2015-07-01 00:26:37,"Good job!
",,
9,pull_request_commit,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 13:45:15,Use izip to iterate on _iter_check_niimg to avoid memory/fd explosion,8885815674b65a1b9da6597ba4ed8e4a0bffcba3,
10,pull_request_commit,614,nilearn,nilearn,AlexandreAbraham,2015-06-22 14:23:00,Fix behavior of MultiNiftiMasker.,dbfe7e6e826249a410c606b987473522d56e91be,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,662,nilearn,nilearn,mih,2015-07-14 12:02:33,,start issue,[MRG] Mention Debian package as installation option (fixes gh-660)
2,issue_closed,662,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:19:12,,closed issue,[MRG] Mention Debian package as installation option (fixes gh-660)
3,pull_request_title,662,nilearn,nilearn,mih,2015-07-14 12:02:33,,8d1c5f690cccf2ba4e568575bba701dcf662c3c7,[MRG] Mention Debian package as installation option (fixes gh-660)
4,pull_request_merged,662,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:19:12,[MRG] Mention Debian package as installation option (fixes gh-660),9c889769b6a71e6ff72b19630515439ce333091a,Pull request merge from mih/nilearn:master to nilearn/nilearn:master
5,issue_comment,662,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:19:08,"LGTM. Merging.
",,
6,pull_request_commit,662,nilearn,nilearn,mih,2015-07-14 12:00:02,Mention Debian package as installation option (fixes gh-660),8d1c5f690cccf2ba4e568575bba701dcf662c3c7,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,677,nilearn,nilearn,salma1601,2015-07-15 15:39:11,"Classification on ADHD with different measures of connectivity. Addresses most comments of PR #227, except moving functions _cov_to_corr and prec_to_partial to nilearn._utils.
I am wondering if the name 'tangent' is a good one.
",start issue,Tangent classif
2,issue_closed,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:14,,closed issue,Tangent classif
3,pull_request_title,677,nilearn,nilearn,salma1601,2015-07-15 15:39:11,"Classification on ADHD with different measures of connectivity. Addresses most comments of PR #227, except moving functions _cov_to_corr and prec_to_partial to nilearn._utils.
I am wondering if the name 'tangent' is a good one.
",e78cf53782f2dd712f6dde023591b696609ab5f6,Tangent classif
4,pull_request_merged,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:14,Tangent classif,03242ab2a381f0417441001339a6a0ebafc534ad,Pull request merge from salma1601/nilearn:tangent_classif to nilearn/nilearn:master
5,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:02:51,"I haven't had time to look at this pull request in detail, but I am very excited about the direction it is taking.

One general comment that I have is that we are going to have to work on the phrasing and terminology to be a bit less frightening to non math people. Words like 'tangent' or 'embedding' should be a bit less emphasized, for instance in names of examples or objects.
",,
6,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:26:35,"Another comment: the example (which is actually really cool) takes quite a while to run.

I think that we should restrict it to only SVM. It will make it faster, and simpler to read.
",,
7,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-16 10:31:23,"> Should we merge this one @AlexandreAbraham @GaelVaroquaux ? I don't see any
> outstanding issues and I can do the Python 3 fixes after the merge.

There is an outstanding naming issue, isn't it? With a conclusion, I
believe, but I am not sure that it has been implement.

I'd like to do a pass on this. Maybe this afternoon? I do agree that the
PR is pretty much mergeable.
",,
8,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-16 16:26:50,"One last thing (hopefully): it would be great to have a subsection about
this functionality in the reference documentation. For instance at the
end of doc/connectivity/connectome_extraction.rst in a new section, that
would link to the example.
",,
9,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:11,"Merging. Thank you!
",,
10,issue_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:49:44,"> words like 'tangent' or 'embedding' should be a bit less emphasized, for instance in names of examples or objects.

Hi @GaelVaroquaux 
what about  

``` python
from nilearn.connectivity import ConnectivityMatrix
matrix = ConnectivityMatrix(type='robust dispersion')
```

to explain that individual matrices are not covariance matrices (they can show negative or positive values on the diagonal) and also encourage users to use this matrix type if noisy data ?
",,
11,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-08-07 21:01:07,"So, the only thing blocking this PR are naming and a bunch of details?
",,
12,issue_comment,677,nilearn,nilearn,salma1601,2015-11-22 21:34:41,"Youpi :+1: 
I can bring my pastries Tuesday !
",,
13,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:18:57,"Yeah, Salma's back in the place!
",,
14,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:26:44,"Minor details. LGTM otherwise. @GaelVaroquaux any remark regarding naming?
",,
15,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 13:03:49,"Apart from very minor details, :+1:.
",,
16,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 14:15:33,"Since the PR is fully functional, I suggest that we merge it (after resolving the naming issue) and that I take care of the last details.
",,
17,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-16 08:47:51,"+1 for me!
",,
18,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-22 09:58:37,"Who's gonna bring champagne tomorrow?
",,
19,issue_comment,677,nilearn,nilearn,lesteve,2015-09-22 08:00:04,"@salma1601 if you rebase on master, the libgfortran error should go away.
",,
20,issue_comment,677,nilearn,nilearn,lesteve,2015-11-16 08:43:08,"Should we merge this one @AlexandreAbraham @GaelVaroquaux ? I don't see any outstanding issues and I can do the Python 3 fixes after the merge.
",,
21,issue_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:35:27,"@KamalakerDadi could you please take a look and give me feedback ? I also hesitated a lot on the naming, so if someone have other suggestions/comments ...
",,
22,issue_comment,677,nilearn,nilearn,salma1601,2015-11-16 11:20:40,"> There is an outstanding naming issue, isn't it? With a conclusion, I believe, but I am not sure that it has been implement.

I renamed using ""tangent"" and stopped after addressing Gaël's comments.
I didn't address Loïc's (python 3 + colormap)
",,
23,issue_comment,677,nilearn,nilearn,salma1601,2015-11-16 19:46:23,"Ok I can take care of that.
",,
24,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:18:43,"No hardcoded path in examples please.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
25,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:19:24,"Have you tried putting low_pass and high_pass filters? Also, why don't you standardize?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
26,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-16 08:19:36,"you should import joblib from sklearn.externals. There is no guarantee that users have joblib installed.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
27,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:21:30,"`memory='nilearn_cache'` and do not specify `memory_level`
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
28,pull_request_commit_comment,677,nilearn,nilearn,banilo,2015-07-16 09:29:59,"Perhaps just paste the value into a new variable, instead of accessing `scores[measure][classifier_name]`three times
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
29,pull_request_commit_comment,677,nilearn,nilearn,banilo,2015-07-16 09:33:13,"why only close? Should this not be equal?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
30,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 09:50:07,"In a perfect world, yes. In the world of computer, we have numercial instability.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
31,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:42:24,"Yes here I am !
I removed filtering and confounds regression on purpose: tangent behaves better with noisy data. Its score falls down when filtering.
I don't standardize because 
- I want to show the difference between covariance and correlation measure
- standardizing ruins tangent score
- the tangent mean has not unit diagonal even if individual time series are standardized
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
32,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:31,"why not specify memory_level ? I have an ugly warning when not
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
33,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:38,"fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
34,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:51,"fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
35,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:10:59,"My bad. I thought that when you specify the cache, memory_level=1 was
forced. Leave it then but it looks like an issue to me (nilearn issue, not
yours of course).

On Thu, Jul 16, 2015 at 12:43 PM, salma1601 notifications@github.com
wrote:

> In examples/connectivity/plot_adhd_tangent.py
> https://github.com/nilearn/nilearn/pull/677#discussion_r34775249:
> 
> > +
> > +""""""
> > +
> > +# Fetch dataset
> > +import nilearn.datasets
> > +atlas = nilearn.datasets.fetch_atlas_msdl()
> > +dataset = nilearn.datasets.fetch_adhd()
> > +
> > +# Extract and preprocess regions time series
> > +import nilearn.input_data
> > +import joblib
> > +mem = joblib.Memory('/home/sb238920/CODE/Parietal/nilearn/nilearn_cache/adhd')
> > +masker = nilearn.input_data.NiftiMapsMasker(
> > -    atlas.maps, resampling_target=""maps"", detrend=True,
> > -    low_pass=None, high_pass=None, t_r=2.5, standardize=False,
> > -    memory=mem, memory_level=1)
> 
> why not specify memory_level ? I have an ugly warning when not
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/677/files#r34775249.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
36,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-16 17:34:47,"This line fails on my laptop (numpy version=1.9.1).  Is this an issue with my configuration ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
37,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:25:35,"Please be more precise: this is a scalar function that takes non-negative inputs...
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
38,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:26:24,"M should be n_dim or something more explicit.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
39,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:26:58,"can't it be an (p, n) matrix with p>n or p<n ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
40,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 13:28:29,"Do we really need the option. In the current code base, the default is used systematically. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
41,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 13:30:29,"Same question here.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
42,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:03:05,"But... x -> 1./x does not invert the matrix
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
43,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:16:34,"Typically you would use a seed value. Why don't you do this ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
44,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:17:06,"idem
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
45,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:51:54,"I don't know why it's failing for you, what is your python version ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
46,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:54:19,"It doesn't take non-negative inputs, I use it with `np.exp`
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
47,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:54:42,"changed to n_features
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
48,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:59:11,"Yes it can, but what would be the benefit of this generalization ?
This function is used to transform the eigenvalues of a symmetric matrix, while keeping the same eigenvectors, so vecs is always a square matrix.
May be the naming of the parameters should be more explicit to explain better what I am doing?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
49,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:00:26,"You are right, I removed it. I used it with the option to transform p-values.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
50,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:03:44,"`_map_sym` applies the given function (x -> 1./x) to the matrix eigenvalues, keeping the eigenvectors, so actually this inverses the matrix.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
51,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:03:57,"Fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
52,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-21 09:24:21,"But clearly, the function would work even if the vecs are not square matrices... and there is no checking to enforce this rule. 
eigen_vectors / eigen_values would definitely be a better wording. 

----- Mail original -----

> De: ""salma1601"" notifications@github.com
> À: ""nilearn/nilearn"" nilearn@noreply.github.com
> Cc: ""bthirion"" bertrand.thirion@inria.fr
> Envoyé: Dimanche 19 Juillet 2015 15:59:11
> Objet: Re: [nilearn] Tangent classif (#677)
> 
> In nilearn/connectivity/embedding.py :
> 
> > +
> > +
> > +def _map_eig(function, vals, vecs):
> > -    """"""Return the symmetric matrix with eigenvectors vecs and eigenvalues
> > -    obtained by applying the function to vals.
> >   +
> > -    Parameters
> > -    ----------
> > -    function : function
> > -        The function to apply.
> >   +
> > -    vals : numpy.ndarray, shape (M, )
> > -        Input argument of the function.
> >   +
> > -    vecs : numpy.ndarray, shape (M, M)
> > -        Unitary matrix.
> 
> Yes it can, but what would be the benefit of this generalization ?
> This function is used to transform the eigenvalues of a symmetric matrix,
> while keeping the same eigenvectors, so vecs is always a square matrix.
> May be the naming of the parameters should be more explicit to explain better
> what I am doing?
> 
> —
> Reply to this email directly or view it on GitHub .
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
53,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:25:01,"Do we really want an example that relies on full ADHD?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
54,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:27:12,"Can't you put the parameter directly instead of instantiating a dictionary?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
55,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:31:08,"Works for me, numpy 1.9.2. Can you put the stacktrace? Note that this problem is not yours, we shouldn't give path to CSV files to the user, we should load them directly.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
56,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:49:09,"Please use `labels[['x', 'y', 'z']].tolist()`, calling vstack is really ugly...
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
57,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-24 21:13:39,"## In [2]: %run plot_adhd_tangent.py

ValueError                                Traceback (most recent call last)
/home/bertrand/mygit/nilearn/examples/connectivity/plot_adhd_tangent.py in <module>()
     46 import numpy as np
     47 import nilearn.plotting
---> 48 labels = np.recfromcsv(atlas.labels)
     49 region_coords = np.vstack((labels['x'], labels['y'], labels['z'])).T
     50 for measure in ['tangent', 'correlation', 'partial correlation']:

/usr/local/lib/python2.7/dist-packages/numpy/lib/npyio.pyc in recfromcsv(fname, *_kwargs)
   1904     kwargs.setdefault(""delimiter"", "","")
   1905     kwargs.setdefault(""dtype"", None)
-> 1906     output = genfromtxt(fname, *_kwargs)
   1907 
   1908     usemask = kwargs.get(""usemask"", False)

/usr/local/lib/python2.7/dist-packages/numpy/lib/npyio.pyc in genfromtxt(fname, dtype, comments, delimiter, skiprows, skip_header, skip_footer, converters, missing, missing_values, filling_values, usecols, names, excludelist, deletechars, replace_space, autostrip, case_sensitive, defaultfmt, unpack, usemask, loose, invalid_raise)
   1686             # Raise an exception ?
   1687             if invalid_raise:
-> 1688                 raise ValueError(errmsg)
   1689             # Issue a warning ?
   1690             else:

ValueError: Some errors were detected !
    Line #2 (got 5 columns instead of 4)
    Line #3 (got 5 columns instead of 4)
    Line #4 (got 5 columns instead of 4)
    Line #5 (got 5 columns instead of 4)
    Line #6 (got 5 columns instead of 4)
    Line #7 (got 5 columns instead of 4)
    Line #8 (got 5 columns instead of 4)
    Line #9 (got 5 columns instead of 4)
    Line #10 (got 5 columns instead of 4)
    Line #11 (got 5 columns instead of 4)
    Line #12 (got 5 columns instead of 4)
    Line #13 (got 5 columns instead of 4)
    Line #14 (got 5 columns instead of 4)
    Line #15 (got 5 columns instead of 4)
    Line #16 (got 5 columns instead of 4)
    Line #17 (got 5 columns instead of 4)
    Line #18 (got 5 columns instead of 4)
    Line #19 (got 5 columns instead of 4)
    Line #20 (got 5 columns instead of 4)
    Line #21 (got 5 columns instead of 4)
    Line #22 (got 5 columns instead of 4)
    Line #23 (got 5 columns instead of 4)
    Line #24 (got 5 columns instead of 4)
    Line #25 (got 5 columns instead of 4)
    Line #26 (got 5 columns instead of 4)
    Line #27 (got 5 columns instead of 4)
    Line #28 (got 5 columns instead of 4)
    Line #29 (got 5 columns instead of 4)
    Line #30 (got 5 columns instead of 4)
    Line #31 (got 5 columns instead of 4)
    Line #32 (got 5 columns instead of 4)
    Line #33 (got 5 columns instead of 4)
    Line #34 (got 5 columns instead of 4)
    Line #35 (got 5 columns instead of 4)
    Line #36 (got 5 columns instead of 4)
    Line #37 (got 5 columns instead of 4)
    Line #38 (got 5 columns instead of 4)
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
58,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-27 08:41:48,"Could it be that the csv has been fixed? Try deleting ~/nilearn_data/msdl_atlas and rerunning the example.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
59,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-27 08:53:14,"This is a fair point I fixed the examples accordingly in c8555ec.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
60,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-27 09:03:13,"Yes, this indeed solves the issue. This example is _really_ nice.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
61,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-08-25 08:32:49,"Why not leaving the inversion job to scipy?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
62,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:33:28,"I speeded up the example by replacing the StratifiedShuffleSplit by StratifiedKFold. I can decrease the subjects number to 24, the classification results remain OK. But does it make sense to run a classification on 24 subjects?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
63,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:33:40,"done
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
64,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:28:06,"This idea of the example compares different measures. But, the end-result is shown as classification accuracy which is actually overtaken. Will it be good to show example only about measures ? If this is the case, we can also reduce number of ADHD subjects which obviously can save time. Just an idea. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
65,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:28:08,"It would be nice if we can strict to showing only measures to partial correlation, covariances, correlation. This way we can also save some time in running.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
66,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:30:32,"Can we change ""matrix_operations"" to ""connectome_matrices"" since its the base to use for learning any functional connectomes ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/matrix_operations.py')"
67,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-21 13:41:42,"> This idea of the example compares different measures. But, the end-result is shown as classification accuracy which is actually overtaken. Will it be good to show example only about measures ?

That's right, but I added this classification example to illustrate the advantage of using the robust dispersion measure over the other standard measures. May be I can add a comment on that?

> we can also reduce number of ADHD subjects which obviously can save time.

I can of course reduce the number of subjects (if  it makes sense to run a classification on 24 subjects for instance).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
68,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-21 13:42:43,"OK, I am removing precision and covariance measures.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
69,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 14:11:14,"> May be I can add a comment on that?

In that case, yes may be you should also add few lines about the application.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
70,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 14:14:13,"> if it makes sense to run a classification on 24 subjects for instance

Example wise, I feel it is OK.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
71,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-22 10:39:44,"@salma1601 You might have forgot to change here and below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
72,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-22 13:53:03,"yes, thanks
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
73,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:36:11,"You don't need the + here. Strings are concatenated as long as you have parentheses around them, e.g.:

```
 In [1]: ('some content '
   ...:  'and some more content')
Out[1]: 'some content and some more content'
```
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
74,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:38:37,"You should if, elif, ..., else and raise a ValueError if prop is not in {'square', 'symmetric', 'spd'}. To be perfectly honest, in this particular case, I'd rather have three functions with explicit names than one with a `prop` string argument.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
75,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:40:14,"It seems that eigenvalues and eigenvectors are generally spelled in one word, in which case removing the underscore from these variable names would make sense.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
76,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:45:26,"I find the or None a bit misleading (I originally thought the ""or None"" applied to the shape ...). Maybe just remove it, since you have optional and you explain what happens if init=None below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
77,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:47:17,"Use array or matrix consistently, rather than a mix of both.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
78,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:49:49,"""all of shape"", rather than ""shape of each"" ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
79,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:56:25,"Not a big fan in general of documenting default in docstrings since it is redundant with the signature. In this case it seems way to verbose and also wrong since it defaults to sklearn.covariance.EmpiricalCovariance(assume_centered=True).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
80,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:57:30,"IIRC you need a backslash at the end of this line if you want the sphinx documentation to format properly.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
81,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:58:48,"Why the backquotes ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
82,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:59:05,"> Why the backquotes ?

Same thing for all the attributes
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
83,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:59:43,"Maybe you could put that in a ""References"" section ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
84,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:04:31,"Not sure where the sqrt(2) comes from but it is not mentioned in the docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
85,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:06:24,"I may be wrong, but there must be a simpler way to implement this function, in particular without having to copy the input array (`symmetric = symmetric.copy()` l.205 of the current diff).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
86,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:10:17,"It would be nice if the error message could mention both the allowed connectivity kinds and the one that the user provided.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
87,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-06 06:43:31,"Just wondering, what's the difference between tol=None and tol=0, i.e. is it common elsewhere, for example scikit-learn, to allow tol=None?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
88,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:47:41,"I saw this in decoding/searchlight.py and group_sparse_covariance.py
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
89,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:48:02,"changed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
90,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:57:46,"again I saw it in group_sparse_covariance.py. I added a similar explanation in the docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
91,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:40:27,"I would add a `raise_error=True` parameter to `is_spd` instead of declaring a whole new function.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
92,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:42:34,"Could you please be more verbose? You could print the metrix shape and the expected one.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
93,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:43:13,"Same here.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
94,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 14:14:37,"I remember having a debate on the naming of the method. Is ""robust dispersion"" the consensus naming?
Ping @bthirion @GaelVaroquaux.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
95,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 14:18:44,"> I remember having a debate on the naming of the method. Is ""robust dispersion""
> the consensus naming?

I am a bit uneasy about calling it 'robust dispersion', because I don't
think that it maps to anything that has been published in the brain
imaging literature.

The terms that have been employed in the brain imaging literature to
denote this have been so far centered around the ideas of 'manifold',
'tangent' and 'riemannian'. I think that these would be 3 valid
suggestions for a naming. My favorite is 'manifold' because it is more
big picture, and because I can never spell 'riemannian' right.

So +1 for manifold on my side.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
96,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-10-22 15:13:57,"With no magic, I prefer to be as standard `riemannian manifold`. 
A seperate example on `plot_riemannian_manifold_functional_connectivity` would be really great to motivate users. ;)
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
97,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-10-22 20:46:32,"Sorry, I like neither 'Riemannian' nor 'manifold' because these terms are not specific enough. Almost all objects you can think of are Riemannian manifolds,  so this does not tell you anything. I think we had the same discussion 5 years ago, but the main point here is that the computations are made in the geometry implied by the 'affine invariant' metric. So I would use 'tangent' or 'affine invariant'. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
98,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 20:50:37,"Think of it as a marketting problem, not a mathematical one. People need
to be able to remember the name, and link it to publications, possibly
via Google. In that sense 'affine invariant' is not great, because the
terms hasn't been used in fMRI and EEG.

'tangent' is OK, as I think that it conveys the right idea. But in fMRI,
Bernard has been pushing forward Riemannian, and people in EEG too.
That's was I was thinking of 'manifold'. But I am OK with 'tangent'.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
99,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-10-22 21:29:23,"Sure, but the community we're talking to does not read MICCAI proceedings and does not value that much Riemannian poetry. Now I can live with whatever suits you best.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
100,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 21:31:48,"> Now I can live with whatever suits you best.

It's not about what suits me best, it's about finding what's best for the
future of this code.

Note that 'tangent' is quite fine with me. It's the vocabulary that I
tend to use in talks, or in my review paper with Cameron Craddock.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
101,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-27 13:42:22,"> People need to be able to remember the name, and link it to publications, possibly via Google

I think 'tangent' meets this goal and I prefer it to 'manifold', 'affine invariant' and 'Riemannian'.
Of course I am not fully satisfied by it since for me when I hear tangent I want to ask tangent to what. I am also not satisfied with 'robust dispersion' but couldn't come up with a better suggestion.

So +1 for 'tangent'   
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
102,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-27 13:46:07,"OK, we have a consensus on tangent! Let's go for it, then. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
103,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-27 13:47:34,"Side-comment as a note to myself. This example does not work with Python 3 because np.genfromtxt loads all the strings as bytes so `phenotypic['site']` is never in `['""NYU""', '""OHSU""', '""NeuroImage""']`. I remember trying to convince np.genfromtxt to return strings to no avail a little while ago.

Also it is not great that  the site name is doubly quoted i.e. `""'NYU'""` rather than `""NYU""` ... Should we try to fix this in the dowloader ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
104,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-27 13:51:30,"For the record, I don't think this is needed. For example see https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#class-docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
105,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:28:01,"I think that we should use as a currentmodule nilearn.connectivity, and the 'nilearn.connectivity.connectivity_matrices' module should pretty much be hidden from users.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
106,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:29:16,"I would be in favor of renaming 'nilearn.connectivity' to 'nilearn.connectome'
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/__init__.py')"
107,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:32:28,"This if/else tell me that we have a suboptimal design in the ConnectivityMeasure object. It seems to me that it should expose a 'mean_' attribute always.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
108,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:33:42,"OK, I just realized that when kind is not 'tangent', it doesn't need to compute the mean to do the fit_transform... Then I understand better.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
109,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:38:01,"I think that we should just call this attribute 'mean_'
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
110,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:39:06,"Any reason that we are not using a LedoitWolf by default? My reflex would be to do that.

My reflex would also be not to turn 'assume_centered' on by default.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
111,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-02 09:35:08,"> Any reason that we are not using a LedoitWolf by default?
> for a bad reason: I always observed that 'tangent' gives better results with EmpiricalCovariance
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
112,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 10:26:35,"> > ```
> > Any reason that we are not using a LedoitWolf by default?
> > ```
> 
> ```
> for a bad reason: I always observed that 'tangent' gives better results
> with EmpiricalCovariance
> ```

You mean that it makes tangent space look better compared to the others?
Here, we are interested in getting overall good performance in every
scenario. The defaults in nilearn should be as robust as possible.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
113,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-02 13:01:46,"For the doc to be generated, it is necessary to specify the whole path. As in `.. currentmodule:: nilearn.plotting.displays` for the `OrthoSlicer`.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
114,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 13:02:40,"> For the doc to be generated, it is necessary to specify the whole path. As in
> .. currentmodule:: nilearn.plotting.displays for the OrthoSlicer.

OK. I thought that an import path was enough.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
115,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-02 13:08:32,"I am not the best one to talk about doc generation but if you look at the doc generated by CircleCI, most of sections are empty because the import is not precise enough.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
116,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-02 13:39:16,"I am not sure off the top of my head either. There is a bug in sphinx 1.3.1 and we should probably try with sphinx 1.2 before drawing any conclusion. See #712. 

BTW I am going to update circle.yml directly in master.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
117,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-02 14:40:56,"when I write only .. currentmodule:: nilearn.connectome in the file reference.rst, my doc is not generated
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
118,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 08:53:20,"@salma1601 you can prefix the strings with b, i.e. `b'""NYU""'`, etc... Not great but this would make this example work with Python 3.

I still think the downloader should be fixed to not have the site names contain quotes.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
119,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-03 09:35:34,"People using this code to compare conditions/groups may fit separately the individual time-series for each condition/group. This will not be meaningful for the tangent measure. Shall comment about this ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(42, '', u'examples/connectivity/plot_connectivity_measures.py')"
120,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 12:06:20,"Another Python 3 fix needed:

``` python
classes = ['%s%s' % (site, adhd) for ...]
```

site is of type bytes and str(adhd) of type str.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
121,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 12:06:56,"It'd be great to use a red/blue colormap for showing the correlation matrix as in other examples.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(56, '', u'examples/connectivity/plot_connectivity_measures.py')"
122,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-17 17:42:40,"I think that this still needs addressing.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
123,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-17 17:53:12,"I very nicely said that I could do it post-merge somewhere below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
124,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-17 17:53:58,"> I very nicely said that I could do it post-merge somewhere below.

OK sure.

So we are only missing the doc thingy
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
125,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-17 17:55:23,"Obviously I'd be more than happy if @salma1601 does it.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
126,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-17 20:42:26,"I can work on it by Thursday.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
127,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 08:52:20,classification on different connectivity measures,d9644019bfa793b7f87d16a6005df0f8a1dbcb51,
128,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 12:03:16,"added classifiers, fixed same cv across experiments",9b5be80e771b791637e07b896c292e5a25e7be33,
129,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 20:00:49,fixed random state,c81a77a36b3b91b2745ee7c02177428d2c92e1fa,
130,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 08:52:20,classification on different connectivity measures,613499eb6ca3bc47b050d7c42e58a66b154483b2,
131,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 12:03:16,"added classifiers, fixed same cv across experiments",136f8718fce569dd8829d9a5c00c9dd8b727443c,
132,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 20:00:49,fixed random state,e98cd373f27b99ecd222838fce35ff80bba4df42,
133,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-04 11:12:55,minor changes,bb9b21fedf9692150f1e77c1350c6bce880d7850,
134,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-12 16:00:54,best score,3daebb18d2a89ef304790d46fabeef096e59b531,
135,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 15:17:19,classif,4c44eac4148a8b8e411287ef30569319bc0fd067,
136,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 15:20:56,"Merge branch 'tangent_classif' of github.com:salma1601/nilearn into tangent_classif

Conflicts:
	examples/connectivity/plot_adhd_tangent.py
	nilearn/connectivity/embedding.py
	nilearn/connectivity/tests/test_embedding.py",ca1a95631c474c5e3349a92e727ea5eec6191f52,
137,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 17:47:30,replaced mean_cov_ by tangent_mean_,ed65e487d088ace9153b9727448b0b68713d0fb6,
138,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:12:25,removed nose.tools.assert_is_instance,695c7c9693eab26f6f4c1ad9548daf4817ab24da,
139,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:34:32,removed nose.tools.assert_greater,b4c16e10eb52d463c21e52a257b6e999fa5ca539,
140,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:47:48,Fix,6764c0173c2c32c5f0f1940172bf96627f114df4,
141,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-16 10:34:41,remove joblib import and fix caching,22f2e7cf22b22f7681977e91b8d4b275c17aec7f,
142,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 14:24:53,kept only SVM classifier,cd7af42c5eb8836eb053f619aa269dc56f006d6c,
143,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 14:25:29,addressed comments,eaed2c8a781462fa322f48425795919244a5d957,
144,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 15:30:12,renaming variable,eb8e2447f4621f67a8853e96653e1fe2708347ef,
145,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-04 18:16:59,Merge branch 'master' into tangent_classif,9f24288cbe5e3cc68ed2ab449e19ec0419342b4a,
146,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-15 16:55:23,addressed comments,ab2c5d3a8c733e5febcfce970a9b967fb8edba1e,
147,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-16 12:47:47,more explicit naming,96140b6643854ef22c3faf3355bf5d4279bdba34,
148,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-16 12:50:54,Merge branch 'master' into tangent_classif,ca1ccf68182088c2a3ee91baed81936930ba6bed,
149,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:09:45,"renaming, changing output of transform to matrices",8b42cd3061847d7a1484e71031c92a1c02cd4cd9,
150,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:15:20,fix doc,21c34bbe74daeaac542d94028085e0feab2694a9,
151,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:27:07,removed vec_to_sym,7f7dce8557d18795a0b49210cdeb80741f7c27ed,
152,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:14:16,reduced subjects number and measures,eb6d3e371a623a96303cbeef54c131b10ca3c3a0,
153,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:23:07,renaming and doc cosmetics,8add7c79ecdaf211859731d097efcd98ec7faf88,
154,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:37:09,added comment on classif performance,6d3b6eb5a06ab747ea669225d44016c0bec79c72,
155,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-22 09:35:15,Merge branch 'master' into tangent_classif,cc07ca866ea71bafc4db4e865166f34c935f8e93,
156,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-22 12:11:49,updated doc,f3e7fd0d14bc8ffe8340d6a982e654b92c8c592c,
157,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:43:23,addressed Loic's comments,d5af4c37893a7ead45a966eb89a3e4018a97e556,
158,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:43:53,Merge branch 'master' into tangent_classif,16da5795189cc99e2cedc3c46e9a9104da2c97ed,
159,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:56:35,tolerance None explained,610a1b53e445d3c2693c6e0cde9bc73b61d0c4f7,
160,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:15:25,addressed Gael's comments,8875d710970ab6000d93dce159bd8e018bd79bc1,
161,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:15:57,Merge branch 'master' into tangent_classif,0e46bdfedcfe48b8257e06f9d62df2a6a9e10ed8,
162,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:54:55,Merge branch 'master' into tangent_classif,e5c3ba50204a4b63f8bb64fb82fbe37c84348093,
163,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-03 09:34:01,prefixing strings with b for python 3 compatibility,bf335d778ce5f86b7e521b0407691e6099393d2f,
164,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-19 14:47:40,narrative doc on tangent measure,ac2ee789e5703c0953cfb966386d263013315404,
165,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-19 14:48:38,Merge branch 'master' into tangent_classif,e78cf53782f2dd712f6dde023591b696609ab5f6,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,644,nilearn,nilearn,chrisfilo,2015-07-13 10:11:38,,start issue,[MRG+1] Plot glass brain negative values
2,issue_closed,644,nilearn,nilearn,GaelVaroquaux,2015-07-15 13:02:57,,closed issue,[MRG+1] Plot glass brain negative values
3,pull_request_title,644,nilearn,nilearn,chrisfilo,2015-07-13 10:11:38,,e852404cef45b0be0c9e20474e2945a116740c7e,[MRG+1] Plot glass brain negative values
4,pull_request_merged,644,nilearn,nilearn,GaelVaroquaux,2015-07-15 13:02:57,[MRG+1] Plot glass brain negative values,d7231dcce56caa54884b73466f2b241249926220,Pull request merge from chrisfilo/nilearn:plot-glass-brain-negative-values to nilearn/nilearn:master
5,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:13:15,"Sweet! Can I haz screenshot? Plz
",,
6,issue_comment,644,nilearn,nilearn,chrisfilo,2015-07-13 10:17:41,"plot_negative=False
<img width=""584"" alt=""screen shot 2015-07-13 at 12 16 24"" src=""https://cloud.githubusercontent.com/assets/238759/8647541/1a4f96dc-2959-11e5-9f01-45021a7de445.png"">

plot_negative=True
<img width=""583"" alt=""screen shot 2015-07-13 at 12 16 33"" src=""https://cloud.githubusercontent.com/assets/238759/8647545/234fd08a-2959-11e5-8fc7-af2a4e2f5cd6.png"">
",,
7,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:19:10,"I am bothered by the fact that the colorbar is not symetrical.

Also, it almost seems that the threshhold is too low.
",,
8,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:23:37,"Also, in terms of visual design, I think that it would be good to have a colormap that fades to white (or transparent) rather than black, at least for white backgrounds. The current colormap does not convey the ideas that we are looking 'through' a brain. To someone glancing at the figures, it might look like a cut. We want to make it as visually different as possible from a cut.
",,
9,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:25:40,"Yes, thinking more about it, I think that we should make a new colormap that piggy-back cold and hot, but in the reverse junction as the one used in plot_img. This is actually very easy to do: just check out cm.py.
",,
10,issue_comment,644,nilearn,nilearn,chrisfilo,2015-07-13 13:55:15,"Fixed!
<img width=""585"" alt=""screen shot 2015-07-13 at 15 19 29"" src=""https://cloud.githubusercontent.com/assets/238759/8651117/4f64fb5a-2977-11e5-965b-67c2ecebdc31.png"">

<img width=""583"" alt=""screen shot 2015-07-13 at 15 53 48"" src=""https://cloud.githubusercontent.com/assets/238759/8651141/6c2387a2-2977-11e5-97c5-f4c2d969c8d0.png"">

<img width=""407"" alt=""screen shot 2015-07-13 at 15 53 59"" src=""https://cloud.githubusercontent.com/assets/238759/8651149/70fcadc6-2977-11e5-97d7-ed569dceffcb.png"">
",,
11,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:05:54,"It looks just gorgeous. I really love it.

Something strange and not nice is happening in the tests. I don't think that I have ever seen it elsewhere (https://travis-ci.org/nilearn/nilearn/jobs/70740919)
",,
12,issue_comment,644,nilearn,nilearn,bthirion,2015-07-13 14:07:30,"+1 this is awesome !
",,
13,issue_comment,644,nilearn,nilearn,chrisfilo,2015-07-13 14:31:01,"Fixed!
",,
14,issue_comment,644,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:26:25,"That's really great!
",,
15,issue_comment,644,nilearn,nilearn,chrisfilo,2015-07-14 15:26:34,"All issues resolved - should be ready to merge.
",,
16,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:00:59,"I think that I would add a note on the plotting.rst section on plot_glass_brain about negative values.
",,
17,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-14 17:12:25,"Aside the documentation remark (and the change in the example that you told me you had done), I am +1 for merge.
",,
18,issue_comment,644,nilearn,nilearn,chrisfilo,2015-07-14 17:20:38,"done
",,
19,issue_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-14 19:03:51,"In the plotting.rst file, the link of the plot_brain_glass points to plot_demo_plotting.py, in which the plot_abs option is not demoed. We need to point to plot_demo_more_plotting.py, which should have both options demoed: plot_abs on and off.
",,
20,pull_request_commit_comment,644,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:24:37,"I am wondering if we could find a better wording. Negative values are always plotted, they are just turned into positive values in one case. Maybe `plot_absolute=True`?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
21,pull_request_commit_comment,644,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:25:45,"I may be a little dense but the lines above are not very clear to me. Could you add a comment or two?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
22,pull_request_commit_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 15:26:22,"> I am wondering if we could find a better wording. Negative values are
> always plotted, they are just turned into positive values in one case.
> Maybe plot_absolute=True?

signed_colormap?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
23,pull_request_commit_comment,644,nilearn,nilearn,eickenberg,2015-07-13 15:27:28,"I agree with this. It was the only comment I would have put, for readability, but the current state is fine with me as well, because sufficiently explained in the docstring.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
24,pull_request_commit_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 15:32:12,"This file is referenced from the front page. For this reason, we would like to keep this file as short as possible.

plot_demo_plotting.py or plot_demo_more_plotting.py would be better places to add this functionality. You could link to them in the docstring or plot_demo_glass_brain.py for users to more easily discover the cool options.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'examples/manipulating_visualizing/plot_demo_glass_brain.py')"
25,pull_request_commit_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 15:34:51,"Isn't this simply written as 'data[inds]' with abs and sign?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
26,pull_request_commit_comment,644,nilearn,nilearn,GaelVaroquaux,2015-07-13 15:36:32,"> > Maybe plot_absolute=True?
> 
> signed_colormap?

Thinking about it, I prefer 'plot_absolute', or maybe 'plot_abs', because
it will be obvious the link to np.abs.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
27,pull_request_commit_comment,644,nilearn,nilearn,chrisfilo,2015-07-14 13:28:19,"Doh!
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
28,pull_request_commit_comment,644,nilearn,nilearn,AlexandreAbraham,2015-07-15 00:12:21,"OK, now I understand! You can replace this whole block by:

``` python
np.choose(np.argmax(np.abs(data), axis=max_axis), np.rollaxis(a, max_axis))
```
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
29,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 06:46:07,"I guess this whole block doing the tricky is taken from plot_stat_map. Is there a simple way to factor that in a function ?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
30,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 06:47:00,"In case we decide not to refactor this in a function, plot_stat_map should be replaced by plot_glass_brain
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
31,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 06:50:41,"PEP8 needs a space after the #.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
32,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 06:50:51,"same PEP8 comment.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
33,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 06:50:58,"same PEP8 comment.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
34,pull_request_commit_comment,644,nilearn,nilearn,chrisfilo,2015-07-15 09:09:27,"We just discovered that this code works only on data that does not exceed length of 32 in each direction.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/displays.py')"
35,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 12:22:42,"Does it need to return stat_map_img ?
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
36,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 12:23:30,"Maybe a small docstring to at least say that is some utility function for common colorbar-related functionality b/w plot_stat_map and plot_glass_brain.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
37,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 12:24:01,"Your comment indentation is surprising.
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
38,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 12:24:16,"PEP8
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
39,pull_request_commit_comment,644,nilearn,nilearn,lesteve,2015-07-15 12:27:55,"I guess I missed the fact that this function does the check_niimg_3d.

I would personally be in favor of doing the check_niimg_3d in plot_glass_brain and plot_stat_map as this is quite common to do that for nilearn functions that take Niimg-like object. 
",e852404cef45b0be0c9e20474e2945a116740c7e,"(None, '', u'nilearn/plotting/img_plotting.py')"
40,pull_request_commit,644,nilearn,nilearn,lesteve,2015-05-13 21:08:10,Put the sign back into glass brain plotting,4c1bb7c8545e329ac3054fe0fd254a7fe42e7055,
41,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-13 10:09:59,Added option to represent negative values in glass brain. Closes #455.,166340e09742a6ca5148f1c1d60eaab556a2fb36,
42,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-13 13:51:21,Fixed color maps.,9cf140829d526dd57e317e683994844a26326df6,
43,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-13 14:20:26,Fixed the plot_connectome inheritance bug.,434310dbbe681662492a8d2d6aee7120d039933a,
44,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 12:11:04,rename plot_negative to plot_abs,1ff5a18bc3987d4c18c9453dca708459430475d5,
45,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 12:27:15,added test,8689bcae425310434ff48af992a786f4a7dd609e,
46,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 13:32:07,added comments simplified code,46c7f29a271408a05c6a1c0f546c6cb7c6b4d50a,
47,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 13:32:17,fixed the demo,9d4b0111cbc7324520468041a30fb046420018f3,
48,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 15:15:49,fixed sign,60652a1b42a466716ed9da0562af9270ecf1bd33,
49,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 15:16:02,refactor demos,b55f7adf7a35a99ca285e800c73c6813d7487f2d,
50,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 15:24:55,reference the example in docstring,e468c2f1ceeccd682ed54059aa24c76358955e70,
51,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 16:59:49,Revert zero threshold.,829e19a85b96ac42e52350932162ef5eb8c571cd,
52,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 17:01:59,sync with upstream,cdd2f3e298636f658ecc93e21017810ad24491b9,
53,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 17:20:09,Added a mention of of the new glass brain functionality.,993e17e5c21f765eb6e8c934fbe48037395452fc,
54,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-14 17:25:06,fixed identation,b81f6a73dae1f74b54ab8285e136f1f133ac900f,
55,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-15 09:42:08,PEP8,e9a169457f97cb7a777982848b14ebf09247be65,
56,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-15 09:48:12,extracted common function,96bcc209ceb94b7c701c1f772ab2ae211d2bf1b5,
57,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-15 11:44:36,Refactoring examples and docs.,80188632f0fa582fd688db7fed3e8e1b92458c8f,
58,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-15 11:48:09,revert t map import,9f84261ba8561e7ce41f60f73cd212c90d668be7,
59,pull_request_commit,644,nilearn,nilearn,chrisfilo,2015-07-15 12:36:15,pep and small refactoring,e852404cef45b0be0c9e20474e2945a116740c7e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,611,nilearn,nilearn,AlexandreAbraham,2015-06-15 16:07:24,"When calling `add_overlay` with an uint8 threshold, the mask is sometimes reversed. The culprit is here: https://github.com/nilearn/nilearn/blob/master/nilearn/plotting/displays.py#L532

``` python
                data = np.ma.masked_inside(data, -threshold, threshold,
                                           copy=False)
```

If `threshold` is an `uint8`, then you get `threshold = 22` and `-threshold = 234` because of the underflow. There may be other cases like that here and there in the code.

Should we properly handle uint8 everywhere or simply convert the image to float systematically for plotting?

For the record, this bug happened to @KamalakerDadi when he tried to plot the Harvard Oxford atlas (since Harvard Oxford is shipped in uint8 format). So this is not an isolated case.
",start issue,Messy behavior with uint8 images
2,issue_closed,611,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:22:31,,closed issue,Messy behavior with uint8 images
3,issue_comment,611,nilearn,nilearn,GaelVaroquaux,2015-06-15 18:52:59,"> Should we properly handle uint8 everywhere or simply convert the image
> to float systematically for plotting?

I say convert to float: the problem with that is blowing up memory. But
for a single volume it should be fine.
",,
4,issue_comment,611,nilearn,nilearn,lesteve,2015-06-16 09:40:02,"Just curious: could we not use a mask based on np.abs ?
",,
5,issue_comment,611,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:11:24,"@lesteve we can do that too. But I must admit that conversion to float is easier and will prevent all errors.
",,
6,issue_comment,611,nilearn,nilearn,lesteve,2015-06-18 09:27:19,"> But I must admit that conversion to float is easier and will prevent all errors.

Out of curiosity what kind of other errors are likely to happen?
",,
7,issue_comment,611,nilearn,nilearn,KamalakerDadi,2015-06-18 14:36:06,"> Just curious: could we not use a mask based on np.abs ?

If I use `np.abs(data)` to mask, I get the same error. This is what you mean to use ?

![errorwithnomagic](https://cloud.githubusercontent.com/assets/11410385/8233662/cc061152-15d7-11e5-95f1-bd9379bce595.png)
",,
8,issue_comment,611,nilearn,nilearn,lesteve,2015-06-18 16:04:54,"What I meant, instead of:

``` python
data = np.ma.masked_inside(data, -threshold, threshold,
                                               copy=False)
```

do something like this:

``` python
data = np.ma.masked_where(np.abs(data) <= threshold, data, copy=False)
```
",,
9,issue_comment,611,nilearn,nilearn,KamalakerDadi,2015-06-18 19:48:11,"`data = np.ma.masked_where(np.abs(data) <= threshold, data, copy=False)`

Using this line worked without a problem.
",,
10,issue_comment,611,nilearn,nilearn,GaelVaroquaux,2015-06-18 20:55:03,"I think that using the abs is a bit of a dirty hack. Are we sure that we
do not risk looping too far and becoming positive again (droping in the
discussion while having forgotten the beginning of it, and in the middle
of doing 1000 things, so maybe the comment is irrelevent).
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,617,nilearn,nilearn,surchs,2015-06-25 01:39:40,"Hey,

I was just looking for the very nice and thorough explanation on affine matrices and how they can be used to resample data that you had on your github.io documentation. It seems that the site has been restructured (very nice btw) and I can no longer find it. Not sure if you know what I am talking about but this was a very good document and I'd be happy if someone could point me to it.

Many thanks,
Seb
",start issue,Explanation of affine matrix has disappeared from the docs?
2,issue_closed,617,nilearn,nilearn,surchs,2015-06-25 13:45:23,,closed issue,Explanation of affine matrix has disappeared from the docs?
3,issue_comment,617,nilearn,nilearn,eickenberg,2015-06-25 05:10:22,"Do you mean this?

http://nilearn.github.io/auto_examples/manipulating_visualizing/plot_affine_transformation.html#example-manipulating-visualizing-plot-affine-transformation-py

On Thu, Jun 25, 2015 at 3:39 AM, Sebastian notifications@github.com wrote:

> Hey,
> 
> I was just looking for the very nice and thorough explanation on affine
> matrices and how they can be used to resample data that you had on your
> github.io documentation. It seems that the site has been restructured
> (very nice btw) and I can no longer find it. Not sure if you know what I am
> talking about but this was a very good document and I'd be happy if someone
> could point me to it.
> 
> Many thanks,
> Seb
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/617.
",,
4,issue_comment,617,nilearn,nilearn,surchs,2015-06-25 05:16:22,"No. This I found. If I remember right it was about a four page article with
a lot of basics.

On Thu, 25 Jun 2015 01:10 eickenberg notifications@github.com wrote:

> Do you mean this?
> 
> http://nilearn.github.io/auto_examples/manipulating_visualizing/plot_affine_transformation.html#example-manipulating-visualizing-plot-affine-transformation-py
> 
> On Thu, Jun 25, 2015 at 3:39 AM, Sebastian notifications@github.com
> wrote:
> 
> > Hey,
> > 
> > I was just looking for the very nice and thorough explanation on affine
> > matrices and how they can be used to resample data that you had on your
> > github.io documentation. It seems that the site has been restructured
> > (very nice btw) and I can no longer find it. Not sure if you know what I
> > am
> > talking about but this was a very good document and I'd be happy if
> > someone
> > could point me to it.
> > 
> > Many thanks,
> > Seb
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/nilearn/nilearn/issues/617.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/617#issuecomment-115107541.
",,
5,issue_comment,617,nilearn,nilearn,lesteve,2015-06-25 07:07:56,"Not sure to be honest. I thought it might have disappeared during the doc refactoring by Gaël as you said [here](https://github.com/nilearn/nilearn/pull/483/files) but that doesn't seem to be the case.

I tried to find it on archive.org to no avail. Maybe you can try yourself, especially if you happen to still know the old URL.
",,
6,issue_comment,617,nilearn,nilearn,surchs,2015-06-25 13:45:23,"My apologies, I have confused nilearn with [nibabel](http://nipy.org/nibabel/coordinate_systems.html), probably because of the sphynx format. So nothing disappeared.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,636,nilearn,nilearn,banilo,2015-07-05 14:31:14,"The problem has been reported by several people.

Debug output is:

`````` python

Dataset created in /Users/admin/nilearn_data/adhd

Downloading data from http://connectir.projects.nitrc.org/adhd40_p1.tar.gz ...
Error while fetching file adhd40_p1.tar.gz. Dataset fetching aborted.
---------------------------------------------------------------------------
HTTPError                                 Traceback (most recent call last)
<ipython-input-4-51958e38ffc8> in <module>()
----> 1 ds.fetch_adhd()

/git/nilearn/nilearn/datasets.pyc in fetch_adhd(n_subjects, data_dir, url, resume, verbose)
   1644                                 verbose=verbose)
   1645     subjects_funcs = _fetch_files(data_dir, subjects_funcs, resume=resume,
-> 1646                                   verbose=verbose)
   1647     subjects_confounds = _fetch_files(data_dir, subjects_confounds,
   1648             resume=resume, verbose=verbose)

/git/nilearn/nilearn/datasets.pyc in _fetch_files(data_dir, files, resume, mock, verbose)
    697                                   username=opts.get('username', None),
    698                                   password=opts.get('password', None),
--> 699                                   handlers=opts.get('handlers', []))
    700             if 'move' in opts:
    701                 # XXX: here, move is supposed to be a dir, it can be a name

/git/nilearn/nilearn/datasets.pyc in _fetch_file(url, data_dir, resume, overwrite, md5sum, username, password, handlers, verbose)
    526             initial_size = local_file_size
    527         else:
--> 528             data = url_opener.open(request)
    529             local_file = open(temp_full_name, ""wb"")
    530         _chunk_read_(data, local_file, report_hook=(verbose > 0),

/Users/admin/anaconda/lib/python2.7/urllib2.pyc in open(self, fullurl, data, timeout)
    435         for processor in self.process_response.get(protocol, []):
    436             meth = getattr(processor, meth_name)
--> 437             response = meth(req, response)
    438 
    439         return response

/Users/admin/anaconda/lib/python2.7/urllib2.pyc in http_response(self, request, response)
    548         if not (200 <= code < 300):
    549             response = self.parent.error(
--> 550                 'http', request, response, code, msg, hdrs)
    551 
    552         return response

/Users/admin/anaconda/lib/python2.7/urllib2.pyc in error(self, proto, *args)
    473         if http_err:
    474             args = (dict, 'default', 'http_error_default') + orig_args
--> 475             return self._call_chain(*args)
    476 
    477 # XXX probably also want an abstract factory that knows when it makes

/Users/admin/anaconda/lib/python2.7/urllib2.pyc in _call_chain(self, chain, kind, meth_name, *args)
    407             func = getattr(handler, meth_name)
    408 
--> 409             result = func(*args)
    410             if result is not None:
    411                 return result

/Users/admin/anaconda/lib/python2.7/urllib2.pyc in http_error_default(self, req, fp, code, msg, hdrs)
    556 class HTTPDefaultErrorHandler(BaseHandler):
    557     def http_error_default(self, req, fp, code, msg, hdrs):
--> 558         raise HTTPError(req.get_full_url(), code, msg, hdrs, fp)
    559 
    560 class HTTPRedirectHandler(BaseHandler):

HTTPError: HTTP Error 404: Not Found```
``````
",start issue,ADHD dataset fetcher is not working
2,issue_closed,636,nilearn,nilearn,AlexandreAbraham,2015-07-06 20:51:00,,closed issue,ADHD dataset fetcher is not working
3,issue_comment,636,nilearn,nilearn,amadeuskanaan,2015-07-05 15:59:17,"also issues with abide 
",,
4,issue_comment,636,nilearn,nilearn,AlexandreAbraham,2015-07-05 19:04:41,"Regarding ADHD, the file has not been hosted by us in the first place. I can re-upload it tomorrow.

Regarding Abide, please precise your problem. Some configurations are not available. The problem has been reported but, since we don't host the data, we can't fix the problem.
",,
5,issue_comment,636,nilearn,nilearn,AlexandreAbraham,2015-07-06 23:25:22,"Please checkout master to get the bugfix.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,685,nilearn,nilearn,AlexandreAbraham,2015-07-16 10:28:03,"Introducing this method simplify the code because we don't have to import matplotlib most of the time.
",start issue,"Introduce ""show"" method in slicer"
2,issue_closed,685,nilearn,nilearn,lesteve,2015-07-21 13:57:19,,closed issue,"Introduce ""show"" method in slicer"
3,pull_request_title,685,nilearn,nilearn,AlexandreAbraham,2015-07-16 10:28:03,"Introducing this method simplify the code because we don't have to import matplotlib most of the time.
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"Introduce ""show"" method in slicer"
4,pull_request_merged,685,nilearn,nilearn,lesteve,2015-07-21 13:57:19,"Introduce ""show"" method in slicer",e071c55129f1eee515fcc12250622ae812e87ea6,Pull request merge from AlexandreAbraham/nilearn:add_show to nilearn/nilearn:master
5,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-16 10:35:06,":+1:

Can you please add it to plotting.rst, in a box somewhere.
",,
6,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-16 10:44:45,"> Pfff controversial. It seems fine to me to require users to use plt.show() ...

The less 'imports' we need to teach to a beginner, the easier it is.

That said, we need to document (in docstrings and narrative docs) that it
is exactly matplotlib.show.
",,
7,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-17 13:38:44,"> @GaelVaroquaux Could you answer this one please? @lesteve suggested that we
> could put the show function directly in the module, since it's not related to a
> particular plot. I think it's a good suggestion.

I think so too. Sorry, I said it orally yesterday, but orally is not
good.
",,
8,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-17 18:03:29,"Can I haz documentation in plotting.rst plz
",,
9,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-20 17:36:05,"This PR is almost ready. It needs just narrative documentation. 
",,
10,issue_comment,685,nilearn,nilearn,GaelVaroquaux,2015-07-21 14:59:00,"There are layout problems:

https://circle-artifacts.com/gh/nilearn/nilearn/188/artifacts/0/home/ubuntu/nilearn/doc/_build/html/manipulating_visualizing/plotting.html

In addition, you want to phrase the problem the other way around: first
introduce 'show', and then say it's matplotlib's show:

I'll rephrase it directly in master (sudo make me a sandwich version of
commenting on a PR :$)
",,
11,issue_comment,685,nilearn,nilearn,lesteve,2015-07-21 06:31:13,"This one needs a rebase.
",,
12,issue_comment,685,nilearn,nilearn,lesteve,2015-07-21 13:57:16,"LGTM, merging.
",,
13,issue_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 15:09:57,"Thanks, I appreciate that. Since I switched priorites, I did not want to come back on this one.
",,
14,issue_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-16 11:55:01,"@lesteve proposition seems reasonable to me.
",,
15,issue_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:37:53,"@GaelVaroquaux Could you answer this one please? @lesteve suggested that we could put the `show` function directly in the module, since it's not related to a particular plot. I think it's a good suggestion.
",,
16,pull_request_commit_comment,685,nilearn,nilearn,lesteve,2015-07-21 08:01:48,"Boo, why did you remove the plot_prob_atlas import?
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(6, '', u'examples/connectivity/plot_canica_resting_state.py')"
17,pull_request_commit_comment,685,nilearn,nilearn,lesteve,2015-07-21 08:02:18,"Also you added back this comment ... which was removed at one point
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(4, '', u'examples/connectivity/plot_canica_resting_state.py')"
18,pull_request_commit_comment,685,nilearn,nilearn,lesteve,2015-07-21 08:35:01,"PEP8
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(None, '', u'examples/manipulating_visualizing/plot_demo_glass_brain_extensive.py')"
19,pull_request_commit_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:41:51,"Sorry, bad merge.
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(4, '', u'examples/connectivity/plot_canica_resting_state.py')"
20,pull_request_commit_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:41:59,"Bad merge, fixed.
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(6, '', u'examples/connectivity/plot_canica_resting_state.py')"
21,pull_request_commit_comment,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:43:18,"Weird. But fixed.
",e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,"(None, '', u'examples/manipulating_visualizing/plot_demo_glass_brain_extensive.py')"
22,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-16 10:26:18,Simplify example code by introducing `show` in slicer,29c3467bd5e74f2b1111bcb0fcec001ebd6f986d,
23,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:54:31,Put show function at module level,b4b7dede2af7bff8cdc6bf18760ea8283eb7281b,
24,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:07:00,Fix examples,e9340f0ec8c1b2acae996b1938a8636e139bb455,
25,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:40:34,Fix import,201c2eba602f87271c7dcf87dcdb95324bef259b,
26,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:41:30,Remove spurious comment,978684b79720f30d29dc77510c2809c6dc12b791,
27,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:43:04,PEP8,c9c2736eeb1334180490e2b8a8eca948f7b6fc5b,
28,pull_request_commit,685,nilearn,nilearn,AlexandreAbraham,2015-07-21 08:45:00,Add show in reference,e94a8eaa6f64449c26abf4ffdf5cc61370ae8084,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,689,nilearn,nilearn,lesteve,2015-07-16 13:54:06,"We were keeping a lot of stale files around for example http://nilearn.github.io/auto_examples/plot_haxby_simple.html which dates back from when all the examples were in the same folder.

Also maybe more controversial I switched from git to https authentication. As a consequence I moved the git clone as the first thing to do in order not to block `make install` in the middle when asking for the password.
",start issue,[MRG] Make upload to nilearn.github.io more robust
2,issue_closed,689,nilearn,nilearn,GaelVaroquaux,2015-07-17 05:57:07,,closed issue,[MRG] Make upload to nilearn.github.io more robust
3,pull_request_title,689,nilearn,nilearn,lesteve,2015-07-16 13:54:06,"We were keeping a lot of stale files around for example http://nilearn.github.io/auto_examples/plot_haxby_simple.html which dates back from when all the examples were in the same folder.

Also maybe more controversial I switched from git to https authentication. As a consequence I moved the git clone as the first thing to do in order not to block `make install` in the middle when asking for the password.
",839dd81998ea3f9379a365d6314e596837b3ee08,[MRG] Make upload to nilearn.github.io more robust
4,pull_request_merged,689,nilearn,nilearn,GaelVaroquaux,2015-07-17 05:57:07,[MRG] Make upload to nilearn.github.io more robust,6a27ed73a56852fbfafbf30a91b50b99dfd933b7,Pull request merge from lesteve/nilearn:more-robust-doc-generation to nilearn/nilearn:master
5,issue_comment,689,nilearn,nilearn,GaelVaroquaux,2015-07-17 05:57:03,"The docs on CircleCI look good. Merging!

Thank you
",,
6,pull_request_commit_comment,689,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:39:09,"Please comment on what the no-checkout does and why it's useful.

Also, please rebase to master to have circle-ci, so that we can test this with the doc building.
",839dd81998ea3f9379a365d6314e596837b3ee08,"(None, '', u'doc/Makefile')"
7,pull_request_commit_comment,689,nilearn,nilearn,lesteve,2015-07-16 15:12:10,"Done
",839dd81998ea3f9379a365d6314e596837b3ee08,"(None, '', u'doc/Makefile')"
8,pull_request_commit_comment,689,nilearn,nilearn,GaelVaroquaux,2015-07-16 16:14:59,"Typo above: no '--history', but just 'history'.
",839dd81998ea3f9379a365d6314e596837b3ee08,"(None, '', u'doc/Makefile')"
9,pull_request_commit_comment,689,nilearn,nilearn,lesteve,2015-07-16 16:36:11,"Arghh my editor was trying to be helpful when reformating the paragraph and I thought I removed that. Oh well, done now.
",839dd81998ea3f9379a365d6314e596837b3ee08,"(None, '', u'doc/Makefile')"
10,pull_request_commit,689,nilearn,nilearn,lesteve,2015-07-16 13:55:38,"Make upload to nilearn.github.io more robust

We were keeping a lot of stale files around",51b8ec2a9d8470f531f118d6c991c7076bdb6659,
11,pull_request_commit,689,nilearn,nilearn,lesteve,2015-07-16 16:34:39,"Add comment to git clone command

to clarify what --depth and --no-checkout do",839dd81998ea3f9379a365d6314e596837b3ee08,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,589,nilearn,nilearn,KamalakerDadi,2015-05-16 18:02:05,"Edited by @AlexandreAbraham
- [x] thicken contour lines
- [x] add an example of plotting with several atlases
- [x] make code PEP8 compliant
- [x] for thresholding, accept one value, or a list of values, or a percentage, or a list of percentage

I have basically utilised the content of the code and documentation of each arguments for writing a function called `plot_4d` in `img_plotting`.
Here is the code snippet to call the function `plot_4d` for plotting in contours. 
Harvard Oxford Atlas:

``` python
from nilearn import datasets, plotting
import matplotlib.pyplot as plt
atlas_img_4D, labels = datasets.fetch_harvard_oxford('cort-prob-2mm')
display = plotting.img_plotting.plot_4d(atlas_img_4D)
plt.show()
```

Result:
![figure_1](https://cloud.githubusercontent.com/assets/11410385/7667394/2952f1ae-fc06-11e4-8055-70f6ba96a2b2.png)

MSDL Atlas:

``` python
from nilearn import datasets, plotting
import matplotlib.pyplot as plt
atlas_data = datasets.fetch_msdl_atlas()
atlas_filename = atlas_data.maps
display = plotting.img_plotting.plot_4d(atlas_filename)
plt.show()
```

Result:
![figuremsdl](https://cloud.githubusercontent.com/assets/11410385/7667400/54c4ae68-fc06-11e4-8a05-cfdb56c63ad8.png)
",start issue,[MRG+1] Adding a 4Dplot function displaying as a contours in img_plotting 
2,issue_closed,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:35:26,,closed issue,[MRG+1] Adding a 4Dplot function displaying as a contours in img_plotting 
3,pull_request_title,589,nilearn,nilearn,KamalakerDadi,2015-05-16 18:02:05,"Edited by @AlexandreAbraham
- [x] thicken contour lines
- [x] add an example of plotting with several atlases
- [x] make code PEP8 compliant
- [x] for thresholding, accept one value, or a list of values, or a percentage, or a list of percentage

I have basically utilised the content of the code and documentation of each arguments for writing a function called `plot_4d` in `img_plotting`.
Here is the code snippet to call the function `plot_4d` for plotting in contours. 
Harvard Oxford Atlas:

``` python
from nilearn import datasets, plotting
import matplotlib.pyplot as plt
atlas_img_4D, labels = datasets.fetch_harvard_oxford('cort-prob-2mm')
display = plotting.img_plotting.plot_4d(atlas_img_4D)
plt.show()
```

Result:
![figure_1](https://cloud.githubusercontent.com/assets/11410385/7667394/2952f1ae-fc06-11e4-8055-70f6ba96a2b2.png)

MSDL Atlas:

``` python
from nilearn import datasets, plotting
import matplotlib.pyplot as plt
atlas_data = datasets.fetch_msdl_atlas()
atlas_filename = atlas_data.maps
display = plotting.img_plotting.plot_4d(atlas_filename)
plt.show()
```

Result:
![figuremsdl](https://cloud.githubusercontent.com/assets/11410385/7667400/54c4ae68-fc06-11e4-8a05-cfdb56c63ad8.png)
",e9838f8f0660404a5c6af8e6995767b5093b2c45,[MRG+1] Adding a 4Dplot function displaying as a contours in img_plotting 
4,pull_request_merged,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:35:26,[MRG+1] Adding a 4Dplot function displaying as a contours in img_plotting ,0a5085816a3d302a46c21f8320c3d545acf5f7c7,Pull request merge from KamalakerDadi/nilearn:fix_588 to nilearn/nilearn:master
5,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-16 18:02:35,"issue #588 
",,
6,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 07:33:24,"I am wondering if we want to have such a function instead of educating the user about how to display several regions himself. The only additional logic in this function is the way the colormap is computed, which is a pain in matplotlib but for which we can provide a utility function.

I have one myself and so to do the same thing I write:

``` python
p = plot_anat(...)

for region_img, color in zip(iter_img(atlas_img), get_colors('gist_rainbow', len(atlas_img.shape[-1]))):
    p.add_countours(region_img, ...)
```

What would be (in my sense) a good addition for such function:
- a ""group"" heuristic for `find_cut_coords` because it will always be centered here I think (but this may be something to add in the slicer itself, an update of the cut coords when contours or overlays are added)
- an intelligent coloring code. Here, neighboring regions have similar colors because the atlas is made this way. We should write an algorithm to have maximum contrast between neigboring regions, this is a pain but this would be the new killer feature for me
- same code but with `add_overlay` to display several stat maps.
",,
7,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-05-18 09:43:55,"> I am wondering if we want to have such a function instead of educating
> the user about how to display several regions himself.

This will provide a lot of value for beginners. It's a feature that many
people have been curious about. Also, many of us have a copy-pasted
variant of this code. Getting is right is somewhat challenging, and each
time someone rewrites it, its time lost.

When something keeps coming up in people's code, it's often a good thing
to make a function out of it. Also, we are going to need it to make the
output of the ICA.
",,
8,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 10:09:30,"Well, in that case, I would say that we need to support maps and labels. Maybe an `iter_map` function would be useful. It would iterate on 4d if there is one, and if it is 3D with integer values (ie labels), it would return a binary mask corresponding to each label.
",,
9,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-05-18 10:11:13,"I would provide 2 functions, and not do magic, but have a good error
message. We already have the first function: plot_roi.
",,
10,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-18 11:03:17,"I am thinking more or less like a enhancement to plotting functions, for example 4D. As far as I have seen, there is no specific example describing plotting 4D. As a users point, I thought it would be nice to input data and view the maps as an overlay or contours on the anatomical image.
",,
11,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-01 09:21:28,"Examples with Harvard Oxford, MSDL atlases: default `threshold` mode

``` python
from nilearn import datasets, plotting
# Harvard Oxford Atlas
atlas_img_4D = datasets.fetch_harvard_oxford('cort-prob-2mm')
# Visualization of Harvard Oxford Atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], 
                                                title='Harvard-Oxford with contours')
# Visualization of Harvard Oxford Atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], view_type='continuous',
                                                title='Harvard-Oxford with continuous')
```

Output:
![hocontours](https://cloud.githubusercontent.com/assets/11410385/7909869/ee77dd96-084f-11e5-8ac0-145d487b6aa7.png)

![hocontinuous](https://cloud.githubusercontent.com/assets/11410385/7909871/f46734d6-084f-11e5-8ea6-37cfade51177.png)

MSDL Atlas Example:

``` python
from nilearn import datasets, plotting
# MSDL Atlas
atlas_data = datasets.fetch_msdl_atlas()
atlas_filename = atlas_data.maps
# Visualization of MSDL Atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(atlas_filename,
                                                title='MSDL with contours')
# Visualization of MSDL Atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(atlas_filename, view_type='continuous',
                                                title='MSDL with continuous')
```

Output:
![msdlcontours](https://cloud.githubusercontent.com/assets/11410385/7909892/28d93494-0850-11e5-9071-517163b27955.png)
![msdlcontinuous](https://cloud.githubusercontent.com/assets/11410385/7909893/2d704934-0850-11e5-9224-abae23e8a240.png)
",,
12,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:35:33,"> As I see I missed the ""label = 0"", which is ""Frontal Pole""

I don't see how you can lose a region with this threshold strategy. Could you add some debug info, like the min and max of the frontal pole map and the computed threshold?
",,
13,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:40:03,"> To avoid maximum overlaps between each maps, I used less value `threshold=1e-1`.

For me, this value has no sense. What we said about threshold:
- if threshold is a string, it must look like ""38%"" and, in that case, we keep all the values that are, in absolute, above the threshold of 38%
- if threshold if a float, we use this value as a threshold
- if threshold is a list, then the same rules as above apply but each map has a different threshold

You can take a look at the parameter `edge_threshold` of `plot_connectome` which is handled the same way.
",,
14,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 13:04:26,"After addressing some comments: 
**Fixing contour fillings using contourf**
Output: 

``` python
import matplotlib.pyplot as plt
from nilearn import datasets, plotting

# Harvard Oxford Atlas
atlas_img_4D = datasets.fetch_harvard_oxford('cort-prob-2mm')
# Visualization of Harvard Oxford Atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0],
                                                title='Harvard-Oxford with contours')
# Visualization of Harvard Oxford Atlas maps as a contour fillings type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], fill=True,
                                                title='Harvard-Oxford with contour fillings')
# Visualization of Harvard Oxford Atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], view_type='continuous',
                                                title='Harvard-Oxford with continuous')
plt.show()
```

**contours**
**continuous overlays**
 **contours with fillings**
![hocontours](https://cloud.githubusercontent.com/assets/11410385/8058271/9ab3b904-0eb8-11e5-8954-1ec02903b50b.png)
![hooverlays](https://cloud.githubusercontent.com/assets/11410385/8058277/a173e3c2-0eb8-11e5-942b-802e607aa45a.png)
![hocontourfillings](https://cloud.githubusercontent.com/assets/11410385/8058278/a492db3a-0eb8-11e5-8f6a-a6677fd4abe0.png)
",,
15,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 14:02:43,"@GaelVaroquaux I'm not convinced by the filled contours and I think that we should let the user decide if he wants them or not. Do you agree with that? If so, should we add a `view_type` or a kwarg?
",,
16,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-09 14:53:25,"I agree that we should let the option open. It can be useful, as can be seen on figures from Yannick's paper.

Sent from my phone. Please forgive brevity and mis spelling

On Jun 9, 2015, 07:02, at 07:02, Alexandre Abraham notifications@github.com wrote:

> @GaelVaroquaux I'm not convinced by the filled contours and I think
> that we should let the user decide if he wants them or not. Do you
> agree with that? If so, should we add a `view_type` or a kwarg?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/589#issuecomment-110365075
",,
17,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 15:01:10,"You still have cosmetics details to solve. Apart from that, the code is ready.
",,
18,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-13 08:37:23,"@GaelVaroquaux We addressed most of the comments and I will push the code with these changes with some tests.
",,
19,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-14 11:55:27,"Example which displays Harvard-Oxford, MSDL and Smith 2009 atlas maps:
- Harvard Oxford

``` python
import matplotlib.pyplot as plt
from nilearn import datasets, plotting

# Harvard Oxford Atlas
atlas_img_4D = datasets.fetch_harvard_oxford('cort-prob-2mm')
# Visualization of Harvard Oxford Atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0],
                                                title='Harvard-Oxford with contours')
# Visualization of Harvard Oxford Atlas maps as a contour fillings type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], filled=True,
                                                title='Harvard-Oxford with contour fillings')
# Visualization of Harvard Oxford Atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(atlas_img_4D[0], view_type='continuous',
                                                title='Harvard-Oxford with continuous')
plt.show()
```
- MSDL

``` python
import matplotlib.pyplot as plt
from nilearn import datasets, plotting
# MSDL Atlas
atlas_data = datasets.fetch_msdl_atlas()
atlas_filename = atlas_data.maps
# Visualization of MSDL Atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(atlas_filename,
                                                title='MSDL with contours')
# Visualization of MSDL Atlas maps as a contour fillings type
display = plotting.img_plotting.plot_prob_atlas(atlas_filename, filled=True,
                                                title='MSDL with contour fillings')
# Visualization of MSDL Atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(atlas_filename, view_type='continuous',
                                                title='MSDL with continuous')
plt.show()
```
- Smith Atlas

``` python
import matplotlib.pyplot as plt
from nilearn import datasets, plotting
# Smith 2009 Atlas
smith_data = datasets.fetch_smith_2009()
# Visualization of Smith data atlas maps as a contours type
display = plotting.img_plotting.plot_prob_atlas(smith_data.rsn10,
                                                title='Smith Atlas with contours')
# Visualization of Smith data atlas maps as a contour fillings type
display = plotting.img_plotting.plot_prob_atlas(smith_data.rsn10, filled=True,
                                                title='Smith Atlas with contour fillings')
# Visualization of Smith data atlas maps as a continuous type
display = plotting.img_plotting.plot_prob_atlas(smith_data.rsn10, view_type='continuous',
                                                title='Smith Atlas with continuous')
plt.show()
```

![atlas](https://cloud.githubusercontent.com/assets/11410385/8148392/6e049ec8-129b-11e5-932a-3bbdc0f3c03f.png)
",,
20,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-14 11:57:01,"@GaelVaroquaux Pushed some changes. Balance as of now is to add smoke tests.
",,
21,issue_comment,589,nilearn,nilearn,bthirion,2015-06-14 18:55:17,"Looks great. Are you providing an example with these displays ?
",,
22,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-14 19:56:58,"Yes definitely. I have no specific thing to work on. May be an example should be using canica maps ?
",,
23,issue_comment,589,nilearn,nilearn,bthirion,2015-06-14 20:00:44,"Or just the same as you did with atlases ? The advantage is that the example would be faster (no computation involved), which is better if the purpose is to illustrate the visualization capabilities of Nilearn.
",,
24,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-14 20:47:01,"@KamalakerDadi : this is looking good. Now you need to work on the documentation (you need to add an entry to the plotting.rst documentation page) and the examples. It's important to get good wording.
",,
25,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-18 13:20:13,"You should also add your function in `__init__.py`.
",,
26,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-18 14:00:17,"ping @AlexandreAbraham @lesteve 

Addressed some of the comments.
",,
27,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-18 21:18:59,"We need an example.
",,
28,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-19 13:32:57,"ping @GaelVaroquaux @AlexandreAbraham 

Added a simple example file. If you need any specific example to be addressed your inputs are welcome. 
",,
29,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-19 16:30:49,"ping @GaelVaroquaux @AlexandreAbraham @lesteve 

I have also added an entry into plotting.rst. I had to follow the same lines of the previous entries. I hope it goes well.
",,
30,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-23 08:57:46,"ping @AlexandreAbraham @lesteve 
Added some lines in the `check_threshold` to suit for a generic usage and fixed minor documentation changes.
",,
31,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 11:02:55,"@AlexandreAbraham @GaelVaroquaux @lesteve 
I have added some tests and fixed some pep8 errors. Running nosetests seems to be OK with these new additions in the test files.
",,
32,issue_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:42:17,"I may have missed it but it looks like you are still not using check_threshold in the plot_connectome code.
",,
33,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 07:57:26,"I'll answer that point. In `plot_connectome`, some special calculations are made for the percent case. This is logical as computing a percentile means that we need data to compute the percentile on. I'm still questioning the interest of factorizing the code in a function but I definitely do not want to block the PR just for that. So maybe we can merge it and then find a clean way to factorize the code.
",,
34,issue_comment,589,nilearn,nilearn,lesteve,2015-06-29 08:08:27,"> I'll answer that point.

Chatting with @AlexandreAbraham we agreed that check_threshold can be used by the plot_connectome code.
",,
35,issue_comment,589,nilearn,nilearn,KamalakerDadi,2015-07-14 07:46:13,"ping @AlexandreAbraham @GaelVaroquaux @lesteve 
I have added an example which visualizes all the 4D atlases. Need some reviews and comments on the updates. If any.
",,
36,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-14 08:05:04,"> I have added an example which visualizes all the 4D atlases.

On my computer, fig 3 of this example (Harvard Oxford as continuous) is
broken. Feel free to drop by to see what I am talking about.
",,
37,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-14 08:09:19,"> > I have added an example which visualizes all the 4D atlases.

Also, I don't really like the fact that we now have two examples, one
named plot_prob_altas.py and the other named plot_probabilistic_atlas.py.
We need to find names that render the difference more obvious.
",,
38,issue_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-14 08:58:59,"You need to import the function in the **init** of plotting, so that it is directly accessible.
",,
39,issue_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-16 13:32:50,"You have my blessing :pray:
",,
40,issue_comment,589,nilearn,nilearn,lesteve,2015-07-16 13:07:44,"I think @KamalakerDadi is still tweaking a few things (sphinx minor issues mostly).
",,
41,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 07:16:41,"The name of the function is a bit misleading. Given that EPI is 4d, I may want to put it in this function, which is not the intended purpose. Something like `plot_atlas` or `plot_contours` would be more meaningful I think.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
42,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 07:17:25,"The cmap of the contours should be an option.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
43,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 07:18:08,"The value of levels is arbitrary here.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
44,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 07:23:02,"Is there a sense in applying vmin and vmax on anat? I would rather have `anat_vmin` and `anat_vmax` and maybe a `threshold` parameter to be considered as level.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
45,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-18 10:54:44,"Yes, I agree. I will change it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
46,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-18 10:55:51,"To be clarified myself, should be added as an optional argument ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
47,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-18 11:00:41,"I have looked how `plot_anat` and included here. Do you mean it will be nice to use keywords `anat_vmin` instead of `vmin` ?
I can also check ``threshold` parameter.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
48,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-18 11:02:40,"One thing I saw is that if I use default `cmap` which was already defined. I don't see any contours in colors instead showed in a gray scale. I thought there would be double mismatch with cmap.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
49,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-05-18 11:28:30,"> > +def plot_4d(img, anat_img=MNI152TEMPLATE, cut_coords=None,
> 
> Yes, I agree. I will change it.

It could be called 'plot_multi_maps', and have a contours option to
switch between contours and continuous colors.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
50,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-05-18 11:29:10,"> > -    node_colors = [plt.cm.spectral(i / float(n_colors))
> 
> To be clarified myself, should be added as an optional argument ?

Yes, the cmap should be there as an argument.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
51,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 11:39:49,"Why not `plot_maps`?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
52,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 11:42:33,"You already have `cmap` parameter and you use it for the anatomical background. You should rely on default argument for the anat and use the cmap arg here. In my experience, gist_rainbow is better than spectral since spectral have black and white colors.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
53,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-18 11:43:33,"Note: this is why you have nothing when plotting MSDL. We should put it as a parameter and have by default an 'auto' strategy where we use `compute_background_mask.`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
54,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-19 13:52:30,"> I have looked how plot_anat and included here. Do you mean it will be nice to use keywords anat_vmin instead of vmin ?

Well, take example on `plot_stat_map`. There is no option to set vmin and vmax for the anat. I think that you should do the same.

> I can also check `threshold parameter.

Yes, I think that it would be useful. Or maybe vmin to stick the conventions. @GaelVaroquaux, any thoughts on this?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
55,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-05-19 14:20:58,"At the moment, I used `display.add_contours(cur_img, levels=[anat_vmin, anat_vmax])`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
56,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-05-19 14:32:21,"Why do use `anat_vmin` to display non anatomic data? Plus, why would you put two contours in the figure?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
57,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:17:00,"Small remark, I think that @GaelVaroquaux wanted colormaps going from transparent to color and not from black to color.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
58,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:24:52,"The best way to handle that is to put `threshold` in the zip. And do this test before:

``` python
if not hasattr(threshold, '__iter__'):
    threshold = [threshold] * n_maps
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
59,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:31:09,"You don't need to take the abs. It's already done in `fast_abs_percentile` (hence the `abs` in the name ;)).
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
60,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 08:32:21,"Where is the `view_type` contours?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
61,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-03 11:45:02,"`view_type` contours does it in default `auto` mode.
You mean to switch to display only as contours without any contour fillings ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
62,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-03 11:48:49,"What we said, but maybe @GaelVaroquaux wan confirm, is that we have three view types:
- contours which plot contours only
- continuous which plot the statistical maps
- auto that chooses between these 2 modes depending on some heuristic on the data (typically, we can plot continuous maps if there is not too much overlap between the maps)
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
63,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-03 13:42:02,"Indeed.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
64,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-03 13:45:06,"Yes. And contours should be filled contours, like what Yannick does. Filled contours are not continous overlays, they are obtained using the matplotlib contourf function.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
65,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:32:02,"You should not add a parameter but directly use `type='contourf'` in function call.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
66,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:32:28,"You should not add spaces in these lines.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
67,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:32:48,"Trailing whitespaces.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
68,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:33:45,"Could you add a comment about what happens here because I don't get it :confused: 
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
69,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:34:40,"You still don't handle the case where threshold is a precise value and not a percentile.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
70,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:35:41,"I think `filled` would be better. Maybe we should add a `'filled_contours'` `view_type`, what do you think?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
71,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 13:40:44,"Not done intentionally. It happened when I was looking into the code whats happening to know how the add_contour does.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
72,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 13:40:55,"Same not done intentionally.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
73,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:44:40,"I know it's not intentional ;). You should take a look at vim-flake8 that spot these problems.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
74,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 13:46:41,"If I add `type='contourf'`, will it not disturb other contour plotting examples ?
Did I understood your comment wrongly?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
75,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 13:51:45,"You should add that in the function call. Instead of `draw_2d(..., fill=True)`, you can write `draw_2d(..., type=""contourf"")`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
76,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 13:57:05,"At the moment, I used simply a value. I would add code validations to accept string (percentage) as done in `plot_connectome` once we have a good discussions and conclusions on using a  `threshold`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
77,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 14:00:07,"`if filled` would be better but regarding `'filled_contours'` are we not trying to confuse by increasing the options ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
78,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 14:01:22,"We already had this discussion with Gael. You can code it, I think that's all what's left in this PR.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
79,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-09 14:01:34,"Even me too. I am sorry but basically for an easy way I took code snippet from Yannick. May be I will understand now to answer.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
80,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-09 14:03:41,"Obviously we should only chose one of these solutions. I asked Gael on the PR discussion, we'll wait for his answer.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
81,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:55:32,"Put a message that is more precise here.

Something like:

``` python
raise TypeError('You tried to plot an atlas with %i maps but gave %i values for thresholding, which is inconsistent.' % (n_maps, len(threshold)))
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
82,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:55:59,"```
threshold = ""99.7%""
```

Would work too and is clearer in this context.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
83,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:56:11,"You did not address this comment.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
84,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:56:20,"You did not address this comment.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
85,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:57:23,"You did not address this comment. What you can do is directly ask yannick or even do a `git blame` where you found the code and look at the log of the corresponding commit. It may be helpful.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
86,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:58:45,"When you add magic values, specify why you do that. Plus, this value is not small.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
87,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:58:59,"TODO here.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
88,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 14:59:59,"Add an inline comment like `# .5 alpha for filling color`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
89,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-12 19:33:05,"> Small remark, I think that @GaelVaroquaux wanted colormaps going from
> transparent to color and not from black to color.

Yes. And we have a function for that in plotting.com, I believe.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
90,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-12 19:34:40,"> What we said, but maybe @GaelVaroquaux wan confirm, is that we have three view
> types:
> 
>   • contours which plot contours only
>   • continuous which plot the statistical maps
>   • auto that chooses between these 2 modes depending on some heuristic on the
>     data (typically, we can plot continuous maps if there is not too much
>     overlap between the maps)

Yes. I'd also like a third option 'filled_contours', that reproduces the
figures from Yannick's work. This one would not be turned on
automatically.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
91,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 21:00:18,"I has been fixed.

On Fri, Jun 12, 2015 at 9:33 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/plotting/img_plotting.py
> https://github.com/nilearn/nilearn/pull/589#discussion_r32347171:
> 
> >  from .displays import get_slicer, get_projector
> >  from . import cm
> > 
> >  ################################################################################
> >  # Core, usage-agnostic functions
> > 
> > +def black_to(color):
> 
>  Small remark, I think that @GaelVaroquaux
> https://github.com/GaelVaroquaux wanted colormaps going from
> transparent to color and not from black to color.
> Yes. And we have a function for that in plotting.com, I believe.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/589/files#r32347171.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
92,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-12 21:01:09,"For the moment, you can do it by selecting view_type='contour' and
filled=True.

On Fri, Jun 12, 2015 at 9:34 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/plotting/img_plotting.py
> https://github.com/nilearn/nilearn/pull/589#discussion_r32347297:
> 
> > -    color_list = color_map(np.linspace(0, 1, n_maps))
> >   +
> > -    for i, (map_img, color) in enumerate(zip(iter_img(maps_img), color_list)):
> > -        over = black_to(color)
> > -        cont = ListedColormap(color).colors
> > -        if threshold is not None:
> > -           if hasattr(threshold, '**iter**'):
> > -              value = threshold[i]
> > -           else:
> > -                value = threshold
> > -        # To threshold or choose the level of the contours
> > -        percentile = 100 \* (1 - (value/n_maps))
> > -        data = np.abs(map_img.get_data())
> > -        level = fast_abs_percentile(data, percentile) + 1e-4
> >   +
> > -        if view_type == 'auto':
> 
>  What we said, but maybe @GaelVaroquaux https://github.com/GaelVaroquaux
> wan confirm, is that we have three view types: • contours which plot
> contours only • continuous which plot the statistical maps • auto that
> chooses between these 2 modes depending on some heuristic on the data
> (typically, we can plot continuous maps if there is not too much overlap
> between the maps)
> Yes. I'd also like a third option 'filled_contours', that reproduces the
> figures from Yannick's work. This one would not be turned on automatically.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/589/files#r32347297.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
93,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-12 21:48:07,"Should we remove the ""filled"" argument, and add an additional option to the view_type? I think that avoiding the multiplicity of kwargs is a good thing. 

Sent from my phone. Please forgive brevity and mis spelling

On Jun 12, 2015, 14:01, at 14:01, Alexandre Abraham notifications@github.com wrote:

> > -    color_list = color_map(np.linspace(0, 1, n_maps))
> >   +
> > -    for i, (map_img, color) in enumerate(zip(iter_img(maps_img),
> >   color_list)):
> > -        over = black_to(color)
> > -        cont = ListedColormap(color).colors
> > -        if threshold is not None:
> > -           if hasattr(threshold, '**iter**'):
> > -              value = threshold[i]
> > -           else: 
> > -                value = threshold
> > -        # To threshold or choose the level of the contours
> > -        percentile = 100 \* (1 - (value/n_maps))
> > -        data = np.abs(map_img.get_data())
> > -        level = fast_abs_percentile(data, percentile) + 1e-4
> > -   
> > -        if view_type == 'auto': 
> 
> For the moment, you can do it by selecting view_type='contour' and
> filled=True.
> 
> On Fri, Jun 12, 2015 at 9:34 PM, Gael Varoquaux
> notifications@github.com
> wrote:
> 
> > In nilearn/plotting/img_plotting.py
> > https://github.com/nilearn/nilearn/pull/589#discussion_r32347297:
> > 
> > > -    color_list = color_map(np.linspace(0, 1, n_maps))
> > >   +
> > > -    for i, (map_img, color) in enumerate(zip(iter_img(maps_img),
> > >   color_list)):
> > > -        over = black_to(color)
> > > -        cont = ListedColormap(color).colors
> > > -        if threshold is not None:
> > > -           if hasattr(threshold, '**iter**'):
> > > -              value = threshold[i]
> > > -           else:
> > > -                value = threshold
> > > -        # To threshold or choose the level of the contours
> > > -        percentile = 100 \* (1 - (value/n_maps))
> > > -        data = np.abs(map_img.get_data())
> > > -        level = fast_abs_percentile(data, percentile) + 1e-4
> > >   +
> > > -        if view_type == 'auto':
> > 
> >  What we said, but maybe @GaelVaroquaux
> > https://github.com/GaelVaroquaux
> > wan confirm, is that we have three view types: • contours which plot
> > contours only • continuous which plot the statistical maps • auto
> > that
> > chooses between these 2 modes depending on some heuristic on the data
> > (typically, we can plot continuous maps if there is not too much
> > overlap
> > between the maps)
> > Yes. I'd also like a third option 'filled_contours', that reproduces
> > the
> > figures from Yannick's work. This one would not be turned on
> > automatically.
> > 
> > —
> > Reply to this email directly or view it on GitHub
> > https://github.com/nilearn/nilearn/pull/589/files#r32347297.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/589/files#r32354591
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
94,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-12 22:16:44,"This function is already in cm.py. Please reuse it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
95,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-06-12 22:19:05,"Should we be using plot_anat here?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
96,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-15 06:34:15,"This is shorter and more reable:

``` python
filled_type = 'contour'
if filled:
    fikked_type += 'f'
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
97,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-15 06:35:49,"Something like `contour func` would be a better wording for this variable
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
98,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-15 06:37:50,"Don't put magic constants with no reason nor explanation.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
99,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-15 06:39:43,"use the view type `contours_filled` for that case.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
100,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-15 06:41:06,"You should raise an error if `view_type` is not an accepted value.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
101,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 09:38:25,"I personally prefer one-liners for things like that:

``` python
filled_type = 'contourf' if filled else 'contour'
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
102,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 09:39:59,"Not such a big deal for this one but please refrain from making changes like this in the future. It just adds unnecessary noise.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
103,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 09:41:58,"No need to pass explicitly a cmap here just let plot_anat use its default (which is indeed plt.cm.gray)
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
104,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 09:42:47,"For consistency I would use cmap=plt.cm.gist_rainbow here
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
105,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 09:46:50,"This is not going to play nicely with the rest of the code if threshold is an iterator. I would just require threshold to be a list for simplicity rather than trying to cater for iterators.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
106,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:05:37,"Result is the same : in any case, iterators are not supported.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
107,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:36:54,"Maybe threshold = list(threshold) before the `if` condtion?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
108,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:39:14,"You can replace this line by `else:`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
109,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:41:13,"Maybe `filled_contours` instead of `contours_filled`?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
110,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:42:12,"You should indent this block.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
111,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:42:54,"The `float(...)` was for testing, you can remove it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
112,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:03:24,"Just curious: .add_contours is going to be called twice if view_type == 'contours_filled' (in which case both `view_type.startswith('contours') and view_type == 'contours_filled'` are True), is that on purpose?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
113,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:04:17,"This is wrong (probably copied and pasted from plot_glass_brain)
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
114,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:05:27,"It seems that it has been copied and pasted from the plot_connectome code. It'd be great to put the functionality in a function and reuse it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
115,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:07:32,"""a value"" is quite vague
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
116,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 11:14:46,"Yes. `add_countours` plot contours around regions in solid lines. The other mode is used to fill these lines with transparent color.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
117,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 11:15:55,"Agreed. The whole gestion of threshold (value, string, or list of any of them) should be exported in a function.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
118,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:28:47,"Same thing about leaving threshold unspecified here and letting plot_anat set its default.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
119,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:30:03,"if you do require a list, why not use isinstance(threshold, list) then ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
120,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:32:15,"Should the coloring inside the solid lines not happen inside add_contours ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
121,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:35:13,"This seems a bit overcomplicated, is there no way to pass an alpha via the kwargs ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
122,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 11:37:40,"Looks like we require a colormap instance rather than a string for `cmap` for all the other plotting functions. For consistency I would follow the same convention here.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
123,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 12:09:28,"I think we should go for the simplest solution. We know that the handling of iterators in nilearn is partial and buggy in most functions so we won't handle it in this PR. We just try to support as many types as possible, ie numpy arrays, lists, tuples. I suggest this:

`if hasattr(threshold, '__len__') and not isinstance(threshold, _basestring):`

This matches all previous types but fails for iterators. BTW, if we do that and an iterator is given, it will explode deep in the code with a weird error I think.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
124,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-17 12:40:19,"> BTW, if we do that and an iterator is given, it will explode deep in the code with a weird error I think.

I reckon there should be a catch-all else at the end that raises if threshold is not of one of the accepted types.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
125,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-17 14:50:45,"I just followed the flow of the code. I felt its easy to call both contours and contour fillings when I use the first word naming as `contours`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
126,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-17 14:54:01,"If I get you correctly. Yes its happening inside provided when we override option `type` to `contourf`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
127,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 15:02:12,"I think that what @lesteve says is that `add_contours(filled=False)` should draw only the contours and `add_contours(filled=True)` should draw the contours and the filling at the same time, so only one call is required. This is a good point.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
128,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-17 15:04:02,"Well, the choice of namings should not be the easiest but the more accurate according to the english language ;). And `filled contours` has much more results than `contours filled` on google.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
129,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-18 13:25:37,"If `output_file` is not None, your function will crash since returned display will be None.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
130,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-18 13:33:59,"`countourf` does not use `linewidths`. Please remove it to avoid raising unnescessary warning.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
131,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-18 14:01:05,"I could not addressed this. Any ideas are welcome. Killed most of the time to address this.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
132,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-18 14:08:19,"Spurious space.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
133,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-22 10:57:13,"I would put ""ROIs contours are delineated by colored lines"". ""plots"" have no meaning in any case.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
134,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-22 10:58:05,"The colors ""will be picked randomly in the given colormap"". @banilo, could you review the documentation part of this PR at least? You're our expert!
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
135,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-22 11:00:20,"Maybe something like ""real values, percentage express in a string or a list of these""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
136,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-22 11:00:33,"itmush -> it must
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
137,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-22 11:06:24,"Just call the parameter threshold rather than thr.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
138,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-22 11:07:28,"I see the problem you are addressing but I don't think it's the best way to do it.

Your problem is : when the percentile il too high, all values of the image are kept, including the 0. in the background.
For me, the solution would be to consider the background to be masked by default, because it's background. And this is not specific to the percentile mode. I would remove the `1e-6` and add, just before the return statement:

``` python
# Get rid of background values in all cases
thr = max(thr, 1e-6)
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
139,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-22 11:12:56,"One of the point of creating this function was to be able to use it for connectome plotting. I don't think you have done that yet.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
140,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-22 11:15:59,"You should take care of keeping this function generic. For example, the 1e-6 threshold trick should probably not be part of this function because it looks like we don't need it for connectome plotting.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
141,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-22 11:17:27,"Why did you change the error message? I reckon the original one is more accurate:

``` python
'edge_threshold should be either a number '
'or a string finishing with a percent sign'
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
142,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-23 09:04:53,"Your example generates 3 images. So `plot_prob_atlas_006.png` will not exist. Pick an image from `plot_prob_atlas_001.png`, `plot_prob_atlas_002.png` or `plot_prob_atlas_003.png`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'doc/manipulating_visualizing/plotting.rst')"
143,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-23 09:06:03,"This code has nothing to do here!
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
144,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-23 09:08:51,"Second point of this remark has not been addressed.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
145,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-23 14:40:22,"I think that there is a misunderstanding on this function. You seem to randomly add stuff to address comments without converging toward an acceptable solution. What you must do is see the logic in common between the two functions, see which functional part of the code can be put in common, think about the specifications (or write them down) and then code it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
146,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-24 06:41:37,"Not sure whether this comment was made before the most recent changes but I don't see too much wrong with this function right now.

I think something which needs to be done is to use it in the plot_connectome code, which hasn't been done yet.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
147,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:08:59,"Spurious spaces.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
148,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:10:46,"It is optional.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
149,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 11:11:11,"I loooked the preview of the doc. It looks so clumbsy.  Thats the reason why I added some spaces. If you are talking about the line gaps. for example between 1. and 2.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
150,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:11:35,"Use `str` or `string` but be consistent.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
151,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 11:12:47,"I removed because it exceeded more that 79 according to pep8 warnings.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
152,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 11:13:34,"Ok.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
153,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:16:45,"This function does not handle lists of threshold.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
154,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:17:18,"First line of the doc contains only the type of the parameter. Semantic information are described after.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
155,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:18:06,"Your code won't work with a string. If you want to handle both `scoreatpercentile` and `fast_abs_percentile`, I would add a `exact=True` parameter rather than passing the function.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
156,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 11:26:07,"We are looping over the list of thresholds in `plot_prob_atlas` case where as `plot_connectome` I suppose there is no doc for list of thresholds. So, I think we are safe in both cases. Am I wrong ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
157,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 11:27:37,"The code is good in both cases. However, this particular function does not handle lists ofr thresholds.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
158,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 12:18:04,"Ok. May be something like this: Will this suits ?
**a numpy array of a map or a adjacency matrix of shape (n, n)**
**data of a map represents the probabilistic atlas of the brain regions whereas adjacency matrix represents the** **edges or connections of the brain regions.**
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
159,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 12:21:27,"There is no map or adjacency matrix specific code here. This is sufficient:

``` python
    data: numpy array
        Data on which the threshold will be calculated if the threshold is a percentage.
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
160,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 12:28:09,"I will stick to this 
`Data on which the threshold will be calculated`
since I already told this in the `returns`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
161,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 12:33:30,"Ok, then at the moment I will remove saying `list of these`. 
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
162,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 13:02:56,"Do you think I should add lines of code so that it will also handle list ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
163,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-26 13:23:37,"I actually checked with `plot_prob_atlas` by changing the string of the function. I may also be wrong. Can you please elaborate a bit on this ? `exact=True`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
164,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-26 22:21:39,"What I think is that since you've added some tests, your PR is now ready to merge and I don't want to spend weeks arguing about one function. Factorizing this code with the one in `plot_connectome` is not trivial and maybe we should keep that for the sprint.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
165,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:15:27,"I think I had an old comment somewhere that was saying I would rather have one `add_contours` call and that `add_contours(filled=True)` would do both the filling and the line around it.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
166,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:17:19,"Just use a clearer name, like allowed_view_types.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
167,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:18:10,"This should be a ValueError rather than a TypeError I reckon.

Also your error message is incomplete, 'auto' is another possibility that you haven't listed.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
168,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:19:25,"I am not too sure this one is necessary TBH.

The previous check making sure that view_type is one of the allowed view types is enough.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
169,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-29 07:24:40,"Yes I tried with this idea but the only way to happen is to call both `contour` and `contourf` some where whether it would be in `draw_2d` or in the same `plot_prob_atlas`. It looks complicated for me. Also we need to take care of `levels` which needs low level to be appended to `0.` to work for contour fillings seems to be bit complicated for me to handle both cases.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
170,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:25:24,"You can go to the next line using `\`. This is actually the only way to please numpydoc. For an example see:
https://github.com/scikit-learn/scikit-learn/blob/master/sklearn/manifold/mds.py#L368
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
171,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:26:18,"Try to avoid fixing PEP8 problems if you don't touch the neighboring lines.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(45, '', u'nilearn/plotting/img_plotting.py')"
172,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:31:34,"a three -> three
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
173,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:37:41,"Remove this comment which doesn't add anything. BTW this is not a smoke test.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
174,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:38:26,"Call it test_check_threshold. This doesn't have anything to do with plot_connectome any more.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
175,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:39:39,"While you are at it, you should check that `name` is used in the error message. You can use a regexp like:

`'{0}.+should be a number followed by the percent sign'.format(name)`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
176,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 07:44:32,"@KamalakerDadi, I find your explanation very shallow!

Basically, adding `filled=True` in `add_contours` is not trivial because some options are common for `contour` and `contourf` and some are not. We would end up with a lot of kwargs in `add_contours` and the code would be much more complicated.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
177,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 07:45:45,":+1: 
Also, you have a set of allowed types. Use this set to generate the error message: it will be shorter and more robust.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
178,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 07:47:16,":+1:
You can use the condition `if not isinstance(view_type, _basestring) or view_type not in _view_type:`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
179,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 07:48:33,"Okay, but you have to escape the newline and properly indent the line below. Thanks for the tip!
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
180,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:52:09,"The problem in my mind is that the .add_\* methods can be called directly by the (advanced) user so they should be convenient to use. Remembering to call add_contours twice plus do the magic with the threshold and the alpha is not a very reasonable expectation.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
181,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-06-29 07:53:15,"> If you want to handle both scoreatpercentile and fast_abs_percentile, I would add a exact=True parameter rather than passing the function.

Personally I am fine with passing in a function.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
182,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-29 09:24:12,"Since we have bug in `display.add_overlay` when plotting Harvard Oxford Atlas, can I change the atlas name to MSDL ?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
183,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-06-29 11:57:45,"No, we'll fix the bug.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
184,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-06-29 21:04:31,"ping @lesteve @AlexandreAbraham 
Attempts are made regarding this comment. Please let me know if it looks OK.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
185,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-06-30 00:33:05,"Aren't additional brackets more pythonic than the backslash here?
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
186,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-06 11:55:44,"`elif` -> `if` otherwise filled will not be properly initialized for `auto`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
187,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-07-06 17:10:06,"Should I change `elif` to `if` ?

> otherwise filled will not be properly initialized for auto

We were discussed not to include filled in `auto`. Sorry I could not get it properly.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
188,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:13:19,"No problem. I may even be the one that told you to put an elif here ;). However, it is weird that you did not spot this problem in the tests (even if they are smoky).
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
189,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-07-12 11:53:19,"Fixed.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
190,pull_request_commit_comment,589,nilearn,nilearn,arthurmensch,2015-07-13 09:31:30,"Maybe test that check_threshold returns the right value with valid arguments:

``` python
assert( 1. < check_threshold('50%', adjacency_matrix, calculate, name) < 2.)
```
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(44, '', u'nilearn/plotting/tests/test_displays.py')"
191,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-07-13 11:30:40,"Tests are passed by adding this line. Done
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(44, '', u'nilearn/plotting/tests/test_displays.py')"
192,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-14 08:41:53,"Yes
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
193,pull_request_commit_comment,589,nilearn,nilearn,KamalakerDadi,2015-07-14 11:49:27,"Fixed
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
194,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:11:36,"Please remove disabled code.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/displays.py')"
195,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:39:07,"There is no custom colormap, it's just a list.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
196,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:41:21,"`filled = view_type.startsWith('filled')`
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
197,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-14 12:48:46,"an idea of
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
198,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-14 12:50:08,"Comment content redundent with print content
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
199,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-14 15:58:19,"too many lines (PEP8)
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
200,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-14 15:59:43,"inconsistency: space before :
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
201,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-15 14:48:36,"add `sorted`so that the order will not change different runs of document compilation
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
202,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-15 14:50:41,"The description of the function is not entirely clear.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(115, '', u'nilearn/plotting/displays.py')"
203,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-15 14:51:38,"One could inverse the if-else here to handle the non-basestring case first, instead of having the body of the function inside an if-clause
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(151, '', u'nilearn/plotting/displays.py')"
204,pull_request_commit_comment,589,nilearn,nilearn,banilo,2015-07-15 14:54:03,"4D prob.. map [no s]..because you already said it is 4d
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
205,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:52:12,"Remove ""Basically"". Also ""gives an idea"". I would say ""This example shows how to visualize probabilistic atlases made of 4D images. There are 3 different display types: 1....""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
206,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:52:59,"""This function""? Which function? I would say:

""The :func:`nilearn.plotting.plot...` function displays...""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
207,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:53:24,"Here I would like a dictionary to be used.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
208,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:55:36,"You are missing a description of what is data here (you're just describing it's type).
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
209,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:56:01,"This empty line shouldn't be there.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(60, '', u'nilearn/plotting/img_plotting.py')"
210,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 16:57:03,"Break down this entry in the type, which goes on the first line, and what it means (4D probabilistic...) that goes on a line below.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
211,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:18:19,"You haven't addressed my comment that I did earlier:
- Rename 'allowed_view_types' to 'valid_view_types'
- Don't use ""list(('a', 'b', 'c'))"" but ""['a', 'b', 'c']""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
212,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:20:20,"You don't want to be testing for a list, because that's too restrictive. You need to use something like:

<pre>
import collections

if isinstance(e, collections.Iterable):
</pre>
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
213,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:04:07,"Extra spaces.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'doc/manipulating_visualizing/plotting.rst')"
214,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:04:40,":+1:
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
215,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:06:07,"I think that there is no `between` after `tune`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
216,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:06:48,"Unnecessary newline.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
217,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:08:46,"This function is in `displays.py` and in `img_plotting.py`. You only need one version ;).
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
218,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:09:03,"Missing newline
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
219,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:10:26,"Sorry, we had to deal with a git spaghetti history and lost comments in the process.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
220,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:15:03,"You need at least to check that `threshold` is not a `_basestring`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
221,pull_request_commit_comment,589,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:16:17,"For next PR: try not to fix PEP8 errors in random code. Only fix them if you work in the concerned code.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(225, '', u'nilearn/plotting/img_plotting.py')"
222,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 06:11:54,"> You need at least to check that threshold is not a _basestring.

You have a point. But let's at least accept tuples and arrays, or there
will be a surprising behavior.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
223,pull_request_commit_comment,589,nilearn,nilearn,lesteve,2015-07-16 07:42:24,"Also supporting iterables in general, without an extremely good reason, is a pain in the ass as we already experienced elsewhere in nilearn. For example, this code will break with an iterable because you consume the iterable at least twice, `len(threshold)` and `enumerate(zip(..., threshold))`.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
224,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:43:36,"Yes, it's fine. Let's just support list, tuple and arrays, which are the
comon cases.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
225,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 12:21:53,"To be more precise, I would write.

e.g. ""25.3%"", and it is a percentile. Or if it is a number, if should be a real number, in which case it is the value to threshold at.
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'nilearn/plotting/img_plotting.py')"
226,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 12:28:25,"I would make this title shorter:

""Visualizing 4D probabilistic atlas maps""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
227,pull_request_commit_comment,589,nilearn,nilearn,GaelVaroquaux,2015-07-16 12:29:23,"You need a 'sorted' here, because 'items()' will not always return the values in the same order. So the code would be:

""for name, atlas in sorted(atlas_types.items()):""
",e9838f8f0660404a5c6af8e6995767b5093b2c45,"(None, '', u'examples/manipulating_visualizing/plot_prob_atlas.py')"
228,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-05-16 17:48:34,Adding a 4Dplot function displaying as a contours in img_plotting using a Harvard Oxford 4D maps,b0d4c8fb28b7ac5fec549c8c6edf059c95467e73,
229,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-16 15:49:30,"Added view_type='contours_filled' and added some validation steps
to accept correct input to ""view_type"" and added some documentation lines",eb3c70506387a1a17268bc05de6aa44503cae0a8,
230,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-18 13:54:01,Fixed new comments,42d67f40c9428eb17acdb533083bd4c42c69877b,
231,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-19 13:24:17,Added plot_prob_atlas in init file and some minute changes,8eeef8edeaef454ae51fd69d83f55e4e9c15d398,
232,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-19 13:27:26,Added an example showing how to plot Harvard Oxford Atlas,cc11a1c14ae36bedc98bbe913c957dc36da4d484,
233,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-19 13:44:52,Added magic value to show a consistent behaviour with all atlas maps,4dfc01cce0b89854468772af6412f394c11f8aa0,
234,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-19 16:26:24,Added plot_prob_atlas entry in plotting documentation,0a5b70004a3fcd1ba3db74791f874b7e48eb6ac7,
235,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-23 08:48:09,"Attempts to fix function threshold towards a more generic usage
and some minor documentation changes",938fb2392d18595ac01bfa43b84d748fe5cff03b,
236,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-23 08:53:57,Removed unwanted lines,00fcab123fb50cadebf25b7e6f5084a29eb7cdde,
237,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-23 14:19:30,"Changed some code in check_threshold function and addressed some comments
changing image name in plotting doc",bea275d03e5dd159a02eb87d901d8e6a86c79643,
238,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-26 10:58:43,Added tests and fixed some pep8 errors,60e7e0a74601a1dc9ebaea2b29f3a6ff08d5a072,
239,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-29 11:59:43,Fixed almost all comments,c6d616a9a0fbefefeddb42cd3ee3f3c01009d1a9,
240,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-06-29 21:00:56,Attempts to fix calling add_contours only once to display both contours and fillings,92fcf9c916762fc15fb4cb40b02d8eb73a688bff,
241,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-12 09:34:22,Added the example which shows visualizing the available 4D atlas maps,f8cc4cbb71deffd1f607c34b01ffe1b1e62c058a,
242,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-12 11:49:54,"Fixed ""if"" bug",36b6f80969eded5a7ba6351dfcf665a4ce0ac02f,
243,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-13 11:28:45,Added test to check the output of a score percentile in check_threshold,8601c67244d1538dda8f1351ccde7d18e32fcda3,
244,pull_request_commit,589,nilearn,nilearn,GaelVaroquaux,2015-07-14 09:24:46,"ENH: tweak default for plot_prob_atlas

Also, add more atlases in the example",2d035ed79bb41e800172bf9e140c5efb424a45ec,
245,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-14 09:55:56,"Renamed plot_probabilistic_atlas to plot_overlay and changed
documentation related to plot_probabilistic_atlas",20809d2de9d55a8122e0e861cf2b77c5cbe9a6a0,
246,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-16 07:50:05,Adderessed some recent comments,dbae23562d59f3b487306d7b091e79833f8e5aad,
247,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-16 12:11:55,Addressed all the comments at maximum,2bac5630c92dd579eb1289003f427dc704a050f0,
248,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-16 12:30:48,Added threshold doc correction,0d3eca6924d31e29227b5192937f8aed145dba0e,
249,pull_request_commit,589,nilearn,nilearn,KamalakerDadi,2015-07-16 13:14:53,Final fix related to documentation in plotting and references,e9838f8f0660404a5c6af8e6995767b5093b2c45,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,686,nilearn,nilearn,MartinPerez,2015-07-16 12:34:46,"I fixed the links of the right top corner of the banner in layout.html. Solution for issue #684  
",start issue,[MRG] Broken links. Solved #684
2,issue_closed,686,nilearn,nilearn,MartinPerez,2015-07-16 15:33:58,,closed issue,[MRG] Broken links. Solved #684
3,pull_request_title,686,nilearn,nilearn,MartinPerez,2015-07-16 12:34:46,"I fixed the links of the right top corner of the banner in layout.html. Solution for issue #684  
",0b369f86491028bad979961b201ee3a698db53ae,[MRG] Broken links. Solved #684
4,issue_comment,686,nilearn,nilearn,AlexandreAbraham,2015-07-16 14:29:14,"Yes, but the code of your PR #687 is included in this PR.
",,
5,issue_comment,686,nilearn,nilearn,AlexandreAbraham,2015-07-16 15:10:59,"No problem ;). It happened to all of us.
",,
6,issue_comment,686,nilearn,nilearn,MartinPerez,2015-07-16 14:22:51,"This has nothing to do with #687 , The links in the top corner of the banner of the webpage had to be fixed to the correct links. They had the wrong references;
",,
7,issue_comment,686,nilearn,nilearn,MartinPerez,2015-07-16 15:09:41,"Oh I am sorry I realized I branched from the other branch instead of master. I will fix this.
",,
8,issue_comment,686,nilearn,nilearn,MartinPerez,2015-07-16 15:28:30,"I created a clean branch with the correct commit, only 7 lines modified. Please take this pull request down. And look into the corrected pull request #692
",,
9,pull_request_commit,686,nilearn,nilearn,MartinPerez,2015-07-16 10:15:02,generated old documentation,a86a56dbf356943e63e5e9070be7a0036801b13a,
10,pull_request_commit,686,nilearn,nilearn,MartinPerez,2015-07-16 11:45:47,new install documentation component integrated,36dc58653083b0ae19809fea0c387d49723d4567,
11,pull_request_commit,686,nilearn,nilearn,MartinPerez,2015-07-16 12:26:07,fix broken links of the top right corner of the banner in layout.html,0b369f86491028bad979961b201ee3a698db53ae,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,631,nilearn,nilearn,KamalakerDadi,2015-07-03 14:56:08,"CSV files can be arrays, or strings but we can't give directly a file handler. Not sure if it is useful though.
",start issue,File handlers are not supported for file input
2,issue_closed,631,nilearn,nilearn,AlexandreAbraham,2015-07-15 14:21:06,,closed issue,File handlers are not supported for file input
3,issue_comment,631,nilearn,nilearn,GaelVaroquaux,2015-07-03 15:17:13,"> CSV files can be arrays, or strings but we can't give directly a file handler.
> Not sure if it is useful though.

Not sure either. Do you have a specific usecase?
",,
4,issue_comment,631,nilearn,nilearn,lesteve,2015-07-15 13:58:33,"@AlexandreAbraham apparently you are the one who wrote this one and not @KamalakerDadi ... Do you remember more about the context ?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,740,nilearn,nilearn,lesteve,2015-07-29 13:19:16,"Nobody is working on existing examples AFAIK so it shouldn't be too much pain.
",start issue,[MRG] Run autopep8 in examples
2,issue_closed,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 11:49:32,,closed issue,[MRG] Run autopep8 in examples
3,pull_request_title,740,nilearn,nilearn,lesteve,2015-07-29 13:19:16,"Nobody is working on existing examples AFAIK so it shouldn't be too much pain.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,[MRG] Run autopep8 in examples
4,pull_request_merged,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 11:49:32,[MRG] Run autopep8 in examples,60efa8cc4e3547d71740a94c369952cc6e6055f9,Pull request merge from lesteve/nilearn:autopep8-examples to nilearn/nilearn:master
5,issue_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-29 13:27:23,"Yeah, maybe we should fine another convention for these ones...
",,
6,issue_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-29 13:40:53,"Not by the last version.
",,
7,issue_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 08:29:07,"One small comment in the code. Apart from that, :+1: 
",,
8,pull_request_commit_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 08:23:44,"AFAIK the only constraint on comment in PEP8 is to start by sharp + whitespace. Maybe something like

``` Python
# Title 1
# - Title 2
# -- Title 3
```

could do ?
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(5, '', u'examples/decoding/plot_haxby_anova_svm.py')"
9,pull_request_commit_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 08:27:18,"I already found this line hard to understand before (I particularly dislike playing with the priority of operators = and ==) but now the new_line make it even more obscure. Maybe we could change by:

``` python
task_mask = np.logical_not(resting_state)  # or sample_mask?
classification_target = (stimuli[task_mask] == category)
```
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(29, '', u'examples/decoding/plot_haxby_different_estimators.py')"
10,pull_request_commit_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 08:27:57,"Funny to see how starting # are not remove in this one.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(17, '', u'examples/decoding/plot_haxby_space_net.py')"
11,pull_request_commit_comment,740,nilearn,nilearn,AlexandreAbraham,2015-07-30 08:28:43,"OK, I think that the leading `###` are not here to indicate a level of comment but just for cosmetics. In that cas, removing them is fine for me.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(5, '', u'examples/decoding/plot_haxby_anova_svm.py')"
12,pull_request_commit_comment,740,nilearn,nilearn,lesteve,2015-07-30 08:37:54,"Removing them sounds fine then. Note that if we want headers for sphinx-gallery we'll have to write them in reST.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(5, '', u'examples/decoding/plot_haxby_anova_svm.py')"
13,pull_request_commit_comment,740,nilearn,nilearn,lesteve,2015-07-30 08:38:58,"Different PR or even commit into master?
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(29, '', u'examples/decoding/plot_haxby_different_estimators.py')"
14,pull_request_commit_comment,740,nilearn,nilearn,lesteve,2015-07-30 08:42:06,"Yeah I don't really understand what the rule is ... As a side note, I removed this one by hand for the reason mentioned in my first commit message:

>  MAINT prepare examples for nicer interactionwith autopep8
> autopep8 shortens line of comments to 72 characters if strictly above 79
> but leaves lines of 72 to 79 characters alone ...
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(17, '', u'examples/decoding/plot_haxby_space_net.py')"
15,pull_request_commit_comment,740,nilearn,nilearn,GaelVaroquaux,2015-07-30 08:43:26,"> Yeah I don't really understand what the rule is ...

I hate autopep8 and other tools like this, because their interpretation
of the details of pep8 varies (and varies across versions of the same
tool).
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(17, '', u'examples/decoding/plot_haxby_space_net.py')"
16,pull_request_commit_comment,740,nilearn,nilearn,lesteve,2015-07-30 08:43:36,"I am guessing this pattern may be used in other examples too.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(29, '', u'examples/decoding/plot_haxby_different_estimators.py')"
17,pull_request_commit_comment,740,nilearn,nilearn,lesteve,2015-07-30 09:28:13,">  their interpretation of the details of pep8 varies (and varies across versions of the same tool).

I have to say just using it a little bit got me convinced that there are indeed subtleties involved. I would argue that it is still a useful tool ...
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(17, '', u'examples/decoding/plot_haxby_space_net.py')"
18,pull_request_commit_comment,740,nilearn,nilearn,GaelVaroquaux,2015-07-30 09:33:13,"> I have to say just using it a little bit got me convinced that there
> are indeed subtleties involved. I would argue that it is still a useful
> tool ...

I agree. Mostly as a training tool.
",1e3a28353cd8c898557d06bf3f22b44f396b4e75,"(17, '', u'examples/decoding/plot_haxby_space_net.py')"
19,pull_request_commit,740,nilearn,nilearn,lesteve,2015-07-29 13:16:42,"MAINT prepare examples for nicer interactionwith autopep8

autopep8 shortens line of comments to 72 characters if strictly above 79
but leaves lines of 72 to 79 characters alone ...",a429020ce178f0a0052ceae1c15e5826c4f4a441,
20,pull_request_commit,740,nilearn,nilearn,lesteve,2015-07-29 13:18:55,MAINT run autopep8 in examples,1e3a28353cd8c898557d06bf3f22b44f396b4e75,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,666,nilearn,nilearn,AlexandreAbraham,2015-07-14 16:03:34,"This PR exposes `new_img_like` option. This rely on the same mechanism used but `index_img` to avoid circular import, ie a `_new_img_like` function that works on img is present in `_utils`.

This is not a fancy solution but, among all ugly solutions, it may be the best one.
",start issue,Move new_img_like in image
2,issue_closed,666,nilearn,nilearn,AlexandreAbraham,2015-07-14 23:10:15,,closed issue,Move new_img_like in image
3,pull_request_title,666,nilearn,nilearn,AlexandreAbraham,2015-07-14 16:03:34,"This PR exposes `new_img_like` option. This rely on the same mechanism used but `index_img` to avoid circular import, ie a `_new_img_like` function that works on img is present in `_utils`.

This is not a fancy solution but, among all ugly solutions, it may be the best one.
",5fe4c3ed9689d6e6c5027b2939017028979f6ed1,Move new_img_like in image
4,pull_request_commit,666,nilearn,nilearn,AlexandreAbraham,2015-07-14 16:00:59,Move new_img_like in image,5fe4c3ed9689d6e6c5027b2939017028979f6ed1,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,676,nilearn,nilearn,arthurmensch,2015-07-15 12:39:28,"Refactorisation of PR #638. I added a SinglePCA class that process a list of imgs, stacking single subject PCA together. It is derived by both MultiPCA and DictLearning.

DictLearning can be arbitrarily initialized (parameter `dict_init`), and by default initialize dictionary with a CanICA.
",start issue,[To close] L1 dict learning composition
2,issue_closed,676,nilearn,nilearn,GaelVaroquaux,2015-07-18 15:48:02,,closed issue,[To close] L1 dict learning composition
3,pull_request_title,676,nilearn,nilearn,arthurmensch,2015-07-15 12:39:28,"Refactorisation of PR #638. I added a SinglePCA class that process a list of imgs, stacking single subject PCA together. It is derived by both MultiPCA and DictLearning.

DictLearning can be arbitrarily initialized (parameter `dict_init`), and by default initialize dictionary with a CanICA.
",368ba33403c2b730dcbd81d669882f50540449b7,[To close] L1 dict learning composition
4,issue_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:41:24,"@arthurmensch : are you pleased with this code design?

It seems to me quite nice. I like it! I think that this is the right track.
",,
5,issue_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-16 16:38:49,"Side remark: if you rebase on master, you can now use the plot_prob_atlas in your example, which makes it even cooler.
",,
6,issue_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-18 15:48:02,"Closing.
",,
7,issue_comment,676,nilearn,nilearn,AlexandreAbraham,2015-07-15 14:30:29,"Isn't SinglePCA file missing?
",,
8,issue_comment,676,nilearn,nilearn,lesteve,2015-07-17 16:54:06,"> This PR should be closed now, see PR #693

You should be able to close it yourself, shouldn't you?
",,
9,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:29:30,"I think that we shouldn't be changing the memory_level in the examples, we should use the default one.
",368ba33403c2b730dcbd81d669882f50540449b7,"(36, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
10,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:30:56,"Is that change still relevant?
",368ba33403c2b730dcbd81d669882f50540449b7,"(16, '', u'nilearn/decomposition/canica.py')"
11,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:31:25,"At some point, you will want to be slightly more verbose here.
",368ba33403c2b730dcbd81d669882f50540449b7,"(2, '', u'nilearn/decomposition/dict_learning.py')"
12,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:32:12,"TODO
",368ba33403c2b730dcbd81d669882f50540449b7,"(100, '', u'nilearn/decomposition/dict_learning.py')"
13,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:34:06,"Should the default be to 'auto'? If not, we should probably remove the option 'auto'.
",368ba33403c2b730dcbd81d669882f50540449b7,"(110, '', u'nilearn/decomposition/dict_learning.py')"
14,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:36:12,"I would think that the 'do_cca' option needs to be moved to MultiPCA, as it doesn't have a lot of meaning in SinglePCA.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/multi_pca.py')"
15,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:37:37,"OK, I see that it would make the code much more complex. So let's leave it there. It just needs to be well documented there.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/multi_pca.py')"
16,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:38:30,"numpy import should be just before scipy import: we do from more general to less general (ie more domain-specific)
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/single_pca.py')"
17,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:39:26,"In the context of this object, no CCA is run. It's more that the subject-level data is whitened, for instance as a preparation step to do a CCA.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/single_pca.py')"
18,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:43:02,"Are you sure that this import is useful? It seems that the only change that you have done to the file is to add it.
",368ba33403c2b730dcbd81d669882f50540449b7,"(6, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
19,pull_request_commit_comment,676,nilearn,nilearn,GaelVaroquaux,2015-07-15 18:44:55,"We could check that the components are reasonably orthogonal: the off-diagonal element of np.dot(components, components.T) being small.

That would make a numerical test, on top of the smoke tests above.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/tests/test_single_pca.py')"
20,pull_request_commit_comment,676,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:31:56,":+1:
",368ba33403c2b730dcbd81d669882f50540449b7,"(36, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
21,pull_request_commit_comment,676,nilearn,nilearn,AlexandreAbraham,2015-07-15 23:05:07,"I've been thinking about your optimization. In some sklearn functions, there is a switch to allow multiple inputs. In [Spectral clustering](http://scikit-learn.org/stable/modules/generated/sklearn.cluster.SpectralClustering.html), you can specify `affinity='precomputed'` and directly give the affinity matrix in the fit.

You could do the same here for the subject pca.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/dict_learning.py')"
22,pull_request_commit_comment,676,nilearn,nilearn,AlexandreAbraham,2015-07-15 23:11:58,"If you look at the original code, there is an efficient concatenation after the computation of session_pca. Maybe you should systematically concatenate afterward.
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'nilearn/decomposition/dict_learning.py')"
23,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-16 09:38:51,"dito
",368ba33403c2b730dcbd81d669882f50540449b7,"(2, '', u'nilearn/decomposition/dict_learning.py')"
24,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-16 09:40:26,"trailing points are inconsistent
",368ba33403c2b730dcbd81d669882f50540449b7,"(57, '', u'nilearn/decomposition/dict_learning.py')"
25,pull_request_commit_comment,676,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:32:32,"Except that, as Salma underlined, default parameter raises a warning.
",368ba33403c2b730dcbd81d669882f50540449b7,"(36, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
26,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 15:13:58,"Give the actual link: https://hal.inria.fr/inria-00588898/en/
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
27,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 15:14:46,"from sklearn.externals.joblib import Memory
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
28,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 15:28:25,"Currently needs to be imported from nilearn.decomposition.dict_learning
",368ba33403c2b730dcbd81d669882f50540449b7,"(31, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
29,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 15:56:20,"Why one component in two ? 
",368ba33403c2b730dcbd81d669882f50540449b7,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
30,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 16:02:41,"Oops, the line is probably too long
",368ba33403c2b730dcbd81d669882f50540449b7,"(97, '', u'nilearn/decomposition/_subject_pca.py')"
31,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-16 17:15:30,"Works now. Great stuff.
",368ba33403c2b730dcbd81d669882f50540449b7,"(69, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
32,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-17 08:47:01,"Add PCA and plain vanilla ICA for comparison?
",368ba33403c2b730dcbd81d669882f50540449b7,"(41, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
33,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-17 08:51:13,"add a comment for this heuristic
",368ba33403c2b730dcbd81d669882f50540449b7,"(83, '', u'nilearn/decomposition/_subject_pca.py')"
34,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-17 08:54:23,"trailing points inconsistent
",368ba33403c2b730dcbd81d669882f50540449b7,"(102, '', u'nilearn/decomposition/_subject_pca.py')"
35,pull_request_commit_comment,676,nilearn,nilearn,banilo,2015-07-17 09:15:31,"different results across iterations or different results coming out of the function...below there appears to be only one function call....
",368ba33403c2b730dcbd81d669882f50540449b7,"(46, '', u'nilearn/decomposition/tests/test_canica.py')"
36,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:08:53,"Would make the example pretty long, but it could be interesting
",368ba33403c2b730dcbd81d669882f50540449b7,"(41, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
37,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:09:46,"Done in PR #693 
",368ba33403c2b730dcbd81d669882f50540449b7,"(83, '', u'nilearn/decomposition/_subject_pca.py')"
38,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:11:29,"Can you clarify ?
",368ba33403c2b730dcbd81d669882f50540449b7,"(46, '', u'nilearn/decomposition/tests/test_canica.py')"
39,pull_request_commit_comment,676,nilearn,nilearn,bthirion,2015-07-17 14:12:40,"I'm not sure we want that. PCA probably yields ugly results an should not be used for that purpose anyhow. Concatenated ICA will probably not work as well as CanICA. I'm afraid of added complexity + computation overhead + message dilution
",368ba33403c2b730dcbd81d669882f50540449b7,"(41, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
40,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:19:37,"It is
",368ba33403c2b730dcbd81d669882f50540449b7,"(6, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
41,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:19:46,"Done
",368ba33403c2b730dcbd81d669882f50540449b7,"(110, '', u'nilearn/decomposition/dict_learning.py')"
42,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:19:51,"DOne
",368ba33403c2b730dcbd81d669882f50540449b7,"(16, '', u'nilearn/decomposition/canica.py')"
43,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:20:05,"Put to 2...
",368ba33403c2b730dcbd81d669882f50540449b7,"(36, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
44,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:20:12,"Done
",368ba33403c2b730dcbd81d669882f50540449b7,"(100, '', u'nilearn/decomposition/dict_learning.py')"
45,pull_request_commit_comment,676,nilearn,nilearn,arthurmensch,2015-07-17 14:21:23,"I agree, I think comparing two methods only is the best way to have impact
",368ba33403c2b730dcbd81d669882f50540449b7,"(41, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
46,pull_request_commit,676,nilearn,nilearn,arthurmensch,2015-07-08 09:35:00,Base code for l1 dictionary learning,4f0de556647fd12505ababbb827e05760219f0da,
47,pull_request_commit,676,nilearn,nilearn,arthurmensch,2015-07-16 16:45:16,Addressed comments,10a94a39a95f2773cafe3bf2b8c1637038b94cae,
48,pull_request_commit,676,nilearn,nilearn,arthurmensch,2015-07-16 16:51:53,Addressed comments,368ba33403c2b730dcbd81d669882f50540449b7,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,738,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:41:49,"Address #720 step 1.2, 1.3 and 3.1.

The goal here is to establish a common basis for NiftiMasker, NiftiLabelsMasker and NiftiMapsMasker. There are a lot of advantages:
- NiftiMasker features come for free in Nifti*Maskers (sessions and sample masks)
- If we design it well, MultiNifti_Masker flavors will come for free for all Nifti_Maskers.
- Code is slightly more complicated (very slightly actually) but much smaller, making maintenance and bug tracking easier.

Steps done:
- [x] Make `filter_and_mask` rely on `filter_and_extract`
- [x] Make NiftiSpheresMasker rely on `filter_and_extract`
- [x] Make `BaseMasker` more generic. NiftiLabelsMasker and NiftiMapsMasker should inherit from it.
- [x] Make `MultiNiftiMasker` independant by inheriting `NiftiMasker`
",start issue,[MRG] Use filter_and_extract as a basis signal extractor.
2,issue_closed,738,nilearn,nilearn,lesteve,2015-08-21 06:28:02,,closed issue,[MRG] Use filter_and_extract as a basis signal extractor.
3,pull_request_title,738,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:41:49,"Address #720 step 1.2, 1.3 and 3.1.

The goal here is to establish a common basis for NiftiMasker, NiftiLabelsMasker and NiftiMapsMasker. There are a lot of advantages:
- NiftiMasker features come for free in Nifti*Maskers (sessions and sample masks)
- If we design it well, MultiNifti_Masker flavors will come for free for all Nifti_Maskers.
- Code is slightly more complicated (very slightly actually) but much smaller, making maintenance and bug tracking easier.

Steps done:
- [x] Make `filter_and_mask` rely on `filter_and_extract`
- [x] Make NiftiSpheresMasker rely on `filter_and_extract`
- [x] Make `BaseMasker` more generic. NiftiLabelsMasker and NiftiMapsMasker should inherit from it.
- [x] Make `MultiNiftiMasker` independant by inheriting `NiftiMasker`
",546888b3495564218d5e443041441476084b316b,[MRG] Use filter_and_extract as a basis signal extractor.
4,pull_request_merged,738,nilearn,nilearn,lesteve,2015-08-21 06:28:02,[MRG] Use filter_and_extract as a basis signal extractor.,fa45e311224d6592c1e0e61ffd2c235d3f3ca567,Pull request merge from AlexandreAbraham/nilearn:factorize_code_2 to nilearn/nilearn:master
5,issue_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-05 11:26:53,"This one is ready for merge.
",,
6,issue_comment,738,nilearn,nilearn,lesteve,2015-08-05 11:34:03,"Looks like the CircleCI error is a genuine one.
",,
7,issue_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-05 11:40:15,"Dammit! No time to look at it, maybe tonight.
",,
8,issue_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-05 13:11:18,"Since master examples are broken, I pushed a 5-minutes crafted emergency patch. We may want to merge it fast.
",,
9,issue_comment,738,nilearn,nilearn,bthirion,2015-08-18 21:31:30,"I have no further issue to raise on this PR. Should be good to merge.
",,
10,issue_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-20 19:42:41,"@lesteve : doc fixed as requested. 
",,
11,issue_comment,738,nilearn,nilearn,lesteve,2015-08-21 06:28:00,"Merging, thanks a lot!
",,
12,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-07-31 10:43:52,"Side-comment, this _repr_niimgs[:200] is all over the place and I have seen it too often now, not  to be annoyed by it. Why not have _repr_niimg which takes an argument like shorten=True ...
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
13,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-07-31 10:44:56,"Or even have _repr_niimgs always returns something more compact if imgs is a list of string (I seem to remember that's the case for which _repr_niimgs returns something which can be very long)
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
14,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-07-31 12:33:58,"I agree with you on the fact that this is annoying. I think that we should add a shorten=True by default. We could show the long version if verbose is higher than 10 for example.
I don't want to do it here because discussions are needed to solve this problem. If it's OK for you, I'll open an issue and we can solve it in another PR.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
15,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-07-31 13:06:44,"> I don't want to do it here because discussions are needed to solve this problem. If it's OK for you, I'll open an issue and we can solve it in another PR.

That sounds great.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
16,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-03 12:43:04,"FYI just created the issue, see #747.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
17,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:23:25,"I am wondering about the change in the association between smoothing and masking: prior to this PR, I understand that no smoothing was performed with signals outside of the mask, while now, the images are smoothed irrespective of the mask. This may have consequences when the mask is used to avoid some noise sources (artefacted voxels, vessels etc.)
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
18,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:25:45,"I am wondering about the change in the association between smoothing and masking: prior to this PR, I understand that no smoothing was performed with signals outside of the mask, while now, the images are smoothed irrespective of the mask. This may have consequences when the mask is used to avoid some noise sources (artefacted voxels, vessels etc.)
",546888b3495564218d5e443041441476084b316b,"(141, '', u'nilearn/input_data/base_masker.py')"
19,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:31:47,"Could you you clarify in the dosctring why  'single' ?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
20,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:34:08,"Not at all. `masking.apply_mask` smooths the image regardless of the mask and masks it afterward.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
21,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:34:11,"Sorry if I missed it, but the redundancy of the API with /nifti_labels_masker.py is wanted, isn't it ?
",546888b3495564218d5e443041441476084b316b,"(20, '', u'nilearn/input_data/nifti_maps_masker.py')"
22,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:36:37,"OK, but I think that we should raise a new issue about this, then.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
23,pull_request_commit_comment,738,nilearn,nilearn,bthirion,2015-08-05 21:41:04,"`sessions` is not documented
",546888b3495564218d5e443041441476084b316b,"(9, '', u'nilearn/signal.py')"
24,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 07:51:42,"I can but I don't agree with this name. I kept it for historical reasons.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
25,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 07:57:08,"I made the doc more precise and moved it into BaseMasker so that it's propagated to all subclasses.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
26,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 07:58:33,"Yes. Since the extraction methods are different for regions and maps, we preferred to split them. I factorized a lot of code between the two classes in my last PR though. I hope to reduce the common code as much as possible.
",546888b3495564218d5e443041441476084b316b,"(20, '', u'nilearn/input_data/nifti_maps_masker.py')"
27,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 08:00:37,"Good catch! Fixed.
",546888b3495564218d5e443041441476084b316b,"(9, '', u'nilearn/signal.py')"
28,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:37:35,"Usual stuff about niimg-like object? It looks like it may need to be 4D from a quick look at the code below as well, not sure.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
29,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:38:43,"This seems a bit fragile, maybe pass the class name as an additional optional parameter ?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
30,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:45:47,"invalid**ate** the cache
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_masker.py')"
31,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:49:47,"`-----` rather than `====` 
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
32,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:49:55,"`-----` rather than `====` 
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
33,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 07:50:47,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
34,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:52:00,"slight niggle, I tend to prefer:

``` python
smoothing_fwhm = parameters.get('smoothing_fwhm')
if smoothing_fwhm is not None:
    ...
```
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
35,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 07:52:32,"This function has been created precisely to avoid that.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
36,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 07:53:44,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_masker.py')"
37,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 07:58:37,"I am not sure how enclosing_scope_name works but it feels like the magical stack_level set to 3 may not work for all cases since you don't have any idea how far away in the stack the class is.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
38,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:03:38,"You don't need None in this line and the line above, `{}.get('whatever')` returns None.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
39,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:05:07,"Returns is not documented
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
40,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:05:36,"Maybe document shortly what the function takes as arguments and what it returns?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
41,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:07:23,"is a 4D Niimg-like object not required here?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
42,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:08:27,"We tend to use triple double quotes reasonably consistently everywhere else for docstrings.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
43,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:10:34,"Is there a reason to use a list here rather than a generator?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
44,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:11:21,"Both are used equally in nilearn. Please open an issue about that to harmonize.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
45,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:13:02,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
46,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:15:39,"You mean that joblib magic inbetween can make this number bigger? I've raised it to 10.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
47,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:16:23,"memory_level missing from the ignore
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_masker.py')"
48,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:17:47,"Fixed
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
49,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:17:48,"memory_level missing from the ignore
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
50,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:20:16,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
51,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:21:42,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
52,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:23:30,"Yes, it's written below. I think that 3D niimg work too since it is converted to 4D with a single scan as last dimension.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
53,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:25:29,"Yes, sorry, this is just a copy/paste from BaseMasker original code. I'll fix it.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
54,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:27:41,"Bad habits.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
55,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:30:53,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
56,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:32:51,"should be NotImplementedError()
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
57,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:38:38,"Why not put 4D it in the type then?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
58,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:41:02,"Returns not documented
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
59,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:41:44,"Fixed
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
60,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:43:42,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
61,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:44:22,"AFAIK this is not something that we do in nilearn. But I added it. We should put it everywhere it matters.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
62,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:44:48,"Undocumented returns.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
63,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:45:59,"Just wondering whether you should not copy and paste the docstring from BaseMasker.transform_single_imgs here.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
64,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 08:46:59,"If yes, then it would need to be done for all other classes overriding transform_single_imgs
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
65,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:48:12,"It should be done and customized regarding the special behavior of the class.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
66,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 11:06:01,"Fixed.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/nifti_labels_masker.py')"
67,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-18 13:58:37,"Tests are failing because you removed this line ...
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
68,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 14:00:47,"That was obviously not volontary :P.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
69,pull_request_commit_comment,738,nilearn,nilearn,banilo,2015-08-18 20:12:19,"perhaps use ""pooling function"" somewhere?
",546888b3495564218d5e443041441476084b316b,"(60, '', u'nilearn/input_data/base_masker.py')"
70,pull_request_commit_comment,738,nilearn,nilearn,banilo,2015-08-18 20:31:18,"No simpler way possible?
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
71,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 21:56:59,"Suggestions welcome ;).
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
72,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-19 06:20:34,"My suggestions:
`return list(map(lambda x: x[0], data))`
or
`return [d[0] for d in data]]`
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
73,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-19 06:24:10,"My preference goes to the first one because I like functional programming but I'm going for the second one.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/multi_nifti_masker.py')"
74,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-20 08:45:19,"FYI I just checked the code and stack_level is not used when check_estimator=True (which it is by default) ...
",546888b3495564218d5e443041441476084b316b,"(85, '', u'nilearn/input_data/base_masker.py')"
75,pull_request_commit_comment,738,nilearn,nilearn,lesteve,2015-08-20 08:47:05,"what's the aux variable then?

``` python
region_signals, aux = cache(extraction_function, ...)
```
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
76,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-20 08:48:48,"Oh, I can remove it then :).
",546888b3495564218d5e443041441476084b316b,"(85, '', u'nilearn/input_data/base_masker.py')"
77,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-20 08:51:30,"The `aux` variable is an additional result that can be provided. In NiftiLabelsMasker, it is used to get the loaded labels back from the extraction function to provide them to the user in the `labels_` property.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
78,pull_request_commit_comment,738,nilearn,nilearn,AlexandreAbraham,2015-08-20 09:17:01,"We can't do that with a functor since the operation has to remain stateless because of the caching system.
",546888b3495564218d5e443041441476084b316b,"(None, '', u'nilearn/input_data/base_masker.py')"
79,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:24:11,Make `filter_and_mask` use `filter_and_extract`,6bfdb5ef288e2d30b57f7a5c757f6aef97803356,
80,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-07-30 20:54:18,Make the transformation method abstract,7230e5f4cc845ae47d18ca180d9d7e26b16a9a32,
81,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-05 16:08:49,Fix dimension check,fa11dbdb0999e125fb92477bbf911ee88816eb5d,
82,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 07:56:09,Put `transform_single_imgs` doc in BaseMasker.,c965ac535fe29a7fb66106c610f9223a76e97400,
83,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-06 08:00:21,Add doc for sessions parameter,63da266aa28835dfdcb11d82212e414d77fd87fa,
84,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 07:53:30,Address comments,5e6b46818ba87dfe7872d08a092d46e7534cb5d5,
85,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:26:49,Fix docs.,b1741a58ce0b9bfc0668642eccb1971c300b4f1c,
86,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:31:37,Address more comments,797051b2270029f51d3b20d44cfa128b4d11b56b,
87,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:44:53,Address more comments,32e926941bed6b296337b3efa4669517b0389f5e,
88,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 08:47:07,Address comments,3a87ca9054b26dcdfefc5d797ed0a39d0b73a4b4,
89,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 11:05:41,Fix doc,71806b088b16f4e29a5cbe7f262f3cf2e8820c23,
90,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-18 14:01:40,Reverse line deletion.,660b25e228b34a4298af155fdab777583a3cd0bb,
91,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-19 06:25:26,Simplify code,0c604251a0cc93b7d3292dbc1355065b1d8ad8e7,
92,pull_request_commit,738,nilearn,nilearn,AlexandreAbraham,2015-08-20 19:41:14,Better documentation for extraction function.,546888b3495564218d5e443041441476084b316b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,602,nilearn,nilearn,chrisfilo,2015-06-09 18:06:00,"Downloading from Oxford is slow...
",start issue,Move example datasets to NITRC
2,issue_closed,602,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:08:22,,closed issue,Move example datasets to NITRC
3,issue_comment,602,nilearn,nilearn,AlexandreAbraham,2015-06-09 19:38:35,"Are you talking about the smith 2009 atlas ?
",,
4,issue_comment,602,nilearn,nilearn,chrisfilo,2015-06-09 20:41:07,"the fetch_smith_2009() dataset

On Tue, Jun 9, 2015 at 12:38 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> Are you talking about the smith 2009 atlas ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/602#issuecomment-110479951.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,632,nilearn,nilearn,banilo,2015-07-04 11:44:03,"Speaks for itself...
",start issue,typo in different estimator example
2,issue_closed,632,nilearn,nilearn,GaelVaroquaux,2015-07-04 12:59:22,,closed issue,typo in different estimator example
3,pull_request_title,632,nilearn,nilearn,banilo,2015-07-04 11:44:03,"Speaks for itself...
",6ed7daa2da60240de9fdc93e0ad7a87887976a10,typo in different estimator example
4,pull_request_merged,632,nilearn,nilearn,GaelVaroquaux,2015-07-04 12:59:22,typo in different estimator example,2d9187d6458c89f313cfb61af00af6a2ed88c652,Pull request merge from banilo/nilearn:exbug to nilearn/nilearn:master
5,issue_comment,632,nilearn,nilearn,GaelVaroquaux,2015-07-04 12:59:17,"Fuck yeah. 

Merging
",,
6,pull_request_commit,632,nilearn,nilearn,banilo,2015-07-04 11:43:05,typo in different estimator example,6ed7daa2da60240de9fdc93e0ad7a87887976a10,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,701,nilearn,nilearn,lesteve,2015-07-17 12:56:36,"### Linux tab
- Then simply install nilearn through Neurodebian. I guess we should put the full apt-get install command
- Ctrl-Alt-T to open a terminal may not work for everyone (Ubuntu or GNOME is probably a requirement, doesn't work on Kubuntu for example)
",start issue,Tweaks to new installation instructions
2,issue_closed,701,nilearn,nilearn,lesteve,2015-07-27 08:00:14,,closed issue,Tweaks to new installation instructions
3,issue_comment,701,nilearn,nilearn,GaelVaroquaux,2015-07-17 13:34:24,"> Also I am wondering out of curiosity do you detect the platform 32 bit vs 64
> bit automatically. I am talking about the recommendation of using 64bit
> Anaconda.

That recommendation is necessary because basic examples run out of memory
on 32 bit.

But there are pretty much no 32 bit systems around any more. And people
doing 32 bits cannot do nilearn.
",,
4,issue_comment,701,nilearn,nilearn,MartinPerez,2015-07-17 16:14:18,"I will wait for more tweaks to update everything together
",,
5,issue_comment,701,nilearn,nilearn,MartinPerez,2015-07-25 20:48:44,"@lesteve I implemented what I think is the only tweak in this thread?. Also @GaelVaroquaux  the changes of the CSS look great! #687 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,610,nilearn,nilearn,AlexandreAbraham,2015-06-13 22:04:04,"Following Gael suggestion: prefix all atlas fetching functions by `fetch_atlas`.

Discussion: should we choose that solution or create an atlas module?
",start issue,Rename dataset fetching functions.
2,issue_closed,610,nilearn,nilearn,AlexandreAbraham,2015-07-02 12:58:28,,closed issue,Rename dataset fetching functions.
3,pull_request_title,610,nilearn,nilearn,AlexandreAbraham,2015-06-13 22:04:04,"Following Gael suggestion: prefix all atlas fetching functions by `fetch_atlas`.

Discussion: should we choose that solution or create an atlas module?
",fcc9471877faba7488f9c5dd17f2e562bbd9d899,Rename dataset fetching functions.
4,pull_request_merged,610,nilearn,nilearn,AlexandreAbraham,2015-07-02 12:58:28,Rename dataset fetching functions.,424aad9b59f5fcf6715492a0e14676fb0ff91740,Pull request merge from AlexandreAbraham/nilearn:atlas_naming to nilearn/nilearn:master
5,issue_comment,610,nilearn,nilearn,GaelVaroquaux,2015-06-14 00:31:14,"We should do both: datasets should become a sub package. It should be divided in several modules, one of them with the atlases. All functions useful for users should be imported in the init. In addition, there should be a name convention. 

Sent from my phone. Please forgive brevity and mis spelling

On Jun 13, 2015, 12:04, at 12:04, Alexandre Abraham notifications@github.com wrote:

> Following Gael suggestion: prefix all atlas fetching functions by
> `fetch_atlas`.
> 
> Discussion: should we choose that solution or create an atlas module?
> You can view, comment on, or merge this pull request online at:
> 
>  https://github.com/nilearn/nilearn/pull/610
> 
> -- Commit Summary --
> - Rename dataset fetching functions. Declare the old ones obsolete.
> 
> -- File Changes --
> 
>    M nilearn/datasets.py (51)
>    M nilearn/tests/test_datasets.py (23)
> 
> -- Patch Links --
> 
> https://github.com/nilearn/nilearn/pull/610.patch
> https://github.com/nilearn/nilearn/pull/610.diff
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/610
",,
6,issue_comment,610,nilearn,nilearn,bthirion,2015-06-14 19:48:06,"LGTM.
",,
7,issue_comment,610,nilearn,nilearn,AlexandreAbraham,2015-06-15 08:17:38,"@GaelVaroquaux 
I suggest:

datasets
- dataset.utils (for general purpose functions)
- datasets.atlas
- datasets.study (I think a better naming is possible here)
- datasets.template
",,
8,issue_comment,610,nilearn,nilearn,banilo,2015-06-27 07:49:55,"+1
",,
9,pull_request_commit,610,nilearn,nilearn,AlexandreAbraham,2015-06-13 21:58:21,Rename dataset fetching functions. Declare the old ones obsolete.,fcc9471877faba7488f9c5dd17f2e562bbd9d899,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,687,nilearn,nilearn,MartinPerez,2015-07-16 12:44:46,"The component automatically detects the user OS to give relevant information.
Tabs were implemented for the different OS and one for developers to install the source.
Explanations were simplified as step instructions for the user and the installation section now clearly stands out in the webpage.
Many technical terms and explanations were replaced or deleted.

The implementation was a simple html, css, javascript file that contains the component which is inserted from the file in introduction.rst under the installing nilearn section.

![dev_tab](https://cloud.githubusercontent.com/assets/8766915/8722809/9c93a874-2bc8-11e5-9916-da482dc84263.png)
![lin_tab](https://cloud.githubusercontent.com/assets/8766915/8722807/9c912748-2bc8-11e5-8b2a-6ddaf13df346.png)
![mac_tab](https://cloud.githubusercontent.com/assets/8766915/8722808/9c916190-2bc8-11e5-9e8c-3fc559d77c1f.png)
![win_tab](https://cloud.githubusercontent.com/assets/8766915/8722810/9c9468fe-2bc8-11e5-9eb8-afb966cd32ba.png)
",start issue,[MRG+1] New installation documentation component proposal
2,issue_closed,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 12:24:55,,closed issue,[MRG+1] New installation documentation component proposal
3,pull_request_title,687,nilearn,nilearn,MartinPerez,2015-07-16 12:44:46,"The component automatically detects the user OS to give relevant information.
Tabs were implemented for the different OS and one for developers to install the source.
Explanations were simplified as step instructions for the user and the installation section now clearly stands out in the webpage.
Many technical terms and explanations were replaced or deleted.

The implementation was a simple html, css, javascript file that contains the component which is inserted from the file in introduction.rst under the installing nilearn section.

![dev_tab](https://cloud.githubusercontent.com/assets/8766915/8722809/9c93a874-2bc8-11e5-9916-da482dc84263.png)
![lin_tab](https://cloud.githubusercontent.com/assets/8766915/8722807/9c912748-2bc8-11e5-8b2a-6ddaf13df346.png)
![mac_tab](https://cloud.githubusercontent.com/assets/8766915/8722808/9c916190-2bc8-11e5-9e8c-3fc559d77c1f.png)
![win_tab](https://cloud.githubusercontent.com/assets/8766915/8722810/9c9468fe-2bc8-11e5-9eb8-afb966cd32ba.png)
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,[MRG+1] New installation documentation component proposal
4,pull_request_merged,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 12:24:55,[MRG+1] New installation documentation component proposal,8ab720a6eddf9dd905d262c36d080c535542f5f2,Pull request merge from MartinPerez/nilearn:new_install_doc to nilearn/nilearn:master
5,issue_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-16 12:54:12,"There is actually an important point that just crossed my mind: we need to worry about how it renders on android (which should default to windows) and IPhone (which should default to Mac)
",,
6,issue_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-17 09:44:59,"This is looking great.

I'd like more whitespace below the install box (add 1em to the current value).
",,
7,issue_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-17 10:39:41,"This is good! This mergeable IMHO. :+1:

Needs review from another core dev.
",,
8,issue_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-17 12:15:38,"> One last small remark : why chosing to put ""Mac"" by default? If none of the
> detection rule work, that means that the user is probably running a
> non-conventional system and then he may prefer the sources.

No, we should never show the sources by default: users that want sources
need to be able to figure out that they have to click on the source tab.
The question is wether we want to show Mac or Windows by default. By
going to conferences like OHBM, I think that Mac by default is a good
choice.
",,
9,issue_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-18 18:10:06,"I have tweaked a bit the CSS:
https://circle-artifacts.com/gh/nilearn/nilearn/142/artifacts/0/home/ubuntu/nilearn/doc/_build/html/introduction.html#installation
",,
10,issue_comment,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:30:40,"Renders well on my phone. However, my user agent is:
`Mozilla/5.0 (Maemo; Linux; U; Jolla; Sailfish; Mobile; rv:31.0) Gecko/31.0 Firefox/31.0 SailfishBrowser1.0`
And I'm recognized as Mac...
",,
11,issue_comment,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 10:00:47,"> Could you please tell me the string for your appversion.

5.0 (Unix)
",,
12,issue_comment,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 11:47:56,"One last small remark : why chosing to put ""Mac"" by default? If none of the detection rule work, that means that the user is probably running a non-conventional system and then he may prefer the sources.
",,
13,issue_comment,687,nilearn,nilearn,AlexandreAbraham,2015-07-17 12:24:49,"Good, I push the green button then!

Thanks!
",,
14,issue_comment,687,nilearn,nilearn,MartinPerez,2015-07-16 15:59:16,"Fixed all the comments. Still have to upload the page to be played with online and to be checked on android
",,
15,issue_comment,687,nilearn,nilearn,MartinPerez,2015-07-16 16:14:56,"the example is up. http://martinperez.github.io/introduction.html#installing-nilearn
",,
16,issue_comment,687,nilearn,nilearn,MartinPerez,2015-07-17 09:42:06,"@AlexandreAbraham Could you please tell me the string for your appversion. Im actually checking like ""if (navigator.appVersion.indexOf(""Linux"")!=-1) OSName=3"". It should work...

Also checked on an Iphone now, it works and is recognized as mac. 
",,
17,issue_comment,687,nilearn,nilearn,MartinPerez,2015-07-17 10:18:07,"@AlexandreAbraham I changed the code to look into useragent instead of appversion. It should work fine for you now. Effectively I was not checking for ""Unix"" in appversion but only for ""Linux"" and ""X11"".
@GaelVaroquaux performed the diverse style and text changes.
",,
18,pull_request_commit_comment,687,nilearn,nilearn,lesteve,2015-07-16 12:48:06,"I don't think you should have added this file.
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/manipulating_visualizing/generated/nilearn.masking.compute_epi_mask.rst')"
19,pull_request_commit_comment,687,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:58:06,"Could you move that to a css file?
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
20,pull_request_commit_comment,687,nilearn,nilearn,MartinPerez,2015-07-16 13:08:37,"Ok i will move it to nature.css
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
21,pull_request_commit_comment,687,nilearn,nilearn,MartinPerez,2015-07-16 13:09:13,"It was an accident, will remove it
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/manipulating_visualizing/generated/nilearn.masking.compute_epi_mask.rst')"
22,pull_request_commit_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:12:31,"Once you move it to the CSS file, you will need to fix the indentation and style (line return before ending curly brakets) to be consistent with the rest of the file.
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
23,pull_request_commit_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:16:29,"You lines are too long. You should limit lines at 80%
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
24,pull_request_commit_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:16:40,"80 chars, I mean.
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
25,pull_request_commit_comment,687,nilearn,nilearn,GaelVaroquaux,2015-07-16 13:21:20,"IPython is written ""IPython"" (mind the capitalization).
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
26,pull_request_commit_comment,687,nilearn,nilearn,lesteve,2015-07-16 16:57:00,"You probably don't want to a new line inside the `<pre>` because the new line is visible in the text box:

![additional_new_line_in_text_box](https://cloud.githubusercontent.com/assets/1680079/8729606/65559182-2bec-11e5-92b6-1a9f155d4693.png)
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
27,pull_request_commit_comment,687,nilearn,nilearn,MartinPerez,2015-07-17 09:13:38,"I fixed the newline in the pre tag. Moreover I changed the css to account for portrait layout on phone browsers. Works well on my android, could you please test on other phones OS?
",22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,"(None, '', u'doc/install_doc_component.html')"
28,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 10:15:02,generated old documentation,a86a56dbf356943e63e5e9070be7a0036801b13a,
29,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 11:45:47,new install documentation component integrated,36dc58653083b0ae19809fea0c387d49723d4567,
30,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 12:30:49,minor font fix,b8bfbe6cbc94d63cdfa4abb342d437f1cc26de43,
31,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 14:54:36,changed css place and formatting fixes on html file,084b1348f63fd9dfb2adaa6e9edf69bc62211810,
32,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 15:05:33,eliminated file uploaded by accident,54c0b0c92eb0917c8500d4d966048972a90bf89e,
33,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-16 15:48:09,took out silly automatic space removal on random file,4c60b1a451baee18c619acbecefac93135b2697e,
34,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-17 09:08:02,corrected css to account for small portrait layouts for phones,a962628f591a14d71d380ade98db6e3f7422089d,
35,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-17 09:11:47,took out newline inside pre tags,97cb9ad47e8debc6263d158cd5b8efdca67238c1,
36,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-17 09:47:21,"made android detection default to windows, changed use of appversion to useragent string to detect os",03d5b5c5140842357d75a15a6c542e07246e4a20,
37,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-17 10:12:21,minor text and css changes,3c790f9f7d29c339dfb732e6698a83e7b01a8926,
38,pull_request_commit,687,nilearn,nilearn,MartinPerez,2015-07-17 10:33:34,fixed a messed up margin property of the box under tabs,22a7c92ebcecca4a5ea96471ffe2e1d82ac0f6e8,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,607,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:37:09,"#601 raised the poorness of some error messages. In particular, when trying to use `index_img` on a list of 4D image.

I solved that by creating a custom type error but I don't know if it's the best way to do it.

Test script:

``` python
from nilearn import image, datasets


hb = datasets.fetch_haxby()
image.index_img(hb.func, 0)
```

Previous output:

```
TypeError: Data must be a 3D Niimg-like object but you provided an image of shape (40, 64, 64, 1452). See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg
```

New output:

```
nilearn._utils.niimg_conversions.DimensionError: Data must be a 4D Niimg-like object but you provided a list of 4D images. See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.
```
",start issue,Enhances error messages for image manipulation
2,issue_closed,607,nilearn,nilearn,lesteve,2015-06-23 13:33:32,,closed issue,Enhances error messages for image manipulation
3,pull_request_title,607,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:37:09,"#601 raised the poorness of some error messages. In particular, when trying to use `index_img` on a list of 4D image.

I solved that by creating a custom type error but I don't know if it's the best way to do it.

Test script:

``` python
from nilearn import image, datasets


hb = datasets.fetch_haxby()
image.index_img(hb.func, 0)
```

Previous output:

```
TypeError: Data must be a 3D Niimg-like object but you provided an image of shape (40, 64, 64, 1452). See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg
```

New output:

```
nilearn._utils.niimg_conversions.DimensionError: Data must be a 4D Niimg-like object but you provided a list of 4D images. See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.
```
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,Enhances error messages for image manipulation
4,pull_request_merged,607,nilearn,nilearn,lesteve,2015-06-23 13:33:32,Enhances error messages for image manipulation,ace12f645f724df4600265dae353f0b640b821fb,Pull request merge from AlexandreAbraham/nilearn:error_messages to nilearn/nilearn:master
5,issue_comment,607,nilearn,nilearn,GaelVaroquaux,2015-06-11 23:51:21,"> I solved that by creating a custom type error but I don't know if it's
> the best way to do it.

It's a good one. Congratulations!
",,
6,issue_comment,607,nilearn,nilearn,lesteve,2015-06-12 11:19:52,"There is nilearn/_utils/exceptions.py, this seems like a good home for DimensionError.
",,
7,issue_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:08:28,"LGTM otherwise
",,
8,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:57:13,"Good point. I moved it.

On Fri, Jun 12, 2015 at 1:19 PM, Loïc Estève notifications@github.com
wrote:

> There is nilearn/_utils/exceptions.py, this seems like a good home for
> DimensionError.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/607#issuecomment-111456750.
",,
9,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:36:48,"I have to admit I find the recursive depth a bit complicated. I'd be a lot less wary if there was a few tests checking the exception messages e.g. the list of list of lists of images thing.
",,
10,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 10:45:03,"@lesteve: the other way to do that is to prepare an error at first call and pass successively pass it in each call. By doing this, we have an overhead on each call but we don't need to catch / reraise the error in the recursive calls. Do you think it's a better alternative?
",,
11,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 11:21:48,"> Do you think it's a better alternative?

Feels simpler to leave it as it is. My point about tests was to at the very least to test the exception message in the snippet that was at the origin of this issue and maybe an error message with the list of list thing.
",,
12,issue_comment,607,nilearn,nilearn,lesteve,2015-06-17 11:23:06,"Another minor thing I just bumped into: if you provide an iterator of 4D images you get a message mentioning a list of 4D images:

``` python
from nilearn import image, datasets

hb = datasets.fetch_haxby()
image.index_img(iter(hb.func), 0)
```
",,
13,issue_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-18 08:09:26,"@lesteve #HappyMergeDay
",,
14,issue_comment,607,nilearn,nilearn,lesteve,2015-06-23 13:33:31,"Looks good, merging, thanks!
",,
15,pull_request_commit_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:06:02,"'increment' instead of 'incr' ?
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
16,pull_request_commit_comment,607,nilearn,nilearn,bthirion,2015-06-12 21:06:58,"Could you add a comment here ? It looks a bit like black magic.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(12, '', u'nilearn/_utils/niimg_conversions.py')"
17,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 09:34:25,"Do you really need the setter, by default properties are read-only (yours is write=noop)? Also you could use:

``` python
@property
def message(self):
...
```
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
18,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 09:35:45,"Really needed?
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
19,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:01:24,"You're right. I just do that out of habit.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/exceptions.py')"
20,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:07:31,"I can remove it if you want, it's just for practical reasons.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
21,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-16 11:09:30,"It would make more sense to always import DimensionError from nilearn.exceptions rather than from nilearn._utils. You'll need to change the imports in the tests accordingly.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
22,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:14:05,"Fixed.

On Tue, Jun 16, 2015 at 1:09 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/_utils/__init__.py
> https://github.com/nilearn/nilearn/pull/607#discussion_r32510889:
> 
> > @@ -9,3 +9,5 @@
> >  from .cache_mixin import CacheMixin
> > 
> >  from .logger import _compose_err_msg
> > +
> > +from .exceptions import DimensionError
> 
> It would make more sense to always import DimensionError from
> nilearn.exceptions rather than from nilearn._utils. You'll need to change
> the imports in the tests accordingly.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/607/files#r32510889.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/_utils/__init__.py')"
23,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:23:44,"You are still importing DimensionError from nilearn._utils rather than nilearn._utils.exceptions
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/input_data/tests/test_nifti_labels_masker.py')"
24,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:24:03,"Same here.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/input_data/tests/test_nifti_maps_masker.py')"
25,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-17 09:24:29,"same here
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
26,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 12:26:51,"I don't remove any feature here. I keep ""going down"" even if we are sure that the dimensionality is wrong in order to get a more accurate error message. The real TypeError (ie type of the data is wrong) is then handled in `load_niimg`, which is much more logical.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(30, '', u'nilearn/_utils/niimg_conversions.py')"
27,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-18 09:23:05,"Minor comment: looks like the message is slightly misleading for non-homogeneous lists:
In this case it will say ""you provided a list of 4D images"" although the first image is 3D...
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
28,pull_request_commit_comment,607,nilearn,nilearn,lesteve,2015-06-18 09:24:12,"Probably this could be tweaked in a further PR. The message is improved in a lot of cases.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
29,pull_request_commit_comment,607,nilearn,nilearn,AlexandreAbraham,2015-06-23 13:22:55,"You can also give a list of list and give valid images in the first list but in the second... There is a limit in the cases we can handle. The best option I can see right now is to add ""Details: imgs[0][1][12] is 3D instead of 4D"" or something like that. But as you said, I think that this PR should go and the message can be detailed afterward.
",98c62674f4c95a12b5be7a785f6cc4c56d2d1885,"(59, '', u'nilearn/tests/test_niimg_conversions.py')"
30,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-11 15:38:45,Create custom error,a6fa5848930c40a59652231a47b7f6d4a9edefc5,
31,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:31:47,Add custom error message,002da44481e91a132206635963d490f73539d8ba,
32,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-12 07:46:04,Fix tests,c3038719bdbc4269929f84a015afd9c174e3ef2d,
33,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-12 08:21:55,Fix failing tests,894d81724ae4fc07643556eba41284c0b099482b,
34,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-12 11:50:59,Move exception in exceptions file,1847e54f37c2ad5f79b4a5383483ea55a1b96498,
35,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-12 11:58:00,Add docstring,72b9fdbd239849377742349bb3cc5bd933a4ff3d,
36,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-13 21:29:38,Make the clode clearer,9767dac6019a424fe8a1ae0deff8bff8e5432e58,
37,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:06:19,Refactor code,5b908ce8695a7b7e34c25ab05fc878915c6e7205,
38,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-16 11:13:19,Remove import of exception in _utils init,52da44cd6603510f6b2f60f8da1e11e630a96709,
39,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 12:24:48,Add tests,f8a3902905a56076564c22be40253bfd57762755,
40,pull_request_commit,607,nilearn,nilearn,AlexandreAbraham,2015-06-17 14:40:25,Fix imports,98c62674f4c95a12b5be7a785f6cc4c56d2d1885,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,668,nilearn,nilearn,chrisfilo,2015-07-14 17:32:55,"```
nosetests -s --with-doctest --doctest-tests --doctest-extension=rst \
    --doctest-extension=inc --doctest-fixtures=_fixture doc/ \

nose.plugins.cover: ERROR: Coverage not available: unable to import coverage module
Failure: ImportError (No module named sphinxgallery) ... ERROR
Doctest: introduction.rst ... FAIL

======================================================================
ERROR: Failure: ImportError (No module named sphinxgallery)
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/Users/filo/anaconda/lib/python2.7/site-packages/nose/loader.py"", line 418, in loadTestsFromName
    addr.filename, addr.module)
  File ""/Users/filo/anaconda/lib/python2.7/site-packages/nose/importer.py"", line 47, in importFromPath
    return self.importFromDir(dir_path, fqname)
  File ""/Users/filo/anaconda/lib/python2.7/site-packages/nose/importer.py"", line 94, in importFromDir
    mod = load_module(part_fqname, fh, filename, desc)
  File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/conf.py"", line 24, in <module>
    import sphinxgallery
ImportError: No module named sphinxgallery

======================================================================
FAIL: Doctest: introduction.rst
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/Users/filo/anaconda/lib/python2.7/doctest.py"", line 2226, in runTest
    raise self.failureException(self.format_failure(new.getvalue()))
AssertionError: Failed doctest test for introduction.rst
  File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/introduction.rst"", line 0

----------------------------------------------------------------------
File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/introduction.rst"", line 274, in introduction.rst
Failed example:
    smoothed_img = image.smooth_img(""/home/user/t_map000.nii"", fwhm=5)
Exception raised:
    Traceback (most recent call last):
      File ""/Users/filo/anaconda/lib/python2.7/doctest.py"", line 1315, in __run
        compileflags, 1) in test.globs
      File ""<doctest introduction.rst[1]>"", line 1, in <module>
        smoothed_img = image.smooth_img(""/home/user/t_map000.nii"", fwhm=5)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/image/image.py"", line 253, in smooth_img
        img = check_niimg(img)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg_conversions.py"", line 157, in check_niimg
        niimg = load_niimg(niimg)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg.py"", line 50, in load_niimg
        niimg = nibabel.load(niimg)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 44, in load
        return guessed_image_type(filename).from_filename(filename, **kwargs)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 76, in guessed_image_type
        with BinOpener(filename) as fobj:
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/openers.py"", line 74, in __init__
        self.fobj = opener(fileish, *args, **kwargs)
    IOError: [Errno 2] No such file or directory: '/home/user/t_map000.nii'
----------------------------------------------------------------------
File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/introduction.rst"", line 281, in introduction.rst
Failed example:
    smoothed_img.to_filename(""/home/user/t_map000_smoothed.nii"")
Exception raised:
    Traceback (most recent call last):
      File ""/Users/filo/anaconda/lib/python2.7/doctest.py"", line 1315, in __run
        compileflags, 1) in test.globs
      File ""<doctest introduction.rst[2]>"", line 1, in <module>
        smoothed_img.to_filename(""/home/user/t_map000_smoothed.nii"")
    NameError: name 'smoothed_img' is not defined
----------------------------------------------------------------------
File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/introduction.rst"", line 289, in introduction.rst
Failed example:
    first_volume = image.index_img(""/home/user/fmri_volumes.nii"", 0)
Exception raised:
    Traceback (most recent call last):
      File ""/Users/filo/anaconda/lib/python2.7/doctest.py"", line 1315, in __run
        compileflags, 1) in test.globs
      File ""<doctest introduction.rst[3]>"", line 1, in <module>
        first_volume = image.index_img(""/home/user/fmri_volumes.nii"", 0)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/image/image.py"", line 521, in index_img
        imgs = check_niimg_4d(imgs)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg_conversions.py"", line 240, in check_niimg_4d
        return check_niimg(niimg, ensure_ndim=4, return_iterator=return_iterator)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg_conversions.py"", line 157, in check_niimg
        niimg = load_niimg(niimg)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg.py"", line 50, in load_niimg
        niimg = nibabel.load(niimg)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 44, in load
        return guessed_image_type(filename).from_filename(filename, **kwargs)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 76, in guessed_image_type
        with BinOpener(filename) as fobj:
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/openers.py"", line 74, in __init__
        self.fobj = opener(fileish, *args, **kwargs)
    IOError: [Errno 2] No such file or directory: '/home/user/fmri_volumes.nii'
----------------------------------------------------------------------
File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/doc/introduction.rst"", line 293, in introduction.rst
Failed example:
    for volume in image.iter_img(""/home/user/fmri_volumes.nii""):
        smoothed_img = image.smooth_img(volume, fwhm=5)
Exception raised:
    Traceback (most recent call last):
      File ""/Users/filo/anaconda/lib/python2.7/doctest.py"", line 1315, in __run
        compileflags, 1) in test.globs
      File ""<doctest introduction.rst[4]>"", line 1, in <module>
        for volume in image.iter_img(""/home/user/fmri_volumes.nii""):
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/image/image.py"", line 537, in iter_img
        return check_niimg_4d(imgs, return_iterator=True)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg_conversions.py"", line 240, in check_niimg_4d
        return check_niimg(niimg, ensure_ndim=4, return_iterator=return_iterator)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg_conversions.py"", line 157, in check_niimg
        niimg = load_niimg(niimg)
      File ""/Users/filo/krzysztof.gorgolewski@gmail.com/workspace/nilearn/nilearn/_utils/niimg.py"", line 50, in load_niimg
        niimg = nibabel.load(niimg)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 44, in load
        return guessed_image_type(filename).from_filename(filename, **kwargs)
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/loadsave.py"", line 76, in guessed_image_type
        with BinOpener(filename) as fobj:
      File ""/Users/filo/anaconda/lib/python2.7/site-packages/nibabel/openers.py"", line 74, in __init__
        self.fobj = opener(fileish, *args, **kwargs)
    IOError: [Errno 2] No such file or directory: '/home/user/fmri_volumes.nii'
```
",start issue,`make` fails due to doctests
2,issue_closed,668,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:27:39,,closed issue,`make` fails due to doctests
3,issue_comment,668,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:03:10,"> As as side note, the reason the tests don't fail in Travis is because
> we use nilearn installed in site-packages and not the git checkout. I
> am guessing the former does not have the doc folder. That also means
> that we are not testing the doctests in the rst docs.

OK. Thanks for the diagnostics. Ideally we should test both options, but
it's not easy. Let me give it a try.
",,
4,issue_comment,668,nilearn,nilearn,lesteve,2015-07-15 10:28:52,"As as side note, the reason the tests don't fail in Travis is because we use nilearn installed in site-packages and not the git checkout. I am guessing the former does not have the doc folder. That also means that we are not testing the doctests in the rst docs. 

Not sure whether we want to change that. AFAICR most of the doctests in the rst doc are skipped anyway.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,641,nilearn,nilearn,chrplr,2015-07-10 08:52:26,"Hello

First, note that the doc string of NiftiMapsMasker is a bit misleading: 

maps_img: Niimg-like object
    Region definitions, as one image of labels.

This seems copied from NiftiLabelsMasker, no?

Second, my code incidently tried to use a NiftiMapsMasker to extract data in a single ROI, that is with a single image in maps_roi.

This yielded the following error: 

```
/home/chrplr/.local/lib/python2.7/site-packages/nilearn-0.1.3-py2.7.egg/nilearn/input_data/nifti_maps_masker.pyc in fit_transform(self, imgs, confounds)
    197 
    198     def fit_transform(self, imgs, confounds=None):
--> 199         return self.fit().transform(imgs, confounds=confounds)
    200 
    201     def transform(self, imgs, confounds=None):

/home/chrplr/.local/lib/python2.7/site-packages/nilearn-0.1.3-py2.7.egg/nilearn/input_data/nifti_maps_masker.pyc in fit(self, X, y)
    138                    _utils._repr_niimgs(self.maps_img)[:200],
    139                    verbose=self.verbose)
--> 140         self.maps_img_ = _utils.check_niimg_4d(self.maps_img)
    141 
    142         if self.mask_img is not None:

/home/chrplr/.local/lib/python2.7/site-packages/nilearn-0.1.3-py2.7.egg/nilearn/_utils/niimg_conversions.pyc in check_niimg_4d(niimg, return_iterator)
    235     Its application is idempotent.
    236     """"""
--> 237     return check_niimg(niimg, ensure_ndim=4, return_iterator=return_iterator)
    238 
    239 

/home/chrplr/.local/lib/python2.7/site-packages/nilearn-0.1.3-py2.7.egg/nilearn/_utils/niimg_conversions.pyc in check_niimg(niimg, ensure_ndim, atleast_4d, return_iterator)
    169 
    170     if ensure_ndim is not None and len(niimg.shape) != ensure_ndim:
--> 171         raise DimensionError(len(niimg.shape), ensure_ndim)
    172 
    173     if return_iterator:

DimensionError: Data must be a 4D Niimg-like object but you provided a 3D image. See http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg.
```

Why not allow a single map?
Well, I will use  'apply_mask'...

Chris
",start issue,NiftiMapsMasker docstring on maps_img/ and why does it only accepts 4D-niimg as maps_img?
2,issue_closed,641,nilearn,nilearn,lesteve,2015-07-17 05:12:57,,closed issue,NiftiMapsMasker docstring on maps_img/ and why does it only accepts 4D-niimg as maps_img?
3,issue_comment,641,nilearn,nilearn,AlexandreAbraham,2015-07-10 09:35:12,"You can try that:

`NiftiMapsMasker([my_single_map])`

We prohibit single images because we are afraid that people use it in the wrong way.

Thanks for spotting the documentation problem!
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,606,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:23:16,"Add a fetcher for cortical atlas Destrieux et al. 2009.

Thanks to @mrahim for doing most of the work!
",start issue,Add fetcher for destrieux 2009
2,issue_closed,606,nilearn,nilearn,AlexandreAbraham,2015-06-30 13:18:42,,closed issue,Add fetcher for destrieux 2009
3,pull_request_title,606,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:23:16,"Add a fetcher for cortical atlas Destrieux et al. 2009.

Thanks to @mrahim for doing most of the work!
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,Add fetcher for destrieux 2009
4,pull_request_merged,606,nilearn,nilearn,AlexandreAbraham,2015-06-30 13:18:42,Add fetcher for destrieux 2009,4ba0416809076a1e18b12e458fe6996d73c75e7f,Pull request merge from AlexandreAbraham/nilearn:destrieux2009 to nilearn/nilearn:master
5,issue_comment,606,nilearn,nilearn,banilo,2015-07-01 12:04:26,"+1
",,
6,pull_request_commit_comment,606,nilearn,nilearn,mrahim,2015-06-12 08:46:25,"Wrong description. (copy/paste mistake)
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(None, '', u'nilearn/datasets.py')"
7,pull_request_commit_comment,606,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:18:14,"Fixed.

On Fri, Jun 12, 2015 at 10:46 AM, mrahim notifications@github.com wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/606#discussion_r32299128:
> 
> > @@ -1066,6 +1066,64 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      return Bunch(**params)
> > 
> > +def fetch_destrieux_2009(lateralized=True, data_dir=None, url=None,
> > -                         resume=True, verbose=1):
> > -    """"""Download and load the Smith ICA and BrainMap atlas (dated 2009)
> 
> Wrong description. (copy/paste mistake)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/606/files#r32299128.
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(None, '', u'nilearn/datasets.py')"
8,pull_request_commit_comment,606,nilearn,nilearn,bthirion,2015-06-12 21:10:26,"'Used to force'
",5894f149a954fd90fd8a299d25e7cd13b40b2ff9,"(14, '', u'nilearn/datasets.py')"
9,pull_request_commit,606,nilearn,nilearn,AlexandreAbraham,2015-06-11 23:18:43,Add fetcher for destrieux 2009,63b917facee119511f74cb3eef295a1e8582d964,
10,pull_request_commit,606,nilearn,nilearn,AlexandreAbraham,2015-06-12 08:09:10,Add a test for destrieux fetcher,aa4b94f4f4cca807db99b3a090c033bf96209755,
11,pull_request_commit,606,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:17:31,Fix docstring,544f19b0fb7efb51e4d0756aa50d276ad23a997c,
12,pull_request_commit,606,nilearn,nilearn,AlexandreAbraham,2015-06-13 20:54:41,Add atlas to fetcher name,5894f149a954fd90fd8a299d25e7cd13b40b2ff9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,669,nilearn,nilearn,chrisfilo,2015-07-14 17:33:38,"```
filo at MathBook Pro in /nilearn/doc on plot-glass-brain-negative-values [!]
$ make
sphinx-build -D plot_gallery=False -b html -d _build/doctrees   . _build/html
Running Sphinx v1.3.1
WARNING: invalid number u'False' for config value 'plot_gallery', ignoring
loading translations [en]... done
loading pickled environment... not yet created
plotting plot_nifti_simple.py
Downloading data from http://www.nitrc.org/frs/download.php/1071/NYU_TRT_session1a.tar.gz
```
",start issue,make docs requires a big download
2,issue_closed,669,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:02:32,,closed issue,make docs requires a big download
3,issue_comment,669,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:27:20,"Chris and I were not able to reproduce, including on his laptop.
",,
4,issue_comment,669,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:06:00,"> Should we close it, then?

Chris?
",,
5,issue_comment,669,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:02:32,"Closing
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,725,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:14:29,"line 5, @GaelVaroquaux : 

Please explain here that you are using the regressor object given that the task is to predict a continuous variable, the gain of the gamble.

Also, maybe we should leave out some data and show a prediction power (if it somewhat works).
",start issue,SpaceNet: About `plot_mixed_gambles_space_net.py`
2,issue_closed,725,nilearn,nilearn,dohmatob,2015-10-07 07:34:08,,closed issue,SpaceNet: About `plot_mixed_gambles_space_net.py`
3,issue_comment,725,nilearn,nilearn,dohmatob,2015-10-07 07:34:08,"See lines 19 to 21 of the script. Closing.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:08:17,"Fix #633 
To Do List:
- [x] Code
- [x] Documentation
- [x] Tests
- [x] Example
- Code design
  - `class` named as `RegionExtractor` - to _extract regions_ from the maps and also extracts _subjects timeseries signals_ from those extracted regions by inheriting `NiftiMapsMasker`.
    - function named as `threshold_img` to keep meaningful voxels for region extraction.
    - function named as `connected_regions` to extract regions from thresholded images.
-  `RegionExtractor`
  - `fit()` extract regions.
  - `transform()` regions to signals.
    - example: `plot_extract_regions_canica_maps.py` 
    - example: `plot_extract_regions_smith_atlas_networks.py`
-  `threshold_img` - two different ways of thresholding. (integrated in `nilearn.image.image`)
  1. `percentile` - `scoreatpercentile`.
  2. `img_value` - based on voxel intensity value.
     - example: `plot_extract_regions_statistical_maps.py`
-  `connected_regions` - two different ways of extracting regions.
  1. `local_regions` uses random walker method.
  2. `connected_components` uses only labelling which labels based on unique features. 
     - example: `plot_extract_regions_statistical_maps.py`
",start issue,[MRG+1] Region Extractor
2,issue_closed,651,nilearn,nilearn,AlexandreAbraham,2015-12-11 08:34:40,,closed issue,[MRG+1] Region Extractor
3,pull_request_title,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:08:17,"Fix #633 
To Do List:
- [x] Code
- [x] Documentation
- [x] Tests
- [x] Example
- Code design
  - `class` named as `RegionExtractor` - to _extract regions_ from the maps and also extracts _subjects timeseries signals_ from those extracted regions by inheriting `NiftiMapsMasker`.
    - function named as `threshold_img` to keep meaningful voxels for region extraction.
    - function named as `connected_regions` to extract regions from thresholded images.
-  `RegionExtractor`
  - `fit()` extract regions.
  - `transform()` regions to signals.
    - example: `plot_extract_regions_canica_maps.py` 
    - example: `plot_extract_regions_smith_atlas_networks.py`
-  `threshold_img` - two different ways of thresholding. (integrated in `nilearn.image.image`)
  1. `percentile` - `scoreatpercentile`.
  2. `img_value` - based on voxel intensity value.
     - example: `plot_extract_regions_statistical_maps.py`
-  `connected_regions` - two different ways of extracting regions.
  1. `local_regions` uses random walker method.
  2. `connected_components` uses only labelling which labels based on unique features. 
     - example: `plot_extract_regions_statistical_maps.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,[MRG+1] Region Extractor
4,issue_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-08 16:32:37,"> ping @GaelVaroquaux I am thinking of removing smith atlas networks example as
> it shows just a basic extraction.

I'd rather not.

> If you are not agreeing upon this then I think it should be moved to
> some where else. May be in General or Plotting ?

Manipulating_visualizing is the right place.
",,
5,issue_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-09 18:41:53,"> @GaelVaroquaux Can I change this [MRG + 1] ?

Yes
",,
6,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:00:10,"Results so far:

``` python
import nibabel

from nilearn import datasets
from nilearn._utils import check_niimg
from nilearn.image import iter_img, new_img_like
from nilearn.decomposition.canica import CanICA

import matplotlib.pyplot as plt
from nilearn import plotting

# ICA Decomposition
adhd_dataset = datasets.fetch_adhd()
func_filenames = adhd_dataset.func

n_components = 5
canica = CanICA(n_components=n_components, smoothing_fwhm=6.,
                memory=""nilearn_cache"", memory_level=5,
                threshold=3., verbose=10, random_state=0)

canica.fit(func_filenames)
components_img = canica.masker_.inverse_transform(canica.components_)
affine = components_img.get_affine()

# Visualization
for i, img in enumerate(iter_img(components_img)):
    plotting.plot_stat_map(img, title=""IC %d"" % i,
                           display_mode='z', cut_coords=1,
                           colorbar=False)
    plt.show()

# Foreground Extraction and Connected components extraction
from nilearn.region_extraction import SimpleThresholdExtractor
# Foreground extraction using Voxel Ratio or Auto Extractor
vre = SimpleThresholdExtractor.VoxelRatioExtractor()
vre.transform(components_img)
vre_regions = vre.regions_
strategy = 'Voxel Ratio Extractor'

for i_vre, _ in enumerate(vre_regions):
    vre_reg = nibabel.Nifti1Image(vre_regions[i_vre],
                                  affine)
    plotting.plot_stat_map(vre_reg, title=""IC %d after %s "" % (i_vre, strategy),
                           display_mode='z', cut_coords=1,
                           colorbar=False)
    plt.show()
```

## CANICA

![untitled 1](https://cloud.githubusercontent.com/assets/11410385/8771805/06b37752-2ec6-11e5-91b9-497ebc00e973.png)

## Voxel Ratio Threshold Extractor

![vre](https://cloud.githubusercontent.com/assets/11410385/8771811/1533fdce-2ec6-11e5-8399-7cc9f38e5c7b.png)
",,
7,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:02:59,"Remarks:
Random Walker Region Segmentation in progress
",,
8,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 11:59:46,"``` python
import nibabel

from nilearn import datasets
from nilearn._utils import check_niimg
from nilearn.image import iter_img, new_img_like
from nilearn.decomposition.canica import CanICA

import matplotlib.pyplot as plt
from nilearn import plotting

# ICA Decomposition
adhd_dataset = datasets.fetch_adhd()
func_filenames = adhd_dataset.func

n_components = 4
canica = CanICA(n_components=n_components, smoothing_fwhm=6.,
                memory=""nilearn_cache"", memory_level=5,
                threshold=3., verbose=10, random_state=0)

canica.fit(func_filenames)
components_img = canica.masker_.inverse_transform(canica.components_)
affine = components_img.get_affine()

# Visualization
for i, img in enumerate(iter_img(components_img)):
    plotting.plot_stat_map(img, title=""IC %d"" % i,
                           colorbar=False)
    plt.show()

from nilearn.region_extraction import SimpleThresholdExtractor
# Foreground extraction using Voxel Ratio or Auto Extractor
vre = SimpleThresholdExtractor.VoxelRatioExtractor(min_size=100)
vre.transform(components_img)
vre_regions = vre.regions_
index = vre.index_
strategy = 'Voxel Ratio Extractor'

for i, each_4d in enumerate(iter_img(vre_regions)):
    plotting.plot_stat_map(each_4d,
                           title=""IC %d after %s "" % (index[i], strategy),
                           colorbar=False)
    plt.show()
```

Results picked manually for showing purpose:
![git](https://cloud.githubusercontent.com/assets/11410385/8824838/e2bb673c-3079-11e5-9555-c46f73e975ac.png)
",,
9,issue_comment,651,nilearn,nilearn,bthirion,2015-07-22 12:08:14,"Nice, thx ! 
But the naming is a bit twisted. ""VoxelRatioExtractor"" ? ""Threshold of voxel ratio"" ?
",,
10,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:18:45,"At the moment I kept name as ""VoxelRatioExtractor"" but need to be discussed to fix a nice and convincing name. ""Threshold of voxel ratio"", I am trying to say that I applied threshold of `ratio` onto the non zero voxels before ""blobs extraction"" . The threshold strategy is actually adapted from `canica` script file.
",,
11,issue_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:24:56,"> But the naming is a bit twisted. ""VoxelRatioExtractor"" ?

This name is a remainder of the piece of code I gave to @KamalakerDadi. I take your remark as a compliment about my natural gift to find perfect names for objects (remember the NiftiBallsMasker?).
",,
12,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-04 11:16:19,"@AlexandreAbraham  I have added code snippet of yours to compute `threshold` using `ratio` of the number of voxels. Please see if it makes sense as how I included. Also, I kept `scoreatpercentile` as an option.
",,
13,issue_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:06:59,"@KamalakerDadi, I have no time to test your code but the logic looks good to me. I switch into code nazi mode and nitpick on implementation details.
",,
14,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-09 17:16:32,"@GaelVaroquaux @AlexandreAbraham @lesteve I think it can be reviewable. For coverage increase, I have tried to include tests from skimage for the missing lines. But, still I see there are some missing lines. I will see it. Any comments on code, ported files and locations will be helpful. Thanks.
",,
15,issue_comment,651,nilearn,nilearn,lesteve,2015-11-10 12:40:53,"> @GaelVaroquaux @AlexandreAbraham @lesteve I think it can be reviewable. For coverage increase, I have tried to include tests from skimage for the missing lines. But, still I see there are some missing lines.

Not 100 % sure but I thought @GaelVaroquaux was of the opinion of not adding the scikit-image code in externals but rather only taking what we need and add it somewhere in nilearn.

If we decide it's fine to add it in externals then we should not test it. Adding a .coveragerc is probably the way forward in order to ignore files from the coverage (note you probably need to tweak continuous_integration/install.sh in order to copy .coveragerc where we are running the tests from)
",,
16,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:50:32,"- We should consider a min_distance in mm too.
- We should think of giving a minimum size in mm^3 instead of number of voxels to handle anisotropic data.

Except these two comments, everything is addressed. I think I should discuss a bit more to address those. I have added region_extraction.rst in connectivity section. 

if you have any comments let me know.

ping @GaelVaroquaux @lesteve @AlexandreAbraham @bthirion 
",,
17,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:56:02,"As a side note, I really don't know how to convince coveralls. Any hints would be great.
",,
18,issue_comment,651,nilearn,nilearn,bthirion,2015-12-03 21:17:43,"I think that If you want to define separation between local maxima is 
metric space, you can no longer use scipy.ndimage.maximum_filter, 
because the neighborhood you consider is no longer a parallelepipoid in 
voxel space...
So, while the concern is correct, I think that it is relatively hard to 
handle it correctly without re-coding significant re-coding.

A simple way to extend the function for the case of non-isotropic voxels 
is to reproduce  the scipy.ndimage.maximum_filter API, where either a 
'size' or a 'footprint' is used.
",,
19,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-07 10:21:42,"ping @AlexandreAbraham @lesteve 

I think I have addressed your comments in a recent commit.
",,
20,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 16:31:03,"ping @GaelVaroquaux I am thinking of removing smith atlas networks example as it shows just a basic extraction. If you are not agreeing upon this then I think it should be moved to some where else. May be in General or Plotting ?
",,
21,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 19:06:59,"Anymore reviews/comments @GaelVaroquaux @lesteve @AlexandreAbraham @bthirion 
",,
22,issue_comment,651,nilearn,nilearn,lesteve,2015-07-17 10:36:30,"Rather than saying ""imcomplete"" just put [WIP] at the beginning of your PR title to indicate this is not ready to merge.
",,
23,issue_comment,651,nilearn,nilearn,lesteve,2015-12-10 14:52:13,"> I'm waiting for the green and merging :)

Sounds good.
",,
24,issue_comment,651,nilearn,nilearn,banilo,2015-07-15 15:01:17,"Why is the new python file camel-cased?
",,
25,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-13 16:10:12,"Remove `only_gm`: we said that we should do it in a separate function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
26,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-13 16:11:19,"VoxelRatioExtractor previously inherited of BaseROIExtractor, hence the parameters here. It is not the case anymore so you can't call `super(VoxelRatioExtractor, self).__init__`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
27,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:17:54,"how about calling this `data`as we usually do for non-niimg objects with imaging information. Map might give the impression that is a nibabel object
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
28,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:18:07,"not explicit enough to me
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
29,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:20:30,"better not call the variable the same name as the function
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
30,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:22:54,"how about `compute_relative_threshold` as alternative name?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
31,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:24:43,"why the underscore in the variable name?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
32,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:25:16,"`np.any` conversion of the code might be faster (although probably not relevant here)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
33,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:25:28,"mention that it is a list
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
34,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:33:47,"I think you can loose the `view()`here. That seems to be mainly for type conversion and several access roads to a same array in memory in contexts where different dtypes/objects are necessary.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
35,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:35:12,"Having a 4d image but keeping the time dimension in the first place is unusualy across the nilearn code base.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
36,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:36:19,"error message for the None case?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
37,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:24:58,"This class is equivalent to the previous one. You don't need two of them.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
38,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:25:56,"You don't need an empty line here. Plus, you should not use `CamelCase` for file names. In python, we use `snake_case`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
39,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:27:06,"You should actually extract the regions, not set the ones that you don't want to 0. Meaning, if I give you a 3D map with 4 regions in it, you should output a 4D file with 4 scans and I should find one region per scan.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
40,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:06:44,"Fixed
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
41,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:06:53,"Ok I do it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
42,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:07:09,"Ok
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
43,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:35:24,"Please fix file name.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
44,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:36:28,"By convention in nilearn, the ""img"" suffix refers to nibabel.SpatialImage objects. You use a list here. Please remove this suffix as it can be troublesome for other devs.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
45,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:37:53,"You should not call `label` twice. This is a computationally expensive function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
46,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:38:32,"Please use `_img` suffix here ;)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
47,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:39:22,"Why do you create 3d images to concat them in a 4d? You can directly build the 4d image.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
48,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:40:57,"We don't want to use this thresholding strategy.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
49,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:43:21,"Be careful: data is 4D here so your threshold is based on the lenght of the first dimension. Plus, you need a brain mask to estimate the brain volume.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
50,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:44:19,"I am converting to image format to be compatible with `concat_niimgs` otherwise it is complaining. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
51,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:48:21,"I named the filename and ""Voxel_ratio_extractor"" to ""region_extractor"".
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
52,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:55:13,"You didn't push it then.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
53,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 13:06:08,"You don't need `concat_niimgs` at all.

Here is a quick and dirty equivalent of your code:

``` python
    labels, n_labels = label(img_data)
    labels_size = np.bincount(components.ravel())
    labels_size = 0
    regions = []
    for label_id, label_size in enumerate(labels_size):
        if label_size < min_size:
            pass
            img_data[components == label_assign] = 0
        region = img_data.copy()
        img_data[labels != label_id] = 0
        regions.append(region[..., np.newaxis])
    regions = np.concatenate(regions, axis=3)
    regions_img = new_img_like(img, regions)
return regions_img
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
54,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 13:06:28,"data and affine are contained in img...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
55,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-23 08:23:05,"Replace `len(maps_data)` by `mask_img.get_data().sum()`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
56,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:06:06,"We'll see naming later but `region_extraction/regionextractor.py` is a bit redundant. Also, we use `snake_case` as naming convention. So the name would be `region_extractor.py`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
57,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:07:18,"Typo: separate. Also, you could just name it `extract_regions`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
58,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:08:17,"Same remark as before. Suffix `img` is for images object (ie `SpatialImage` with `get_data` and `get_affine` methods).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
59,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:10:41,"Also: why `img` and `img_data`? Only `img` is necessary, just call `img.get_data()` to get the data. (Note, maybe this is justified further, I haven't read all the code yet).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
60,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:12:30,"This description is very obscure to me.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
61,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:12:54,"`img_data` is the thresholded image taken as input in this function. I am calling `img` since I am using it to take affine and create a `new_img_like`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
62,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:13:17,"This is not used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
63,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:13:59,"You don't need to copy the data since you don't modify it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
64,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:15:19,"You can do `region_img = new_img_like(img, (labels == label_id) * img.get_data())`
By doing this:
- the copy of data is implicit
- you don't have to specify the affine. By default, `img.get_affine()` is taken.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
65,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:16:41,"You don't have to go into so much details: we are trying to hide implementation from user.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
66,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:20:02,"The main difference between the two strategies is that random walker will try to separate connected components into subregions based on seeds. We have to find names reflecting this behavior because ""random_walker"" won't speak to the users. Maybe `simple` and `seed_based`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
67,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:21:53,"I think that we can be more restrictive using `check_niimg_4d`.
@GaelVaroquaux : people will want to extract regions from simple 3d images too but, in that case, thresholding is not very meaningful. Should we create another object or do a special case here?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
68,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-07-26 21:22:40,"'seed-based' does not convey the idea of connectedness/locality. would `growth` or `growing` work ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
69,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-26 21:23:44,"> The main difference between the two strategies is that random walker will try
> to separate connected components into subregions based on seeds. We have to
> find names reflecting this behavior because ""random_walker"" won't speak to the
> users. Maybe simple and seed_based.

'connect_components', and 'hill_detection'?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
70,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-26 21:24:39,"> I think that we can be more restrictive using check_niimg_4d.
> @GaelVaroquaux : people will want to extract regions from simple 3d images too
> but, in that case, thresholding is not very meaningful. Should we create
> another object or do a special case here?

Probably another object, but we need to discuss it. Basically, the
question is: how will we document / explain this?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
71,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:24:46,"`self.extractor not in extractor_methods` should be sufficient.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
72,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:35:30,"You copy data too much...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
73,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:37:51,"This is not the strategy of the paper. We can discuss whether or not this strategy is pertinent though.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
74,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:41:12,"Now that I know that `img_data` is `label_map`, this makes more sense to me. You should name it `label_data` in that case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
75,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:42:23,"There is also a way to pass the affine in order to take it into account.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
76,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:42:41,"Yes, but as you know and as we saw that implemented it has some problems. Yes we can discuss. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
77,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:44:38,"yes, that is what I mean saying a thresholded image. You are right, I have not made clear enough for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
78,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:45:31,"which lines made its obscure. can you denote ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
79,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:46:29,"Ok, then I remove all ""ref:"" related lines.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
80,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:47:32,"Well, problems are meant to be solved ;). I gave you several options to solve them.
Your solution here is a workaround to aboid the fact that you need the brain mask: you suppose that nonzero values are the only one not masked, which is wrong.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
81,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:48:17,"Do that only one time at the end of the loop.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
82,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-27 08:27:28,"`local_region_extraction` ? since we are separating components based upon their locality.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
83,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-29 11:09:48,"> local_region_extraction ? since we are separating components based upon their
> locality.

local_regions?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
84,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:18:48,"You can use `check_niimg_4d`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
85,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:20:52,"`if self.mask is not None:` should be sufficient.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
86,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:21:37,"You don't need to reinvent the wheel ;). What you want is `masking._load_mask_img`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
87,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:22:32,"`self.masker_` may not exist yet here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
88,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:23:26,"Why do you want to keep the transformed maps in your object?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
89,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:23:41,"typo
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
90,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:57:40,"Do not create an img here, it is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
91,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:05:25,"Your whole block is good but it can be factorized. It's better since it's shorter and you rely on nilearn's code for handling exceptions.

``` python
# First create the masker
if isinstance(self.mask, NiftiMasker):
    self.masker_ = clone(self.mask)
else:
    self.masker_ = NiftiMasker(mask_img=self.mask, ...)

# Then fit
if self.masker_.mask_img is None:
    self.masker_.fit(maps_img)
else:
    self.masker_.fit()
self.mask_img_ = self.masker_.mask_img_
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
92,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:09:29,"More explanation : the ""img"" object should be created at the very end of the pipeline. Also, I like to separate ""nifti world"" and ""data world"". Here, your function takes data as input and output niftis. Plus, you use `new_img_like` with a freshly new image, which makes the call to this function completely counterproductive.
You should just do `regions.append(map_data)` and turn the data into niftis in the upper level function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
93,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:10:06,"Actually, you don't even need it. See below.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
94,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:10:21,"See the comment below about factorization of this code.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
95,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:11:03,"Do we really need this strategy?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
96,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:17:48,"I think that this won't work as you exemple since `regions_accumulated is a list of list of Nifti1Image. You should obtain a 5D nifti.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
97,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:18:31,"You probably want to use `extend` instead of `append`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
98,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:18:42,"Should be in the `for` loop.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
99,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:01,"You don't want to keep them.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
100,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:14,"No, you should return the signals here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
101,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:47,"Well, you probably just want to use the transform method of the Maps Masker, you don't need a `for` loop here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
102,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 09:23:06,"I am hoping that if we also need to input 3D image ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
103,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 10:25:37,"If you input 3D image, the line below will an exception. You can use `check_niimg(maps_img, atleast_4d=True)`. We need to discuss this but it's a minor detail, do not bother.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
104,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 11:59:33,"To be honest, I really don't know. We were discussed that `percentile` strategy is same as `voxelratio` strategy. I can remove if it don't make any useful unless we are planned to make `canica` compatibility.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
105,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 15:21:25,"@AlexandreAbraham Should I also implement `confounds` parameter here ? similar to `multipca.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
106,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 15:29:59,"Yes. You just have to pass them to NiftiMapsMasker.transform anyway.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
107,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:33:14,"Isn't this creating a novel dependency for nilearn. If yes, is that ok/worth it?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
108,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:36:59,"""label point"" - WDYM?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
109,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:37:34,"The corresponding skimage code will be added to nilearn/external. No additional dependency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
110,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:39:29,"perhaps rather `label_counts/label_cnts`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
111,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:47:46,"Shouldn't the parameters be listed in the docstring of `__init__`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
112,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:49:45,"Isn't it confusing to use the class variables here as names for the return values?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
113,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:53:23,"perhaps some `np.where()` on mask_img_ instead?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
114,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:55:25,"Isn't there a more elegant way to get the data in 3d brain space? for example by using `´mask_img_``as an index into a n empty 3d brain matrix...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
115,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:57:46,"It actually returns the size of each labelized region.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
116,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:57:56,"There appears to be some confusion about class variable and return value in this PR.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
117,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:59:08,"No, it is in the right place.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
118,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:59:43,"Yes, they should be in an `Attributes` section.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
119,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:59:57,"This calls `check_niimg(niimg, ensure_ndim=4, return_iterator=return_iterator,
                       dtype=dtype` ...sure self.regions_ has the right shape if there is only one region?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
120,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:00:27,"np.where is linear in the size of the mask. `.size` is instantaneous.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
121,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:01:20,"If I get you well, this is exactly what `inverse_transform` does.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
122,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:04:39,"There is no need to call `check_niimg` on data computer in the `fit`. Lots of details like that are wrong in this PR. I think that peer coding may be more efficient that mass commenting ;).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
123,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-11 12:39:50,"I agree its not clear. What I mean is I am trying to tell that each voxel is assigned with unique label point of voxels in that particular region.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
124,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-11 12:41:08,"Ok, I append the data and returns imgs at the end.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
125,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-02 12:55:50,"'from ._rank_order import rank_order'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
126,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-10-05 12:30:11,"Fix it, hopefully that should get Travis green and I'll take a closer look at your PR.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
127,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-05 12:35:06,"I also got reviews from @GaelVaroquaux on my overall PR. I am also fixing those. Then, may be you can take a look.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
128,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:38:51,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
129,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:39:05,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
130,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:39:12,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
131,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:40:01,"`reg_ext` makes me think of regular expressions. Maybe `extractor` is sufficient ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
132,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:42:45,"Should we expose them all ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/__init__.py')"
133,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:43:58,"Replace this block by:

``` python
single_map = (len(maps_img.shape) == 3)
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
134,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:46:20,"The `else` is not needed here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
135,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:48:50,"This name is a bit verbose. `thresholding_strategy` is maybe better ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
136,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:50:00,"ratio can be > 1 for `ratio_n_voxels`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
137,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 14:05:00,"and if ratio is None?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
138,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 14:06:46,"masking / unmasking is an expensive operation. Is it really necessary ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
139,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:53:28,"Yes as an option, it could be also be useful as a seperate functions. If user, has cases like only one 3D map to be extracted. Not only that, we can also fit these functions in code base. But, Where ? I don't know now. Ideas are welcome.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/__init__.py')"
140,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:55:32,"Before it was `threshold_strategy`. I changed this name to be more informative since we estimate certain threshold value from the voxels or data. May be I stick to old one `thresholding_strategy`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
141,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:59:41,"`ratio is None`, then it takes default ratio value = 0.8. But, I haven't explicitly used this condition. Instead, I used the condition saying that `if threshold == auto` to pick default value.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
142,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 08:03:42,"I used this just for my comfortability. Other alternatives for example, `new_img_like` ? Do you think ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
143,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:54:18,"PEP8: `print(' (no space)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
144,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:56:11,"Do not use a masker, especially if you estimate the mask on only one subject. Let CanICA do it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
145,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:56:57,"Set `memory_level=1`, there is absolutely no reason to increase its value here. It is for very specific cases.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
146,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:03,"`regions_extracted` should be enough. Also, the comment above is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
147,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:21,"You don't use it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
148,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:53,"Edit: sorry I misread your code. `""subject_timeseries` would be a better name for the variable.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
149,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:04:17,"You don't use ADHD here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
150,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:09:48,"We probably don't want the original img_as_float function as it converts to float64. You can define your own above that converts to float32 and remove the dtype.py file.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
151,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:12:33,"'cg_mg' may not work, you should do a try / except and downgrade to 'cg' then 'bf'.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
152,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:45:59,"Use `check_niimg(maps_img, at_least_4d=True)` and forget about single_map case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
153,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:48:07,"Use `segment` or `extract` but not `break`.

In the STMI paper, we use `foreground extraction` for the first step and `connected component extraction` for the second one. You may want to follow the same semantics.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
154,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:52:09,"`regions` is enough.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
155,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:52:39,"Use `check_niimg_3d`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
156,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:10:15,"You should not return a list of niimgs.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
157,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:11:05,"You don't need a NiftiMasker since you have to set the masked values to 0.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
158,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:12:43,"I don't understand the pattern here: what is the purpose of fit? What is the purpose of transform? Shouldn't that be linked to NiftiMapsMasker somehow?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
159,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 15:44:41,"Its already there. What are you referring to ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
160,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 15:45:59,"I have no specific case but used in to call for `fit_transform`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
161,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 16:49:56,"Ok. I would do this importing from sklearn. Do you think it is Ok for using like this ?

``` python
from sklearn.utils import as_float_array
data = as_float_array(data)[..., np.newaxis]
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
162,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 17:08:14," I don't think so, this function should work for 3D mostly.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
163,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-28 14:47:26,"I will change accordingly based on our discussions and push a new one.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
164,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-28 14:51:03,"`at_least_4d=True` will turn your 3D data into 4D and make the things easier for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
165,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-29 10:10:18,"``` python
# Load the mask
mask_img = masking._load_mask_img(mask_img)
maps_data = maps_img.get_data()
# Set to 0 values outside of the mask
maps_data[np.logical_not(mask)] = 0.
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
166,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 11:42:30,"Usage of functional datasets will be removed in next commit.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
167,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 11:47:20,"@AlexandreAbraham Do you think this would help to mask the data ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
168,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:24:51,"A more correct formulation would be ""This example shows how to use RegionExtractor to extract connected brain regions from whole brain ICA maps and use them to estimate a connectome.""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
169,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:26:36,"just my appreciation but 0.5 seems a low threshold to me and 400 is a big min_size (I usually take 20/50 depending on the method used).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
170,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:27:28,"Considering the memory required by time series, it is not a good idea to keep them in memory.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
171,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:27:50,"`for subject_ts in subjects_ts` for example.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
172,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:30:12,"I would name it `index_`. `identity` refers to the identity matrix.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
173,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:31:21,"Why don't you use `plot_stat_map`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
174,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:32:43,"This is not informative for the user. Explain what the other strategy is if you really want to explain it here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
175,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:34:46,"I guess that the purpose of this example is to explore all combinations of strategies for foreground and component extraction? It is not clear to me when I read the code but we can fix that afterward.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
176,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:08:19,"`_load_mask_img` is an exception in nilearn. It takes an niimg as input and returns a tuple of (data, affine). This is because the type used to store niimg (nibabel.Nifti1Image) does not support boolean types. You should therefore write `mask_data, _ = masking._load_mask_img(mask_img)`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
177,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:08:21,"Yes, this is exactly it! Thanks to `_load_mask_img` you can even write `maps[mask] = 0.`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
178,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:15:34,"This is redundant with the previous parameter. The threshold depends on the type of the previous parameter:
- float -> ratio_n_voxels
- string ""XX%"" -> percentile
- 'auto' -> automatic strategy
- None -> no thresholding

This is not only disturbing for the user but you will have to do complex checking to see if both parameters matches.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
179,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:17:06,"This is not needed.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
180,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:19:33,"We never talked about this one. Is that new?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
181,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:19:49,"This is unclear.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
182,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:20:30,"This variable is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
183,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:23:19,"I don't think that masking is necessary in both functions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
184,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:34:21,"Please use `iter_img` to iterate on maps.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
185,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:42:46,"Recent version of the RW do not need this.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
186,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:43:09,"Unnecessary variable.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
187,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:43:46,"You should try the 3 modes : cg_mg, cg and bf.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
188,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:46:12,"I think you don't need that if you have run RW before. Therefore it should go into the `else` statement.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
189,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:46:41,"`index` is the wording to use here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
190,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:48:20,"Please declare it at line 243 when you really need it for the sake of clarity.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
191,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:49:13,"You don't need to delete it explicitely, Python will do it for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
192,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:49:50,"Same remark as above.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
193,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:50:07,"`index_`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
194,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:51:56,"Using ""super"" is cleaner in this case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
195,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:53:22,"Since you take the mask into account for region extraction, you don't need it here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
196,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:54:10,"Plus, your object _is_ a NiftiMapsMasker so why do you declare a new one?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
197,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:54:51,"Remove this whole block.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
198,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:57:21,"It's already in NiftiMapsMasker: you don't need it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
199,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:58:05,"You don't need this function. If you call `fit` as in my previous comment, you will rely on NiftiMapsMasker.transform and you don't have to do anything.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
200,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:51:15,"Thanks
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
201,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:53:25,"The reason I used size=400 is to good sized blobs out of regions for visualization. Yes I agree threshold is small. Will optimize the parameters for better visualization. Could you give an idea if it also good to compare here RWE and CCE ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
202,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:55:07,"I am in a state such that atlas maps should not be shown as statistical maps. Correct me If I am wrong. Except that I am Ok to show as `plot_stat_map`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
203,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:59:18,"This design is such that if user wants foreground objects based on t-value then there is no need of any strategy. It just thresholds with the input value. I agree it is not more explicit. May be I would remove the line ? or give more explanation ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
204,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:04:22,"Yes, @GaelVaroquaux and I were involved.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
205,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:13:30,"If I see the percentile concept in `canica`, no where it says that percentile should be string. Infact, the doc explanation is given as considering `ratio_n_voxels` I believe but inner code used `scoreatpercentile`. I am bit skeptical between `percentile` and `ratio_n_voxels`. Better solution would be I guess to use the same doc as in `canica`. I agree it is not clear using multiple options in threshold. May be we would decide something convincible.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
206,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:14:14,"Thanks and sorry I missed this `_`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
207,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:14:24,"Thanks
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
208,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:15:53,"Again @GaelVaroquaux and I was in discussion to have `mask_img` as an option.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
209,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:17:06,"I had some problem with normalization when I was using smith atlas. I will check again.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
210,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 17:33:32,"CanICA has only one thresholding strategy it does not use the percentile one. I thought of an approach similar to the one in `plot_prob_atlas`. However, if a float can be a ratio and a value at the same time, then yes, we need another parameter.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
211,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-04 13:10:39,"@AlexandreAbraham U mean on data ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
212,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-04 13:17:48,"Oh, yeah, you're in data. Nevermind ;)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
213,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-09 13:32:31,"@AlexandreAbraham Here, `'cg_mg'` has a dependency called `pyamg`. By itself, it is downgrading to `mode='cg'` since we don't have installed `pyamg`. The reason which I am not `try`ing `mode='cg'`. Do you think should I still `try` 'cg'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
214,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-11-09 20:39:28,"Shouldn't the class  be referenced as  nilearn.regions.RegionExtractor? I would like as much as possible not to go more than one level deep. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
215,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-11-09 21:04:49,"Same thing here: could you import canica from decomposition. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
216,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:45:58,"Now I'm lost. I thought that we got rid of the ""string"" version of the threshold.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
217,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:48:14,"default is `img_value`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
218,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:49:30,"Now that this function is exposed to the user, you can't always convert to 4d. Removing `atleast_4d=True` should work.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
219,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:53:31,"Should we do it automatically or leave this option to the user? Or maybe should we expect similar pov and raise an error if not? I am perfectly fine with the current behavior but I would also agree if we raise an error. I am against adding a new parameter that would make the function more complex. @GaelVaroquaux @lesteve 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(72, '', u'nilearn/image/image.py')"
220,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:57:41,"I think that we should not raise an error if the maps returned are empty: garbage in -> garbage out. We should maybe raise a warning but it has to be done in `check_threshold`. This whole block should be replaced by `threshold = check_threshold(...)`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
221,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:59:32,"This line is critical for big data. We should open an issue to make this function scale to big data after your PR is merged.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
222,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:02:31,"Never trust external code ;). I would feel better if all the cases were covered.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
223,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:02:41,"This should be a warning.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
224,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:09:11,"Is there any reason to keep these maps? I think that you should just discard them after region extraction.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
225,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-10 15:06:37,"If I remember correctly, this we have discussed during our sitting.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
226,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:22:42,"grammar...the second half-sentence semantically does not make sense
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
227,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:27:06,"A...mapS
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
228,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:31:32,"Yes but since the additon of `threshold strategy`, I just didn't know if the string thing still holds.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
229,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:32:15,"Sure, `extmath.py` is the most appropriate spot for this function?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
230,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:53:57,"word missing
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
231,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:55:10,"missing captial letter
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
232,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:00:18,"Why not handle this option at hte beginning, would that not reduce indentations?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
233,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:05:47,"Explicitly float? Any type conversion aspects here? What if the nifti data is in int32?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
234,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 23:08:27,"The value is casted to the type of the array automatically.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
235,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:09:22,"Ok, good to know.

2015-11-11 0:08 GMT+01:00 Alexandre Abraham notifications@github.com:

> In nilearn/image/image.py
> https://github.com/nilearn/nilearn/pull/651#discussion_r44480040:
> 
> > -                threshold = (""{0}%"").format(threshold)
> > -            cutoff_threshold = check_threshold(threshold, img_data,
> > -                                               percentile_calculate=scoreatpercentile,
> > -                                               name='threshold')
> > -    else:
> > -        raise ValueError(""The input parameter 'threshold' is empty. ""
> > -                         ""Please submit value which should be either float or ""
> > -                         ""a string e.g. '90%' or simply number 90."")
> >   +
> > -    list_of_strategies = ['percentile', 'img_value']
> > -    if thresholding_strategy not in list_of_strategies:
> > -        message = (""'thresholding_strategy' should be given as ""
> > -                   ""either of these {0}"").format(list_of_strategies)
> > -        raise ValueError(message)
> >   +
> > -    img_data[np.abs(img_data) < cutoff_threshold] = 0.
> 
> The value is casted to the type of the array automatically.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/651/files#r44480040.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
236,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:38:53,"Any clue where the beta=130 comes from ? This worries me.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
237,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:40:02,"This docstring is probably not complete...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
238,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:47:12,"rather than 'mask nodes', I'd put 'nodes where mask is False', otherwise the docstring is a bit misleading. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
239,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:48:33,"beta = 50 here ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
240,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:49:39,"Thanks for the explanation, but it is hard to figure out where the default comes from.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
241,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:51:44,"and for 3D images I guess ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
242,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:54:14,"Note sure what you mean.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
243,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:54:24,"Yes, yet another parameter... I tried changing it but the effect was small because it affects low values.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
244,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:54:58,"It is scikit image code.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
245,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:56:01,"I suggest we don't fix scikit image docstring. The goal is to be able to update this code with newer versions easily.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
246,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-13 13:33:56,"I think it should be because this function also includes to give threshold based on `scoreatpercentile`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
247,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-16 13:37:19,"I think I have missed somehow in our conversation. Sorry. 
Now, I remove `threshold_strategy` in class `RegionExtractor` and use this private function for thresholding.
threshold = [float, 'auto']
default: threshold = 'auto'

``` python
def _threshold_maps(maps, threshold):
    """""" Automatic threshold function using ratio to the number of voxels
    in the brain volume to keep the most prominent features of the maps
    which lies above a certain threshold.
    """"""
    abs_maps = np.abs(maps)
    ratio = None
    if isinstance(threshold, float):
        ratio = threshold
    elif threshold == 'auto':
        ratio = 1.
    elif threshold is not None:
        raise ValueError(""Threshold must be 'auto', ""
                         "" or float. You provided %s."" %
                         str(threshold))
    raveled = abs_maps.ravel()
    argsort = np.argsort(raveled)
    n_voxels = (ratio * maps.size)
    cutoff_threshold = raveled[argsort[- n_voxels]]
    maps[abs_maps < cutoff_threshold] = 0.

    return maps
```

@AlexandreAbraham 
Question is to threshold with common float value on all maps or value with each individual map ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
248,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-18 09:45:30,"Following our discussion, we have now 3 thresholding strategies:
- `img_value`: it's a float
- `percentile`: it can be a string, or be a float
- `ratio_n_voxel`: it's a float

So, if you remove `threshold_strategy`, we won't be able to differentiate between cases 1 and 3. I think you should just leave it as-is.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
249,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 08:43:27,"seperate -> separate. Multiple occurences of this typo.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
250,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:31:09,"You probably want to check that it is between 0 and 1 (not sure whether the equality are inclusive or not)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
251,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:32:09,"I would not mention threshold_strategy here since it is not related to this function but to RegionExtractor.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
252,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:33:13,"Also do this sanity check towards the top of the function. No need to do .get_data if threshold is not a float.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
253,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-24 09:34:10,"threshold can be any positive floating point value between 0 and n_maps.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
254,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:34:52,"None
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
255,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:18,"remove the a before ""4D ..."". Also I think it is just 4D Nifti image, right?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
256,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:34,"idem, remove the a before ""numpy array""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
257,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:49,"typo: identity
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
258,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:37:40,"Add the value provided by the user in the error message.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
259,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:38:21,"I would just call it allowed_extract_types or possible_extract_types
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
260,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 09:47:14,"Yes, I will remove.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
261,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:49:44,"meaningful variable names is always a good idea. Maybe something like map_3d?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
262,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:50:33,"'auto' type doesn't exist any more
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
263,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 09:52:32,"I will change it looks good.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
264,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:52:48,"Just curious, what's the reason for this? Maybe you need to add a comment to make it more obvious.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
265,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:57:42,"remove ""or path ..."" this is what 4D Niimg-like means
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
266,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:59:21,"Remove ""an image or a filename of the"" and just starts with: ""Image containing ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
267,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:05:29,"This can be simplified, maybe something like:

Mask to be applied to input data, passed to NiftiMasker.
If set to None, no masking is applied
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
268,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:07:04,"Maybe min_region_voxels or min_region_size?

Also no need for ""size"" after default:
int, default 50, optional
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
269,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:09:14,"No need to say again that it is an integer that is what the line before is for.

The whole thing can be simplified:
Minimum number of voxels for a region to be kept. Useful to suppress small spurious regions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
270,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:13:45,"Niimg-like object
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
271,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:16:36,"Not sure what you want to do with ""or"" but it's fine just to go to a new line so remove it. Same thing applies to ""or"" in other places.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
272,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:19:37,"peak_local_smooth doesn't strike me as a great name.

@AlexandreAbraham just curious, does it make sense to have peek_local_smooth != smoothing_fwhm in general?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
273,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 10:24:07,"Ok, may be I would just use default as 6. to `peak_local_max` and then hide it being a parameter ?
ping @GaelVaroquaux 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
274,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:26:17,"Do not use capitals in function name.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
275,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 10:27:13,"I used `peak_local_smooth` to differentiate with `NiftiMapsMasker` parameter `smooth_fwhm`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
276,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:28:40,"Can we not do better than a smoke test, e.g. generate a few regions with gaussian + noise and make sure that we find the regions as we expect?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
277,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:28:56,"no need to use passing in the function name
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
278,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:30:56,"Idem as the previous test, hopefully we can do better than a smoke test for RegionExtractor.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
279,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:32:27,"no need for the parentheses here
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
280,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:36:43,"""Multi-line docstrings consist of a summary line just like a one-line docstring, followed by a blank line, followed by a more elaborate description"" from [PEP 0257](https://www.python.org/dev/peps/pep-0257/#multi-line-docstrings).

That would be nice if you could fix this in other docstrings as well.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
281,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:46:09,"Maybe simpler: "" -- %d regions extracted from %d ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
282,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:49:09,"This can be simplified with a list comprehension:

``` python
correlations = [np.corrcoeff(subject_ts.T) for subject_ts in subjects_timeseries]
```

I would use a plural (i.e. correlations rather than correlation) since this is a list.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
283,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-26 12:21:14,"Oops, this need to be changed.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
284,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 09:29:44,"New line after the imports for readability.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
285,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-30 09:34:27,"I am changing the layout of the examples to suit it for notebooks style.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
286,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 14:04:11,"maybe `[coords[-1]]` is more readable
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
287,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 14:05:18,"still seperate -> separate. Please do a search and replace for seperat -> separat in all of your files.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
288,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:42:18,"It doesn't feel like check_threshold really belong in _utils.extmath...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
289,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:46:02,"What was wrong with the old check_threshold code?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
290,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-01 17:52:12,"Nothing was wrong. I just changed the location since we have travis failure problem and added block of code to check for `float` value. rest all is same as before.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
291,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:53:14,"To make life easier for our future selves, you may want to indicate which file you took it or the fully qualified function name e.g. skimage.feature.peak.peak_local_max in this case.

You can probably do something similar each function/file you took from scikit-image.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(45, '', u'nilearn/_utils/ndimage.py')"
292,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:53:45,"This is very kind of you but maybe not that crucial.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/ndimage.py')"
293,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-01 17:57:55,"Why did you raise a question ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
294,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:12:46,"You should add a test with an int threshold and one that checks the warning if the threshold is greater than the max value of the data. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
295,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:18:34,"Because the current code has some oddities, for example the `elif isinstance(threshold, numbers.Real): pass` followed by `elif not isinstance(threshold, numbers.Real)`.

There is no reason not to keep the same structure as before:

``` python
if isinstance(threshold, str):
    ...
elif isinstance(threshold, numbers.Real):
    # Note that includes int in contrary to your current code
else:
    raise TypeError(...)
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
296,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:20:13,"Adding a test making sure that check_threshold works with numpy scalar would be great too.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
297,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 07:20:38,"Even, I am not sure. Do you have any preferences ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
298,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 08:09:23,"No strong opinions, maybe @GaelVaroquaux or @AlexandreAbraham have suggestions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
299,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:30:19,"Agreed with @lesteve : I think that it should be a private function, and be put close to where it is currently used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
300,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 08:36:38,"@GaelVaroquaux currently it is in `displays.py`. I have to use it outside of plotting modules which means I cannot escape being caught by travis. I am using it to check for valid thresholds in `threshold_img` in `image.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
301,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:57:02,"Do we really need to create a figure? In other words: can't we use the default behavior of plot_prob_atlas?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
302,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:58:43,"If we remove this, we can also remove the import of matplotlib, a bit higher.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
303,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:02:47,"I think that this attribute should be called `regions_img_` as it is an niimg. Also, we should stress that it is actually a Nifti1Image object, rather than a niimg (as it cannot be a file name).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
304,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 09:03:06,"Ok. I think it is not so important. I used it to show in bigger picture. I can remove.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
305,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:04:09,"Is this still current? I have the impression that we are no longer defining such an attribute (and I think that it is a good thing).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
306,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:06:12,"In terms of naming, I think that I would prefer 'regions_percentile_img' (and 'regions_value_img'). The rule is that every variable that is a 'niimg' ends with '_img'.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
307,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:08:14,"Can you remove the for loop, and simple do two explicit calls to plot_stat_map (almost copy-pasted)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
308,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 09:09:51,"As discussed with @GaelVaroquaux . this function will be symbolled as private and will move to new file `param_validation.py` in _utils.
@AlexandreAbraham @lesteve 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
309,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:12:34,"> As discussed with @GaelVaroquaux . this function will be symbolled as private
> and will move to new file param_validation.py in _utils.

If we put it in _utils, we don't need to make it private, as everything
in _utils is private.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
310,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:19:15,"In our codebase I suspect that we always use either indices=True or indices=False. If so, we should remove this option, and the unexplored branches corresponding to the value not used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/ndimage.py')"
311,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:21:40,"We should remove the mode option, as it now has only one valid option.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/segmentation.py')"
312,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:23:06,"We can probably remove the option return_full_prob and only keep the value that we use.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/segmentation.py')"
313,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:25:35,"Let's do it like this. When manipulating data, it's so convenient not to have to resample images.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(72, '', u'nilearn/image/image.py')"
314,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:28:51,"I don't think that this conversion is a good idea. It will surprise users that '1' and '1.' give very different results.

I think that we should simply remove the two lines above.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
315,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:31:14,"The data is modified inplace after. Should we have a 'copy' here?

Also, maybe we should use a nilearn._utils.niimg._safe_get_data to avoid a side effect.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
316,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-02 10:35:51,"+1
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
317,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:36:04,"It does work with numpy scalar:

<pre>
In [15]: a = np.zeros(10)

In [17]: aa = a[0]

In [19]: aa
Out[19]: 0.0

In [20]: type(aa)
Out[20]: numpy.float64

In [24]: isinstance(aa, float)
Out[24]: True
</pre>


however, the right way to check for numbers is to do:

<pre>
import numbers
isinstance(baz, numbers.Number)
</pre>
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
318,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:01:25,"> It does work with numpy scalar:

Yep I know that but adding a test would be good to make sure it is always the case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
319,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 15:03:49,"@lesteve I have added. Please let me know if this not what you have expected ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
320,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:25:18,"assert_equal yields slightly better error messages
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
321,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:28:31,"~~Nitpick: probably less surprising to build an array from a list~~ **edit: ignore this**.

I would do something like:

``` python

# Test with numpy scalar as argument
threshold = 2.
threshold_numpy_scalar = np.float64(threshold)

assert_equal(
    check_threshold(threshold, ...),
    check_threshold(threshold_numpy_scalar, ...))
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
322,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:33:35,"This comment doesn't bring much information. Basically you are saying ""checks that we get the expected result"". What you should be saying is what this additional test adds, in this case something like ""Test for threshold provided as a percentile of the data (str ending with a %)"".
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
323,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:29:59,"Can you remove the n_components variable, and simply pass the value ""5"" below, in an effort to simplify things for users.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
324,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:31:36,"Can we use the new ConnectivityMeasure here or not?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
325,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:33:00,"Also, maybe we should integrate this step in the for loop above, and not store a list of ""subjects_timeseries"", which I think that we don't use after. The idea would be to store a list of correlations only.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
326,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:49:08,"> Can we use the new ConnectivityMeasure here or not?

We were discussed to use numpy corr to keep it simple. But, still we can use our measures here. Should I stick to tangent measure ? 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
327,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:50:31,"> We were discussed to use numpy corr to keep it simple. But, still we can use
> our measures here. Should I stick to tangent measure ?

Correlations are enough. I am wondering: which code is simpler: using
numpy, or ConnectivityMeasure. In a sense, ConnectivityMeasure might
introduce less concepts to the user: the API is still a fit_transform.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
328,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:54:15,"In the reference documentation, I gave a reference to ConnectivityMeasure in nilearn saying that we have ready to compute object for functional connectivity measures.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
329,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:55:27,"> In the reference documentation, I gave a reference to
> ConnectivityMeasure in nilearn saying that we have ready to compute
> object for functional connectivity measures.

Great! What I am trying to figure out here is: how do we make this
example simplest and best for the user.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
330,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:56:10,"> In a sense, ConnectivityMeasure might introduce less concepts to the user: the API is still a fit_transform

Ok, I will switch to ConnectivityMeasure kind = correlation and add few lines saying that we also have more robust measures like tangent embedding....
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
331,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 08:01:26,"I have no clear opinion on which is simpler. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
332,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 08:03:37,"> I have no clear opinion on which is simpler.

Me neither, so I would like to try ConnectivityMeasure
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
333,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:18:15,"Do you really need to declare the figure?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
334,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:33:06,"`threshold` and `threshold_strategy` contain redundant information.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
335,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:54:53,"We should think of giving a minimum size in mm^3 instead of number of voxels to handle anisotropic data.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
336,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:55:17,"The code above can be replaced by `scoreatpercentile`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
337,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 09:55:31,"Not mandatory.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
338,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:56:15,"We should consider a `min_distance` in mm too.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(23, '', u'nilearn/_utils/ndimage.py')"
339,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 09:57:48,"U mean explanation is not so clear ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
340,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-03 10:02:14,"In theory, you're completely right. 
In practice, I'm not so sure: people are really not used to thinking in terms of 'I expect brain areas of size at least 200mm^3', and actually more easily think in terms of voxel counts. This is obvious when you look at the SPM interface.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
341,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:03:15,"> In practice, I'm not so sure: people are really not used to thinking in terms
> of 'I expect brain areas of size at least 200mm^3', and actually more easily
> think in terms of voxel counts. This is obvious when you look at the SPM
> interface.

How about we fix that ;).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
342,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:43:02,"nice...that's very clear
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
343,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:44:05,"space at the end of line not needed, if line break follows.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
344,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:44:29,"could be nice to explain the threshold parameter somehow
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
345,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:46:13,"""(DMN)"" ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
346,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:54:03,"the variable name `image` typically refers to a nifti-like object, not to an array. Perhaps consider shifting to `image_data`or something like that to increase code consistency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(18, '', u'nilearn/_utils/ndimage.py')"
347,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 13:50:11,"> How about we fix that ;).

I didn't get your comments exactly. Are you talking about documentation change or code change ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
348,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 13:57:25,"> ```
> How about we fix that ;).
> ```
> 
> I didn't get your comments exactly. Are you talking about documentation change
> or code change ?

Community change; via a code change, as suggested by @AlexandreAbraham
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
349,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 14:13:44,"This code comes from scikit-image and is inside ndimage.py where image has a different meaning. I think we should avoid changing the code we took from scikit-image to make our life easier in the future if we want to track future scikit-image versions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(18, '', u'nilearn/_utils/ndimage.py')"
350,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:34:12,"It's probably better to use a more unique marker to delimit the included snippet.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
351,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:35:39,"Maybe that's OK actually, this just means until the end of the cell. Let's just hope that the end-before tries to find the first occurence of the pattern.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
352,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:40:54,"What difference do you have in mind between float and real number? The first line is to indicate types, you should be as terse as possible, e.g. float or str. More details can be specified in the section below.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
353,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:42:57,":confused: about ""or just a real number as 99"". Is this still applicable?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
354,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 17:44:18,"No, I will change it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
355,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:45:06,"Just say function on this line and then below something like 

""Percentile function for example scipy.stats.scoreatpercentile""

Also maybe, call the parameter percentile_func which seems slightly better than percentile_calculate.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
356,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:57:59,"Again I am not sure which difference you make between float and number.

Also I am a bit confused, it doesn't look like there is anything like the behaviour described by this doc this in the code.

Also thresholding_strategy doesn't seem to be used, or am I missing something here?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
357,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 18:19:46,"still a seperat -> separat
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
358,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:51:53,"Based on the CircleCI rendering, it seems to be working as we would like:
https://circle-artifacts.com/gh/nilearn/nilearn/870/artifacts/0/home/ubuntu/nilearn/doc/_build/html/connectivity/region_extraction.html

So I guess that it is OK.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
359,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:53:27,"You don't need to import sym_to_vec, you are not using it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
360,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:56:54,"Can you use a plot_stat_map here instead of plot_anat + add_contours
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
361,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:57:27,"Can you use add_overlay here, instead of add_contours (and same thing below).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
362,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:59:36,"Maybe it would be better if you retrieved these indices from the region_index list.

And then you could do a for loop over them below.

The reason I am asking this is that I have the impression that not all regions of the original map are shown.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
363,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:00:57,"You need a shorted title: as you can see from the rendering, it's too long.
https://circle-artifacts.com/gh/nilearn/nilearn/870/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/connectivity/plot_extract_regions_smith_atlas_networks.html

Also, I would disable the colorbar.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
364,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:01:23,"I would like to have this figure first, before the others.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
365,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:02:47,"This example should be moved to the manipulating_visualizing section of the examples.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
366,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:05:12,"With the new notebook-style examples, it would be useful to add this plotting just after the code that does the thresholding. That way when people look at the example, they see the results immediately.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
367,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:06:05,"I would be good to use the same display_mode and cut_coords all throughout the example, to give some visual consistency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
368,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 13:19:12,"You should probably call this _threshold_maps_ratio to be more explicit that it is not a general function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
369,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-04 15:53:06,"`min_size = min_size / (affine[0] * affine[1] * affine[2])`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(119, '', u'nilearn/regions/region_extractor.py')"
370,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-04 16:01:48,"but... (affine[0]\* affine[1] \* affine[2]) is a vector... (=0 most of the time...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(119, '', u'nilearn/regions/region_extractor.py')"
371,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:34:19,"min_region_size=1350 mm^3
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
372,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:35:58,"that the threshold in voxels units depends on the resolution of the image. Please see the
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
373,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:44:32,"threshold=.5 represents the expected proportion of voxels included in the regions (i.e. with a non-zero value in one  of the maps).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
374,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:45:29,"Each brain region is assigned a color and...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
375,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:46:24,"Why not simply: ""Here, we use the object called ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
376,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:46:40,"measured
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
377,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:48:48,"The first step
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
378,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:49:07,"the second step
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
379,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:49:58,"'time series' rather than 'timeseries'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
380,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:50:47,"Maybe: ""we compute the mean correlation across all subjects""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
381,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:52:24,"...that DMN regions are...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
382,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:54:27,"np has already been imported.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
383,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:55:28,"I think that this import can be avoided by relying on nilearn.plotting utilities.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
384,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:59:24,"Do we need to plot _all_ figures ? the result is a bit messy.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
385,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 23:06:06,"Since there is on single image, how comes we obtain overlapping regions ? I don't figure out this behaviour.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
386,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 19:10:01,"I have no perfect answer to commit. It is just that in the statistical map we have regions overlapped regions extracted in different 3D maps. This caused visualization a bit unnormal. Code wise I think there is no problem causing these overlaps. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
387,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-08 21:08:17,"We took a look. The regions are not overlapping. Matlotlib does some interpolation for the display of the contours and they look like they are overlapping even if they're not.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
388,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-08 21:18:28,"Vale.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
389,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:14:51,"My understanding is that self.treshold can be an int in the 'ratio_n_voxels' case. In any case you should probably not do the parameter checking here since _threshold_maps_ratio already has some.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
390,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:15:51,"You don't need parentheses around the ""...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
391,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:19:40,"Maybe you want to use numbers.Real rather than float since threshold can be an int.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
392,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:20:20,"You can use n_maps here rather than maps.shape[-1]
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
393,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:22:06,"You can remove object, i.e. just Nifti1Image
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
394,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:28:23,"Import not used ... maybe check other imports
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
395,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:30:19,"Shouldn't we say niimg object or something like that?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
396,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:50:21,"The problem is the same in canica.py (line 159). I suggest that we leave it like that and then do a PR to fix both classes at once.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
397,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:02:28,Added an incomplete code of AutoExtractor to show a progress,ecac0595b63c4139e70df75e0ffd5338289c2059,
398,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-19 18:17:31,"A simple threshold extractor
Voxel Ratio Extractor or Auto threshold extractor",0c809b488fb4a9a34acd0b0be914e32a6038b81d,
399,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:09:47,Remove obsolete file,a1a9b9750c7c61f8e8857727cf5fe7b2b66480f1,
400,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-22 11:54:53,Simple code for a Voxel Ratio Region Extraction,26b45754898348454979d609adf39dd4cebb1c62,
401,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-26 20:24:02,"Made code more simplified limiting to one class for two methods and
added documentation for upto now parameters or arguments.",20ac84c2be13eaafa561493617c21f29343d6388,
402,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-29 13:01:03,"Addressed some recent comments. Making code a bit looks nicer and
meaningful documentation",e5a2ddadb79ac74a63b44f3735c0ee503626a8f0,
403,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-30 12:14:48,Preliminary changes committed to shift to new branch,6c01cc53a90afdcabcc8aca10e9896eb1d73de57,
404,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-08-04 11:08:59,Integrated NiftiMapsMasker with Region Extractor,1d3c3c95dfc45347faf773f5d573f87b13ae2aa3,
405,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-09 18:39:22,"Addressed almost all the comments and made changes to the documentation
and changed/removed the names of the conflict in class variables and return
variables",6fa81f3ca79c9055e6f29fe6be34b4f2234b9855,
406,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-16 15:31:38,Made code factorization and functions more usable privately,f18c662afa460974f5622144be0ae9ff6ff9f54a,
407,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-18 11:23:33,"Added an example which works for 3D map
Made code factorization and adaptability to useable functions",36696defb4ee3d2ed354393a2e40bb72fa1f3510,
408,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-23 10:45:41,Added another example showing a canica maps region extraction,9f0d3fb8593e2861f383aa7184e7ce6e1a09997a,
409,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-24 15:03:24,Added tests and made some modifications in main class object and functions,2286e6c65d53e003568381a94db5423394dfbe08,
410,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-25 15:31:51,Added new files and nilearn external dependencies,889e3c34506da01a4a05340c422be20a56dae878,
411,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-12 13:52:48,Addressed Gael's reviews and comments,998f0293394235214de660a0444167d3bd52d2bd,
412,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-12 14:12:07,Trying to fix Travis failure,47b66d6139384d21ae2ca1b4b86147a0334e6581,
413,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-13 08:01:58,Trying to fix some failures,6289af2c478030cb0a0f9d33261eda6376ee14c3,
414,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 12:09:00,Fixed comments made by Alex,cf26fcdc8942b4b8e16b95adcca548412663f3cc,
415,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 13:15:16,An example shows region extraction using Smith Atlas RSN10,902e266ad027769f462c4b08ee101f75458889f3,
416,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 14:46:50,"Changed accordingly ""thresholding_strategy"" in tests files.",b6a3156618b811dcec9e58c2e994b9d5849b985f,
417,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-27 10:14:16,"Fixed comments naming for the functions, removing dtype file from skimage",60ed33404dfa08afe14c9c2aaa796c2d17594a5a,
418,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-02 22:33:00,"Addresssed comments: changed design for fit and transform utilising NiftiMapsMasker.
and comments made by Alex.",0475577d6082541c0b75b1a3665c0236a922750d,
419,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-03 09:30:01,Corrected mistakes,659753b59d09c38a1462e073fa94744c50ad6ba2,
420,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-08 18:41:04,"Addressed comments, threshold_img, connected_regions, tests for skimage",755780e1780497b31d1e2e30a634b34800f2b137,
421,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-08 20:11:33,Minor changes,bee579bc0ae87c2a6188155a31b26fd44cfea8c6,
422,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-09 13:16:22,"Ported code check_threshold from displays to extmath
check_threshold is basically data operation function on a valid thresholds.",e719df27f0f2d39376b89c8248a732f1a85c6c3f,
423,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-09 14:22:18,"Trying to increase coverage
Adding tests files for missing lines in skimage random walker",650347858460269ac50099b7c05eb60318a1744c,
424,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-19 12:08:55,Addressed comments and trying to make coverage pass on external code,96c35e6cd89cf3ba1dced800f82bd5253b93a906,
425,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 11:54:37,Addressed comments made nby Gael,42e438b6b78ec870e176a17b14f73ac0fdc9d874,
426,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 14:38:17,Trying to fix coverage decrease lines of code,c431eaae66d70feace287969fe019380e9b646c7,
427,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 18:51:37,Coverage,925bd6642d92fa05070564c809b36e0b43e23e7c,
428,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 21:00:23,Trying to increase coverage again,9f05b7981beb3dd09f33ec3fabd0cb208c98ead2,
429,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-26 08:03:51,"Addressed Loic comments
Documenation corrected
more specific tests in region extractor",a7a171748348898e190ac584d47cbf32ffe68500,
430,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-01 22:14:44,"Addressed Gael comments, examples suited for notebooks style",9e9a5920535e9a72cf06cf16b9fdc5d95d5a6731,
431,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-02 14:28:12,check_threshold into new location and addressed comments for enhancement,235e5529f9eb0a941b0712b6562308a936cd326f,
432,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:39:05,Added notebook example and documentation and some comments are addressed,b851452bfc933f78ee1c4e42188744a8c5f14c52,
433,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-07 10:08:51,"Addressed region size in voxel volume, statistical maps example in manipulating visualizing",8a13a4de58d75689b9c1a7072b63376ff62e2750,
434,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-08 17:19:44,Addressed comments made by Bertrand,8f8738f9d4b88d82b5c68ce134d90f407f2d539d,
435,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-08 17:43:23,Changed min_region_size documentation in RegionExtractor,0e4831673877ae78606d889c68307bcaf38b2633,
436,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-09 15:58:57,Version inclusions,00bea9eecc84ff9e0d4b7caa9fc70dfa4b8fd74d,
437,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-10 14:17:32,Addressed comments made by Loic,83f2c29091567d3e005d670e2617b8d9a9eccc38,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,705,nilearn,nilearn,juhuntenburg,2015-07-17 15:16:36,"Refers to #699. 
Adding tests to show that the function fails and fixing function to make it pass the tests. Try to make the function more easily readable.
",start issue,Refactoring _get_plot_stat_map_params
2,issue_closed,705,nilearn,nilearn,juhuntenburg,2015-07-17 16:05:02,,closed issue,Refactoring _get_plot_stat_map_params
3,pull_request_title,705,nilearn,nilearn,juhuntenburg,2015-07-17 15:16:36,"Refers to #699. 
Adding tests to show that the function fails and fixing function to make it pass the tests. Try to make the function more easily readable.
",60bdeb4b6b9e32e3d72b973f43e4d91e4cea7624,Refactoring _get_plot_stat_map_params
4,issue_comment,705,nilearn,nilearn,eickenberg,2015-07-17 16:18:51,"> You should definitely reuse and update your tests, though. This colorbar
> code has given us headaches in the past and it'd be great to have it tested
> more thoroughly.
- 1e384

On Fri, Jul 17, 2015 at 6:13 PM, Loïc Estève notifications@github.com
wrote:

> You should definitely reuse and update your tests, though. This colorbar
> code has given us headaches in the past and it'd be great to have it tested
> more thoroughly.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/705#issuecomment-122329660.
",,
5,issue_comment,705,nilearn,nilearn,juhuntenburg,2015-07-17 16:04:33,"Turns out the logic was correct in the beginning and I was only confused by the doc string of plot_stat_map / plot_glass_brain. So I will simply improve the doc string
",,
6,pull_request_commit_comment,705,nilearn,nilearn,lesteve,2015-07-17 15:56:32,"Just for clarity, it'd be quite good to name the parameters in the _get_plot_stat_map_params function, i.e.:

``` python
_get_plot_stat_map_params(img, vmax=2, symmetric_cbar=True, kwargs={})
```

I find myself always going back to the function signature ...
",60bdeb4b6b9e32e3d72b973f43e4d91e4cea7624,"(25, '', u'nilearn/plotting/tests/test_img_plotting.py')"
7,pull_request_commit_comment,705,nilearn,nilearn,banilo,2015-07-19 22:45:16,"I think backslash is bad style and to be replaced by brackets,..
",60bdeb4b6b9e32e3d72b973f43e4d91e4cea7624,"(17, '', u'nilearn/plotting/img_plotting.py')"
8,pull_request_commit_comment,705,nilearn,nilearn,AlexandreAbraham,2015-07-19 23:11:42,"In that case, there is this option:

``` python
        stat_map_data = np.asarray(
            stat_map_data[np.logical_not(stat_map_data._mask)])
```
",60bdeb4b6b9e32e3d72b973f43e4d91e4cea7624,"(17, '', u'nilearn/plotting/img_plotting.py')"
9,pull_request_commit,705,nilearn,nilearn,juhuntenburg,2015-07-17 14:16:29,"adding test for _get_plot_stat_map_params, which now fails",020ecc7856ea083e30102f8645ce45f410438f96,
10,pull_request_commit,705,nilearn,nilearn,juhuntenburg,2015-07-17 14:35:26,refactoring _get_plot_stat_map_params,dbe332298fc69860977931f6d0f18d4b509d53fd,
11,pull_request_commit,705,nilearn,nilearn,juhuntenburg,2015-07-17 14:41:15,cleaning up tests,92e2e825107ddc919cce6f4d367c75e9630c2fbb,
12,pull_request_commit,705,nilearn,nilearn,juhuntenburg,2015-07-17 14:57:50,return to original image input,1858ed303c80a5e28cf5fc1d9a17d5ee94ab4d2e,
13,pull_request_commit,705,nilearn,nilearn,juhuntenburg,2015-07-17 15:10:29,removing plot_surf reference,60bdeb4b6b9e32e3d72b973f43e4d91e4cea7624,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,621,nilearn,nilearn,lesteve,2015-06-29 13:00:03,"Fixes #611.
",start issue,Fix plotting thresholding logic for uint8 images
2,issue_closed,621,nilearn,nilearn,AlexandreAbraham,2015-07-13 21:23:09,,closed issue,Fix plotting thresholding logic for uint8 images
3,pull_request_title,621,nilearn,nilearn,lesteve,2015-06-29 13:00:03,"Fixes #611.
",881d957132644eb481550ee6191c6c7432a1a053,Fix plotting thresholding logic for uint8 images
4,issue_comment,621,nilearn,nilearn,GaelVaroquaux,2015-06-29 13:10:17,"The link between the title of the issue and the code really isn't obvious to me. Could you explicit things a bit more. My gut feeling would be to ask for a test,  but  in the plotting code, this isn't practical. 
",,
5,issue_comment,621,nilearn,nilearn,lesteve,2015-06-29 14:30:34,"> My gut feeling would be to ask for a test, but in the plotting code, this isn't practical.

There you go, test added.
",,
6,issue_comment,621,nilearn,nilearn,AlexandreAbraham,2015-07-13 21:23:09,"Superseded by #643.
",,
7,pull_request_commit_comment,621,nilearn,nilearn,GaelVaroquaux,2015-06-29 13:06:07,"Can't we have a  ""copy=False""?
",881d957132644eb481550ee6191c6c7432a1a053,"(None, '', u'nilearn/plotting/displays.py')"
8,pull_request_commit_comment,621,nilearn,nilearn,lesteve,2015-06-29 13:17:07,"Done
",881d957132644eb481550ee6191c6c7432a1a053,"(None, '', u'nilearn/plotting/displays.py')"
9,pull_request_commit_comment,621,nilearn,nilearn,AlexandreAbraham,2015-06-29 14:43:54,"Small remark: the problem is not the function `masked_equal` itself but the fact that we do `-threshold` on an unisgned value. I'm afraid that this gag will happen here and there in the code (typically in the colorbar code). That's only a supposition but maybe we should try to find a solution and propagate it through the code?
",881d957132644eb481550ee6191c6c7432a1a053,"(9, '', u'nilearn/plotting/displays.py')"
10,pull_request_commit_comment,621,nilearn,nilearn,lesteve,2015-06-29 16:52:06,"Funny you should say that, since there is indeed a bug I bumped into while trying to tweak the test I added. The colorbar code is where it blows up but I believe the problem is more `vmin = -vmax` in plot_stat_map. There is also a `-offset` somewhere in the colorbar code to be fair.

Maybe converting to float before plotting is the simpler option, after all ?
",881d957132644eb481550ee6191c6c7432a1a053,"(9, '', u'nilearn/plotting/displays.py')"
11,pull_request_commit,621,nilearn,nilearn,lesteve,2015-06-29 13:16:17,Fix threshold mask for uint8,9fa362548e76c4ac92f7499aef56dd3d39cfd04b,
12,pull_request_commit,621,nilearn,nilearn,lesteve,2015-06-29 14:16:49,Add test for threshold plotting bug with uint8 data,881d957132644eb481550ee6191c6c7432a1a053,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,634,nilearn,nilearn,AlexandreAbraham,2015-07-05 00:50:55,"Add Multi subject dictionary learning based on [Varoquaux et al. 2011](https://hal.inria.fr/inria-00588898/) along with tests, example and documentations.
",start issue,Add dictionary learning
2,issue_closed,634,nilearn,nilearn,lesteve,2015-12-14 10:03:12,,closed issue,Add dictionary learning
3,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-05 08:19:36,"Let's start with a simple l1-penalized dict learning, before full blown
MSDL.

G

On Sat, Jul 04, 2015 at 05:50:55PM -0700, Alexandre Abraham wrote:

> Add Multi subject dictionary learning based on Varoquaux et al. 2011 along with
> tests, example and documentations.
> 
> —
> Reply to this email directly or view it on GitHub.*

## 

```
Gael Varoquaux
Researcher, INRIA Parietal
NeuroSpin/CEA Saclay , Bat 145, 91191 Gif-sur-Yvette France
Phone:  ++ 33-1-69-08-79-68
http://gael-varoquaux.info            http://twitter.com/GaelVaroquaux
```
",,
4,issue_comment,634,nilearn,nilearn,AlexandreAbraham,2015-07-05 08:46:46,"I've coded simple dictionary learning based on sklearn online dictionary learning a very long time ago. I was planning to merge it after the spectral clustering PR was merged but it never was. I can rehabilitate it though.
",,
5,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-05 08:50:04,"> I've coded simple dictionary learning based on sklearn online dictionary
> learning a very long time ago. I was planning to merge it after the spectral
> clustering PR was merged but it never was. I can rehabilitate it though.

Talk to Arthur!
",,
6,issue_comment,634,nilearn,nilearn,arthurmensch,2015-07-06 13:19:52,"I have a working branch with simple dict learning working. Should I make it a PR already ?
",,
7,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-06 14:38:13,"> I have a working branch with simple dict learning working. Should I make it a
> PR already ?

I think you should.
",,
8,issue_comment,634,nilearn,nilearn,AlexandreAbraham,2015-07-06 14:45:16,"> I think you should.

:+1: 
",,
9,issue_comment,634,nilearn,nilearn,lesteve,2015-12-14 10:02:23,"Closing since #693 has been merged.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,623,nilearn,nilearn,arthurmensch,2015-06-30 16:59:05,"Fixed bug #622 arising when providing a list of string to `intersect_mask`
",start issue,Fixed bug in intersect_mask
2,issue_closed,623,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:42:00,,closed issue,Fixed bug in intersect_mask
3,pull_request_title,623,nilearn,nilearn,arthurmensch,2015-06-30 16:59:05,"Fixed bug #622 arising when providing a list of string to `intersect_mask`
",a0be641e1f136882e699e3fa3af7a3ea48333ba3,Fixed bug in intersect_mask
4,pull_request_merged,623,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:42:00,Fixed bug in intersect_mask,d71ca40dce7586f72b246e99c005aaeb16b8f22e,Pull request merge from arthurmensch/nilearn:intersect_mask_bugfix to nilearn/nilearn:master
5,issue_comment,623,nilearn,nilearn,bthirion,2015-06-30 22:38:09,"looks good. I think it's worth adding a test.
",,
6,issue_comment,623,nilearn,nilearn,arthurmensch,2015-07-01 06:06:24,"Conda with python 3.4 seems to fail loading, does anyone know where this comes from ?
",,
7,issue_comment,623,nilearn,nilearn,GaelVaroquaux,2015-07-01 06:32:20,"Not sure why. I just restarted the run to see if it's reproducible, or just a glitch in the continuous integration system.
",,
8,issue_comment,623,nilearn,nilearn,GaelVaroquaux,2015-07-01 06:49:11,"So, it completed!

You should however add a test before we can merge. One that is failing without your fix and passing with your fix.
",,
9,issue_comment,623,nilearn,nilearn,arthurmensch,2015-07-03 09:36:29,"Done : added test fails on master
",,
10,issue_comment,623,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:41:56,"Excellent! Merging. Thank you.
",,
11,pull_request_commit,623,nilearn,nilearn,arthurmensch,2015-06-30 16:53:14,Fixed bug in intersect_mask,efc7a965e4f26fb761801b48bfbf2efe286af011,
12,pull_request_commit,623,nilearn,nilearn,arthurmensch,2015-07-03 09:35:59,Added non regression test,a0be641e1f136882e699e3fa3af7a3ea48333ba3,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:53:21,"We were implicitely relying on the top level stack level being an
anonymous module. This wasn't the case in the debian build environment,
that relies on ""python -m nose""

Cc @hanke : this should fix build under Debian.
",start issue,"BUG: fix failure in ""python -m nose"""
2,issue_closed,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 16:23:18,,closed issue,"BUG: fix failure in ""python -m nose"""
3,pull_request_title,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:53:21,"We were implicitely relying on the top level stack level being an
anonymous module. This wasn't the case in the debian build environment,
that relies on ""python -m nose""

Cc @hanke : this should fix build under Debian.
",baa10063ec632e78750e1f288e8384cc3db28f82,"BUG: fix failure in ""python -m nose"""
4,pull_request_merged,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 16:23:18,"BUG: fix failure in ""python -m nose""",8b51d96fcfa9bc142ac17d9e8a863b95a13ed9a2,Pull request merge from GaelVaroquaux/nilearn:fix_debian_meta_failure to nilearn/nilearn:master
5,issue_comment,649,nilearn,nilearn,mih,2015-07-13 15:26:35,"@GaelVaroquaux Works!
",,
6,issue_comment,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 16:23:11,"Thanks. Merging.
",,
7,issue_comment,649,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:36:27,"LGTM
",,
8,issue_comment,649,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:37:29,"Remark: I think that this case was not handled because this function is meant to be called from situations where there is a BaseEstimator in the stack.
",,
9,pull_request_commit,649,nilearn,nilearn,GaelVaroquaux,2015-07-13 14:51:24,"BUG: fix failure in ""python -m nose""

We were implicitely relying on the top level stack level being an
anonymous module. This wasn't the case in the debian build environment,
that relies on ""python -m nose""",baa10063ec632e78750e1f288e8384cc3db28f82,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,716,nilearn,nilearn,dohmatob,2015-07-22 09:04:59,"I'm getting drastically different results in my estimmators, depending on whether I use NiftiMasker of MultiNiftiMasker. Looking deeper into the problem, it seems the nifti masker factor has some consistency problems. For example, it seems the way the masking is done is dramatically different from one class to another.

**Test case**

`
from nose.tools import assert_equal
    import nibabel
    from nilearn.input_data import NiftiMasker, MultiNiftiMasker

```
def test_maskers_consistent():
    # make a series of (real-world!) 3D images
    img = nibabel.load(""nilearn/datasets/data/avg152T1_brain.nii.gz"")
    affine = img.get_affine()
    data = img.get_data()
    X = []
    for _ in range(5):
        data_ = data.copy()
        img_ = nibabel.Nifti1Image(data_, affine)
        X.append(img_)

    # NiftiMasker and MultiNifiMasker should produce the same mask
    nm = NiftiMasker().fit(X)
    mnm = MultiNiftiMasker().fit(X)
    assert_equal(nm.mask_img_.get_data().sum(),
                 mnm.mask_img_.get_data().sum())
```

`

**Output**

`
AssertionError: 228453 != 229007
    '228453 != 229007' = '%s != %s' % (safe_repr(228453), safe_repr(229007))
    '228453 != 229007' = self._formatMessage('228453 != 229007', '228453 != 229007')

> >  raise self.failureException('228453 != 229007')
> > `
",start issue,Looks like NiftiMasker and MultiMasker don't have anything in common whatsoever
2,issue_closed,716,nilearn,nilearn,AlexandreAbraham,2015-07-22 11:13:54,,closed issue,Looks like NiftiMasker and MultiMasker don't have anything in common whatsoever
3,issue_comment,716,nilearn,nilearn,GaelVaroquaux,2015-07-22 09:07:16,"Your assumption that they need to produce the same mask is wrong. They
are different objects with different goals. And the masks differ only by
a small amount.
",,
4,issue_comment,716,nilearn,nilearn,dohmatob,2015-07-22 09:09:46,"OK, at this point, I might simply drop my dependence on the nifti masker routines altogether. What i'm trying to accomplish with it is really basic, and historically I used to do it manually in the estimator.
",,
5,issue_comment,716,nilearn,nilearn,AlexandreAbraham,2015-07-22 09:27:49,"> Your assumption that they need to produce the same mask is wrong. They are different objects with different goals. And the masks differ only by a small amount.

In this case, it's true. But Elvis showed me another case where he gets 120k voxels using NiftiMasker and 170k voxels using MultiNiftiMasker. But, as you said, they are different objects.
",,
6,issue_comment,716,nilearn,nilearn,GaelVaroquaux,2015-07-22 09:33:12,"> OK, at this point, I might simply drop my dependence on the nifti masker
> routines altogether.

No. The discussion about scalability of the nifti masker(s) is an
orthogonal problem to your PR. You should move on with your PR using the
nifti masker.

Does it work for 100 subjects?
",,
7,issue_comment,716,nilearn,nilearn,AlexandreAbraham,2015-07-22 11:13:54,"I close this one as it is something known.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:31:50,"Following Elvis remark: massive PEP8 correction.
",start issue,Fix PEP8 in tests
2,issue_closed,735,nilearn,nilearn,lesteve,2015-07-29 12:41:04,,closed issue,Fix PEP8 in tests
3,pull_request_title,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:31:50,"Following Elvis remark: massive PEP8 correction.
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,Fix PEP8 in tests
4,pull_request_merged,735,nilearn,nilearn,lesteve,2015-07-29 12:41:04,Fix PEP8 in tests,5c66a16db5a4af22432bbb9c97947ce6c61b96d6,Pull request merge from AlexandreAbraham/nilearn:pep8 to nilearn/nilearn:master
5,issue_comment,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:57:33,"autopep8 FTW
",,
6,pull_request_commit_comment,735,nilearn,nilearn,lesteve,2015-07-29 08:35:33,"I guess this comment should be before the assert now that it is not inline anymore
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,"(None, '', u'nilearn/datasets/tests/test_func.py')"
7,pull_request_commit_comment,735,nilearn,nilearn,lesteve,2015-07-29 08:36:23,"Oops ...
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
8,pull_request_commit_comment,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:36:46,"gloups :P
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,"(None, '', u'nilearn/decoding/tests/test_same_api.py')"
9,pull_request_commit_comment,735,nilearn,nilearn,lesteve,2015-07-29 08:42:42,"Interesting ""fix"", is that autopep8 doing it? Arguably a better one would be to use `# ######` i.e. a space after the first hash.

Full disclosure, that may be just me but I am not a massive fan of these separating lines.
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,"(None, '', u'nilearn/plotting/tests/test_displays.py')"
10,pull_request_commit_comment,735,nilearn,nilearn,lesteve,2015-07-29 08:49:37,"so I discovered something the other day, PEP8 doesn't require you to have a space around binary operators. See [this](https://www.python.org/dev/peps/pep-0008/#other-recommendations) for example.

Interestingly, autopep8 fixes something that pep8 doesn't see as a violation ...
",08a6cc6e90c759aae76ac86fded6092e3f5c4b20,"(5, '', u'nilearn/tests/test_extmath.py')"
11,pull_request_commit,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:30:58,Super PEP8,84b23c7c43a3019ed5231296ae7a0d8ca6b5d8fd,
12,pull_request_commit,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:37:27,Fix failed rebase,da4f38fcc0ce64df7bd6079d625fc5d448790f6a,
13,pull_request_commit,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:38:46,Fix long lines,acc342321f7e08f8aee4a0e1b9a9b175c7c6d719,
14,pull_request_commit,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:40:26,Fix comment,dc489442650e448f365a4b8605d9b3ea455a0b76,
15,pull_request_commit,735,nilearn,nilearn,AlexandreAbraham,2015-07-29 12:05:32,Restore long separators,08a6cc6e90c759aae76ac86fded6092e3f5c4b20,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,722,nilearn,nilearn,MartinPerez,2015-07-25 20:44:44,"Only tweak proposed in #701 implemented. Just changed the phrasing of the Neurodebian install in the install documentation.
",start issue,[MRG] small tweak to the phrasing and links of Neurodebian install doc
2,issue_closed,722,nilearn,nilearn,GaelVaroquaux,2015-07-26 19:36:04,,closed issue,[MRG] small tweak to the phrasing and links of Neurodebian install doc
3,pull_request_title,722,nilearn,nilearn,MartinPerez,2015-07-25 20:44:44,"Only tweak proposed in #701 implemented. Just changed the phrasing of the Neurodebian install in the install documentation.
",5c33f0e9af232aec09c721cea61f3056c46caf18,[MRG] small tweak to the phrasing and links of Neurodebian install doc
4,pull_request_merged,722,nilearn,nilearn,GaelVaroquaux,2015-07-26 19:36:04,[MRG] small tweak to the phrasing and links of Neurodebian install doc,f385968e5b5d5218d76d9455655dfd00f7cb3fdb,Pull request merge from MartinPerez/nilearn:install_doc_tweaks to nilearn/nilearn:master
5,pull_request_commit,722,nilearn,nilearn,MartinPerez,2015-07-25 20:41:25,small tweak to the phrasing and links of Neurodebian install,5c33f0e9af232aec09c721cea61f3056c46caf18,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,652,nilearn,nilearn,juhuntenburg,2015-07-13 17:04:38,"Basic example extracting connectomes from different parcellations to visually compare. So far the comparison isn't very meaningful due to different parcel numbers and ordering. It should be improved by displaying the correlations in brain plots instead of matrices, once #646 is ready. 
",start issue,adding example using destrieux atlas
2,issue_closed,652,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:33:44,,closed issue,adding example using destrieux atlas
3,pull_request_title,652,nilearn,nilearn,juhuntenburg,2015-07-13 17:04:38,"Basic example extracting connectomes from different parcellations to visually compare. So far the comparison isn't very meaningful due to different parcel numbers and ordering. It should be improved by displaying the correlations in brain plots instead of matrices, once #646 is ready. 
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,adding example using destrieux atlas
4,issue_comment,652,nilearn,nilearn,GaelVaroquaux,2015-07-14 09:41:26,"> I also tested different numbers of subjects and found that 10 is the
> fewest that gives reasonable matrices.

Good job! Thanks
",,
5,issue_comment,652,nilearn,nilearn,GaelVaroquaux,2015-07-17 12:39:54,"> question is do we want to keep the corr mats or just plot the connectome ?

Just the connectome, IMHO.
",,
6,issue_comment,652,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:33:43,"I am closing this PR, as it has been integrated in #664
",,
7,issue_comment,652,nilearn,nilearn,juhuntenburg,2015-07-14 09:32:06,"Done. I also tested different numbers of subjects and found that 10 is the fewest that gives reasonable matrices. 
",,
8,issue_comment,652,nilearn,nilearn,banilo,2015-07-14 12:26:36,"Great example, kudos, very succinct!
",,
9,issue_comment,652,nilearn,nilearn,lesteve,2015-07-17 12:31:24,"Maybe we want to use another colormap than jet, for example the one from this example:
nilearn.github.io/auto_examples/connectivity/plot_inverse_covariance_connectome.html

Just pasting the output from the examples if someone else want to chip in:

![figure_1](https://cloud.githubusercontent.com/assets/1680079/8747130/6dd8f2e6-2c90-11e5-91e3-022a99bb0354.png)
![figure_2](https://cloud.githubusercontent.com/assets/1680079/8747131/6e392f9e-2c90-11e5-9e37-7ec104e54593.png)
![figure_3](https://cloud.githubusercontent.com/assets/1680079/8747132/6e395532-2c90-11e5-9bb0-21451337542d.png)
",,
10,issue_comment,652,nilearn,nilearn,amadeuskanaan,2015-07-17 12:33:04,"question is do we want to keep the corr mats or just plot the connectome ?

On Fri, Jul 17, 2015 at 2:31 PM, Loïc Estève notifications@github.com
wrote:

> Maybe we want to use another colormap than jet, for example the one from
> this example:
> 
> nilearn.github.io/auto_examples/connectivity/plot_inverse_covariance_connectome.html
> 
> Just pasting the output from the examples if someone else want to chip in:
> 
> [image: figure_1]
> https://cloud.githubusercontent.com/assets/1680079/8747130/6dd8f2e6-2c90-11e5-91e3-022a99bb0354.png
> [image: figure_2]
> https://cloud.githubusercontent.com/assets/1680079/8747131/6e392f9e-2c90-11e5-9e37-7ec104e54593.png
> [image: figure_3]
> https://cloud.githubusercontent.com/assets/1680079/8747132/6e395532-2c90-11e5-9bb0-21451337542d.png
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/652#issuecomment-122261184.
",,
11,issue_comment,652,nilearn,nilearn,amadeuskanaan,2015-07-17 12:36:36,"looks like this now. edge thresholding might need some optimization 

<img width=""507"" alt=""screen shot 2015-07-17 at 2 36 00 pm"" src=""https://cloud.githubusercontent.com/assets/2376624/8747213/282a8754-2c91-11e5-9c21-991c18e096fc.png"">
",,
12,issue_comment,652,nilearn,nilearn,banilo,2015-07-15 15:00:44,"LGTM
",,
13,pull_request_commit_comment,652,nilearn,nilearn,GaelVaroquaux,2015-07-14 07:41:40,"To make the example shorter, I think that you can even avoid the variables 'destrieux_atlas', 'yeo_atlas', 'harvard_oxford_atlas' by directly putting 'destrieux['maps']', etc in the dictionary.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
14,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:04:22,"""and compare"" -> ""for comparison""
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
15,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:06:52,"qualify what signals -> ""resting-state signals""
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
16,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:09:07,"From a neuroscientific perspective it might be intersting to perhaps add in brackets in the dictionary keys/titles whether each is a structural atlas (e.g. Harvard Oxford) or a functional atlas (eg. Yeo?)
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
17,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:16:48,"one might add a few lines that expose where the files are on disk (see other examples) that we usually include to make it easier to grasp the Bunch structures.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
18,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:22:34,"This line can be simplified (good for newcomers) by loosing the inner brackets. `time_series`is already an iterable and satisfies the first argument of `np.concatenate()`
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
19,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:24:08,"As a random thought: perhaps loose sorted() here for simplification.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
20,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-14 12:25:59,"perhaps expose detrend=False/True as a relevant option when dealing with resting-state data. A potential educational point would be (could be included as comments perhaps): who to deal with linear trends in a multi-subject setting
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(45, '', u'examples/connectivity/plot_atlas_comparison.py')"
21,pull_request_commit_comment,652,nilearn,nilearn,eickenberg,2015-07-14 12:35:22,"One could also say ""Those inner parentheses don't do anything whatsoever"" (no matter whether what is in them is an iterable or not) :)
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
22,pull_request_commit_comment,652,nilearn,nilearn,eickenberg,2015-07-14 12:36:35,"+1 - I wouldn't even know for sure how sort attacks tuples - lexically and then wrt to ordering within them?
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
23,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-14 17:55:31,"Without this the atlases will appear in a different order every time the example is run. 
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
24,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-14 17:55:48,"done
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
25,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-14 17:55:54,"done
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
26,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-14 17:56:09,"done
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
27,pull_request_commit_comment,652,nilearn,nilearn,eickenberg,2015-07-14 18:03:58,"``` python
In [1]: import numpy as np

In [2]: l = [('aa', 1), ('ab', 2), ('aa', 2), ('ab', 1)]

In [3]: sorted(l)
Out[3]: [('aa', 1), ('aa', 2), ('ab', 1), ('ab', 2)]
```

So it looks like lexicographical ordering first in the first entry of the tuples, then the second, etc, so hierarchical lexicographical ordering. Now I know what it does, fine with me, but for comprehension, it may have been better to put

``` python
atlas_names = sorted(atlases.keys())
for name in atlas_names:
    atlas = atlases[name]
    ...
```
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
28,pull_request_commit_comment,652,nilearn,nilearn,GaelVaroquaux,2015-07-14 18:09:35,"> Now I know what it does, fine with me, but for comprehension, it may
> have been better to put
> 
> atlas_names = sorted(atlases.keys())
> for name in atlas_names:
>     atlas = atlases[name]
>     ...

Let's keep it simple. This is a standard pattern.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
29,pull_request_commit_comment,652,nilearn,nilearn,AlexandreAbraham,2015-07-15 00:30:13,"You should specify vmin/vmax.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(60, '', u'examples/connectivity/plot_atlas_comparison.py')"
30,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-15 08:53:56,"done
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(None, '', u'examples/connectivity/plot_atlas_comparison.py')"
31,pull_request_commit_comment,652,nilearn,nilearn,juhuntenburg,2015-07-15 08:55:06,"For the plotting you mean? The correlation matrices will be replaced by brain plots anyhow.
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(60, '', u'examples/connectivity/plot_atlas_comparison.py')"
32,pull_request_commit_comment,652,nilearn,nilearn,banilo,2015-07-15 14:59:02,"he probably means just to expose the options to the users
",a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,"(60, '', u'examples/connectivity/plot_atlas_comparison.py')"
33,pull_request_commit,652,nilearn,nilearn,juhuntenburg,2015-07-13 16:54:37,adding example using destrieux atlas,3ed718f703f6dca8f6dbc097ee5d90514a813ad6,
34,pull_request_commit,652,nilearn,nilearn,juhuntenburg,2015-07-14 09:25:48,"simplifying code, reducing subjects",04aebd7cabcc34f43199cc4b2c79c348f929ffb9,
35,pull_request_commit,652,nilearn,nilearn,juhuntenburg,2015-07-15 08:56:59,improving descriptions,a0e99e161a2d4f4070a56afe22b9bf391fe8cecb,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,709,nilearn,nilearn,chrisfilo,2015-07-17 18:25:23,,start issue,fixed pipe error propagation in circleCI
2,issue_closed,709,nilearn,nilearn,GaelVaroquaux,2015-07-17 18:27:10,,closed issue,fixed pipe error propagation in circleCI
3,pull_request_title,709,nilearn,nilearn,chrisfilo,2015-07-17 18:25:23,,c8240db238b7c6700808fdcfa0004bc62d07e584,fixed pipe error propagation in circleCI
4,pull_request_merged,709,nilearn,nilearn,GaelVaroquaux,2015-07-17 18:27:10,fixed pipe error propagation in circleCI,2f006959d4f832489cca5a35e88eac817bc44c38,Pull request merge from chrisfilo/nilearn:enh/circleci to nilearn/nilearn:master
5,pull_request_commit,709,nilearn,nilearn,chrisfilo,2015-07-17 17:27:05,added pipefail,c8240db238b7c6700808fdcfa0004bc62d07e584,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:14:19,"Doing the work of @banilo. Because, let's be honest, he's not really reliable. He assigned himself issues and only solve them halfway through. But he's a nice guy.

Fortunately, nobody will read that.
",start issue,Use new_img_like where it's possible.
2,issue_closed,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:17:31,,closed issue,Use new_img_like where it's possible.
3,pull_request_title,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:14:19,"Doing the work of @banilo. Because, let's be honest, he's not really reliable. He assigned himself issues and only solve them halfway through. But he's a nice guy.

Fortunately, nobody will read that.
",c12481b81f01ca6f97bf175a982891bebb7d1cfe,Use new_img_like where it's possible.
4,pull_request_merged,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:17:31,Use new_img_like where it's possible.,0806799b283eb21e9f490de66456193ccac64d6f,Pull request merge from AlexandreAbraham/nilearn:use_new_img_like to nilearn/nilearn:master
5,issue_comment,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 11:58:04,"> The PR was about moving the code, not applying the function everywhere.

Well, when you expose a function to the public, it's good to show that you use it yourself.
",,
6,issue_comment,681,nilearn,nilearn,banilo,2015-07-16 11:34:08,"> Doing the work of @banilo. Because, let's be honest, he's not really reliable. He assigned himself issues and only solve them halfway through. But he's a nice guy.

The PR was about moving the code, not applying the function everywhere.
",,
7,pull_request_commit_comment,681,nilearn,nilearn,GaelVaroquaux,2015-07-16 10:19:06,"Don't you want to remove the import to nibabel? You shouldn't need it anymore.
",c12481b81f01ca6f97bf175a982891bebb7d1cfe,"(4, '', u'examples/decoding/plot_haxby_searchlight.py')"
8,pull_request_commit,681,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:11:06,Use new_img_like everywhere.,c12481b81f01ca6f97bf175a982891bebb7d1cfe,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,486,nilearn,nilearn,AlexandreAbraham,2015-03-05 12:15:05,"Harvard Oxford fetcher:
- [x] does not return a Bunch in contrary to all the other fetch_ functions but a tuple
- [x] does not use the standard nilearn_data location to fetch the data but the current working directory instead (not reproducible on my side)
- [x] browse FSLDIR instead of browsing FSLDIR/data/atlases/
- [x] should look up in default system directories for each system
- [x] should mimic FSL data directory tree in nilearn_data.
",start issue,fetch_harvard_oxford quirks
2,issue_closed,486,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:40:30,,closed issue,fetch_harvard_oxford quirks
3,issue_comment,486,nilearn,nilearn,banilo,2015-03-05 18:37:30,"Should I take care of this?
",,
4,issue_comment,486,nilearn,nilearn,lesteve,2015-04-14 10:53:58,"> does not use the standard nilearn_data location to fetch the data but the current working directory instead (not reproducible on my side)

I can reproduce the problem even when NILEARN_DATA is set. Here is the output:
- NILEARN_DATA no set:

``` python

In [1]: from nilearn import datasets

In [2]: datasets.fetch_harvard_oxford('cort-maxprob-thr25-2mm', verbose=10)
Dataset search paths: ['', '', '/home/le243287/nilearn_data']

Dataset created in harvard_oxford

Downloading data from https://www.nitrc.org/frs/download.php/7363/HarvardOxford.tgz ...
Downloaded 7879863 of 7879863 bytes (100.00%,    0.0s remaining)  
...done. (13 seconds, 0 min)
Extracting data from harvard_oxford/dc9b313e598e25514deb51b257475841/HarvardOxford.tgz...
   ...done.

```
- NILEARN_DATA set to /tmp:

``` python
In [1]: from nilearn import datasets

In [2]: datasets.fetch_harvard_oxford('cort-maxprob-thr25-2mm', verbose=10)
Dataset search paths: ['', '', '/tmp', '/home/le243287/nilearn_data']

Dataset created in harvard_oxford

Downloading data from https://www.nitrc.org/frs/download.php/7363/HarvardOxford.tgz ...
Downloaded 7879863 of 7879863 bytes (100.00%,    0.0s remaining)  
...done. (9 seconds, 0 min)
Extracting data from harvard_oxford/dc9b313e598e25514deb51b257475841/HarvardOxford.tgz...
   ...done.
```

In both cases for some reason `''` is inserted in the dataset search paths twice before the usual paths.
",,
5,issue_comment,486,nilearn,nilearn,AlexandreAbraham,2015-04-14 11:08:53,"OK, this is related to FSLDIR resolution. This is an easyfix
",,
6,issue_comment,486,nilearn,nilearn,lesteve,2015-04-15 07:47:19,"> Should I take care of this?

@banilo would make sense since you have worked on this fetcher in the past IIRC.
",,
7,issue_comment,486,nilearn,nilearn,AlexandreAbraham,2015-04-17 07:26:37,"If somebody could take care of that for 0.1.3 release, that would be great!
",,
8,issue_comment,486,nilearn,nilearn,salma1601,2015-06-01 07:40:46,"fetch_harvard_oxford reloads or not my existant atlas, depending on what my current working directory is! 
",,
9,issue_comment,486,nilearn,nilearn,AlexandreAbraham,2015-06-01 07:44:21,"Yes, this is a side effect of the different quirks. I'll try to set up a quickfix today.
",,
10,issue_comment,486,nilearn,nilearn,salma1601,2015-06-01 07:47:13,"Ok thanks !
",,
11,issue_comment,486,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:40:30,"Fixed by #597.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,670,nilearn,nilearn,GaelVaroquaux,2015-07-14 19:02:13,,start issue,plot_localizer_mass_univariate_methods.py seems not to be building
2,issue_closed,670,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:58:21,,closed issue,plot_localizer_mass_univariate_methods.py seems not to be building
3,issue_comment,670,nilearn,nilearn,GaelVaroquaux,2015-07-16 06:34:23,"> Possibly related to #678 since this example is using the localizer dataset.

Good point, indeed. That would explain why we cannot reproduce.
",,
4,issue_comment,670,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:58:21,"Closing, as this is related to #678
",,
5,issue_comment,670,nilearn,nilearn,lesteve,2015-07-15 14:44:16,"It seems to be building fine for me too ...
",,
6,issue_comment,670,nilearn,nilearn,lesteve,2015-07-16 06:32:40,"Possibly related to #678 since this example is using the localizer dataset.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,657,nilearn,nilearn,dohmatob,2015-07-14 07:56:20,"This PR succeeds PR #219 (aka unicorn factory). All discussions should be done here henceforth. #219 is now classified, and should be referred to solely for histological purposes.
",start issue,SpaceNet (this PR succeeds PR #219)
2,issue_closed,657,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:28:37,,closed issue,SpaceNet (this PR succeeds PR #219)
3,pull_request_title,657,nilearn,nilearn,dohmatob,2015-07-14 07:56:20,"This PR succeeds PR #219 (aka unicorn factory). All discussions should be done here henceforth. #219 is now classified, and should be referred to solely for histological purposes.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,SpaceNet (this PR succeeds PR #219)
4,pull_request_merged,657,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:28:37,SpaceNet (this PR succeeds PR #219),f8bcc5e04f3c336fe9cfb5b1060df1c0a50f3532,Pull request merge from dohmatob/nilearn:sparse-models to nilearn/nilearn:master
5,issue_comment,657,nilearn,nilearn,agramfort,2015-07-29 08:00:10,"Oh boy what a suspense!

Great job Elvis!
",,
6,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 15:42:37,"The datasets tests are failing:
https://travis-ci.org/nilearn/nilearn/jobs/71558315

This is probably because you haven't adapted the imports to import from .utils.

They might be working on your box because you have leftover .pyc files.
",,
7,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 16:10:05,"Gr8. Your tests are now passing on travis.
",,
8,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:20:45,"We are quite often using more than 4Gb of memory in the Jimura-Poldrack example:

https://circleci.com/gh/nilearn/nilearn/140
This is breaking the CircleCI tests

We should investigate if they are ways to avoid that. The Jimura-Poldrack dataset isn't a huge one, so I am a bit surprised.
",,
9,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 17:30:58,"> OK, I'll do mem profiling asap.

Thanks Elvis. You're clearly on top of that PR!
",,
10,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-21 16:03:13,"> Looks like the culprit is the plot_oasis_vbm_space_net.py script...

It would be very interesting to know what the exact line of the code
causes the spike. That way we can address it.
",,
11,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-21 17:41:36,"> Lemme re-run on 100-ish subjects and see what happens.

Sounds like the right thing to do.

We can load a test set in a second step.

As a side note, we should investigate if we can improve the memory usage
of the NiftiMasker.
",,
12,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-21 17:50:21,"> > As a side note, we should investigate if we can improve the memory usage
> > of the NiftiMasker.
> 
> Ya, definitely. The average user will have a 4G box (and that's been
> generous). There should be memory-friendly way to load large nifti images
> and mask out 2D matrix from it, under this memory constraint.

Could you create an issue please. Someone else will tackle it.
",,
13,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-21 17:58:57,"I think that you closed the PR by mistake.
",,
14,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-23 13:57:35,"> OK, finally the compromise is: n_subjects=250, and a train_test_split with
> train_size=75%, plus I'm resampling the anat to 4x4x4 (this ia about the size
> of the haxby voxels).

Great. Do put a comment saying that you did this for things to go fast,
but that with more compute power, not downsampling might be interesting.
",,
15,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-24 11:36:29,"> I'm sitting close to the merge button, and there is a voice in my head
> telling me to press it.

I'd like to have a look first :)
",,
16,issue_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-29 06:15:38,"Champagne! :wine_glass:
",,
17,issue_comment,657,nilearn,nilearn,eickenberg,2015-07-14 08:48:20,"Wondering whether it may be useful to squash all commits before you start editing in there again. ""Commits"" tab is complaining about this PR being big ;)

Squashing should make it easier to keep this PR rebased while you finalize it.

Unless of course you are considering cherry-picking or removing some commits, but that doesn't seem necessary.
",,
18,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-14 08:50:55,"On Tue, Jul 14, 2015 at 10:48 AM, eickenberg notifications@github.com
wrote:

> Wondering whether it may be useful to squash all commits before you start
> editing in there again.
> 
> No, I don't think so.
> 
> ""Commits"" tab is complaining about this PR being big ;)
> 
> Squashing should make it easier to keep this PR rebased while you finalize
> it.
> 
> Unless of course you are considering cherry-picking or removing some
> commits, but that doesn't seem necessary.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-121169656.

## 

DED
",,
19,issue_comment,657,nilearn,nilearn,eickenberg,2015-07-14 08:56:10,"As you wish.

It would have been a good opportunity to get rid of the merges from master that you did along the way, which make rebasing impossible. That was my main concern.
As a matter of fact, looking at the commit history, it may be even easier to kill the history altogether by copying and pasting the relevant files into a new PR.
",,
20,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-14 10:47:46,"Good point. This is the workaround I was just about to adopt.  The history is simply too big and too dirty. Squashing, rebasing, etc. here would take ages, and all this just to safe a few pages of more-harmful-than-useful code history. I'm copying the files to a fresh branch forked-off the upstream's master (nilearn/nilearn master), and then PR it. The old branch will still be available for histological purposes (if need be).
",,
21,issue_comment,657,nilearn,nilearn,eickenberg,2015-07-16 09:05:58,"I keep getting emails because I am tagged in two commit messages, which keep getting rebased apparently. Even if the commit history is now cleaned of merges from master, what was the reason to introduce it back? Before merge all these commits need to be squashed anyway, right?
",,
22,issue_comment,657,nilearn,nilearn,eickenberg,2015-07-23 13:14:32,"For the OCD sufferers among us you could have chosen 240, no? :)

Cool!

On Thu, Jul 23, 2015 at 3:12 PM, DOHMATOB Elvis notifications@github.com
wrote:

> OK, finally the compromise is: n_subjects=250, and a train_test_split with
> train_size=75%, plus I'm resampling the anat to 4x4x4 (this ia about the
> size of the haxby voxels). Things go smooth (maps are not degraded,
> prediction curves are fine too) and circle ci seems happy. When the builds
> finish we should be good for a merge.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-124092682.
",,
23,issue_comment,657,nilearn,nilearn,eickenberg,2015-07-23 13:20:48,"+(10)_2

On Thu, Jul 23, 2015 at 3:19 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> For the OCD sufferers among us you could have chosen 240, no? :)
> 
> I have OCD and I'm geek. I would feel better with 256.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-124095691.
",,
24,issue_comment,657,nilearn,nilearn,chrisfilo,2015-07-18 08:34:36,"The examples passed without problems (although the runtime increased from 30 to 90 minutes). It's the unit tests that failed.
",,
25,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-18 17:30:08,"OK, I'll do mem profiling asap.

On Sat, Jul 18, 2015 at 7:20 PM, Gael Varoquaux notifications@github.com
wrote:

> We are quite often using more than 4Gb of memory in the Jimura-Poldrack
> example:
> 
> https://circleci.com/gh/nilearn/nilearn/140
> This is breaking the CircleCI tests
> 
> We should investigate if they are ways to avoid that. The Jimura-Poldrack
> dataset isn't a huge one, so I am a bit surprised.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-122568914.

## 

DED
",,
26,issue_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:42:46,"I think that this PR has reach a stable state now. Once the memory problem is solved, I suggest that we merge and that we discuss the last points in separate issues. Is that OK for you?
",,
27,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-20 08:58:46,"Yeah, definitely. Let's do a coordinate descent: I kill the bug, you merge
the PR; repeat.

On Mon, Jul 20, 2015 at 10:42 AM, Alexandre Abraham <
notifications@github.com> wrote:

> I think that this PR has reach a stable state now. Once the memory problem
> is solved, I suggest that we merge and that we discuss the last points in
> separate issues. Is that OK for you?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-122814290.

## 

DED
",,
28,issue_comment,657,nilearn,nilearn,bthirion,2015-07-20 22:48:29,"On 20/07/2015 10:42, Alexandre Abraham wrote:

> I think that this PR has reach a stable state now. Once the memory 
> problem is solved, I suggest that we merge and that we discuss the 
> last points in separate issues. Is that OK for you?
> 
> —
> Reply to this email directly or view it on GitHub 
> https://github.com/nilearn/nilearn/pull/657#issuecomment-122814290.
> 
> OK.
",,
29,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 09:51:32,"The doesn't seem to anything special about the mem consumption...

![sl](https://cloud.githubusercontent.com/assets/634068/8797888/cd1170ba-2f9e-11e5-9143-e7935d42e17f.png)
![tvl1](https://cloud.githubusercontent.com/assets/634068/8797890/d3605ba2-2f9e-11e5-9bd5-832b74b4a42f.png)
",,
30,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 13:13:52,"OK, it seems the problem is accumulation of things in memory as the tests run along.  As the mprof showed, the mixed gambles example spikes at 1.2 G, which is 2.8G short of the memory limit on circle ci containers. Indeed, running it at the top of the chain of examples, it goes through smoothly and fails (same reason as before) on some other example script...

rm -rf _build/html/_images
sphinx-build -b html -d _build/doctrees   . _build/html
Running Sphinx v1.3.1
making output directory...
loading translations [en]... done
loading pickled environment... not yet created
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17
  stacklevel=1)
/home/ubuntu/nilearn/nilearn/decoding/space_net.py:808: UserWarning: Brain mask is bigger than volume of standard brain!
  ""Brain mask is bigger than volume of standard brain!"")
..........[Parallel(n_jobs=1)]: Done   1 jobs       | elapsed:  1.6min
...................................................[Parallel(n_jobs=1)]: Done   8 out of   8 | elapsed: 16.3min finished
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17
  stacklevel=1)
.........[Parallel(n_jobs=1)]: Done   1 jobs       | elapsed:   22.1s
...............................................................[Parallel(n_jobs=1)]: Done   8 out of   8 | elapsed:  3.0min finished
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/utils/validation.py:449: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
[Parallel(n_jobs=1)]: Done   1 jobs       | elapsed:    1.1s
plotting plot_python_101.py
- time elapsed : 1.8 sec
  plotting plot_a_mixed_gambles_space_net.py
  Time Elapsed: 983.612 seconds, 16 minutes.
  Time Elapsed: 190.111 seconds, 3 minutes.
- time elapsed : 1.2e+03 sec
  plotting plot_nilearn_101.py
",,
31,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 16:01:53,"Looks like the culprit is the plot_oasis_vbm_space_net.py script...

rm -rf _build/html/_images
sphinx-build -b html -d _build/doctrees   . _build/html
Running Sphinx v1.3.1
making output directory...
loading translations [en]... done
loading pickled environment... not yet created
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17
  stacklevel=1)
/home/ubuntu/nilearn/nilearn/decoding/space_net.py:808: UserWarning: Brain mask is bigger than volume of standard brain!
  ""Brain mask is bigger than volume of standard brain!"")
..........[Parallel(n_jobs=1)]: Done   1 jobs       | elapsed:  1.6min
...........................[Parallel(n_jobs=1)]: Done   8 out of   8 | elapsed: 15.8min finished
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17
  stacklevel=1)
.........[Parallel(n_jobs=1)]: Done   1 jobs       | elapsed:   22.3s
...............................................................[Parallel(n_jobs=1)]: Done   8 out of   8 | elapsed:  3.0min finished
Downloaded 697388519 of 697388519 bytes (100.00%,    0.0s remaining)  

Downloaded 4961223 of 4961223 bytes (100.00%,    0.0s remaining)  

Downloaded 1555 of 1555 bytes (100.00%,    0.0s remaining)  

Downloaded 64001 of 64001 bytes (100.00%,    0.0s remaining)  

/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/utils/validation.py:449: DataConversionWarning: A column-vector y was passed when a 1d array was expected. Please change the shape of y to (n_samples, ), for example using ravel().
  y = column_or_1d(y, warn=True)
Downloaded 905208634 of 905208634 bytes (100.00%,    0.0s remaining)  

/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17

set -o pipefail && cd doc && make html 2>&1 | tee ~/log.txt died unexpectedly
",,
32,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 17:39:03,"OK, the problem is that the OASIS **dataset is too large**: 403 subjects @ anatomic resolution. More than 00-ish subjects won't even fit into memory (the nifty_masker's fit_transform triggers a **MemoryError**). Comparatively, the plot_oasis_vbm.py script we only used 100 subjects.  Historically, I need many subjects (about 70% of the 403 subjects) in the training in order to fit the age variable. Lemme re-run on 100-ish subjects and see what happens.

As last resort, we'll simply drop this oasis example; it has always been meant for a  **debugging / QA** duty than any **application** worth show-casing (who's interested in prediction age with gray-matter maps ?). 
",,
33,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 17:44:35,"Ac
",,
34,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 17:48:48,"On Tue, Jul 21, 2015 at 7:41 PM, Gael Varoquaux notifications@github.com
wrote:

> > Lemme re-run on 100-ish subjects and see what happens.
> 
> Sounds like the right thing to do.
> 
> We can load a test set in a second step.
> 
> Yes this has always been the case. Mem errors occur even without yet
> attempting to load the test.
> 
> As a side note, we should investigate if we can improve the memory usage
> of the NiftiMasker.
> 
> Ya, definitely. The average user will have a 4G box (and that's being
> generous). There should be memory-friendly way to load large nifti images
> and mask out 2D matrix from it, under this memory constraint.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-123412438.

## 

DED
",,
35,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 17:57:37,"Done https://github.com/nilearn/nilearn/issues/715.
",,
36,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 18:01:06,"Ok, I'll only use 1/2 of the OASIS data (test  + train). Because during the predict, the test data (403 - 100-ish subjects) can't fit into memory either...
",,
37,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-21 18:06:33,"Oops. Re-opened. Thx!

On Tue, Jul 21, 2015 at 7:58 PM, Gael Varoquaux notifications@github.com
wrote:

> I think that you closed the PR by mistake.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-123416122.

## 

DED
",,
38,issue_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-21 22:33:42,"> As a side note, we should investigate if we can improve the memory usage of the NiftiMasker.

We can't unless we change what the NiftiMasker does. The NiftiMasker, meant for one subject, implies that the subject data can fit in memory. By feeding multiple 3d files to it, it will concatenate them and mask them.

However, the MultiNiftiMasker is optimised for multi subject and will load them one by one. Therefore you should use it.
",,
39,issue_comment,657,nilearn,nilearn,dohmatob,2015-07-22 06:47:48,"On Wed, Jul 22, 2015 at 12:33 AM, Alexandre Abraham <
notifications@github.com> wrote:

> As a side note, we should investigate if we can improve the memory usage
> of the NiftiMasker.
> 
> We can't unless we change what the NiftiMasker does. The NiftiMasker,
> meant for one subject, implies that the subject data can fit in memory. By
> feeding multiple 3d files to it, it will concatenate them and mask them.
> 
> However, the MultiNiftiMasker is optimised for multi subject and will load
> them one by one. Therefore you should use it.
> 
> +1 for pointing to the existence of MultNiftiMasker. However, if some
> memory-friendly tricks have been used in the MultiFluidNiftiMasker, those
> should be available in the all the other maskers too. To me,
> single-subject, multiple subjects, etc., don't really mean different
> things. For example, a bunch of anatomical images can be seen as a single
> 4D image from one subject and a single 4D bold image can be seen a s series
> of 3D images, 1 image per subject, etc. We need to harmonoize the masking
> algorithms: the low-level masking logic should not change so drastically
> with the name of the API. In the mean time, I'd explicitly state in the
> docstring that the NifiMasker is meant for ""single subject"", and then do a
> seealso to the MultiMasker class, in case of ""multiple subjects"" :)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657#issuecomment-123499177.

## 

DED
",,
40,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 11:04:49,"is used as initialization
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/space_net.rst')"
41,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 11:45:41,"make_Xy
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets.py')"
42,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 11:56:27,"48 is the number of trials per subject, right ? Please be explicit.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets.py')"
43,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 12:08:46,"w.shape = (w_size, ) actually
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/fista.py')"
44,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 12:15:17,"Please document the `init`
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(114, '', u'nilearn/decoding/fista.py')"
45,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 12:27:13,"defaults to False
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
46,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:46:35,"with a leading underscore (these are rather low-level functions, of which users should not be aware)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
47,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:47:02,"Same here.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
48,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:48:58,"Again
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
49,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:49:46,"You mean: 3-dimensional ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
50,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:51:47,"optinal -> optional
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
51,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:54:42,"This should be tested in the function
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
52,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:59:12,"(this and following functions): prepend underscore ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
53,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 15:59:37,"?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/objective_functions.py')"
54,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 16:52:51,"This is used to compute the dual  gap, isn't it ? Please make it explicit. 
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/proximal_operators.py')"
55,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 16:54:46,"A line explaining the heuristic used to get the end variable OK seems useful.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/proximal_operators.py')"
56,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 18:13:56,"max_iter, init, verbose not in docstrings.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/proximal_operators.py')"
57,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 18:15:21,"check_gap_frequency not in docstrings
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(105, '', u'nilearn/decoding/proximal_operators.py')"
58,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 18:24:34,"`logistic` parameter ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(167, '', u'nilearn/decoding/space_net.py')"
59,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 18:27:53,"Sorry, I don't see when this happens as self.counter is initialized to 0 and incremented before the test.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
60,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 19:38:59,"Spearman  / Pearson (capitalize the first letter)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
61,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 19:44:53,"Just curious: how could a correlation score be infinite ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
62,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-15 19:48:04,"Division by zero 

Sent from my phone. Please forgive brevity and mis spelling

On Jul 15, 2015, 21:44, at 21:44, bthirion notifications@github.com wrote:

> > -            for alpha in alphas_:
> > -                # setup callback mechanism for early stopping
> > -                early_stopper = EarlyStoppingCallback(
> > -                    X_test, y_test, is_classif=is_classif,
> >   debias=debias,
> > -                    verbose=verbose)
> > -                w, _, init = solver(
> > -                    X_train, y_train, alpha, l1_ratio, mask=mask,
> >   init=init,
> > -                    callback=early_stopper, verbose=max(verbose - 1,
> >   0.),
> > -                    **solver_params)
> >   +
> > -                # We use 2 scores for model selection: the second
> >   one is to
> > -                # disambiguate between regions of equivalent
> >   spearman
> > -                # correlations
> > -                score, secondary_score = early_stopper.test_score(w)
> > -                this_test_scores.append(score)
> > -                if (np.isfinite(score) and
> 
> Just curious: how could a correlation score be infinite ?
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/657/files#r34720497
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
63,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 19:52:19,"> Division by zero
> 
> Sure, all right.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
64,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 19:56:11,"`loss` to be documented
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
65,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 19:57:15,"no alpha_min !
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
66,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:00:39,"`memory` is undocumented
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(539, '', u'nilearn/decoding/space_net.py')"
67,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:01:08,"defaults to True
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
68,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:27:27,"`copy_data` is not documented
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(572, '', u'nilearn/decoding/space_net.py')"
69,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:27:32,"Note sure that 'cv generator' is clear enough: maybe cross validation
The docstring could refer explicitly to the sklearn.cross_validation module
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
70,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:30:57,"default: True
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
71,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-15 20:32:02,"Samre remarks as above on copy_data, cv etc.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(1205, '', u'nilearn/decoding/space_net.py')"
72,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:41:29,"Your lines are too long. 79 chars
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/decoding_tutorial.rst')"
73,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:42:03,"I would not mention TV and Lasso. They are of no interest to end users.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/decoding_tutorial.rst')"
74,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:42:55,"Same remark.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/estimator_choice.rst')"
75,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 07:56:20,"Is this ""XXX"" still relevant?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
76,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:46:49,"Once we drop support for 0.12 sklearn (which is happening soon), you can remove these backports.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
77,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:52:44,"You should also check if you now can use the LabelBinarizer directly from scikit-learn.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/_utils/fixes/__init__.py')"
78,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:55:26,"I think that with scikit-learn 0.13 you don't need this (I checked, and scikit-learn 0.13 actually has a neg label in the LabelBinariser).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
79,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 09:47:04,"Please clarify: If I understand correctly, this is the squared l2 norm of the gradient.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(147, '', u'nilearn/decoding/space_net_solvers.py')"
80,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 09:48:35,"gradient of squared_loss_and_spatial_grad
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(81, '', u'nilearn/decoding/space_net_solvers.py')"
81,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 09:55:18,"make clear that this is a dot product: dot([X ; grad_weight \* grad], w)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
82,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 09:56:08,"This is a vector. Please give the semantics.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(147, '', u'nilearn/decoding/space_net_solvers.py')"
83,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 09:59:05,"This function (and others) are used only in this module and are fairly low-level. I would prepend an underscore to the name.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
84,pull_request_commit_comment,657,nilearn,nilearn,banilo,2015-07-16 10:00:43,"you also seem to divide by the variance -> 0-mean-centering + unit-variance scaling
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/_utils/fixes/sklearn_basic_backports.py')"
85,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:07:01,"Please write a docstring or prepend an underscore to function name.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
86,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:07:32,"Minor: Really need 100 iterations by default ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
87,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-16 10:07:56,"> This function (and others) are used only in this module and are fairly
> low-level. I would prepend an underscore to the name.

Maybe the whole module should have an underscore.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
88,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:09:11,"same comment.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
89,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:12:07,"Please describe the parameters for the sake of consistency
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(245, '', u'nilearn/decoding/space_net_solvers.py')"
90,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:14:34,"something
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
91,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:15:44,"smooth...
... and gradient thereof
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
92,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:21:26,"to solve
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
93,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:22:01,"w.size or n_features
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
94,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:25:10,"Returns...
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(368, '', u'nilearn/decoding/space_net_solvers.py')"
95,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:26:11,"Please preprend an underscore or add docstrings
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(380, '', u'nilearn/decoding/space_net_solvers.py')"
96,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:27:53,"defaults to 100
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
97,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:28:03,"default 5000
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
98,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:29:12,"optional (default None)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
99,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 10:34:06,"Could you simply clarify the difference wrt the previous function
Actually, the functions could be one, with a smooth_X argument added (would be 0 by default) ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
100,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 12:05:08,"Agreed. This is a no(o)p. Thanks!
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
101,pull_request_commit_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:37:58,"We already have a cropping function.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(59, '', u'nilearn/decoding/space_net.py')"
102,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 12:50:21,"I don't understand. cv is indeed documented.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(1205, '', u'nilearn/decoding/space_net.py')"
103,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 13:10:46,"The ""semantics"" ? Please could you be more explicit.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(147, '', u'nilearn/decoding/space_net_solvers.py')"
104,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 13:27:22,"This is now protected (leading underscore). Thus comment no longer applies.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(245, '', u'nilearn/decoding/space_net_solvers.py')"
105,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 13:37:28,"I'd rather skip this. This sounds like WLTH (would-like-to-have) :)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/simulate_smooth_lasso_data.py')"
106,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 13:44:24,"It is, thx. my comment was: 'int, a cv generator instance, or None (default 10)' could be replaced by
'int, a sklearn.cross_validation.CrossValidation generator instance, or None (default 10)'
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(1205, '', u'nilearn/decoding/space_net.py')"
107,pull_request_commit_comment,657,nilearn,nilearn,bthirion,2015-07-16 13:47:17,"Sorry for being unclear: what is the meaning of this output vector ?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(147, '', u'nilearn/decoding/space_net_solvers.py')"
108,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-16 17:09:06,"Ya just seen it. Quite cool. However, it'd be an overkill for what I'm trying to do here (for example, i don't have / need an affine, etc.).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(59, '', u'nilearn/decoding/space_net.py')"
109,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 07:30:51,"Titles in restructured text are not indented.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/estimator_choice.rst')"
110,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-17 07:36:00,"what does this file have to do with the present PR?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/plot_haxby_simple.py')"
111,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 07:36:07,"It seems to me that this is commented out. If so, it should be removed.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'doc/decoding/space_net.rst')"
112,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-17 07:37:12,"Is this a contribution of the SpaceNet PR? It shouldn't be.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets.py')"
113,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-17 07:39:46,"Had we agreed on the term `GraphNet` ? I can't remember.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
114,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 07:41:48,"> Had we agreed on the term GraphNet ? I can't remember.

Indeed, we should be using GraphNet instead of S-Lasso everywhere.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
115,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-17 07:45:52,"comment about intercept and preferably make this more explicit for readability by future contributors.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
116,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 07:56:53,"We should rename Smooth-Lasso everywhere to GraphNet. I am sorry, it's a lot of work, but we need to do that to make sure that we really earn the good will of the community.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_haxby_space_net.py')"
117,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 07:58:39,"We can remove this variable, and simply use the default in fetch_oasis_vbm
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_oasis_vbm_space_net.py')"
118,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:00:36,"I think that it would be good to use better names for 'X': some thing like 'gm_img' (applies to all related variables: X_train...).

Same thing for y: 'age' would be good.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_oasis_vbm_space_net.py')"
119,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:11:06,"Here also, let's try to have more explicit names
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_poldrack_space_net.py')"
120,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:11:44,"Here we don't need this intermediate variable, so let's not use it, and pass directly to SpaceNet
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_poldrack_space_net.py')"
121,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 08:12:19,"Same thing here: let's try to not define a 'penalty' variable.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_poldrack_space_net.py')"
122,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-17 08:18:02,"This could've gone into a seperate PR, but spacenet is the only thing using this fetcher, so yes.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets.py')"
123,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 16:53:57,"It really worries me that we have to do all the above in the example. Ideally, SpaceNet should be able to do part of this (via the embedded niftimasker) and another part of the work should be done in the way we store / distribute the data.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
124,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 16:57:47,"The make_Xy should probably come back in this function, to make the examples easier. I would suggest naming it 'return_raw_data' and putting it to False by default.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets/func.py')"
125,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 16:58:14,"It seems that this docstring is no longer in sync with the codebase.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets/func.py')"
126,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 17:37:01,"I agree. Let's use your code.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(59, '', u'nilearn/decoding/space_net.py')"
127,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-17 17:57:24,"You understood the semantics of my suggestion the opposite way. For me, return_raw_data is not what you are doing here, but the opposite (it's just a change from True to False).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
128,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:37:05,"optional
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
129,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:37:53,"optional
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
130,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:38:22,"optional
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net.py')"
131,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:40:29,"Lipschitz
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/space_net_solvers.py')"
132,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:41:06,"either remove or make it specific
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/simulate_graph_net_data.py')"
133,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:42:20,"Typically one uses `sklearn.utils.check_random_state`

Same for 2 other instances below.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_objective_functions.py')"
134,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:46:40,"After the 'privatization' of a certain number of functions, the corresponding test names are lacking an underscore. This is not the only place.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(181, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
135,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:48:57,"For future: Still necessary when stopping support of sklearn 0.12?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(66, '', u'nilearn/decoding/tests/test_space_net.py')"
136,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:51:22,"Skipped for time or result reasons? Maybe comment
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
137,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 11:52:40,"Surprised to find this full file here
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/tests/test_datasets.py')"
138,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 12:04:28,"This is no big deal.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
139,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 12:07:01,"This is a zombie file. Thx for spotting.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/tests/test_datasets.py')"
140,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 12:29:49,"Indeed. Thx for catching.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_objective_functions.py')"
141,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 12:32:00,"To be checked with travis.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(66, '', u'nilearn/decoding/tests/test_space_net.py')"
142,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 12:37:40,"I'll rmv.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
143,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 14:53:49,"If it doesn't pass, we should remove it.

I agree that it is not a very big deal that this guy doesn't pass.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
144,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 15:34:08,"OK, rmed.

On Sat, Jul 18, 2015 at 4:53 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/tests/test_smooth_lasso.py
> https://github.com/nilearn/nilearn/pull/657#discussion_r34948354:
> 
> > -        x_1 = rng.rand((w.shape[0] + 1)) \* rng.randint(1000)
> > -        x_2 = rng.rand((w.shape[0] + 1)) \* rng.randint(1000)
> > -        gradient_difference = extmath.norm(
> > -            _logistic_data_loss_and_spatial_grad_derivative(
> > -                X, y, x_1, mask, grad_weight)
> > -            - _logistic_data_loss_and_spatial_grad_derivative(
> > -                X, y, x_2, mask, grad_weight))
> > -        point_difference = extmath.norm(x_1 - x_2)
> > -        assert_true(
> > -            gradient_difference <= lipschitz_constant \* point_difference)
> >   +
> >   +
> >   +@nottest
> >   +def test_fista_convergence():
> > -    """"""Tests fista 1/k**2 convergence, theorem 4.4, ""A Fast Iterative
> > -    Shrinkage-Thresholding Algorithm for Linear Inverse Problems"",
> 
> If it doesn't pass, we should remove it.
> 
> I agree that it is not a very big deal that this guy doesn't pass.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657/files#r34948354.

## 

DED
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
145,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 15:49:27,"I don't understand why you need to use 'mean_img' here?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
146,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 15:52:12,"Thx for spotting. I've rmed the zombie file (I'd migrated the testcases to
test_func.py).

On Sat, Jul 18, 2015 at 4:53 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/tests/test_smooth_lasso.py
> https://github.com/nilearn/nilearn/pull/657#discussion_r34948354:
> 
> > -        x_1 = rng.rand((w.shape[0] + 1)) \* rng.randint(1000)
> > -        x_2 = rng.rand((w.shape[0] + 1)) \* rng.randint(1000)
> > -        gradient_difference = extmath.norm(
> > -            _logistic_data_loss_and_spatial_grad_derivative(
> > -                X, y, x_1, mask, grad_weight)
> > -            - _logistic_data_loss_and_spatial_grad_derivative(
> > -                X, y, x_2, mask, grad_weight))
> > -        point_difference = extmath.norm(x_1 - x_2)
> > -        assert_true(
> > -            gradient_difference <= lipschitz_constant \* point_difference)
> >   +
> >   +
> >   +@nottest
> >   +def test_fista_convergence():
> > -    """"""Tests fista 1/k**2 convergence, theorem 4.4, ""A Fast Iterative
> > -    Shrinkage-Thresholding Algorithm for Linear Inverse Problems"",
> 
> If it doesn't pass, we should remove it.
> 
> I agree that it is not a very big deal that this guy doesn't pass.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657/files#r34948354.

## 

DED
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_smooth_lasso.py')"
147,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 15:58:48,"OK, this doesn't look right. It's probably for historical reasons. Lemme rm
the mean_img stuff and rerun.

On Sat, Jul 18, 2015 at 5:49 PM, Gael Varoquaux notifications@github.com
wrote:

> In examples/decoding/plot_mixed_gambles_space_net.py
> https://github.com/nilearn/nilearn/pull/657#discussion_r34948870:
> 
> > +data = fetch_mixed_gambles(n_subjects=16, return_raw_data=False)
> > +zmaps, object_category, mask_img = data.zmaps, data.gain, data.mask_img
> > +
> > +
> > +### Fit TV-L1 #################################################################
> > +from nilearn.decoding import SpaceNetRegressor
> > +decoder = SpaceNetRegressor(mask=mask_img, penalty=""tv-l1"",
> > -                            eps=1e-1,  # prefer large alphas
> > -                            memory=""cache"", memory_level=3)
> >   +decoder.fit(zmaps, object_category)  # fit
> >   +
> >   +### Visualize TV-L1 weights
> >   +import matplotlib.pyplot as plt
> >   +from nilearn.plotting import plot_stat_map
> >   +from nilearn.image import mean_img
> >   +plot_stat_map(mean_img(decoder.coef_img_), title=""tv-l1"", display_mode=""yz"",
> 
> I don't understand why you need to use 'mean_img' here?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657/files#r34948870.

## 

DED
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
148,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-18 16:11:25,"Should this commented code be deleted?
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
149,pull_request_commit_comment,657,nilearn,nilearn,eickenberg,2015-07-18 16:14:26,"Thanks. My original comment on this seems to be gone.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
150,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-18 16:30:44,"Rmed the commented code. Rmed mean_img stuff too.

On Sat, Jul 18, 2015 at 6:11 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/tests/test_space_net.py
> https://github.com/nilearn/nilearn/pull/657#discussion_r34949090:
> 
> > +# def test_alpha_attrs():
> > +#     iris = load_iris()
> > +#     X, y = iris.data, iris.target
> > +#     alpha = 1.
> > +#     X, mask = to_niimgs(X, (2, 2, 2))
> > +#     for penalty, is_classif, verbose in itertools.product(
> > +#             ['graph-net', 'tv-l1'], [True, False], [True, False]):
> > +#         cv_class = eval('SpaceNet%s' % (
> > +#             ['Regressor', 'Classifier'][is_classif]))
> > +#         cv = cv_class(
> > +#             mask=mask, penalty=penalty, alphas=alpha, verbose=verbose,
> > +#         ).fit(X, y)
> > +#         if is_classif:
> > +#             np.testing.assert_array_equal([alpha] \* 3, cv.alphas_)
> > +#         else:
> > +#             np.testing.assert_array_equal([alpha], cv.alphas_)
> 
> Should this commented code be deleted?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657/files#r34949090.

## 

DED
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
151,pull_request_commit_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-20 01:16:49,"reducing
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(53, '', u'doc/decoding/space_net.rst')"
152,pull_request_commit_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-20 01:19:14,"Unless you want to re-run masking on the same data while changing a parameter like low pass filtering, `memory_level=2` is useless.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'examples/decoding/plot_oasis_vbm_space_net.py')"
153,pull_request_commit_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-20 01:22:18,"WHat you are doing here is basically providing an ideal masking pipeline for the dataset. I think that this is something that we should do when possible. However, a parameter name like `return_raw_data` is not very informative: I would replace it by `auto_masking` or `auto-preprocessing`.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(88, '', u'nilearn/datasets/func.py')"
154,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-20 05:39:29,"> However, a parameter name like return_raw_data is not very informative:
> I would replace it by auto_masking or auto-preprocessing.

OK for something like 'preprocessed_data'.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(88, '', u'nilearn/datasets/func.py')"
155,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:15:26,"I think that we need to switch 'return_raw_data' to False by default, and not even display it in examples (to make examples simpler).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(None, '', u'nilearn/datasets/func.py')"
156,pull_request_commit_comment,657,nilearn,nilearn,GaelVaroquaux,2015-07-28 15:22:48,"Please explain here that you are using the regressor object given that the task is to predict a continuous variable, the gain of the gamble.

Also, maybe we should leave out some data and show a prediction power (if it somewhat works).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(5, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
157,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-28 15:41:57,"On Tue, Jul 28, 2015 at 5:22 PM, Gael Varoquaux notifications@github.com
wrote:

> In examples/decoding/plot_mixed_gambles_space_net.py
> https://github.com/nilearn/nilearn/pull/657#discussion_r35660156:
> 
> > @@ -0,0 +1,45 @@
> > +""""""
> > +SpaceNet on Jimura et al ""mixed gambles"" dataset.
> > +==================================================
> > +
> > +The segmenting power of SpaceNet is quite visible here.
> 
> Please explain here that you are using the regressor object given that the
> task is to predict a continuous variable, the gain of the gamble.
> 
> Yeah, definitely.
> 
> Also, maybe we should leave out some data and show a prediction power (if
> it somewhat works).
> 
> hmm this looks like a big change. I propose this be done separately,
> otherwise we won't simply ever be able to merge this PR. I propose we don't
> produce a single line of additional code (except fixing bugs, typos, etc.)
> related to SpaceNet until this PR is merged :)
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/657/files#r35660156.

## 

DED
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(5, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
158,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-28 15:57:50,"Otherwise, ""it's like simulated annealing, without decreasing the temperature"" -source: probably @GaelVaroquaux 
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(5, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
159,pull_request_commit_comment,657,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:09:01,"Sounds like @eickenberg to my ear ;)
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(5, '', u'examples/decoding/plot_mixed_gambles_space_net.py')"
160,pull_request_commit_comment,657,nilearn,nilearn,dohmatob,2015-07-29 07:52:22,"OK, the feature seems to be asbsent even in 0.13. So I'll simply skip the testcase in the event of ImportError (as it's already done).
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(66, '', u'nilearn/decoding/tests/test_space_net.py')"
161,pull_request_commit_comment,657,nilearn,nilearn,lesteve,2015-07-29 08:04:19,"Could you add a comment mentioning explicitly that _alpha_grid exists from 0.14 onwards? 

It makes the try except clearer and also makes it easier to remove code like this when we update our scikit-learn requirements.
",3efa3c70e5209d97da880b587d1d5174b3fc2567,"(66, '', u'nilearn/decoding/tests/test_space_net.py')"
162,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-14 13:53:23,RENAME: tvl1 -> tv-l1,8ca044a0391178123298ff754c85141219906b0b,
163,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-14 14:05:27,ENH: renamed *spacenet.py -> *space_net.py,65f5cafa01aa0eec0b31b0d72f111239270770ff,
164,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-14 15:22:37,ENH: _crop_mask(...): new function to crop mask,4c2840cde33858dcfa8fe00ee08841f42e4e260b,
165,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-14 15:49:36,ENH: tiny fixes on _crop_mask + test cases for this new function,1533924c8966c3b5e1bf756431c59fddd8513928,
166,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-14 15:58:06,TYPO: self.i_alpha_ = self.i_alpha_ -> self.i_alpha_ = self.i_alpha_[0],c006de5dd13b0caeab10019ed6c686fa2b7c0b02,
167,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 11:00:21,"- ENH: explicit verbose param in path_scores(...) function
- ENH: dilating mask after screening (WIP)",3063b377d3008e61803d90ccc7a085bf6d3455b2,
168,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 11:57:41,ENH: _fast_smooth_array -> scipy.ndimage.gaussian_filter,f66bc33496c5092165a9b5e8c89c5c9adb53be22,
169,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 12:03:30,unused import,c9cf969de7b2462f95b1a552e66d02513cced54a,
170,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 12:07:06,unused import,dea658959f743e9686ee5324624156e67f587877,
171,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 13:25:38,ENH: in haxby demo: splitting data into train (10 sessions)  and test (4 sessions),da010e2bcd95b630e93da71db1a9d5012a86b1b3,
172,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-15 13:32:17,ENH: changed screening_percentile from 10 to 20 (percentage full-brain),a259fb0bb4dd296bf6007f08945c972ce7c98101,
173,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:00:52,"BF: horrible classification scores due to unstandardized data; standardize = True in NiftiMasker henceforth
CLEANUP: removed junk initialization of gradient_buffer
ENH: cv=8 is new default in SpaceNet
ENH: new default screening_percentile=20",6dcb12925790525ff14ad74114807e90119f2553,
174,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:10:30,CLEANUP: confusing docstring about tol in mfista,eaf476d716b3577c2f603b9d4ca21d6a79350ac6,
175,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:29:40,CLEANUP: some errors in docstrings,5bdfee48a1c53e74cee715316ec75d5473473490,
176,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:42:48,BF: couple of tiny bugs,e6d10abc3efbe65af7f995be526ebf63359eefdd,
177,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:47:14,CLEANUP: minor troubles,4207eb7273ee3a458833766777087967b38c8ed4,
178,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 13:59:41,more authors,fdc211756e59588839bb5bb8a97a4783718a3354,
179,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 14:18:52,printint more results in haxby demo,fa8975e70bc5283e30c657df24ad4b65ac3e834e,
180,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 14:20:12,cosmetic change,275587cae41e0f5e9b27209369ce041cc05d9634,
181,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 14:48:33,ENH: not screening if mask has as few as 1000 features in its support,0327958cb3a287a98f37deb0131913e5aad20c3c,
182,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 15:14:40,ENH: better var names + tiight_mask -> mask,afbfaa0d7dcefe633577ef5ec06977b7d65e4c69,
183,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-18 15:40:28,CLEANUP: junk _ovr_y function in SpaceNet,9b7d4af57370b7f8dfe8ba07b7a786522a2790c2,
184,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 14:39:55,CLEANUP: fex typos,1b306aca85bf3be128c10f983d5ce9a0cbd7178f,
185,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 14:44:33,CLEANUP: usless int casting,f29ef58885eb64a8718fb3e9c95676af2a3d032d,
186,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 14:49:20,"CLEANUP: tiny fixups about objective, cost, energy stuff",dd4fde0688e5bb998a5eb8af5dd4b0bfee6a2e7a,
187,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 14:58:24,CLEANUP: corrected some docstrings about numpy ndarray shapes,6c54bed7ba713efb4a039887b521e1494c43b81f,
188,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:20:19,"* ENH: (gap ** 2).sum() -> np.dot(gap, gap)
* CLEANUP: l1 -> L1",5a5107b259ab90bbd3f44992bac1fc82d05f9937,
189,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:25:01,"ENH: input_img_norm = (input_img.ravel() * input_img.ravel()).sum() -> input_img_norm = np.dot(input_img.ravel(), input_img.ravel())",ad5938a0a2e28a598b9ab856d1d1b3ccde6e08cd,
190,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:29:18,ENH: np.sqrt(float) -> math.sqrt(float),659c5d9ca750baf912f3bd1e1a0e4b32ac972041,
191,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:31:28,cosmetic fixups about docstrings etc.,4a0dec580429ecd888ec2e41c1819ae6c706c1f5,
192,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:33:11,CLEANUP: more corrections on docstrings about numpy ndarray shapes,a61efdf7547ae81b9e430e1f7b92c7b2b2aa903d,
193,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 15:40:32,ENH: printing elapsed time in minutes too,1d4ba7b2b34d5795e3ba79bf4f9aa756510ff13a,
194,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-19 18:52:20,BF: broken commit,0bda40158e9ec04dc5dec6c161a372a5042992fb,
195,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 09:49:15,addressing @agramfort's comments,deebcaf7c5fff94252acedc552ed5a5193871ad1,
196,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 10:29:09,cosmetic changes to address comments,ce08d7a7d7d7135d0371daf437483881384a5558,
197,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 10:30:40,inserted _ in name of test case,5f5c96891012c82d37290e71d96bd6efa01c6b06,
198,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 10:46:13,explict testcase name,04fd5791afb1f375e686a411638e4bef85d19393,
199,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 10:56:50,ENH: not using relative imports in tests,50d8458a1afb981667d61e023d48e795eb27aa59,
200,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 10:58:52,invalide -> invalid,3ca7ba21b39ddbc981282ab3a96f118e0c87aac3,
201,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 11:03:29,more docstrings fixed,eb6690e89ee023615a449b8c975e2e3470629541,
202,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 11:11:51,ENH: headline in mfista docstring,2363178987311c2b5942470c8416c3987b11d09d,
203,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 13:40:29,REFACTOR: factored out code for univariate screening into separate function,a5ebb0998228d9e63dd2eb6569dc7bb62f669c8d,
204,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 14:08:55,intercepted_prox_l1 -> prox_l1_with_intercept,bb7e03e50e340d71fb41de5c87efe708ee726a04,
205,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 14:23:20,still fixing minor issues,fbcf0fa189b936707ce72411f4cfc42ac9e679ff,
206,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 14:28:54,ENH: binary_dilation(binary_erosion) -> binar_fill_holes,9c4bccf8e3fd60d1a50c8156660f96fbed182780,
207,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 14:37:58,avoiding ravelling twice by using a view instead,c8eb247e487bb1447c4bb2c10b6b6c2198ffc90b,
208,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 14:43:12,repairing broken testcase,0e9f2ddba6fb9fa10e9ecc4388d6663a4a1c8f8b,
209,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 15:01:48,removed superfluous ravelling in mfista,05ce211e927988c0de441797974af91cb9209926,
210,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 15:13:58,DOC: improving SpaceNet doc,598182657ec2d151c3048cfe4ab55ebf2b5ac21d,
211,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 15:15:36,relaxed very string test,bb7e8cd72239e65150e7a093db117ff9ddd74b5a,
212,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-20 15:44:53,typo,9bc18379d36e635c6e60e00df2c5f806b2ae5a68,
213,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 06:38:21,ENH: improving docstring of SpaceNet,fecfbfdf6a5878702f49e92bc1ac92dced530334,
214,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 06:46:35,ENH: still enhancing docstrings,6fcc0b92960f428cc13e50d933e6e0f82ef6e578,
215,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 07:51:26,ENH: volume-corrected screening percentile,0905b986b4e2da08a0b601cbd975444af8906881,
216,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 08:40:05,cosmetics,8b5630b9bdba1a436ec6530536bd2970e46a20c4,
217,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 09:12:44,NEW TEST: testing code computing mask volume,545ca52d768061cd79c907c2c44a27a71ee2d36e,
218,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 11:22:49,doc,19474a778b25b1ef574712cfb3b935f1f729a6c8,
219,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 11:42:14,typos + more references,d638e8ee406ffb4a46bd04e5aac0f5f5a648eb42,
220,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 14:36:14,implemented SpaceNetRegressor subclass,41f6915d69f7a5d42d0d31ca17256548bbba5856,
221,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 14:58:20,typos + more coverage,bb00562c9c6e821e4bae6c91b51f9016950674b6,
222,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 15:14:28,cosmetics,831040d801d7cbacb429389f05254e6780405874,
223,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 15:54:29,typo,fc1d50b7d54dd5535d5588e254e1bdb227a507a7,
224,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 16:16:32,"* NEW FEATURE: SpaceNetClassifier (subclass of SpaceNet, specialized in classification problems)
* DOC: documented is_classif parameter of SpaceNet class",1385ab9dcc84930a18b67eb648b2c42e4d5e9799,
225,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-21 17:20:06,reporting mask volume in cm^3 + plus other cosmetics,5b99a52c5c52af04f19ba46c4b74aa8ef1d908ba,
226,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 02:20:58,REFACTOR: refactored classification-specific APIs from SpaceNet base class,0182bbe3258660d015538385a535196a14e8e802,
227,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 02:30:50,ENH: disabling screening if only 100 features or fewer,a384116d2cb32dd56fce4db0d93cd6f8fdda9feb,
228,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 02:50:05,small corrections,51984e162684877ff41d58d83677020370de51ad,
229,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 02:57:13,corrected some errors in param docstrings,17a84668f3b26a8cd6b996319df70373a33682a5,
230,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 02:58:58,corrected more errors in param docstrings,90313b7be83fa7e0bb433fcf5afa0c80a169021d,
231,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 09:14:50,NEWFEATURE: SpaceClassification works with mse loss too,5903f8b38791dc179e8ce77c70d13e6bede6440e,
232,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 11:30:59,fixed typo pointed-out by Loic,1b8587a7ed2de64145b67a5484ea8e0379603d91,
233,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 11:43:18,clean err_msg logic,6282dc0f44e2c81963450a96294b878080c8d249,
234,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 11:56:56,ENH: better computation of intercept form mse loss,32b42755fe9d871de728d7942f43f970154351e2,
235,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 13:28:34,restored default loss in demo,4b30122a12de7d0bbeb92cc564d3342dbe700f04,
236,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 13:37:16,cleanup demo,def76ac0546167b261bb0ad9e02f6958c50e7800,
237,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 14:40:26,ENH: not centralizing y for classif problems (recently introduced bug),9e51f123d7edcc7639e4bf024308b7ef51ca0941,
238,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 15:17:38,random_state arg in _check_lipschitz_continuous,6c3cc84edfe5e817077ee5f94aab3631d9ee390c,
239,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 15:23:41,BF: warnings.Warn -> warnings.Warn,ea4045c59dd0035edbc63bb1ee84b700a9d01097,
240,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-22 15:34:15,removed abnoxious 'novel' word from mfista docstring,747540f9d2f8925decdb4af0de19d222c02f379a,
241,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-24 17:12:48,WIP: Turning off smooth done before screening,6d68dbd4a1cf25c0afd28cb93ab6ad0a5a2d366a,
242,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-24 17:15:00,NEW DEMO: PMG,d3071212d5017c95bcadb71b6b471c39bc7354d3,
243,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-24 17:28:53,more,ad7f7bfbd3809fe2f5ba2ef5f0a35192c46d7df0,
244,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-24 17:35:01,more,f3acb9a4050a8b468d2fc8434cc09777fae459cd,
245,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 07:21:32,l1_ratio=.3 for pmg,2680fd030b2bd45641e0f25102dfb2e19f666bde,
246,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 11:26:51,full brain sl (ok),4ca7aa1d9bf4250818df57c7f6d1e874e18263ee,
247,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 12:45:55,l1_ratio=.3 in poldrack tvl1 demo,f7c092da15d6adf982440c3250e28e17a4246e4b,
248,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 13:21:44,CLEANUP + ENH: new option smooth=0 in _univariate_feature_screening,dcdd18ec190c778fa56c02308e8c9d46c7aace77,
249,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 14:19:15,morphing strategy = dilation o erosion,90c34ff7241257fae88f5b655b8d023cc422aeb4,
250,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 14:20:12,cleanup demo,44326c2e26084922db5edf9ddd5b23650a2911e4,
251,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 14:35:33,WIP: demoing sl and tvl1 on haxby,d89536b2d592fc318d12f6692f26ad8b1f838f07,
252,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 15:26:33,BF: restored standardize=self.standardize in SpaceNet's NiftiMasking,645517f3eac6c1a2653c003602b33bcf734b3091,
253,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 15:47:09,defaut cv=8 in SpaceNet,47b22c28dd031276db85427d18cef672c6906923,
254,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 15:49:51,scores_ -> cv_scores_ in SpaceNet,37e90f70cb81c37458a58d274d5ee7b5fa5a0513,
255,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 16:10:58,misc cleanups and cosmetics,138411fba61a03749d51e06b53676f54ea1ff998,
256,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-25 17:44:43,cleanup,b7c72fc7eb42401b57e6bcc96ca3d28e9f9309c9,
257,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-28 08:43:53,removed unused slicer var in plot_haxb_space_net.py,e39575737cb48c2d7aeb09c0d2086c00d38639cd,
258,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-28 12:40:16,"- BF: proper standardization of input data (in fit and predict)
- BF: restored broken oasis spacenet demo",4f7f446dc399347170c42aca468d07336d39210b,
259,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-28 13:09:58,ENH: properly setting intercept after fitting,0cc8ba7ba1aa2a1a78f96faabb4b7f623884303a,
260,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-10-28 13:26:32,tiny bug fixes,a3d424218a63e63c60ceb576adc036fb390b4265,
261,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-04 09:17:37,addressing @bthirion's recent comments,519406a5840b83df0112c7e8a1e61c63c665e459,
262,pull_request_commit,657,nilearn,nilearn,Titan-C,2014-10-24 23:22:30,Regexp control on raised errors,44795e5d38408d429b5c2ddc81be56c5b66d7f82,
263,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-04 09:51:46,still addressing @bthirion's comments,2616629c9142c382fb17468a07898941403ab5b3,
264,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-04 10:13:13,still addressing recent comments,f283f1dc3c5e18615332c6f1f65d246b0f0e26a5,
265,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-10 16:18:43,cooler,9df0afdbb76a48fe58b29af3d361c3cfd0a10e50,
266,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-12 13:39:07,"ENH: alpha_min=None by default, so that eps is used (instead) to construct alpha grid",1f470677e4cccdaf91e5a407634a7a7b091ac8c9,
267,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-13 07:56:25,REFACTOR: adressing @bthirion's oral remarks about the lambda (no more lambdas in modules),22b00ef3ba0a9cacfb8df6c47282f91701c756dc,
268,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 08:44:37,typo,25cea3744b38f4af1136fad7d78fa225b302268b,
269,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 14:24:38,ENH: cleanup for poldrack demo script,986aacd1c7ed2f7000cc9816057f96d59701e066,
270,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 14:29:17,DOC: rmed ref to TV-L1 in l1_ratio doc of gradient_id(...) function,97534923f3a9f71e4f07daac3c590830047bd62f,
271,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 19:00:29,n_jobs=1 restored in demo,cd26b23273eaab23b77998bfc0dcb2acf96e38c3,
272,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 20:32:51,ENH: fixed MemoryError in _univariate_feature_screening(...) function,29077e1c889df2bee91da5635d0d5b865d030b54,
273,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-14 22:52:31,BF: restored face vs house in haxby spacenet demo,a636fd506d40282b933726b17657dfd267606356,
274,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-15 15:11:15,ENH: demoing all penalties in poldrack demo,275f81c53f2868c1be24e94e19c0c4e041ea48c8,
275,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-20 10:26:17,REFACTOR: in space_net.py cv scores are 'bigger is better',589ee742d6fa08d375bfa79c11ab86295cc9dbf3,
276,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-20 10:32:14,BF: trailing X_ in space_net.py,a005c33c4d194c56d86d6f2b379e450b12ed042b,
277,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-20 13:28:39,closes issue #286 (about nans when l1_ratio = 0),acdc37404f514db8fc4d0a157227463969e90a3d,
278,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-20 13:54:28,ENH: tests for issue #286,2d74e04fc90f01c886ced2296907ad86bf0ebd83,
279,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-21 12:59:52,ENH: returning lists of pairs of lists of indices used in cv,5a86e89480188dab9fe678856068455ff41502f2,
280,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-21 13:16:53,typo,ca36a35e627be80ae69220470da5593a1ef5aed2,
281,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-11-23 10:31:17,BF: wrong docstring about ventral mask in plot_haxby_space_net.py demo,55fd082ce6ecac408d91f86f493d8a0cee8f909c,
282,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 09:52:56,Clean unused imports,9cbdb103a1ff03982afca103912b5e514c2030ca,
283,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 10:02:00,MISC: Cosmetics in the example,8cc69f8403136c85adf5d673649db0a089709ef4,
284,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 10:02:14,"API: SpaceNet -> BaseSpaceNet

We want to make it really clear that it is a base class, and is not
intended for the end user.",b259caa8c3a5a696434ae1db6c16b53cff7189be,
285,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 11:47:32,WIP: try to fix the alpha grid,d182c294d58fc0cfc58f3a21a2968abea3c530ee,
286,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 18:03:59,WIP: add a second score to disambiguate,de2ea32047f859ab0454a6362d103c29f62ae5d6,
287,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:16:51,"ENH: better verbosity

verbose=1 should simply give us an idea of how the progress is doing",27bc45026e57920db8dd49cb59a888b3dbe05094,
288,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:17:22,DOC: complete the docstring,ec60eeeca06834a5ca5be70392b52f987f099d0c,
289,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:17:35,MISC: avoid deprecation with new numpy,04075a40047b1c56119152e20a127ac75ef47076,
290,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-02 19:18:47,MISC: minor improvement in example,adb15b7d2b054891505282cf3665cb2cda1bd2ce,
291,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-02 19:39:18,fixed tests broken by the other other pr_219,a9e3899cfb31a9c59f3005d82228f44e3d906f60,
292,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-03 09:13:33,BF: trailing assert ...,fea6b04c1440f7d7ebac55b94311fa674f5d3440,
293,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-03 14:56:11,"-BF: confusing rescale_alpha param removed from code base
-BF: multiple tiny bugs
-BF: restored broken oasis demo",172a30ece780dacad0c340090973df814cbbe6cc,
294,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-04 14:34:41,BF: still fixing alpha grid computation,82772ea7d2927fd60a0abf7c587710534b59c88d,
295,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-06 07:32:54,cleanups,db317a9992cfdd01a59538aaa0c9b3383c20c7e6,
296,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-06 09:09:49,NF: poldrack loader (local),49032f796c4b946bdbdb5e01cb0f296a18ae856a,
297,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-06 09:49:31,SL & TVL1 ok on poldrack :),606b34087fce3a3b1af7c50fe79ea72b54cd3cab,
298,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-06 18:28:49,NF: cv on l1_ratio,f8a73095e19a1cadd5ee7d158ac5aa9f4684cdee,
299,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-07 08:39:46,cleanup,b555aa1e3d48f2553c9070928f98d69b8074c916,
300,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-07 15:55:09,cv on l1_ratio: ok,eb48480177fabe1ac69b8ada842281df89d97044,
301,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-08 14:27:47,"NF: fetcher for PMG (code stubb, only works locally for now)",c943318502c17ea9d909e79ce898431282768cb9,
302,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-08 14:28:17,remove obselet load_poldrack.py module,a72cc97ab2cd3ac8d1e93a1ac45bf43e42fa2c7f,
303,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-09 07:00:18,fixing some underground bugs,afd79da34d02bde493ec56c2c48d210a961f948a,
304,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-09 07:03:51,NF: fetch_mixed_gambles,abd843bc800361eef1c2c4598c91cf7ae450687b,
305,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-09 08:51:49,wip,770a4270fb70a16033448154059ee9f486408e18,
306,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-09 13:02:37,wip,dc108dc530db43736c5f18b927e0aa730272f222,
307,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-11 16:31:06,Favor small l1_ratios,fd2c6749b213e648338e7d2533845e2edce5e36d,
308,pull_request_commit,657,nilearn,nilearn,GaelVaroquaux,2014-12-11 18:32:04,Fix path on l1_ratio,421adadc124cb242aba1e2fa72d224a1d266e180,
309,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 09:43:10,BF: fixed couple of testcases broken by pr_219 :),90de959fdf65f1e5bc8fb49636f9951181b368e1,
310,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 09:45:25,restored default l1_ratios to .5 (from .75),d048f21c98b91558f2b4c0473a17e24e21e32986,
311,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 10:02:07,ENH: addressing @gael's comments about spurous start(...) method in EarlyStoppingCallback,05f62f72a76a4b7b1513c0638d0c3abd15a21bfd,
312,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 13:32:36,"""""""
I would prefer to avoid casting the ""penalty"" string to all lower
case. I would prefer if you did an actual check to ""tv-l1""...  The
reason is that other Python objects (eg dicts) behave with an exact
check, and thus you can confuse people and give them bad habits.
""""""",6a36e3ef7d961412130dcb5967f0c6e9c6875e23,
313,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 13:35:10,BF: broken demos,7b0a81020fd76a00748f3dd2befa80532c17ea35,
314,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-12 13:56:59,cosmetics,d6cc05799ff4aeb441c32aac7ef767af83c0f4c1,
315,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-17 15:16:51,EXPERIMENTS: debugging why good alphas don't mean good maps,1d8e5f55c93bfea58eab1568f22896e05522b847,
316,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-17 15:17:14,typo,a54ff621cf642b3f2a54df760ca1c8c855d31b07,
317,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-18 12:34:53,wip,819c85cd9f57fa76c11ffde07bf3092669549c3b,
318,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-18 17:02:11,wip,af044d49883876a08ea2d183f4362b348b77e5cc,
319,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-18 21:04:50,ENH: using sk.cv.train_test_split in oasis,a94c6aa3ca098ef3528f64429a27bb4abded0664,
320,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-18 21:15:37,BF: train_size=.8 in oasis space net demo,1c6b70fa42987975beb204175f8c17a0bfedbdf1,
321,pull_request_commit,657,nilearn,nilearn,dohmatob,2014-12-18 21:47:58,ENH+BF+CONFUSION: (on utterly bad prediction scores on oasis dataset) now using all oasis subjects,a253f2b724d72692bf2653f1fa0a5ccc5199ef3b,
322,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-04 17:02:00,"- ENH: putting Mean Abs Error in titles of Oasis prediction curves
- ENH: using MNI template (default) in poldrack demos
- ENH: various tiny things",092772a8ab63fb4e36c740812cbd36b8ef3bb047,
323,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 08:11:33,REFACTOR: moved space net demos to examples/decoding sub-dir,f8d50f46b92de712c8317380c552e8028d1013ff,
324,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 11:44:16,"- ENH: added space net entry in doc (decoding.rst)
- ENH: in haxby example, using index_img",edf05ab7158adda73474b175f2ae7e134917d67d,
325,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 12:39:02,"- ENH: removed zombie doc for inexistend normalize param
- ENH: simplified space nets by removing superfluous for loops",98c59811ac8ac88362b6118794b598ed92682eb7,
326,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 12:43:30,smooth -> smoothing_fwhm,8abf1202791523963f2810e30c3932be771417f1,
327,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 12:48:58,mask -> mask_img in _get_mask_volume,8e45d5397627dcb034083a410524c572b591b683,
328,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 13:10:59,tiny fixes,a829be459339317784ee9d7cfcba73f4bef63b6f,
329,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 13:21:57,BF+DOC: fixed bug in docstring about type / shape of X,0b73aec4124b9b9be385d2cc778c56213daa2972,
330,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-02-05 15:50:38,ENH: adding oasis vbm in doc,5f5571383394dd8336fd9ce2160f030967916089,
331,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 12:13:05,BF: fixing py3 issues + 0400 ==> 400 (error = invalid token),92d44cc2350bb2ff700e9a9e0da2e6f409803700,
332,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 15:42:06,BF: still fixing py3 stuff,33cb60a9a3bd25da79e4706e18b3563ed48ee905,
333,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 15:53:20,BF: still fixing py3 stuff,a2c6484c2a519591cd2d1c91bc56a6302b96cdea,
334,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 16:02:36,xrange ==> range,2339440166e3c7340991d385376fb25ef1a1cf06,
335,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 16:14:01,random ==> check_random_state,acf88bbbf09adc7c92a7149129ffae804c591625,
336,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 16:35:38,rng.sample ==> rng.choice,0107e5164b7ffbb20e6bb0305e80366b834d9fc3,
337,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 17:11:31,BF: choice ==> choice(replace=False),5736628f7a77dea2432a022eaeaf3a7012b23a90,
338,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-13 17:32:28,more,715e21b41af10e88e7d683129584c74d3ac9b02e,
339,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-14 07:26:02,BF: basestring ==> _basestring (bkport for py3),fe3b8b23788f57c17fc95fa853f0d503d1eee3c9,
340,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-14 15:38:51,DOC: SpaceNet entry in doc/decoding/*,61986abbb09c004b7e61481167858d4e2ef85a2f,
341,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-14 16:03:15,DOC: SpaceNet entries in API doc,f37b5789f9d9780f4276ab685e6284b304965070,
342,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 12:18:19,fix docstring,e0ed463f613698551518c57e938b09a2a856d5a0,
343,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 12:23:55,documenting init param of mfista,3db00fb4eec4f953927db32a4e00e8e2006681f4,
344,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 14:25:16,still adressing @bthirion's comments,39df75225f9094d537092421aef08726d8bf4bdb,
345,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 15:58:24,more,fefa61dd288a55ea6f1bd4df12d0b7a691974021,
346,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 16:15:56,BF: doc string for poldrack example,e35f7e1283b8e3e92a8ef42ec6ffaad8bfdc7c3b,
347,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 16:30:22,making TV-l1 show up doc before sl,0447753a549133d7e8baf16e17ddb59cd9bd011e,
348,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 19:46:00,API: leading underscore for hidden / protected spacenet functions,fcf6bed0d92820e06e27b76d86a45a6a3bb0dfa2,
349,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 20:05:48,documenting some nontrivial things,07e4d48d8f63fc37e30f79dc454d1b7987e5a64f,
350,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 20:26:20,FIX: fixing docstrings (still address @bthirion's remarks),f89fb1571401b416d5e31beca4b3c5fc50e93307,
351,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 23:04:34,zombie test case rmed,b2678cc52c803018ee2fba26741da4dd5181272f,
352,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 23:26:46,more,30c06ef56516ed3dc4adbaab9b156805d5582bae,
353,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-15 23:37:31,fixups,ba96096f784a73ce0d14b0b72e757c0fdbf331db,
354,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 07:46:58,added space net in thumbs,97c5c56fd329e38a92bfd9a588eec7411c1834f4,
355,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 08:08:04,fixups (carousel),e06d2ee5e63d4c1cbd1c1e4d6683eb4df5a63d5d,
356,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 08:49:09,only a few spacenet thumbs,ac6d4c656cf189fed5799dc411c63275dd4799aa,
357,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 11:42:11,REFACTOR: rmed center_data backport,b96fb08268509a121eb40d02a3e9cf1039191a4a,
358,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 12:11:06,API: more leading underscores (for protected stuff),28b7d962b5eb1ee2554d974f19812702907b1bed,
359,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 12:24:19,more leading _underscors + rmved unused copy_data param,686bf8662f4190956cc0b3cd7fce23985b152810,
360,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 12:35:34,BF: broken test case,68ab56590ee661a639788e6716ccc65db9b01b35,
361,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 12:54:34,useless XXX,0416112f8ab31e3aa406ac1d1cfcbc18fc05558f,
362,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 12:59:31,CLEANUP: rmved obsolete sklearn backports,313e7c3c0ec6fa94f106e59794a38b6b665118eb,
363,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 13:18:19,fixups: leading underscores + other docstring wahala,f1dcb4598a15fe8f4cc08e2bee7710bc76353fa2,
364,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 14:14:08,more leading underscores for hidden functions,aed4893ae89360f693415542978e791d219d9029,
365,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 14:46:29,"DOC: spacenet now in decoding_tutorial and estimator_choice.rst, etc.",2499f81dfcfc53815cf974836221bcb97078c98d,
366,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 14:48:10,glitches,dfccea4ce50d3a0b6c5d2ceab80b1ff3dc2898f9,
367,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 14:48:33,CLEANUP: not mentioning pure TV and pure LASSO in user doc,3b76060e476738312af4f23f41981c2c49842835,
368,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 15:04:41,CLEANUP: merged all smooth lasso data gen functions into one,57f18e5fa1da29877d89b95eb5fef7be89de69a0,
369,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 15:07:11,typo,a47d485cea79976bf037716b9a36e2015cf478a7,
370,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 15:13:45,more typos,8a443cb843c2be196aa22a656a313cc2a4b361c8,
371,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 15:49:53,DOC: display_mode=yz in haxby space net example,1f9a30fd3b72ea9757f6d47fc807c4263cf208a8,
372,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-16 15:53:37,reduced cut_coords in oasis space net example,5e7300be9bb8e5a83760247fddc1895732d44ad0,
373,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 07:50:07,no colorbar in space net examples,01c4b91997613983ba15f9f037d120c238288e42,
374,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:16:08,smooth lasoo ==> graph net everywhere,d4dcba1b6b473410c0252cf30a6f5ff3bfccefa5,
375,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:28:07,fixups rst,0e9c5fcca9f37a95b2fec6e492241f7129578992,
376,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:28:26,"cleanup var names, etc.",71d83994653a59b132c393dcff4b592a70bb6d4a,
377,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:33:32,"fixups: var names in examples, rm dummy vars, egc.",8391e2bf6bd77b539f9b8c5ffb2f1f52c4a8ecd6,
378,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:34:21,restored examples/plot_haxby_simple.py: has nothing to do with PR,b761f881d2074b7b9731c8b23bb0679fd4d4e4d1,
379,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:35:59,more smooth lasso ==> graph net,4cbe10c8efdad4803c859154fc4ca7e38c864922,
380,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 09:42:34,DOC: cmt about intercept in logistic regression,c8798ddc2869eea18f921d0bab1aa26dc4bbc99b,
381,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 13:54:15,"- moved make_Xy logic from fetch_mixed_gambles to the space net
  example (this should be user complexity, not ours)
- reduced screening_percentile to 5% in oasis example
- plotting colorbars in space net examples
- reduced verbose in examples",1abf7dc1db94fe1c759749249d27f19c3b0ee452,
382,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 13:55:45,renamed example script (space net stuff),c3a6afce5636f9606559a7dcd3657148500b6acf,
383,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 14:25:52,default verbose increased to 1,293aa721de48de8cc365b4427fe857c6d04b4974,
384,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 14:59:08,rnmed poldrack ==> mixed_gambles in doc/,5bc8125fe4506569219609a7af776e2f19826e8a,
385,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 15:02:11,typo,26c40f718dbe5fa0d912b937dd5278889c18c56b,
386,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 15:47:11,BF: broken backport,4bf8d754e166d97e541e011941ab6c0256ec1a21,
387,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 16:00:52,mixed gambles fetcher integrated into new datasets organization,4300da30b73d554c277a033e002e8b6c84a4f6af,
388,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 17:21:32,REFACTOR: complex data manips moved into fetcher (mixed gambles stuff),f9bc35ddc5e29ef1b4aea319ab2043e344362251,
389,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 18:07:01,FIX: proper use of memory_level in space net + higher value in oasis demo,b8edb4737fa665c8ae78f030f66323871efc4c72,
390,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 18:09:16,comment on n_jobs in oasis demo,93d67a1372fd513e108ccc5974c19a159f78e3b0,
391,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-17 18:17:09,flipped the interpretation of return_raw_data arg to fetch_mixed_gambles,d0452bafbce1f3351961c54ea7746f0932e95627,
392,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 12:28:07,rmed license,1ef334c1032da56e39dfa137a61a31e2da1330dd,
393,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 12:28:30,using sklearn.utils.check_random_cstate,a61211ef8c7199da02e11afa0212258eea05bb54,
394,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 12:38:16,rmved dead test,6c8adcc836e073c384929754f5175d934ae03348,
395,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 12:42:40,rmved zombie files,0ba41b7d99ca4f253a6acb3a580b993c363aadb1,
396,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 13:15:09,refactored fetch_mixed_gambles (to make it more testable),e870fb69376ec0c39aa6f8bb6ef2ecaecb0330a0,
397,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 13:38:05,more doc for mixed gambles fetcher,75775461fd05e0d41a6d875e6853c9c754eb94ba,
398,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 13:57:56,typo: optinal ==> optional,235279176d93aec86d08e7bcb0533f45ee6c2231,
399,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 14:10:46,typo,3cbaee3d9613959a577991d7fa3cfc1af6b3e849,
400,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 15:28:24,removed dead tests (fista stuff),6e52349236359f605c3b3e0e8ffe4d0c48abcc82,
401,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 15:51:16,rmed zombie test_datasets.py file,6f4142cd4ca8ced7f6fedde3562c0aeed9237035,
402,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-18 16:27:18,rmed commented code + rmed mean_img call in example script,3821dab82751503d8e0f027620d473a123f103ad,
403,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-21 11:26:26,temporarilly renamed mixed gambles example to be run early,6ec3d1a8bf2a7a78011ffb9b1b95f38dfe19bc54,
404,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-21 13:17:53,renamed oasis space net example to be run at top of examples chain,14d08fe86e901f8685cb369f31b3ab8d1245156f,
405,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-21 19:17:22,n_subjects=200 in oasis space net demo (to limit memory demand),99e1bc161b1c7c7b227b9192cf992bfb947e5259,
406,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-22 11:49:12,oasis example should run fine now,4f5b68359f5413fc519c26b61f04d09a36e9943c,
407,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-23 12:15:02,"ENH: upsampling oasis data to 4x4x4 (otherwise, we're fried)",11c74929eefcce76292713b15e469d0834fa1a8e,
408,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-23 13:12:53,CLEANUP: rmed verbose=2 in oasis example,37fd0a5c6340d219dd149ec6bd1c59babf891090,
409,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-23 18:25:47,not resampling oasis in space net demo + doing only graph-net penalty,41586655259ceb8a3b2ede23416cdea9bb216a40,
410,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-24 13:30:36,DOC: mentioning oasis space net example in space_net.rst,74923aa47e11ff19c08c038caf23777fbd0c459e,
411,pull_request_commit,657,nilearn,nilearn,dohmatob,2015-07-28 15:59:31,return_raw_data=False by default + fix saying why Regressor and not Classifier is used in mixed gambles,3efa3c70e5209d97da880b587d1d5174b3fc2567,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,731,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:25:27,"tvl1_objective : make a docstring
",start issue,SpaceNet: doc
2,issue_closed,731,nilearn,nilearn,dohmatob,2015-07-31 10:54:41,,closed issue,SpaceNet: doc
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,732,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:26:21,"nilearn/decoding/tests/test_space_net.py:66

@eickenberg : For future: Still necessary when stopping support of sklearn 0.12?
@dohmatob : To be checked with travis.
",start issue,SpaceNet : unnecessary protected code
2,issue_closed,732,nilearn,nilearn,dohmatob,2015-07-29 11:31:25,,closed issue,SpaceNet : unnecessary protected code
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,635,nilearn,nilearn,dohmatob,2015-07-05 12:06:45,"Let SpaceNet (PR #219) examples integrate with the generated documentation. This means reformatting the examples' docstrings, etc.
",start issue,Let SpaceNet examples integrate with the generated documentation
2,issue_closed,635,nilearn,nilearn,dohmatob,2015-07-29 11:31:02,,closed issue,Let SpaceNet examples integrate with the generated documentation
3,issue_comment,635,nilearn,nilearn,dohmatob,2015-07-14 15:46:56,"![screenshot from 2015-07-14 17 44 34](https://cloud.githubusercontent.com/assets/634068/8677550/03459a98-2a50-11e5-99f8-fdb1813adc29.png)
",,
4,issue_comment,635,nilearn,nilearn,dohmatob,2015-07-14 16:12:57,"![screenshot from 2015-07-14 18 07 54](https://cloud.githubusercontent.com/assets/634068/8678192/7c1c75ba-2a53-11e5-9d49-d3ad1eb5f279.png)
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,569,nilearn,nilearn,AlexandreAbraham,2015-05-04 08:30:15,"Following the introduction of `iter_img`, the MultiNiftiMasker is even less useful than it used to be. It has a low added value and high maintenance cost as we should make one for each of the existing maskers.
",start issue,Remove MultiNiftiMasker
2,issue_closed,569,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:43:25,,closed issue,Remove MultiNiftiMasker
3,issue_comment,569,nilearn,nilearn,banilo,2015-06-24 13:53:30,"So everybody ok with me removing this class from nilearn?
",,
4,issue_comment,569,nilearn,nilearn,arthurmensch,2015-06-30 17:02:26,"I am using `MultiNiftiMasker` to load large datasets, it is especially useful as it provides seemless parallelization. Should we make it an option in `NiftiMasker` and add parallelization to `NiftiMasker` ?
",,
5,issue_comment,569,nilearn,nilearn,banilo,2015-07-01 12:09:06,"> I am using MultiNiftiMasker to load large datasets, it is especially useful as it provides seemless parallelization. Should we make it an option in NiftiMasker and add parallelization to NiftiMasker ?

Sounds good. Or even in some broader framework, add an iter_img-ish function that helps perform various image manipulations in a multi-process context...?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,708,nilearn,nilearn,lesteve,2015-07-17 17:15:48,"Just a FYI. Fixed in 9e7df66f5c771fd96019129e51a84f51430ec458.
",start issue,Bug in NiftiSpheresMasker with ndarray seeds
2,issue_closed,708,nilearn,nilearn,lesteve,2015-07-17 17:15:52,,closed issue,Bug in NiftiSpheresMasker with ndarray seeds
3,issue_comment,708,nilearn,nilearn,amadeuskanaan,2015-07-17 17:21:35,"good catch. 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,457,nilearn,nilearn,bcipolli,2015-02-23 18:01:33,"I expect a call to `cache` with default arguments to cache the result.  It does not.

The following code to cache does not cache:

``` python
from nilearn._utils.cache_mixin import cache

def my_fun(X, Y)
     return X + Y
Z = cache(my_fun, memory='nilearn_cache')(1, 1)
```

Instead, the call must be:

``` python
Z = cache(my_fun, memory='nilearn_cache', func_memory_level=1, memory_level=1)(1, 1)
```

I suggest tweaking the semantics of `func_memory_level`, such that if `func_memory_level is None`, everything gets cached.  Put it this way: if you call `cache` without specifying a `func_memory_level`, you always want it cached--rather, than _never_ cached.

Alternately, I would like the function to raise a warning if `func_memory_level is None`.  Since `func_memory_level is None` currently means the result will  _never_ be cached, it shouldn't have been wrapped at all.. and so clearly the user's confused about the design, and we can warn them.

I would be glad to submit a PR on this, but wanted to open things to discussion first.
",start issue,Caching is disabled with default args
2,issue_closed,457,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:40:52,,closed issue,Caching is disabled with default args
3,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-02-23 21:55:39,"> I expect a call to `cache` with default arguments to cache the result. It does not.

You don't expect but yet it is the expected behavior ;). We certainly don't want to cache things if the user does not explicitely specify it. The `cache` function is a helper function, it is here to avoid doing an `if` statement each time we have to call a function that can be cached. You can see it as a `joblib.Memory(cachedir=None)`.
",,
4,issue_comment,457,nilearn,nilearn,bcipolli,2015-02-23 22:00:47,"Using the `cache` function explicitly is the user specifying it.  Within the `nilearn` codebase, ``func_memory_level` is never `None`... or the call to `cache` should simply be removed, as no user input could ever cause anything to be cached.

It seems strange to have a case where you can have a case where you wrap something in `cache`, and it can never lead to cached results (when `func_memory_level` is `None`).  Why allow that?  Am I missing a use-case above?
",,
5,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-02-23 22:14:06,"`cache` is hidden in the `_utils` package and thus should not be called directly by the user. But I get your point, you say that `func_memory_level` should not be optional since caching is triggered by `memory` and `memory_level`.
OK, let's do it then ;).
",,
6,issue_comment,457,nilearn,nilearn,bcipolli,2015-02-23 22:25:39,"I guess I'm suggesting to make `cache` available to users, not an internal API.  Easy, ubiquitous caching is a great feature in `nilearn`, and making `cache` as a user function.

I am finding `cache` to be extremely useful.  It's interface is more consistent with how caching is done throughout `nilearn`, and makes for more concise code.  If it's too much trouble for users to pass a `joblib.Memory` object to functions, why ask them to use joblib to do any caching on their own?

Looking at the code again, I think setting both to zero by default is simplest and meaningful--if you call `cache` with no args, it means you want to cache it, always.  Adding `None` in the loop simply forces an extra check (`is None`) with no semantic addition.
",,
7,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-02-23 22:39:50,"To be honest, I have my own caching system. I don't know if we should expose that to the user since joblib should do the job.
",,
8,issue_comment,457,nilearn,nilearn,bcipolli,2015-02-23 22:50:26,"I think nilearn is doing something in-between.  On the one hand, it allows passing strings as a ""memory"", and there's some concern for allowing users to clear the cache (so cache management and abstracting away from joblib).  On the other hand, apparently `cache` is an internal function--so to cache any of their own stuff, users have to use joblib.

I'd like to see it become more consistent--either push users to joblib.Memory, or give them more succinct, abstracted alternatives.  My vote is to create a  `nilearn.caching` module and exposing `cache` to users, then make the `cache_mixin` class work on top of that.

(p.s. I just did it now, and it was 2 minutes of work).
",,
9,issue_comment,457,nilearn,nilearn,GaelVaroquaux,2015-02-24 12:27:56,"I agree. This is an internal stuff. And it is imported from a private sub package. I am not opposed to making it easier to understand / follow but that's more about changing names and api rather than changing behavior. The behavior is tailored to our internal needs. 

Sent from my phone. Please forgive brevity and mis spelling

On Feb 24, 2015, 11:26, at 11:26, Alexandre Abraham notifications@github.com wrote:

> To be honest, I have my own caching system. I don't know if we should
> expose that to the user since joblib should do the job.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/issues/457#issuecomment-75653464
",,
10,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-02-24 12:39:54,"@bcipolli yet raised a point that I agree with: `func_memory_level` should not be optional.
",,
11,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-02-24 12:41:40,"@bcipolli let's fix that. For the rest, there is an open issue about the caching system: #420.

I don't think that we can take a decision about that without user feedback.
",,
12,issue_comment,457,nilearn,nilearn,AlexandreAbraham,2015-03-16 13:05:55,"Quickly checked this one during lunch. In functions `nilearn.masking.compute_*_mask`, cache is called without memory level so the call is basically never cached. We should make memory levels mandatory and propagate in the code.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,659,nilearn,nilearn,amadeuskanaan,2015-07-14 09:49:53,"related to #646 
",start issue,adding get_parcellation_coordinates function
2,issue_closed,659,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:15:31,,closed issue,adding get_parcellation_coordinates function
3,pull_request_title,659,nilearn,nilearn,amadeuskanaan,2015-07-14 09:49:53,"related to #646 
",852776628ec09ff56fd30cb433c3a3eb0f56640e,adding get_parcellation_coordinates function
4,issue_comment,659,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:20:44,"@AlexandreAbraham : they are two different things: one is for hard parcellation, the other is for fuzzy altases.
",,
5,issue_comment,659,nilearn,nilearn,GaelVaroquaux,2015-07-15 12:01:26,"How about we just merge the 2 PRs together. I don't see a strong reason to have 2 PRs.
",,
6,issue_comment,659,nilearn,nilearn,amadeuskanaan,2015-07-14 13:55:12,"dict return should be in now. 
",,
7,issue_comment,659,nilearn,nilearn,lesteve,2015-07-14 15:22:18,"Also Travis is not passing in case you missed it.
",,
8,issue_comment,659,nilearn,nilearn,amadeuskanaan,2015-07-15 11:44:54,"not sure how to do that yet. please show me how. 
",,
9,issue_comment,659,nilearn,nilearn,amadeuskanaan,2015-07-15 12:05:47,"lets do that. 
",,
10,issue_comment,659,nilearn,nilearn,amadeuskanaan,2015-07-16 08:11:42,"yes. close this one in favor of #664
",,
11,pull_request_commit_comment,659,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:05:49,"Given that we don't know what are the values used to label regions, you may return a dictionary instead of a list.
",852776628ec09ff56fd30cb433c3a3eb0f56640e,"(None, '', u'nilearn/plotting/find_cuts.py')"
12,pull_request_commit_comment,659,nilearn,nilearn,GaelVaroquaux,2015-07-14 13:59:09,"> Given that we don't know what are the values used to label regions, you may
> return a dictionary instead of a list.

I'd rather not: this is to be used in combinaison of NiftiLabelsMasker,
to plot in a plot_connectome.

We could return a second list of labels ids.
",852776628ec09ff56fd30cb433c3a3eb0f56640e,"(None, '', u'nilearn/plotting/find_cuts.py')"
13,pull_request_commit_comment,659,nilearn,nilearn,lesteve,2015-07-14 15:21:17,"Both the scipy.ndimage and numpy imports are not needed since they are already imported above.
",852776628ec09ff56fd30cb433c3a3eb0f56640e,"(13, '', u'nilearn/plotting/find_cuts.py')"
14,pull_request_commit,659,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-14 09:46:49,added get_parcellation_coordinates function,1b8bfe813acf01cc0f09507aa26fa17b17dcba6e,
15,pull_request_commit,659,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-14 13:53:08,fixed to return dictionary with label regions and coords,9aa3f7132cb9d688fb015700a055e36769441b9b,
16,pull_request_commit,659,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-14 14:19:01,return labels and coords as separate lists,852776628ec09ff56fd30cb433c3a3eb0f56640e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:11:29,"Fix #611.
Supersedes #621.

I introduced a `dtype='auto'` in `check_niimg` that converts data to `int32` if it is integral and `float32` if it is real. I use it in the plotting functions so that we never end up with unsigned type. However, we are not protected from unsigned values given as threshold or vmax. I solved the current problem by casting explicitely the threshold to float but I don't know if it's the best way to do.
",start issue,Fix loading dtype for plotting functions.
2,issue_closed,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:22:31,,closed issue,Fix loading dtype for plotting functions.
3,pull_request_title,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:11:29,"Fix #611.
Supersedes #621.

I introduced a `dtype='auto'` in `check_niimg` that converts data to `int32` if it is integral and `float32` if it is real. I use it in the plotting functions so that we never end up with unsigned type. However, we are not protected from unsigned values given as threshold or vmax. I solved the current problem by casting explicitely the threshold to float but I don't know if it's the best way to do.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,Fix loading dtype for plotting functions.
4,pull_request_merged,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:22:31,Fix loading dtype for plotting functions.,7be1d410c2b86b8992999bbfd9b5c48bbcb90224,Pull request merge from AlexandreAbraham/nilearn:fix_uint8_bug to nilearn/nilearn:master
5,issue_comment,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 21:20:58,"@GaelVaroquaux I thought that this fix was included in 0.1.4. I'll create a milestone for the upcoming bugfixes.
",,
6,issue_comment,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 21:22:27,"Fuck, I forgot to merge it. Too many things happening in parallel at the sprint.

I think that I'll do another bugfix release.
",,
7,pull_request_commit_comment,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 10:27:46,"I think that what you are looking for is somethink like dtype.kind, which is 'f' for floating point types, and 'i' for integer types.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,"(15, '', u'nilearn/_utils/niimg.py')"
8,pull_request_commit_comment,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:50:26,"The dtype behavior definitely needs to be documented.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,"(49, '', u'nilearn/_utils/niimg.py')"
9,pull_request_commit_comment,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 12:51:06,"I think that I would like the dtype behavior documented here too.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,"(73, '', u'nilearn/_utils/niimg_conversions.py')"
10,pull_request_commit_comment,643,nilearn,nilearn,GaelVaroquaux,2015-07-13 13:15:28,"it's {dtype, ""auto""} as a type description. ""type"" is something different in Python.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
11,pull_request_commit_comment,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:06:26,"Fixed.

On Mon, Jul 13, 2015 at 3:15 PM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/_utils/niimg_conversions.py
> https://github.com/nilearn/nilearn/pull/643#discussion_r34460947:
> 
> > @@ -62,6 +62,11 @@ def _iter_check_niimg(niimgs, ensure_ndim=None, atleast_4d=False,
> > 
> > ```
> >  target_fov: tuple of affine and shape
> >     If specified, images are resampled to this field of view
> > ```
> > 
> > +
> > -    dtype: type
> 
> it's {dtype, ""auto""} as a type description. ""type"" is something different
> in Python.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/643/files#r34460947.
",9bb142cf75811b94662e8243c19ebcc6d58b7e01,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
12,pull_request_commit,643,nilearn,nilearn,lesteve,2015-06-29 14:16:49,Add test for threshold plotting bug with uint8 data,a5d38b1035a0adc42d834a250a5d1301869236cb,
13,pull_request_commit,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 10:03:59,Change dtytpe of the data when loading them for plotting,c2d4b80245ae12efa6c9e57656b066de5f7ac08d,
14,pull_request_commit,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:39:25,Use dtype.kind instead of dtype.type,8fbc432fec9fc18c26afe9dd346ccee86df98564,
15,pull_request_commit,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 12:59:47,Add docstring for dtype,9806da9d07131e6aa8dca13466398a1c6bc6847d,
16,pull_request_commit,643,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:05:39,Fix dtype type,9bb142cf75811b94662e8243c19ebcc6d58b7e01,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,605,nilearn,nilearn,AlexandreAbraham,2015-06-10 09:31:53,"Fix #602

For the moment, I added NITRC as an explicit mirror. The reason is that download is faster on the original URL from here.

It is open to discussion!
",start issue,Add a NITRC mirror for fetch_smith_2009
2,issue_closed,605,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:08:22,,closed issue,Add a NITRC mirror for fetch_smith_2009
3,pull_request_title,605,nilearn,nilearn,AlexandreAbraham,2015-06-10 09:31:53,"Fix #602

For the moment, I added NITRC as an explicit mirror. The reason is that download is faster on the original URL from here.

It is open to discussion!
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,Add a NITRC mirror for fetch_smith_2009
4,pull_request_merged,605,nilearn,nilearn,AlexandreAbraham,2015-07-06 17:08:22,Add a NITRC mirror for fetch_smith_2009,599ee72f700d832d2567c2ff3841514594988965,Pull request merge from AlexandreAbraham/nilearn:smith_2009_nitrc to nilearn/nilearn:master
5,pull_request_commit_comment,605,nilearn,nilearn,banilo,2015-06-11 13:39:52,"""the dataset"" missing
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
6,pull_request_commit_comment,605,nilearn,nilearn,banilo,2015-06-11 13:40:38,"""download from a mirror""?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
7,pull_request_commit_comment,605,nilearn,nilearn,KamalakerDadi,2015-06-11 13:50:12,"may be also ""downloaded from the original website"" ?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
8,pull_request_commit_comment,605,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:35:40,"Fixed.

On Thu, Jun 11, 2015 at 3:50 PM, KamalakerDadi notifications@github.com
wrote:

> In nilearn/datasets.py
> https://github.com/nilearn/nilearn/pull/605#discussion_r32221782:
> 
> > @@ -1001,6 +1002,10 @@ def fetch_smith_2009(data_dir=None, url=None, resume=True, verbose=1):
> >      data_dir: string, optional
> >          Path of the data directory. Use to forec data storage in a non-
> >          standard location. Default: None (meaning: default)
> > -    mirror: string, optional
> > -        By default, dataset is downloaded on the original website of the atlas.
> > -        Specifying ""nitrc"" will force download on a mirror, with potentially
> 
> may be also ""downloaded from the original website"" ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/605/files#r32221782.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(None, '', u'nilearn/datasets.py')"
9,pull_request_commit_comment,605,nilearn,nilearn,lesteve,2015-06-17 09:31:53,"would it not be more readable to have this inside the `if mirror == 'origin'` clause ?
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
10,pull_request_commit_comment,605,nilearn,nilearn,AlexandreAbraham,2015-06-17 09:34:36,"`url` can be user-defined.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
11,pull_request_commit_comment,605,nilearn,nilearn,lesteve,2015-06-17 11:40:36,"good point.
",7d66104753d063f61e087eccf9c93d9fdfb6e3dc,"(71, '', u'nilearn/datasets.py')"
12,pull_request_commit,605,nilearn,nilearn,AlexandreAbraham,2015-06-10 09:28:54,Add a NITRC mirror for fetch_smith_2009,44715a7dd02d455077c46bfd0d0c6b7aafd015a9,
13,pull_request_commit,605,nilearn,nilearn,AlexandreAbraham,2015-06-11 12:40:11,Fix typo,2f8e1693da28fb9daef77dee820ce5df14373559,
14,pull_request_commit,605,nilearn,nilearn,AlexandreAbraham,2015-06-11 14:40:12,Fix doc,7d66104753d063f61e087eccf9c93d9fdfb6e3dc,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,727,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:17:15,"Document the `init` parameter in function mfista.
",start issue,SpaceNet: mfista doc
2,issue_closed,727,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:50:42,,closed issue,SpaceNet: mfista doc
3,issue_comment,727,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:50:42,"Yeah, sorry, I c/ced a fixed comment.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,734,nilearn,nilearn,dohmatob,2015-07-29 07:29:28,"Fix #724.
",start issue,[MRG+1] Fixing some minor SpaceNet issues (post-merge era)
2,issue_closed,734,nilearn,nilearn,lesteve,2015-07-29 08:29:21,,closed issue,[MRG+1] Fixing some minor SpaceNet issues (post-merge era)
3,pull_request_title,734,nilearn,nilearn,dohmatob,2015-07-29 07:29:28,"Fix #724.
",8412f2bb99a64c861f986d6bc4924acc81307329,[MRG+1] Fixing some minor SpaceNet issues (post-merge era)
4,pull_request_merged,734,nilearn,nilearn,lesteve,2015-07-29 08:29:21,[MRG+1] Fixing some minor SpaceNet issues (post-merge era),8d9d92d76df8e84a9e16d07c7f9560daf652e296,Pull request merge from dohmatob/nilearn:fix-pr to nilearn/nilearn:master
5,pull_request_commit,734,nilearn,nilearn,dohmatob,2015-07-29 07:25:43,CLEANUP: smooth*lasso ==> graph net,8412f2bb99a64c861f986d6bc4924acc81307329,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,489,nilearn,nilearn,GaelVaroquaux,2015-03-05 16:15:53,"The IPython one is pretty good: very simple and easy to read!

http://ipython.org/install.html
",start issue,Improve install page
2,issue_closed,489,nilearn,nilearn,AlexandreAbraham,2015-07-17 12:25:31,,closed issue,Improve install page
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,684,nilearn,nilearn,MartinPerez,2015-07-16 09:16:17,"When you click on the ""searchlight"" link located on the right corner of the banner in the webpage, it leads to page not found.
",start issue,Website banner right corner searchlight link broken
2,issue_closed,684,nilearn,nilearn,lesteve,2015-07-20 06:36:55,,closed issue,Website banner right corner searchlight link broken
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,620,nilearn,nilearn,banilo,2015-06-28 09:38:22,"Attempts to fix #569
",start issue,[WIP] Remove MultiNiftiMasker
2,issue_closed,620,nilearn,nilearn,GaelVaroquaux,2015-07-16 14:14:51,,closed issue,[WIP] Remove MultiNiftiMasker
3,pull_request_title,620,nilearn,nilearn,banilo,2015-06-28 09:38:22,"Attempts to fix #569
",f4ace8e65bb4cccebb4fd2f630e27547596e0796,[WIP] Remove MultiNiftiMasker
4,issue_comment,620,nilearn,nilearn,banilo,2015-07-16 14:09:58,"Ok, let's close it.

2015-07-16 16:09 GMT+02:00 Alexandre Abraham notifications@github.com:

> I think that most of people agree that this is not going to happen. Should
> we close it?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/620#issuecomment-121967696.

## 

Viele Grüße,
Danilo
",,
5,pull_request_commit,620,nilearn,nilearn,banilo,2015-06-27 09:19:32,mnm: 1 step,929295c5d6b78ac5e29ec00bd20a49c0d5dfc53f,
6,pull_request_commit,620,nilearn,nilearn,banilo,2015-06-27 10:28:20,remove MNM from Miyawaki example,c396e0befd62f9f86de737e47cac2989d07e8c28,
7,pull_request_commit,620,nilearn,nilearn,banilo,2015-06-28 09:36:35,remove MNM from MultiPCA/CanICA,f4ace8e65bb4cccebb4fd2f630e27547596e0796,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,729,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:20:55,"nilearn/decoding/space_net_solvers.py:81
@bthirion : gradient of squared_loss_and_spatial_grad
",start issue,SpaceNet: doc of the returned object
2,issue_closed,729,nilearn,nilearn,dohmatob,2015-07-31 10:55:09,,closed issue,SpaceNet: doc of the returned object
3,issue_comment,729,nilearn,nilearn,dohmatob,2015-07-31 10:55:09,"Fixed.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,724,nilearn,nilearn,AlexandreAbraham,2015-07-28 22:13:08,"I remembered a comment about graph-net / smooth-lasso. I can see both in the doc. Is there something to do about that?
",start issue,SpaceNet: Smooth-lasso vs graph-net
2,issue_closed,724,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:49:00,,closed issue,SpaceNet: Smooth-lasso vs graph-net
3,issue_comment,724,nilearn,nilearn,eickenberg,2015-07-28 22:17:25,"smooth-lasso was supposed to be removed everywhere iirc

On Wednesday, July 29, 2015, Alexandre Abraham notifications@github.com
wrote:

> I remembered a comment about graph-net / smooth-lasso. I can see both in
> the doc. Is there something to do about that?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/724.
",,
4,issue_comment,724,nilearn,nilearn,AlexandreAbraham,2015-07-29 08:43:35,"I'll fix the rest by pushing into master :rage4: 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:18:59,"Fix #668 

@AlexandreAbraham @lesteve please review
",start issue,[MRG] BUG: fix doc tests
2,issue_closed,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:27:39,,closed issue,[MRG] BUG: fix doc tests
3,pull_request_title,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:18:59,"Fix #668 

@AlexandreAbraham @lesteve please review
",b843145311abb888be8249a66936d3bc652cbdea,[MRG] BUG: fix doc tests
4,pull_request_merged,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:27:39,[MRG] BUG: fix doc tests,8d7cc615c2bc4dd4c0f4adb54ea4fbbe78a8fba3,Pull request merge from GaelVaroquaux/nilearn:fix_668 to nilearn/nilearn:master
5,issue_comment,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:20:42,"Waiting for travis before merge.
",,
6,issue_comment,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:27:36,"Tests passed. Merging.
",,
7,issue_comment,672,nilearn,nilearn,AlexandreAbraham,2015-07-15 10:20:03,":+1:
",,
8,pull_request_commit,672,nilearn,nilearn,GaelVaroquaux,2015-07-15 10:17:51,"BUG: fix doc tests

Fix #668",b843145311abb888be8249a66936d3bc652cbdea,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,697,nilearn,nilearn,banilo,2015-07-16 17:32:03,"Back to the future of #647
",start issue,Migrate dataset code - episode II
2,issue_closed,697,nilearn,nilearn,GaelVaroquaux,2015-07-17 15:26:46,,closed issue,Migrate dataset code - episode II
3,pull_request_title,697,nilearn,nilearn,banilo,2015-07-16 17:32:03,"Back to the future of #647
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,Migrate dataset code - episode II
4,pull_request_merged,697,nilearn,nilearn,GaelVaroquaux,2015-07-17 15:26:46,Migrate dataset code - episode II,30af2d42fc45234d661a99d7f639bec9349d0cd3,Pull request merge from banilo/nilearn:migrate_ds_code2 to nilearn/nilearn:master
5,issue_comment,697,nilearn,nilearn,GaelVaroquaux,2015-07-17 12:25:27,"Your tests are failing.
",,
6,issue_comment,697,nilearn,nilearn,GaelVaroquaux,2015-07-17 15:26:13,"Merging! Thanks
",,
7,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 08:54:37,"The only thing left is to rebase on master.
",,
8,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:05:43,"Sorry, I missed that! @GaelVaroquaux can we merge or do you have comments on the organization?
",,
9,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:20:03,"Well, I'm afraid I'll have to wait for the approval of the octocat :-/
",,
10,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:35:27,":octocat: not happy!

```
Traceback (most recent call last):
  File ""/home/ubuntu/nilearn/doc/sphinxext/sphinxgallery/gen_rst.py"", line 508, in generate_file_rst
    execfile(os.path.basename(src_file), my_globals)
  File ""plot_nilearn_101.py"", line 10, in <module>
    from nilearn import data
ImportError: cannot import name data
```

Oh noes! :octocat: devours :hamster: out of revenge because he was summoned in a broken PR!
",,
11,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:48:44,"A special commission leaded by :shipit: is currently investigating your request.
",,
12,issue_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 14:31:38,"Now you only need to address the last comments.
",,
13,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 08:39:46,"Travis is happy, but coveralls complains (we did not so much change the amount of code, but mainly the code structure).
",,
14,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 08:56:34,"> The only thing left is to rebase on master.

I just did 5mins ago.
",,
15,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 09:07:25,"Gael said we can merge as soon as you, Alex, agree.
",,
16,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 09:11:13,":hamster: Merge this very nice PR!
:imp: Hamster is right, there are now flaws left.
:rabbit: This is art!
",,
17,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 09:38:00,"> Oh noes

:octopus: sitting on :racehorse: ramping over :octocat: 

Ok, how do I fix this? By editing gen_rst.py with `from nilearn.datasets import data`?
",,
18,issue_comment,697,nilearn,nilearn,banilo,2015-07-17 09:43:15,":v: 
",,
19,pull_request_commit_comment,697,nilearn,nilearn,lesteve,2015-07-17 13:16:03,"Any reason why you put the import here and not at the top of the file?
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/_utils/testing.py')"
20,pull_request_commit_comment,697,nilearn,nilearn,lesteve,2015-07-17 13:16:38,"Also we want to always use relative imports for the nilearn ones.
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/_utils/testing.py')"
21,pull_request_commit_comment,697,nilearn,nilearn,lesteve,2015-07-17 13:19:17,"Just put `'*'` rather than `'*.*'`
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'setup.py')"
22,pull_request_commit_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:43:19,":+1: 
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/_utils/testing.py')"
23,pull_request_commit_comment,697,nilearn,nilearn,AlexandreAbraham,2015-07-17 13:44:24,"This is not python 3 compatible + output are super annoying when running tests.
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
24,pull_request_commit_comment,697,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:22:01,"This should be named ho_dir: capitals are for classes.
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
25,pull_request_commit_comment,697,nilearn,nilearn,lesteve,2015-07-17 14:26:59,"Doing

``` python
from ..datasets.utils import _fetch_files
```

at the top of your files seems to work fine for me.
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/_utils/testing.py')"
26,pull_request_commit_comment,697,nilearn,nilearn,lesteve,2015-07-17 14:28:57,"Also you now have an usused import on line 20.
",2518d3b3616f8d636e1ccd1fac681f19e8f6718e,"(None, '', u'nilearn/_utils/testing.py')"
27,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-13 14:05:40,migrated dataset code,a3ec4ceff04b67c3169ee1c679e8970d071e3b1d,
28,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-13 14:13:08,del old dataset files,b84850fb08f7d3c0d96a852954c3561696602156,
29,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-13 16:05:03,handle namespace problem,60628a0faf188c86bc8c9d7cda1b069749239e04,
30,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-13 16:30:58,Add test files,b2b70a477dd35e5ace122aa5dcb296178e2e4913,
31,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-15 12:24:39,improve style,7b578a628d2d43cf65cfa0773ff4d48ba8323c66,
32,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-15 12:42:23,update setup.py,e2410f5312588416c6db1476750523c17a77c556,
33,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-16 13:24:32,solve encoding issues,dbb0f7d3b8ae86e0e7a0a320cd594ae6d14425e1,
34,pull_request_commit,697,nilearn,nilearn,AlexandreAbraham,2015-07-16 16:39:04,Fix tests,e3dd1f714f19d930665c83bf0e4921b8fbf993cd,
35,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-17 09:41:50,fixed example,dd8db9debeb00429d4551e518d14c31f164f722b,
36,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-17 10:15:56,added init to nilearn.datasets.tests,becf6117ab51ff241c4aaa19823f7f9f6ff021b5,
37,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-17 13:26:28,update package data,5da45c68c718a732c8bccf8ccf63b4e14017b8a6,
38,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-17 13:47:52,cleanup tests,f5797a545a0bb3eeb2308e45c620131baffd2efc,
39,pull_request_commit,697,nilearn,nilearn,banilo,2015-07-17 14:43:20,integrated Loics+Gaels comments,2518d3b3616f8d636e1ccd1fac681f19e8f6718e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,650,nilearn,nilearn,bcipolli,2015-07-13 15:12:45,"Basic authentication exposes username/password as unencrypted (base64 encoded, which has no encryption). Because of this, it is only appropriate to send over secure connections (HTTPS).

In the current code, I don't believe there is any such check:
 https://github.com/nilearn/nilearn/blob/b89a84aa9790651c27e02c738623c8086b637589/nilearn/datasets.py#L498

I suggest making that check :)
",start issue,Basic authentication header should only be sent using HTTPS
2,issue_closed,650,nilearn,nilearn,AlexandreAbraham,2015-07-21 14:13:14,,closed issue,Basic authentication header should only be sent using HTTPS
3,issue_comment,650,nilearn,nilearn,GaelVaroquaux,2015-07-13 15:19:53,"Sounds good to me!

Gaël
",,
4,issue_comment,650,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:47:20,"You are totally right.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,584,nilearn,nilearn,banilo,2015-05-12 11:09:41,"Trying to iterate through 18749 nifti images with individual resample_img calls on a computer cluster.

``` python
transf_data = np.zeros((nfiles, nvox))
for i, fpath in enumerate(paths):
    print i
    cur_nii = resample_img(fpath, target_affine=masknii.get_affine(), target_shape=masknii.shape)
    transf_data[i, :] = masker.transform(cur_nii)[0, :]
```

I got a ""too many open files"" error with the following traceback:

```
Traceback (most recent call last):
  File ""prepdata.py"", line 37, in <module>
    niis4d = check_niimg(paths)
  File ""/storage/workspace/danilo/nilearn/nilearn/_utils/niimg_conversions.py"", line 147, in check_niimg
    return concat_niimgs(niimg, ensure_ndim=ensure_ndim)
  File ""/storage/workspace/danilo/nilearn/nilearn/_utils/niimg_conversions.py"", line 307, in concat_niimgs
    memory=memory, memory_level=memory_level))):
  File ""/storage/workspace/danilo/nilearn/nilearn/_utils/niimg_conversions.py"", line 71, in _iter_check_niimg
    niimg, ensure_ndim=ndim_minus_one, atleast_4d=atleast_4d)
  File ""/storage/workspace/danilo/nilearn/nilearn/_utils/niimg_conversions.py"", line 158, in check_niimg
    data = niimg.get_data().view()
  File ""/usr/lib/pymodules/python2.7/nibabel/spatialimages.py"", line 341, in get_data
    return np.asanyarray(self._data)
  File ""/usr/lib/python2.7/dist-packages/numpy/core/numeric.py"", line 512, in asanyarray
    return array(a, dtype, copy=False, order=order, subok=True)
  File ""/usr/lib/pymodules/python2.7/nibabel/arrayproxy.py"", line 55, in __array__
    self._data = self._read_data()
  File ""/usr/lib/pymodules/python2.7/nibabel/arrayproxy.py"", line 60, in _read_data
    data = self.header.data_from_fileobj(fileobj)
  File ""/usr/lib/pymodules/python2.7/nibabel/analyze.py"", line 486, in data_from_fileobj
    data = self.raw_data_from_fileobj(fileobj)
  File ""/usr/lib/pymodules/python2.7/nibabel/analyze.py"", line 458, in raw_data_from_fileobj
    return array_from_file(shape, dtype, fileobj, offset)
  File ""/usr/lib/pymodules/python2.7/nibabel/volumeutils.py"", line 474, in array_from_file
    offset=offset)
  File ""/usr/lib/python2.7/dist-packages/numpy/core/memmap.py"", line 254, in __new__
    mm = mmap.mmap(fid.fileno(), bytes, access=acc, offset=start)
mmap.error: [Errno 24] Too many open files
```
",start issue,resample_img() might not properly handle file handles
2,issue_closed,584,nilearn,nilearn,AlexandreAbraham,2015-06-22 15:37:56,,closed issue,resample_img() might not properly handle file handles
3,issue_comment,584,nilearn,nilearn,AlexandreAbraham,2015-05-13 14:23:51,"Could you try:

``` python
transf_data = np.zeros((nfiles, nvox))
for i, fpath in enumerate(paths):
    print i
    cur_nii = resample_img(fpath, target_affine=masknii.get_affine(), target_shape=masknii.shape)
    transf_data[i, :] = masker.transform(cur_nii)[0, :].copy()
```
",,
4,issue_comment,584,nilearn,nilearn,AlexandreAbraham,2015-06-01 07:58:17,"Tried to reproduce your bug but couldn't... This may be Mac OS specific.
",,
5,issue_comment,584,nilearn,nilearn,AlexandreAbraham,2015-06-02 23:51:47,"Just a thought... Is it possible that your file handler is kept open because your niftis are not garbage collected? Could you call `gc.collect()` in your loop and see if it fixes the problem?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,737,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:29:43,"I would like to add a ""Quality"" label to the issues because we have no label to target things like improvement of error messages.
",start issue,New label: quality
2,issue_closed,737,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:43:39,,closed issue,New label: quality
3,issue_comment,737,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:43:39,"Cool!
",,
4,issue_comment,737,nilearn,nilearn,AlexandreAbraham,2015-07-29 11:48:57,"Sidenote: for the next sprint, it think it would be crucial to have a team working on quality / benchs.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,593,nilearn,nilearn,banilo,2015-05-20 18:02:47,"attempts to fix #566
",start issue,[MRG] port new_img_like to nilearn/image
2,issue_closed,593,nilearn,nilearn,GaelVaroquaux,2015-07-16 06:18:47,,closed issue,[MRG] port new_img_like to nilearn/image
3,pull_request_title,593,nilearn,nilearn,banilo,2015-05-20 18:02:47,"attempts to fix #566
",cdc1587474cfeb9a1f24be2221da7142165cb500,[MRG] port new_img_like to nilearn/image
4,pull_request_merged,593,nilearn,nilearn,GaelVaroquaux,2015-07-16 06:18:47,[MRG] port new_img_like to nilearn/image,8d298448535bc9e1f4ee2c8edd65173330a9577a,Pull request merge from banilo/nilearn:expose_new_img_like to nilearn/nilearn:master
5,issue_comment,593,nilearn,nilearn,banilo,2015-05-20 18:03:32,"Two remarks:
a) Just ported the function to image for new
b) will do the other aspects soon
",,
6,issue_comment,593,nilearn,nilearn,banilo,2015-05-22 19:34:04,"Simple exposure, as suggest by Gael, appears to work better.
",,
7,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-05-22 23:11:31,"I don't think that introducing anti-patterns at such an early stage in a software is the way to go.
",,
8,issue_comment,593,nilearn,nilearn,GaelVaroquaux,2015-05-22 23:12:06,"> I don't think that introducing anti-patterns at such an early stage in a
> software is the way to go.

What do you mean?
",,
9,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-05-26 11:26:35,"I don't like to import code in one module from a totally different one. In particular because it is less intuitive for developers. For me, this reveals a flow in the architecture of the software itself (hence the term anti-pattern). I would prefer to put it in a submodule of image for example.
",,
10,issue_comment,593,nilearn,nilearn,eickenberg,2015-05-26 11:29:25,"then again, the `image` module, up until now, to me, felt more like a
collection of tools to work on the voxel+affine level, e.g. smoothing,
cropping, resampling

On Tue, May 26, 2015 at 1:26 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> I don't like to import code in one module from a totally different one. In
> particular because it is less intuitive for developers. For me, this
> reveals a flow in the architecture of the software itself (hence the term
> anti-pattern). I would prefer to put it in a submodule of image for example.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/593#issuecomment-105493668.
",,
11,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-05-26 11:34:51,"Maybe we need to do a discussion and design the package to integrate forthcoming features (because I guess that check_niimg may also become public in a near future).
",,
12,issue_comment,593,nilearn,nilearn,banilo,2015-06-09 14:56:42,"Ok for the argument swapping.

But I am wondering about the optimal affine argument idea: Do you mean that we only checked for matching shape in case no affine is specified?
",,
13,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-06-09 19:52:39,"> Ok for the argument swapping.

We agreed not to swap.

> Do you mean that we only checked for matching shape in case no affine is specified?

Yes, we suppose that the affine of the reference image is also the one of the resulting image. For me, it is always the case.
",,
14,issue_comment,593,nilearn,nilearn,banilo,2015-06-11 13:18:31,"Alright..
",,
15,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-06-11 13:24:56,"Shouldn't we support niimg instead of img? User may want to do that with filenames.
",,
16,issue_comment,593,nilearn,nilearn,banilo,2015-06-12 09:09:10,"> Shouldn't we support niimg instead of img? User may want to do that with filenames

You mean add ""check_niimg_3D""?
",,
17,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:18:44,"Yes, do a wrapper around the existing function and calling `check_niimg` (we don't have dimension restriction).
",,
18,issue_comment,593,nilearn,nilearn,lesteve,2015-06-12 09:25:48,"> Shouldn't we support niimg instead of img? User may want to do that with filenames.

Is it really that useful? It feels to me that you generally load the data from the file before transforming it and using new_img_like.
",,
19,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-06-12 09:34:49,"> Is it really that useful

For us, it is not since we do proper checking before calling it so calling it again is spurious. For the users, it is a small cost and it will in particular do all proper checking regarding the type of the image. For the moment, the function clearly lacks of error handling.
",,
20,issue_comment,593,nilearn,nilearn,banilo,2015-06-24 13:55:27,"So what did we exactly agree on?
",,
21,issue_comment,593,nilearn,nilearn,banilo,2015-06-27 08:56:45,"How about now?
",,
22,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-06-28 22:08:45,"You didn't add a wrapper but modified the original function. For some functions, we have an internal version (optimized, straight to the point) and for other we have expose version (with error handling). This is the case for `index_img` for example. I think you should not modify the original function but create another one that does `check_niimg` and calls `new_img_like`.

Anybody else to comment that choice?
",,
23,issue_comment,593,nilearn,nilearn,banilo,2015-07-14 12:01:35,"In response to Alex' comments, I restored the the original code we had that raised a circular import

``` python

---------------------------------------------------------------------------
ImportError                               Traceback (most recent call last)
<ipython-input-1-398362f15096> in <module>()
----> 1 from nilearn.image import new_img_like

/git/nilearn/nilearn/image/__init__.py in <module>()
      3 data, and an affine.
      4 """"""
----> 5 from .resampling import resample_img, reorder_img
      6 from .image import high_variance_confounds, smooth_img, crop_img, \
      7     mean_img, swap_img_hemispheres, index_img, iter_img

/git/nilearn/nilearn/image/resampling.py in <module>()
     13 from scipy import ndimage, linalg
     14 
---> 15 from .. import _utils
     16 from .._utils import new_img_like
     17 from .._utils.compat import _basestring

/git/nilearn/nilearn/_utils/__init__.py in <module>()
      1 
----> 2 from .niimg_conversions import (check_niimg, check_niimg_3d, concat_niimgs,
      3     check_niimg_4d)
      4 
      5 from .niimg import _repr_niimgs, copy_img

/git/nilearn/nilearn/_utils/niimg_conversions.py in <module>()
     12 from .cache_mixin import cache
     13 from .niimg import _safe_get_data, load_niimg
---> 14 from ..image import new_img_like
     15 from .compat import _basestring
     16 

ImportError: cannot import name new_img_like

```

The only option I see right now would be to make several imports in _utils local.
",,
24,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-14 12:33:50,"The solutions I see.

Option 1 : refactoring (my favorite)
- leave `new_img_like`, `index_img` and `index_img` in `image.py`
- evacuate other functions in `image/process.py` or something since they are explictely modifying the image.

Option 2 : local import
- import `reorder_img` locally in `swap_img_hemispheres` to avoid the circular import. This is the local import option that makes most sense to me.
",,
25,issue_comment,593,nilearn,nilearn,banilo,2015-07-14 14:15:45,"I would like to do Option 2.

2015-07-14 14:33 GMT+02:00 Alexandre Abraham notifications@github.com:

> The solutions I see.
> 
> Option 1 : refactoring (my favorite)
> - leave new_img_like, index_img and index_img in image.py
> - evacuate other functions in image/process.py or something since they
>   are explictely modifying the image.
> 
> Option 2 : local import
> - import reorder_img locally in swap_img_hemispheres to avoid the
>   circular import. This is the local import option that makes most sense to
>   me.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/593#issuecomment-121225949.

## 

Viele Grüße,
Danilo
",,
26,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-14 14:22:56,"That's just because I said that I prefer the first one, right?
",,
27,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-14 23:13:00,"You won @banilo, I give up! I still see two options and I don't like both of them:
- leave `new_img_like` in `_utils` and import it from there
- move `new_img_like` to `image` but make all imports of `new_img_like` local in `niimg_conversion`.

Well, I would be in favor of option 1.

Sorry for wasting your time, I really thought that we could find a cleaner solution :-/.
",,
28,issue_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:01:05,"Minor remark. :+1: 
",,
29,issue_comment,593,nilearn,nilearn,lesteve,2015-07-15 15:13:23,"Wow capital letters, have you looked at the Travis build status ?
",,
30,issue_comment,593,nilearn,nilearn,banilo,2015-07-15 14:55:35,"_WORKING_
",,
31,issue_comment,593,nilearn,nilearn,banilo,2015-07-15 14:55:42,"_NOW_
",,
32,issue_comment,593,nilearn,nilearn,banilo,2015-07-16 06:06:07,"> Minor remark

Addressed! We should be ready to go now.
",,
33,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-05-21 11:51:37,"Too many delayed imports is a sign of bad software design. First, you should not delay the import here but delay the import of masking in the image module, since it's used only one time. You should also check if there is a way to avoid these delayed imports by refactoring some code.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/masking.py')"
34,pull_request_commit_comment,593,nilearn,nilearn,banilo,2015-05-21 12:56:19,"I did this because there appeared to be many circular imports when directly importing at the topic in the lower level scripts.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/masking.py')"
35,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-05-21 14:25:21,"My remark still holds. Too much delayed import is bad.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/masking.py')"
36,pull_request_commit_comment,593,nilearn,nilearn,bthirion,2015-05-21 21:40:57,"Sorry if I am dumb, but why are you importing a function from this module ?
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/image.py')"
37,pull_request_commit_comment,593,nilearn,nilearn,banilo,2015-05-22 18:52:55,"My bad...
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/image.py')"
38,pull_request_commit_comment,593,nilearn,nilearn,banilo,2015-05-22 19:01:18,"if I make this import global (that is, only in masking.py), nosetests gives me 15 errors due to circular imports.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/masking.py')"
39,pull_request_commit_comment,593,nilearn,nilearn,banilo,2015-05-22 19:11:51,"making these imports global gives 15 errors due to circular imports, too
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/resampling.py')"
40,pull_request_commit_comment,593,nilearn,nilearn,GaelVaroquaux,2015-05-22 19:14:52,"> > -    from .image import new_img_like
> 
> making these imports global gives 15 errors due to circular imports, too

This tells me that new_img_like should probably be defined in utils, and
imported in places where it's used (including image to expose it).

Other option is to always import it from image.image in the codebase. I
think that this might solve the circular import problems.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/resampling.py')"
41,pull_request_commit_comment,593,nilearn,nilearn,banilo,2015-05-22 19:18:23,"So we stay in _utils with new_img_like, yet expose it in image/image.py on
the __init__-level?

2015-05-22 21:14 GMT+02:00 Gael Varoquaux notifications@github.com:

> In nilearn/image/resampling.py
> https://github.com/nilearn/nilearn/pull/593#discussion_r30923273:
> 
> > @@ -340,6 +339,8 @@ def resample_img(img, target_affine=None, target_shape=None,
> >      This function handles gracefully NaNs and infinite values in the input
> >      data, however they make the execution of the function much slower.
> >      """"""
> > -    from .image import new_img_like
> > - from .image import new_img_like making these imports global gives 15
> >   errors due to circular imports, too
> >   This tells me that new_img_like should probably be defined in utils, and
> >   imported in places where it's used (including image to expose it). Other
> >   option is to always import it from image.image in the codebase. I think
> >   that this might solve the circular import problems.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/593/files#r30923273.

## 

Viele Grüße,
Danilo
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/resampling.py')"
42,pull_request_commit_comment,593,nilearn,nilearn,GaelVaroquaux,2015-05-22 19:20:17,"> So we stay in _utils with new_img_like, 

We can try doing the internal imports from image.image to see if it
solves the problem (add a comment saying that this is to avoid circular
imports).
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/resampling.py')"
43,pull_request_commit_comment,593,nilearn,nilearn,lesteve,2015-06-25 07:08:53,"Shouldn't affine be None by default in the arguments?
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/_utils/niimg.py')"
44,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-13 15:52:16,"I think refactoring is better that local import. Plus, you don't use it.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/_utils/niimg.py')"
45,pull_request_commit_comment,593,nilearn,nilearn,GaelVaroquaux,2015-07-14 07:28:52,"Can you be more explicit: what refactoring are you suggesting exactly (I am asking to make it more clear what need to be done on the PR before merging).
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/_utils/niimg.py')"
46,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-14 07:38:30,"Create one function, having one that call another is useless. Use `load_img` and not `check_niimg` (we want to load the data if it's a filename, we don't want to load list of niimgs). If it must be released, move that code to the image module. That's how I see it.
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/_utils/niimg.py')"
47,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:00:13,", optional
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/image.py')"
48,pull_request_commit_comment,593,nilearn,nilearn,AlexandreAbraham,2015-07-15 20:00:29,"Maybe elaborate a little bit?
",cdc1587474cfeb9a1f24be2221da7142165cb500,"(None, '', u'nilearn/image/image.py')"
49,pull_request_commit,593,nilearn,nilearn,banilo,2015-05-22 19:31:03,simple exposure of new_img_like,8392c02c806a4e488e04a3d42d612d0060332ae8,
50,pull_request_commit,593,nilearn,nilearn,banilo,2015-06-11 13:15:09,new_img_like: make affine optional,9702879c4ee2218a19c961c03fb70cca7fa039c5,
51,pull_request_commit,593,nilearn,nilearn,banilo,2015-06-27 08:56:00,new_img_like: niimg compat,f49328dbe3361efb8a5c7094bb2dde53c6bb090c,
52,pull_request_commit,593,nilearn,nilearn,banilo,2015-06-29 19:08:01,added wrapper,de2a4664ddadf76b32651c13b2b24715414bf27d,
53,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-14 11:51:12,restore circular import,8a5f35ea5d2329072bfff9094aa349dd6497484a,
54,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-15 11:31:32,iterm,a2b25170a91938c4e6fdb45792bf827560f6af93,
55,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-15 14:46:10,fix im/exports,a368c454acca72514badfb798bc8883fef41e817,
56,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-15 16:43:43,update setup.py,888ee31bdf2e9dbbb0e0d018a69cab26eb8c6d0d,
57,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-15 17:02:20,add missing init file,2d99112d13f6f48115b86dd17cb9688fd93eb9ec,
58,pull_request_commit,593,nilearn,nilearn,banilo,2015-07-16 06:17:10,cosmit,cdc1587474cfeb9a1f24be2221da7142165cb500,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,625,nilearn,nilearn,GaelVaroquaux,2015-07-02 09:53:36,"This issue a discussion thread for the 2015 sprint. It's meant to act as a mailing list thread, and not an actual issue leading to code. It will be closed after the sprint.

Related is the wiki page for the sprint: https://github.com/nilearn/nilearn/wiki/July-2015-sprint
",start issue,July 2015 sprint: organization
2,issue_closed,625,nilearn,nilearn,lesteve,2015-07-20 06:37:46,,closed issue,July 2015 sprint: organization
3,issue_comment,625,nilearn,nilearn,GaelVaroquaux,2015-07-02 10:00:47,"One thing that we should do ASAP, is a bit of issue triaging / labeling. To have a more clear picture of what people can work on. In particular attributing the 'Easy' label to what is easy.
",,
4,issue_comment,625,nilearn,nilearn,AlexandreAbraham,2015-07-02 10:43:12,"I suggest that we create a ""2015_july_sprint"" label or milestone to
properly tag the issues.

On Thu, Jul 2, 2015 at 12:00 PM, Gael Varoquaux notifications@github.com
wrote:

> One thing that we should do ASAP, is a bit of issue triaging / labeling.
> To have a more clear picture of what people can work on. In particular
> attributing the 'Easy' label to what is easy.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/625#issuecomment-117986951.
",,
5,issue_comment,625,nilearn,nilearn,GaelVaroquaux,2015-07-02 12:58:23,"> I suggest that we create a ""2015_july_sprint"" label or milestone to
> properly tag the issues.

I created a milestone for that
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,667,nilearn,nilearn,arthurmensch,2015-07-14 17:18:42,"Version packaged in neurodebian repository for ubuntu 12.04 is 0.14.1. I think we should drop compatibility
",start issue,Drop sklearn 0.12 compatibility
2,issue_closed,667,nilearn,nilearn,lesteve,2015-07-16 09:42:11,,closed issue,Drop sklearn 0.12 compatibility
3,issue_comment,667,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:12:48,"Let's do it!

YeaaaaAAAAAh!
",,
4,issue_comment,667,nilearn,nilearn,GaelVaroquaux,2015-07-16 08:37:08,"https://www.youtube.com/watch?v=KFP9VChYl0E
",,
5,issue_comment,667,nilearn,nilearn,lesteve,2015-07-14 19:49:51,"The rationale for scikit-learn 0.12.1 was given [here](https://github.com/nilearn/nilearn/pull/397#issuecomment-73740450) by @GaelVaroquaux:

> >  In particular does scikit-learn 0.12.1 have a special meaning?
> 
> No. It's a configuration that's 2 years old, and we felt that 2 years old
> was a good time.

Personally I am always in favour of dropping support for old versions but I doubt anything has changed significantly since last February ...
",,
6,issue_comment,667,nilearn,nilearn,lesteve,2015-07-16 08:20:38,"Woohoooo !
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,626,nilearn,nilearn,AlexandreAbraham,2015-07-02 13:11:18,"`datasets.py` has had such a success that it has grown into a 2700+ lines file. However, we had no convention and finding the dataset we want is a bit tedious.

A first step twoard usability has been made in #610. All atlas fetching functions are now starting with `fetch_atlas` and the old ones are still working but raise a warning when they're called.
",start issue,Reorganize datasets.py into submodules
2,issue_closed,626,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:48:29,,closed issue,Reorganize datasets.py into submodules
3,issue_comment,626,nilearn,nilearn,banilo,2015-07-13 14:30:43,"cf. #647 
",,
4,issue_comment,626,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:48:29,"Closed by #697.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,367,nilearn,nilearn,lesteve,2015-01-23 09:41:26,"- scikit-learn 0.10 is required by nilearn/version.py and the nilearn tests pass with 0.10 on Travis
- README.rst says 0.12.1 is required (looking at git history this is probably because at one point at least one example needed 0.12.1 to run)
- to be able to run all the examples, scikit-learn 0.14.1 is required

My question is:
- do we just accept that running the examples may need a more recent version of scikit-learn than just using nilearn and add a note about that in README.rst?
- Should we try to modify the examples so that they run with a scikit-learn version older than 0.14.1?

For completeness, here is some summary of the errors with scikit-learn 0.11, 0.12.1 and 0.13.1 (0.10 is not available through conda, hence it is absent from the summary):

```
doc_sklearn_0.11.log-  File ""plot_nifti_simple.py"", line 44, in <module>
doc_sklearn_0.11.log:AttributeError: 'FastICA' object has no attribute 'fit_transform'
doc_sklearn_0.11.log-  File ""plot_haxby_simple.py"", line 60, in <module>
doc_sklearn_0.11.log:TypeError: __init__() got an unexpected keyword argument 'n_folds'
doc_sklearn_0.11.log-  File ""plot_ica_resting_state.py"", line 36, in <module>
doc_sklearn_0.11.log:AttributeError: 'FastICA' object has no attribute 'fit_transform'
doc_sklearn_0.11.log-  File ""plot_haxby_searchlight.py"", line 60, in <module>
doc_sklearn_0.11.log:TypeError: __init__() got an unexpected keyword argument 'n_folds'
doc_sklearn_0.11.log-  File ""plot_haxby_full_analysis.py"", line 42, in <module>
doc_sklearn_0.11.log:ImportError: No module named dummy
doc_sklearn_0.11.log-  File ""plot_simulated_data.py"", line 114, in <module>
doc_sklearn_0.11.log:TypeError: __init__() got an unexpected keyword argument 'l1_ratio'
doc_sklearn_0.11.log-  File ""plot_haxby_different_estimators.py"", line 49, in <module>
doc_sklearn_0.11.log:TypeError: __init__() got an unexpected keyword argument 'scoring'
doc_sklearn_0.11.log-  File ""plot_miyawaki_reconstruction.py"", line 214, in <module>
doc_sklearn_0.11.log:ImportError: cannot import name accuracy_score
----------------------------------------
doc_sklearn_0.12.1.log-  File ""plot_haxby_simple.py"", line 60, in <module>
doc_sklearn_0.12.1.log:TypeError: __init__() got an unexpected keyword argument 'n_folds'
doc_sklearn_0.12.1.log-  File ""plot_haxby_searchlight.py"", line 60, in <module>
doc_sklearn_0.12.1.log:TypeError: __init__() got an unexpected keyword argument 'n_folds'
doc_sklearn_0.12.1.log-  File ""plot_haxby_full_analysis.py"", line 42, in <module>
doc_sklearn_0.12.1.log:ImportError: No module named dummy
doc_sklearn_0.12.1.log-  File ""plot_simulated_data.py"", line 114, in <module>
doc_sklearn_0.12.1.log:TypeError: __init__() got an unexpected keyword argument 'l1_ratio'
doc_sklearn_0.12.1.log-  File ""plot_haxby_different_estimators.py"", line 49, in <module>
doc_sklearn_0.12.1.log:TypeError: __init__() got an unexpected keyword argument 'scoring'
doc_sklearn_0.12.1.log-  File ""plot_miyawaki_reconstruction.py"", line 214, in <module>
doc_sklearn_0.12.1.log:ImportError: cannot import name accuracy_score
----------------------------------------
doc_sklearn_0.13.1.log-  File ""plot_haxby_full_analysis.py"", line 73, in <module>
doc_sklearn_0.13.1.log:TypeError: cross_val_score() got an unexpected keyword argument 'scoring'
doc_sklearn_0.13.1.log-  File ""plot_haxby_different_estimators.py"", line 49, in <module>
doc_sklearn_0.13.1.log:TypeError: __init__() got an unexpected keyword argument 'scoring'
```
",start issue,Running examples needs a more recent scikit-learn version than advertised in README.rst
2,issue_closed,367,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:53:58,,closed issue,Running examples needs a more recent scikit-learn version than advertised in README.rst
3,issue_comment,367,nilearn,nilearn,GaelVaroquaux,2015-01-24 10:27:23,"We need to support at least 0.12.1 to be able to support the latest
Ubuntu LTS. If we don't support 0.10.1, we have a problem, as the
examples won't work under the standard Neurospin install, which is going
to be really a problem to target users.

> doc_sklearn_0.11.log:AttributeError: 'FastICA' object has no attribute 'fit_transform'

Which example is that? I think that it should probably be modified to not
use ICA but some other scikit-learn transformer. Right now the example
has little value compared to CanICA.

> doc_sklearn_0.11.log:TypeError: **init**() got an unexpected keyword argument 'n_folds'

Yes, I see that this is going to be a problem.

Looking at your list, I am in favor of supporting 0.12.1, but not older.
It might pose a problem for the neurospin install, so we will have to see
what we can do.
",,
4,issue_comment,367,nilearn,nilearn,GaelVaroquaux,2015-01-25 10:15:36,"> It's coming from plot_ica_resting_state.py

That guy should be changed to not be an ICA, as we have CanICA for that.

> ```
>     doc_sklearn_0.11.log:TypeError: init() got an unexpected keyword
>     argument 'n_folds'
> 
> Yes, I see that this is going to be a problem.
> ```
> 
> the n_folds argument was called k before, but the order of the arguments I
> think remains the same so there is probably a syntax that can work for a wide
> range of scikit-learn versions.

Good idea.

> An other way would be to add code for this in nilearn/_utils/fixes.

I am not very excited about that.
",,
5,issue_comment,367,nilearn,nilearn,lesteve,2015-01-24 13:49:43,"> Which example is that? I think that it should probably be modified to not use ICA but some other scikit-learn transformer. Right now the example has little value compared to CanICA.

It's coming from plot_ica_resting_state.py (the line above the error is showing the file the error is coming from):

```
doc_sklearn_0.11.log-  File ""plot_ica_resting_state.py"", line 36, in <module>
doc_sklearn_0.11.log:AttributeError: 'FastICA' object has no attribute 'fit_transform'
```

> > doc_sklearn_0.11.log:TypeError: **init**() got an unexpected keyword argument 'n_folds'
> 
> Yes, I see that this is going to be a problem.

the `n_folds` argument was called `k` before, but the order of the arguments I think remains the same so there is probably a syntax that can work for a wide range of scikit-learn versions. An other way would be to add code for this in nilearn/_utils/fixes. The danger in all this obviously is to make the examples more obscure.

I have to say I haven't looked at the other errors in too much detail.
",,
6,issue_comment,367,nilearn,nilearn,bthirion,2015-04-18 13:56:53,"To summarize that one, the only pending work is to explicitly require sklearn 0.14.1 ?
",,
7,issue_comment,367,nilearn,nilearn,lesteve,2015-07-20 05:11:03,"@AlexandreAbraham did you mean you close this one? Until we require scikit-learn 0.14 I reckon some examples will still break.
",,
8,issue_comment,367,nilearn,nilearn,AlexandreAbraham,2015-07-20 05:54:33,"Well, I solved it by stating in the README.rst that some examples require scikit-learn 0.14.
",,
9,issue_comment,367,nilearn,nilearn,lesteve,2015-07-20 06:30:59,"OK sounds good.
",,
10,issue_comment,367,nilearn,nilearn,lesteve,2015-02-04 15:39:30,"Just some additional details: all the examples run with 0.14.1 meaning that we are fine with:
- Ubuntu 12.04 LTS + neurodebian (sklearn 0.14.1)
- bog-standard Ubuntu 14.04 LTS (sklearn 0.14.1)

Supporting bog-standard Ubuntu 12.04 LTS (sklearn 0.10) seems out of reach.

The minimum sklearn version to run all the examples should be mentioned in README.rst (alongside the matplotlib one) and on the examples gallery page.

We could have a per-example error mechanism if the version of sklearn is not recent enough or a warning at sklearn import time mentioning that sklearn may not be recent enough to run all the examples.
",,
11,issue_comment,367,nilearn,nilearn,lesteve,2015-02-04 15:40:50,"I have no strong sense of whether any sklearn versions between 0.10 and 0.14.1 is strategic enough to target.
",,
12,issue_comment,367,nilearn,nilearn,lesteve,2015-04-20 08:51:10,"I reckon the consensus is to live with this limitation until we deemed appropriate to require scikit-learn 0.14.1. FWIW there is a warning about this at the top of the examples [page](http://nilearn.github.io/auto_examples/).
",,
