,rectype,issueid,project_owner,project_name,actor,time,text,action,title
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,828,nilearn,nilearn,aabadie,2015-11-06 10:28:10,"Making test_mean_img pass on 32 bits platform.

Should fix #816.
",start issue,[FIX] fixing precision issue in test
2,issue_closed,828,nilearn,nilearn,lesteve,2015-11-12 14:50:57,,closed issue,[FIX] fixing precision issue in test
3,pull_request_title,828,nilearn,nilearn,aabadie,2015-11-06 10:28:10,"Making test_mean_img pass on 32 bits platform.

Should fix #816.
",1ef61f9523852f53b3379d6218edb845fd3a591c,[FIX] fixing precision issue in test
4,pull_request_merged,828,nilearn,nilearn,lesteve,2015-11-12 14:50:57,[FIX] fixing precision issue in test,e78b5a4e24f93137436754820afa36c99436ef43,Pull request merge from aabadie/nilearn:fix_precision_issue to nilearn/nilearn:master
5,issue_comment,828,nilearn,nilearn,aabadie,2015-11-06 13:16:00,"> Does that mean that writing to file lose precision somehow, does that mean we are doing the sum in a different order?

I think this means that reading from file alter the precision. Note that the `mean_img` is a `np.memmap` object.
",,
6,issue_comment,828,nilearn,nilearn,aabadie,2015-11-06 14:32:28,"@lesteve, @GaelVaroquaux any comment ?
",,
7,issue_comment,828,nilearn,nilearn,aabadie,2015-11-06 16:50:38,"> @aabadie have you tried to understand a bit more where the loss of precision come from? For example for which value of imgs does it fail?

The values in `mean_img` computed line 236 and the one computed line 242 are the same. I checked that the precision was of 24 digits. The issues only happens with the last imgs test : the one with mixture of 4D and 3D images.

> Out of interest was this test failing on AppVeyor when we were still testing on 32bit?

Yes, but not for this reason : the problem was related to tmp files that couldn't be removed in write_tmp_imgs.
",,
8,issue_comment,828,nilearn,nilearn,aabadie,2015-11-10 11:35:59,"> I don't really understand this but I think this needs to be investigated rather than brushed off. We should be able to reproduce the mean exactly and the fact that it only fails when reading from files looks suspicious.

I agree. I'm still investigating.

> Does it fail with only a single 4D image? Does it fail with a list of 4D images?

Yes it fails in any cases where a 4D is involved.

> Also bonus points if you rebase on master so that Travis goes green.

Done
",,
9,issue_comment,828,nilearn,nilearn,aabadie,2015-11-10 21:35:48,"> We should be able to reproduce the mean exactly and the fact that it only fails when reading from files looks suspicious.

I had a hard time trying to understand what was the problem when computing the mean on 4D images being read from a file. I appears that the mean was computed on a memmap array as I already noticed, which could make the `np.mean` function return slightly different values.
I pushed another fix which consists in converting the memmap before passing it to `np.mean` using `np.ascontiguousarray`. This ensures the values are contiguous and the mean returns the exact same value.
Not sure the above is clear and also if this fix is ok.
",,
10,issue_comment,828,nilearn,nilearn,aabadie,2015-11-12 13:54:29,"@GaelVaroquaux @lesteve I pushed some changes, is it ok for you ?
",,
11,issue_comment,828,nilearn,nilearn,GaelVaroquaux,2015-11-06 11:01:40,"I think that the general idea of the fix is fine. 

But Travis is failing. 
",,
12,issue_comment,828,nilearn,nilearn,lesteve,2015-11-06 11:08:24,"It's slightly weird that the mean_img fails only when you are trying to compute it from files and not directly from images. Does that mean that writing to file lose precision somehow, does that mean we are doing the sum in a different order?

> But Travis is failing. 

That's the known failure with scikit-learn 0.17.
",,
13,issue_comment,828,nilearn,nilearn,GaelVaroquaux,2015-11-06 16:00:35,"No time to investigate this on my side. Feel free to merge.
",,
14,issue_comment,828,nilearn,nilearn,lesteve,2015-11-06 16:08:14,"@aabadie have you tried to understand a bit more where the loss of precision come from? For example for which value of `imgs` does it fail?

Out of interest was this test failing on AppVeyor when we were still testing on 32bit?
",,
15,issue_comment,828,nilearn,nilearn,lesteve,2015-11-09 09:33:30,"> The values in mean_img computed line 236 and the one computed line 242 are the same. I checked that the precision was of 24 digits. The issues only happens with the last imgs test : the one with mixture of 4D and 3D images.

I don't really understand this but I think this needs to be investigated rather than brushed off. We should be able to reproduce the mean exactly and the fact that it only fails when reading from files looks suspicious.

Does it fail with only a single 4D image? Does it fail with a list of 4D images?

Also bonus points if you rebase on master so that Travis goes green.
",,
16,issue_comment,828,nilearn,nilearn,lesteve,2015-11-12 07:46:13,"Super weird. To be honest I would rather fix that in the test than add a kludge like this in our package code. Not that many people are likely to use nilearn on 32bit.
",,
17,issue_comment,828,nilearn,nilearn,GaelVaroquaux,2015-11-12 08:00:53,"> Super weird. To be honest I would rather fix that in the test than add a kludge
> like this in our package code.

+1.

But at least, your kludge confirms that it is numerical errors, and not
logic fault.
",,
18,issue_comment,828,nilearn,nilearn,lesteve,2015-11-12 14:51:15,"Thanks!
",,
19,pull_request_commit_comment,828,nilearn,nilearn,lesteve,2015-11-12 14:50:27,"I'll merge this and add a comment that we don't really understand why we have to do this for 32bit but we don't think it is a priority to investigate.
",1ef61f9523852f53b3379d6218edb845fd3a591c,"(28, '', u'nilearn/image/tests/test_image.py')"
20,pull_request_commit,828,nilearn,nilearn,aabadie,2015-11-11 14:32:47,fix precision issue in test mean image,21c48cfdd579cb1a520caa1aa868bb100e371236,
21,pull_request_commit,828,nilearn,nilearn,aabadie,2015-11-12 10:25:48,testing mean_img function differently with 32 bit platform,8b9b249b0fa2e8aa6bba7489d0d15f2f896e944f,
22,pull_request_commit,828,nilearn,nilearn,aabadie,2015-11-12 13:57:52,remove commented out python 32bit build on appveyor,1ef61f9523852f53b3379d6218edb845fd3a591c,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,872,nilearn,nilearn,dohmatob,2015-12-02 13:57:52,"``` python
import numpy as np
from nilearn._utils.extmath import fast_abs_percentile
fast_abs_percentile(np.arange(4))
```

```
IndexError                                Traceback (most recent call last)
<ipython-input-29-094589b8fe4e> in <module>()
----> 1 fast_abs_percentile(arange(4))

/home/elvis/CODE/FORKED/nilearn/nilearn/_utils/extmath.pyc in fast_abs_percentile(data, percentile)
     43     if partition is not None:
     44         # Partial sort: faster than sort
---> 45         return partition(data, index)[index + 1]
     46     data.sort()
     47     return data[index + 1]

IndexError: index out of bounds
> /home/elvis/CODE/FORKED/nilearn/nilearn/_utils/extmath.py(45)fast_abs_percentile()
     44         # Partial sort: faster than sort
---> 45         return partition(data, index)[index + 1]
     46     data.sort()
```

This bug affects all the `find_cuts` functions of the plotting backend.
",start issue,Bug: IndexError in fast_abs_percentile function
2,issue_closed,872,nilearn,nilearn,dohmatob,2015-12-03 18:41:11,,closed issue,Bug: IndexError in fast_abs_percentile function
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,838,nilearn,nilearn,bcipolli,2015-11-10 15:20:28,"In the neurovault fetcher, I need to attempt to download metadata by big chunks (100 rows). If offline, then I read the chunks from individual collections stored on disk.

I am trying to use `_fetch_files` to download the chunks of metadata, but the output of `_fetch_files` is making things tough.
- `verbose=2` is necessary to show the URL querystring (which I need to do; it's the only thing that changes from request to request), but it also outputs warnings if `total_size` is not set (which it is not). I need to suppress the warning but show the URL.
- After download, `...done` is printed to a new line. I find that messy and hard to read. I'd rather print on the same line as the download bytes.
- When a connection error occurs, I handle that and take care of things locally. However, I can't prevent a HTTP error from being reported, as well as ""dataset fetch aborted"". The error is re-raised in the code, so downstream functions have to catch anyway and handle--I think printing is unnecessary (either the exception is handled, or the same info will be printed to the console anyway).

I see three possible outcomes:
- `Update`_fetch_files` to be more flexible
- Use `requests` (which does more of what I want anyway).
- Use things as-is, and just have warnings & errors that need to be ignored by the user.

Opening the issue here as I think it is easier to discuss as a separate small chunk.
",start issue,Fetching output is not as flexible as needed for NeuroVault 
2,issue_closed,838,nilearn,nilearn,lesteve,2015-11-24 11:40:55,,closed issue,Fetching output is not as flexible as needed for NeuroVault 
3,pull_request_title,838,nilearn,nilearn,bcipolli,2015-11-10 15:20:28,"In the neurovault fetcher, I need to attempt to download metadata by big chunks (100 rows). If offline, then I read the chunks from individual collections stored on disk.

I am trying to use `_fetch_files` to download the chunks of metadata, but the output of `_fetch_files` is making things tough.
- `verbose=2` is necessary to show the URL querystring (which I need to do; it's the only thing that changes from request to request), but it also outputs warnings if `total_size` is not set (which it is not). I need to suppress the warning but show the URL.
- After download, `...done` is printed to a new line. I find that messy and hard to read. I'd rather print on the same line as the download bytes.
- When a connection error occurs, I handle that and take care of things locally. However, I can't prevent a HTTP error from being reported, as well as ""dataset fetch aborted"". The error is re-raised in the code, so downstream functions have to catch anyway and handle--I think printing is unnecessary (either the exception is handled, or the same info will be printed to the console anyway).

I see three possible outcomes:
- `Update`_fetch_files` to be more flexible
- Use `requests` (which does more of what I want anyway).
- Use things as-is, and just have warnings & errors that need to be ignored by the user.

Opening the issue here as I think it is easier to discuss as a separate small chunk.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,Fetching output is not as flexible as needed for NeuroVault 
4,pull_request_merged,838,nilearn,nilearn,lesteve,2015-11-24 11:40:55,Fetching output is not as flexible as needed for NeuroVault ,bf94ba7fa21ecb7198ee7f80c45fb17bbee1a502,Pull request merge from bcipolli/nilearn:fetch-files-print to nilearn/nilearn:master
5,issue_comment,838,nilearn,nilearn,bcipolli,2015-11-10 17:03:23,"Note: circleci ""failure"" looks like there's no actual problem.
",,
6,issue_comment,838,nilearn,nilearn,bcipolli,2015-11-14 19:35:11,"Any comments or feedback on this one?
",,
7,issue_comment,838,nilearn,nilearn,lesteve,2015-11-24 11:40:53,"Merging, thanks a lot !
",,
8,issue_comment,838,nilearn,nilearn,lesteve,2015-11-16 10:21:07,"> I'm +1 excepted for the error catching stuff. We may discuss that but maybe another PR would be better not to block this one.

What about the print vs sys.stderr.write? My impression is that stdout is used everywhere else for verbose messages so maybe we should stick with print.
",,
9,issue_comment,838,nilearn,nilearn,lesteve,2015-11-19 14:16:39,"> This is weird, the CircleCI failure seems to be because of spacenet.

Yeah we see this one from time to time (memory usage go above the 4GB limit). It'd be nice if someone looked at the SpaceNet example to make it use less memory (maybe less subjects?). ping @dohmatob 
",,
10,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:21:08,"This newline was emitted elsewhere. It seems odd to have a reporting hook... and then not put as much of the reporting code as possible inside of it.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
11,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:21:53,"Putting the `\r` at the start allows us to keep the end output position, eliminating the need to print a newline later.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
12,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:23:24,"This warning (which I don't think is really necessary; there's no problem here that I can see) was at the same verbosity level as printing the querystring on the URL.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(50, '', u'nilearn/datasets/utils.py')"
13,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:23:29,"Always report (even if ending).
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(62, '', u'nilearn/datasets/utils.py')"
14,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:24:01,"Again... seems unnecessary to print start & end on separate lines. Follow the convention to print updating lines to stderr.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(84, '', u'nilearn/datasets/utils.py')"
15,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:25:04,"These errors are re-raised, so outputting here at such a low verbosity level causes code that expects and handles errors to have error output. I suggest it should either be at a higher verbosity level or be removed, and I think removed is better.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
16,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-10 15:25:38,"Output is at the last update position (not at the beginning of the line), so can be completed on the same line now.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
17,pull_request_commit_comment,838,nilearn,nilearn,AlexandreAbraham,2015-11-16 07:25:11,"If I remember well, these messages are helpful because the original error message is very poor.
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
18,pull_request_commit_comment,838,nilearn,nilearn,lesteve,2015-11-17 15:19:15,"Can you not remove the block then?
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
19,pull_request_commit_comment,838,nilearn,nilearn,lesteve,2015-11-17 15:27:22,"Does that actually work to change the error message of the exception ? I seem to remember that using .args is more reliable ...
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
20,pull_request_commit_comment,838,nilearn,nilearn,lesteve,2015-11-17 15:28:31,"Also just curious, I may have missed it but why not always use a friendly error message rather than only when verbose > 0?
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
21,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-17 15:42:53,"Good point about `verbose > 0`; now that's not necessary.

I decided to simply change `message`, rather than anything more complicated. We know the types of the errors, so we can be reasonably sure this will work.

If you look at the other commit (c59e5b8) I discarded, I actually made a function to do all the heavy lifting, so that it could be used for any exception. I abandoned it because it was going to be complicated--I wrote tests and everything :)

So, hard to answer your question: I'm going for the least-general / most-specific approach here, and it should work for these errors.

Reading I did:
http://www.ianbicking.org/blog/2007/09/re-raising-exceptions.html
https://stackoverflow.com/questions/6062576/adding-information-to-a-python-exception
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
22,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-17 15:48:03,"You're right. It doesn't work! :-1: fixing...
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
23,pull_request_commit_comment,838,nilearn,nilearn,bcipolli,2015-11-17 16:02:59,"Now:
![image](https://cloud.githubusercontent.com/assets/4072455/11216706/8e203b14-8d01-11e5-84cb-bb948a593569.png)
",f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,"(None, '', u'nilearn/datasets/utils.py')"
24,pull_request_commit,838,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:25:30,ENH: Improve reporting (remove extraneous newline).,35e1a0fb1eccd87e86db45637dca1e972cef9765,
25,pull_request_commit,838,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:26:15,DOC: allow me to print a full URL without getting warnings.,ba571e5a82b1b3255ec90158fce868bb88464027,
26,pull_request_commit,838,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 16:03:16,RF: don't print messages when re-raising errors.,f9a752933e30b4e75a49f0c77e4b5f78fc154b0b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,861,nilearn,nilearn,KamalakerDadi,2015-11-29 15:31:04,"Trying to Fix Issue #850 

See #850 for more details.
1. Moved file `group_sparse_covariance` to `nilearn.connectome`
2. Moved test files
3. Changed doc and examples accordingly.
",start issue,Move group sparse covariance
2,issue_closed,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 16:26:00,,closed issue,Move group sparse covariance
3,pull_request_title,861,nilearn,nilearn,KamalakerDadi,2015-11-29 15:31:04,"Trying to Fix Issue #850 

See #850 for more details.
1. Moved file `group_sparse_covariance` to `nilearn.connectome`
2. Moved test files
3. Changed doc and examples accordingly.
",78d1670f6c487e5da51fa6fcf6dd9ea1999da203,Move group sparse covariance
4,pull_request_merged,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 16:26:00,Move group sparse covariance,2aeaa064b8109431e2c655298d1c78967b669bdb,Pull request merge from KamalakerDadi/nilearn:move_group_sparse_covariance to nilearn/nilearn:master
5,issue_comment,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 15:36:21,"Overall this looks great, aside the small comments that I made.
",,
6,issue_comment,861,nilearn,nilearn,KamalakerDadi,2015-11-29 15:52:02,"Fixed @GaelVaroquaux comments
",,
7,issue_comment,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 16:25:57,"LGTM. Merging. Thanks!
",,
8,pull_request_commit_comment,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 15:34:35,"I think that you should be able to have simply nilearn.connectome here, given that GroupSparseCovariance is imported in nilearn.connectome.**init**. Isn't it the case?
",78d1670f6c487e5da51fa6fcf6dd9ea1999da203,"(None, '', u'doc/connectivity/connectome_extraction.rst')"
9,pull_request_commit_comment,861,nilearn,nilearn,GaelVaroquaux,2015-11-29 15:35:02,"Same remark about nilearn.connectome without the group_sparse_covariance.
",78d1670f6c487e5da51fa6fcf6dd9ea1999da203,"(None, '', u'doc/developers/group_sparse_covariance.rst')"
10,pull_request_commit,861,nilearn,nilearn,KamalakerDadi,2015-11-29 13:45:01,"Moving files nilearn.group_sparse_covariance to nilearn.connectome
Initialized from nilearn.connectome
Moved test files",f366e30a5a4eec9ecf8fb7aaa1065fd7748eb698,
11,pull_request_commit,861,nilearn,nilearn,KamalakerDadi,2015-11-29 15:27:42,Changed in doc and examples accordingly,e712546cda07c7ed567dbcc5684fccd7df091066,
12,pull_request_commit,861,nilearn,nilearn,KamalakerDadi,2015-11-29 15:50:27,Addressed comments to change import module,78d1670f6c487e5da51fa6fcf6dd9ea1999da203,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,923,nilearn,nilearn,KamalakerDadi,2015-12-18 13:00:00,"Fix #913 
",start issue,Fixing error message for display mode ortho and cut coords integer
2,issue_closed,923,nilearn,nilearn,GaelVaroquaux,2015-12-18 22:20:39,,closed issue,Fixing error message for display mode ortho and cut coords integer
3,pull_request_title,923,nilearn,nilearn,KamalakerDadi,2015-12-18 13:00:00,"Fix #913 
",1e9386352c773fa163e027a3488f2057aa8b0e1f,Fixing error message for display mode ortho and cut coords integer
4,pull_request_merged,923,nilearn,nilearn,GaelVaroquaux,2015-12-18 22:20:39,Fixing error message for display mode ortho and cut coords integer,630c07951f8018b55aa6d319646d45c50f0f95f8,Pull request merge from KamalakerDadi/nilearn:error_message_display_mode_ortho to nilearn/nilearn:master
5,issue_comment,923,nilearn,nilearn,bthirion,2015-12-18 21:29:26,"LGTM.
",,
6,issue_comment,923,nilearn,nilearn,GaelVaroquaux,2015-12-18 22:20:37,"LGTM. Merging
",,
7,pull_request_commit,923,nilearn,nilearn,KamalakerDadi,2015-12-18 12:58:01,Fixing error message for display mode ortho and cut coords integer,1e9386352c773fa163e027a3488f2057aa8b0e1f,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,922,nilearn,nilearn,banilo,2015-12-18 10:29:20,"...trace back is:

``` python
---------------------------------------------------------------------------
ValueError                                Traceback (most recent call last)
<ipython-input-44-802cef648458> in <module>()
----> 1 plotting.find_xyz_cut_coords(nib.load(roi_paths[2]))

/git/nilearn/nilearn/plotting/find_cuts.py in find_xyz_cut_coords(img, mask, activation_threshold)
     90         return .5 * np.array(data.shape)
     91     mask = largest_connected_component(mask)
---> 92     slice_x, slice_y, slice_z = ndimage.find_objects(mask)[0]
     93     my_map = my_map[slice_x, slice_y, slice_z]
     94     mask = mask[slice_x, slice_y, slice_z]
```

The image on which this crashes is attached.

[dmpfc-3.nii.zip](https://github.com/nilearn/nilearn/files/66476/dmpfc-3.nii.zip)
",start issue,find_xyz_cut_coords crashes on some compact binary images
2,issue_closed,922,nilearn,nilearn,lesteve,2016-01-13 12:33:32,,closed issue,find_xyz_cut_coords crashes on some compact binary images
3,issue_comment,922,nilearn,nilearn,AlexandreAbraham,2015-12-20 13:43:48,"As all functions working on img directly (not niimg), it assumes that the input has the right dimension. This has been done because this function is not ""opened to public"". So, two options:
- you use the regular way to load your image, meaning `check_niimg_3d` (instead of `nibabel.load`). It will convert your 4d image to 3d automatically
- We call `check_niimg_3d` at the beginning of `find_xyz_cut_coords`. It will then work natively on all niimgs.
",,
4,issue_comment,922,nilearn,nilearn,AlexandreAbraham,2015-12-20 14:04:12,"Well, a small computational overhead because we check the input data, that's all.
",,
5,issue_comment,922,nilearn,nilearn,AlexandreAbraham,2016-01-07 12:16:36,"@banilo I think this is important for 0.2.2. Are you working on it?
",,
6,issue_comment,922,nilearn,nilearn,bthirion,2015-12-18 21:57:45,"The issue is that the image that you provided is 4D (with the last dimension=1). if you remove the last dimension form your image, it is OK.
plotting.find_xyz_cut_coords(nib.four_to_three(nib.load('dmpfc-3.nii'))[0])

Should we support this kind of case ?
",,
7,issue_comment,922,nilearn,nilearn,banilo,2015-12-19 22:28:17,"Ok, merci pour le conseil.

It would be nice to support the case because the 3D and Pseudo-4D images contain the same information and the optimal x, y and z cut planes can be expected to be the same. That appears intuitive to me.
",,
8,issue_comment,922,nilearn,nilearn,GaelVaroquaux,2015-12-20 14:02:45,"These days it is exposed to the public. We should probably add a checker
in the input. Is there a downside?
",,
9,issue_comment,922,nilearn,nilearn,GaelVaroquaux,2015-12-20 14:08:17,"> Well, a small computational overhead because we check the input data,

It's probably tiny compared to the time of the funtion.

@banilo: do you want to do a PR?
",,
10,issue_comment,922,nilearn,nilearn,banilo,2015-12-20 14:13:21,"Sure, I'd be happy to.

As the find_\* function is probably typically called for plotting, it should
not be called excessively and thus not typically cause a big overhead.

2015-12-20 15:08 GMT+01:00 Gael Varoquaux notifications@github.com:

> > Well, a small computational overhead because we check the input data,
> 
> It's probably tiny compared to the time of the funtion.
> 
> @banilo: do you want to do a PR?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/922#issuecomment-166119067.
",,
11,issue_comment,922,nilearn,nilearn,banilo,2016-01-08 22:07:40,"I will do it this weekend
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,836,nilearn,nilearn,lesteve,2015-11-09 14:43:07,"The segmentation fault happens after running the tests. I was able to reproduce it on my laptop.

For now we don't install matplotlib on AppVeyor meaning that the plotting tests are not run. This was a stop-gap solution to get the AppVeyor continuous integration up and running.

A few of suggestions:
- try to install matplotlib with conda rather than pip. Full disclosure I had trouble when doing that on my laptop (unable to import matplotlib._png if I remember correctly), but it's worth a try.
- try to install different matplotlib/numpy versions to see whether the problem persists.
",start issue,Segmentation fault on AppVeyor when installing matplotlib
2,issue_closed,836,nilearn,nilearn,lesteve,2015-11-19 09:06:47,,closed issue,Segmentation fault on AppVeyor when installing matplotlib
3,issue_comment,836,nilearn,nilearn,aabadie,2015-11-12 16:17:07,"If you agree, I'll have a look at this issue in the coming days
",,
4,issue_comment,836,nilearn,nilearn,GaelVaroquaux,2015-11-12 16:37:35,"> If you agree, I'll have a look at this issue in the coming days

That would be great. Maybe report upstream on the matplotlib tracker, if
you can get a good reproducible case and a c-level stack trace.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,814,nilearn,nilearn,aabadie,2015-11-02 16:35:32,"This PR partly fix the issue #809 

But it maybe worth to merge. Summary of changes:
- fixed Environment variable split character for windows as it uses ';'
- replaced '/' with os.sep when required
- fixed permission issues when removing files in test_atlas.py/test_utils.py
- fixed file:// prefix using urllib crossplatform dedicated function ""pathname2url""
",start issue,[MRG] Fixing path and environment variables issues + tests on windows
2,issue_closed,814,nilearn,nilearn,GaelVaroquaux,2015-11-04 08:04:37,,closed issue,[MRG] Fixing path and environment variables issues + tests on windows
3,pull_request_title,814,nilearn,nilearn,aabadie,2015-11-02 16:35:32,"This PR partly fix the issue #809 

But it maybe worth to merge. Summary of changes:
- fixed Environment variable split character for windows as it uses ';'
- replaced '/' with os.sep when required
- fixed permission issues when removing files in test_atlas.py/test_utils.py
- fixed file:// prefix using urllib crossplatform dedicated function ""pathname2url""
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,[MRG] Fixing path and environment variables issues + tests on windows
4,pull_request_merged,814,nilearn,nilearn,GaelVaroquaux,2015-11-04 08:04:37,[MRG] Fixing path and environment variables issues + tests on windows,680050a601ba1300b782ce5facea1352e5f96a35,Pull request merge from aabadie/nilearn:fix_windows_paths to nilearn/nilearn:master
5,issue_comment,814,nilearn,nilearn,aabadie,2015-11-03 15:48:13,"All comments should be adressed in 2ef8080
",,
6,issue_comment,814,nilearn,nilearn,bthirion,2015-11-03 21:06:07,"LGTM
",,
7,issue_comment,814,nilearn,nilearn,GaelVaroquaux,2015-11-04 08:04:34,"LGTM. Merging. Thank you!
",,
8,pull_request_commit_comment,814,nilearn,nilearn,AlexandreAbraham,2015-11-02 16:40:41,"Here you can just remove os.sep I think.
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/tests/test_func.py')"
9,pull_request_commit_comment,814,nilearn,nilearn,AlexandreAbraham,2015-11-02 16:46:47,"This is very surprising, I've never seen a URL with '\' to separate elements, even on Windows.
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/func.py')"
10,pull_request_commit_comment,814,nilearn,nilearn,AlexandreAbraham,2015-11-02 16:48:43,"Good catch!
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/utils.py')"
11,pull_request_commit_comment,814,nilearn,nilearn,aabadie,2015-11-02 16:52:33,"indeed, I overlooked this part. Maybe my change is breaking the default behavior. Will try again.
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/func.py')"
12,pull_request_commit_comment,814,nilearn,nilearn,lesteve,2015-11-02 16:56:07,"[os.pathsep](https://docs.python.org/2/library/os.html#os.pathsep) can probably be used 
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/utils.py')"
13,pull_request_commit_comment,814,nilearn,nilearn,lesteve,2015-11-02 17:18:33,":sob: I don't think we want to go down the road of supporting all locale. Maybe you can catch the exception and look at exc.errno?
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/tests/test_utils.py')"
14,pull_request_commit_comment,814,nilearn,nilearn,lesteve,2015-11-02 17:19:58,"PEP8 (two spaces before inline comment). Also mention why you reenabling write permissions (to be able to delete it I guess)
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/tests/test_atlas.py')"
15,pull_request_commit_comment,814,nilearn,nilearn,aabadie,2015-11-03 12:44:55,"> os.pathsep can probably be used

Thanks for the hint, I'll change this.
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/utils.py')"
16,pull_request_commit_comment,814,nilearn,nilearn,aabadie,2015-11-03 12:45:20,"> I don't think we want to go down the road of supporting all locale. Maybe you can catch the exception and look at exc.errno?

Good idea, will do this.
",2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,"(None, '', u'nilearn/datasets/tests/test_utils.py')"
17,pull_request_commit,814,nilearn,nilearn,aabadie,2015-11-02 16:27:11,fixing path and environment variables issues + tests on windows,6be5f9c36bb371a3d9973e311885f116743a4c77,
18,pull_request_commit,814,nilearn,nilearn,aabadie,2015-11-03 15:44:22,fixing exception raise check + use already defined env separator + revert change in url formatting,2ef8080f953580ad19ca3f9026bc73cc2cb5c0d0,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,804,nilearn,nilearn,GaelVaroquaux,2015-10-22 12:46:05,"Inspired from eg joblib

Cc @aabadie : do you want to take that one?
",start issue,Set up appveyor to test on windows
2,issue_closed,804,nilearn,nilearn,lesteve,2015-11-04 13:44:07,,closed issue,Set up appveyor to test on windows
3,issue_comment,804,nilearn,nilearn,aabadie,2015-10-22 13:35:43,"@GaelVaroquaux sure !
",,
4,issue_comment,804,nilearn,nilearn,aabadie,2015-10-22 13:44:54,"Potentially, the tests don't pass on windows....
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,712,nilearn,nilearn,lesteve,2015-07-20 06:44:15,"It looks like it is missing some info for automatically generated classes/functions:
http://nilearn.github.io/modules/reference.html#module-nilearn.decoding

For completeness the same thing happens on circleci:
https://circle-artifacts.com/gh/nilearn/nilearn/150/artifacts/0/home/ubuntu/nilearn/doc/_build/html/modules/reference.html#module-nilearn.datasets
",start issue,Sphinx 1.3.1 auto documentation issues
2,issue_closed,712,nilearn,nilearn,lesteve,2015-10-27 10:29:27,,closed issue,Sphinx 1.3.1 auto documentation issues
3,issue_comment,712,nilearn,nilearn,lesteve,2015-10-19 11:42:14,"Maybe related to https://github.com/scikit-learn/scikit-learn/issues/4737 ?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,896,nilearn,nilearn,rschmaelzle,2015-12-08 22:03:25,"Hi All,
I am hitting a cast error with this line

``` python
hv_confounds = nilearn.image.high_variance_confounds(func_filename)
```

The error goes like this

```
.....
 --> 144     signals -= np.mean(signals, axis=0)
    145     if type == ""linear"":
    146         # Keeping ""signals"" dtype avoids some type conversion further down,

TypeError: Cannot cast ufunc subtract output from dtype('float64') to dtype('<i2') with casting rule 'same_kind'
....
```

the versions we have installed are: nilearn 0.1.4.post1  and numpy 1.10.1
Any help is much appreciated! Love nilearn!
Best, Ralf.

PS see this seems to relate to https://github.com/scikit-learn/scikit-learn/issues/5397
PPS tried downgrading to previous numpy ""conda install numpy=1.9.1"", but then there are dependencies to scipy... 
",start issue,cast/type issue in high_variance confounds
2,issue_closed,896,nilearn,nilearn,GaelVaroquaux,2015-12-20 09:51:14,,closed issue,cast/type issue in high_variance confounds
3,issue_comment,896,nilearn,nilearn,lesteve,2015-12-09 07:44:04,"> PS see this seems to relate to scikit-learn/scikit-learn#5397

What's your scikit-learn version? I would have thought this would be fixed in scikit-learn 0.17.

Conda tip: not sure exactly why, but you need to explicitly specify dependencies in conda when using conda install with a specific version, e.g. something like:
`conda install numpy=1.9.1 scipy scikit-learn'

otherwise you'll keep scipy and scikit-learn compiled with whatever your previous version of numpy was.
",,
4,issue_comment,896,nilearn,nilearn,rschmaelzle,2015-12-17 20:52:06,"Hi ,
in nilearn's signal.py function I changed the following:
      `from sklearn.utils import as_float_array, check_array, check_symmetric`
and 
in line 146 of the _detrend function, where the error was thrown in the line before (signals -= np.mean(signals, axis=0))
      `signals = as_float_array(signals)    
`
That seems to fix it for me and for now. Happy to proceed with learning nilearn.
Best r
",,
5,issue_comment,896,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:30:07,"Fix submitted in #920 . The problem will be fixed in nilearn 0.2.2
",,
6,issue_comment,896,nilearn,nilearn,rschmaelzle,2015-12-09 17:26:39,"Thanks lesteve,
I tried to update to scikit learn 0.17, but this didn't solve the issue. 
Am still testing to get it to work via downgrading (thanks for the tip), which involved more dependency issues than scipy and scikit-learn.
Best, Ralf.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,879,nilearn,nilearn,mrahim,2015-12-02 15:42:42,"Fixing some references in `manual_pipeline`.
",start issue,DOC: fix pipeline demo
2,issue_closed,879,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:10:21,,closed issue,DOC: fix pipeline demo
3,pull_request_title,879,nilearn,nilearn,mrahim,2015-12-02 15:42:42,"Fixing some references in `manual_pipeline`.
",3b70580c66571b7a9d4da0dde99d870eea414c08,DOC: fix pipeline demo
4,pull_request_merged,879,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:10:21,DOC: fix pipeline demo,7674fd8d845dc45cc735da4dae4a4c091015ce52,Pull request merge from mrahim/nilearn:doc_fixes to nilearn/nilearn:master
5,pull_request_commit_comment,879,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:02:40,"You didn't like the right aligned image?
",3b70580c66571b7a9d4da0dde99d870eea414c08,"(64, '', u'doc/building_blocks/manual_pipeline.rst')"
6,pull_request_commit_comment,879,nilearn,nilearn,mrahim,2015-12-02 16:06:39,"Actually it was aligned with the snippet but I couldn't get it :)
",3b70580c66571b7a9d4da0dde99d870eea414c08,"(64, '', u'doc/building_blocks/manual_pipeline.rst')"
7,pull_request_commit,879,nilearn,nilearn,mrahim,2015-12-02 15:38:57,DOC: fix pipeline demo,3b70580c66571b7a9d4da0dde99d870eea414c08,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,857,nilearn,nilearn,salma1601,2015-11-25 14:41:55,"Hi,
I am using plotting.plot_img with a color bar and I have a problem with my colorbar: it is too big and the ticks overlay the image. 

``` Python
from nilearn import plotting, datasets
haxby_dataset = datasets.fetch_haxby(n_subjects=1)
haxby_anat_filename = haxby_dataset.anat[0]

# Plotting anatomical maps
import matplotlib.pylab as plt
figure, (axes1, axes2) = plt.subplots(2, 1)
for axes in [axes1, axes2]:
    plotting.plot_img(haxby_anat_filename, axes=axes,
                      colorbar=True, display_mode='z')
plt.show()
```

![plot_img_subplots](https://cloud.githubusercontent.com/assets/7080143/11399998/ffb2805e-938a-11e5-86b3-9fd3e2834be2.png)
I try to solve this by changing the figure size but when I have a lot of cuts it doesn't work.
Is there a better workaround ?
Thanks a lot !
",start issue,colorbar size and ticks in subplots with plotting.plot_img
2,issue_closed,857,nilearn,nilearn,AlexandreAbraham,2016-02-18 12:52:08,,closed issue,colorbar size and ticks in subplots with plotting.plot_img
3,issue_comment,857,nilearn,nilearn,lesteve,2015-11-25 15:35:44,"Just for later reference do you have a standalone snippet that reproduces the problem?
",,
4,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 07:56:02,"``` Python
from nilearn import plotting, datasets
haxby_dataset = datasets.fetch_haxby(n_subjects=1)
haxby_anat_filename = haxby_dataset.anat[0]

# Plotting anatomical maps
import matplotlib.pylab as plt
figure, (axes1, axes2) = plt.subplots(2, 1)
for axes in [axes1, axes2]:
    plotting.plot_img(haxby_anat_filename, axes=axes,
                      colorbar=True, display_mode='z')
plt.show()
```
",,
5,issue_comment,857,nilearn,nilearn,bthirion,2015-11-26 08:04:49,"If you resize the figure, the rendering is not too bad, is it ?
",,
6,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 08:12:30,"![figure_1](https://cloud.githubusercontent.com/assets/7080143/11418143/6efa0f62-941d-11e5-8da2-f10836637433.png)
Yes but my brains become too small. Plus I have to make it so wide that it does not fit into my screen so I find this strange isn't it? 
",,
7,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 08:18:57,"There is clearly a bug regarding the size of the colorbar. Didn't ben fix that bug in one od his unmerged PRs?
",,
8,issue_comment,857,nilearn,nilearn,lesteve,2015-11-26 08:31:22,"I seem to remember he had similar or related complaints but I was unable to find anything useful.
",,
9,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 10:29:09,"> If you resize the figure, the rendering is not too bad, is it ?

Things should work by default :).
",,
10,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 11:50:29,"> Things should work by default :).

The problem is that it's not the point of view of matplotolib.

I took a quick look at your problem. It comes from the fact that you create subplots by hand, which is not supported by nilearn. By doing this, you break the automatic behavior of matplotlib on which nilearn rely.

For example,  if you do this:
`figure, (axes1, axes2) = plt.subplots(2, 1, figsize=(10,5))`

You obtain something more reasonable althought the text still overlaps with the figure.

Solving this problem is not trivial unfortunately. The best way is maybe to do 2 separate figures.
",,
11,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 11:54:01,"> I took a quick look at your problem. It comes from the fact that you create
> subplots by hand, which is not supported by nilearn.

OK. I agree that it is very difficult to support.

Maybe we should deprecate this feature. I know that some people won't be
happy, but it is a road to unexpected behavior.
",,
12,issue_comment,857,nilearn,nilearn,arthurmensch,2015-11-26 11:54:26,"You could try to use plt.figure (layout='tight') to automatically move
subplots to avoid overlap
Le 26 nov. 2015 09:12, ""salma1601"" notifications@github.com a écrit :

> [image: figure_1]
> https://cloud.githubusercontent.com/assets/7080143/11418143/6efa0f62-941d-11e5-8da2-f10836637433.png
> Yes but my brains become too small. Plus I have to make it so wide that it
> does not fit into my screen so I find this strange isn't it?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/857#issuecomment-159843056.
",,
13,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 12:14:55,"> OK. I agree that it is very difficult to support.

It requires to call proper matplotlib methods to get information on the display instead of relying on the magical ability of matplotlib to find a good size for the plots.

> Maybe we should deprecate this feature. I know that some people won't be
> happy, but it is a road to unexpected behavior.

Note that if you plot each line in a separate plot, the result is very ugly although there is no overlap of figures.

I think that I should explicit what happens in matplotlib and how this problem can be solved. When you plot something, before any call to `pyplot.show()`, matplotlib is unaware of the size of the plots. When you show (or save them), matplotlib will do the maths and adapt the size of the figure to the content, trying to avoid overlaps, with more or less success. When using subplots, a default size is given to the figure, I don't know exactly how it works, but the magic is gone. In that case, if some behavior relied on the magic instead of plotting things carefully by defining the boundaries of each axis, things are messed up.

People from matplotlib solved this kink of layout problems by introducing the GridSpec layout. It allows to create a grid of plots easily, get the correct sizes and set constraints on them. We did not use that in nilearn because, historically, we supported matplotlib 0.99 and this has been introduced in matplotlib 1.0.
",,
14,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 12:31:21,"> I think that I should explicit what happens in matplotlib and how this problem
> can be solved. When you plot something, before any call to pyplot.show(),
> matplotlib is unaware of the size of the plots. When you show (or save them),
> matplotlib will do the maths and adapt the size of the figure to the content,

Indeed, and we are overriding this behavior in nilearn by registering a
specific formatter. It's tricky: most people don't understand this code.
But it's the code that makes the plots look nice by default.

We could make this formatter aware of the colorbar. That might be the
right way to do it. It requires someone who can understand the matplotlib
formatters to pick this up. That's the rare resource.

As a side note, it would be interesting to dig up the PR where @bcipolli
had worked on this. It might be that the solution is in it.
",,
15,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 14:48:04,"@salma1601 can you post a code snippet to reproduce the problem? 

As far as code I've done for plotting, I'm not sure any would fix this:
- I messed with the colorbar in #464 (merged).
- I played around with subplots in #212, code here: https://github.com/nilearn/nilearn/compare/master...bcipolli:issue-212
- I messed with the label colors (described [here](https://github.com/nilearn/nilearn/issues/449#issuecomment-75629299)) in this branch https://github.com/nilearn/nilearn/compare/master...bcipolli:issue-449

I doubt that any of these branches will solve the problem, but I'd be happy to try (if I can get a code snippet to reproduce the issue). I can also debug it if nothing here solves it.
",,
16,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 14:48:46,"(note: just saw the code snippet; would be great to move/copy that to the issue-opening post)
",,
17,issue_comment,857,nilearn,nilearn,bcipolli,2015-11-26 15:54:36,"I just tried the `plot_mosiac` branch, and it has the same issue.

When we talked before, subplotting was considered to be advanced behavior. The default behavior actually works fine, using the reproducing script: 

![image](https://cloud.githubusercontent.com/assets/4072455/11426426/3b122164-942a-11e5-8ad2-71ceaef2750d.png)

Simply setting the image size to compensate for the size of the plots also works (as detailed above):

``` python
figure, (axes1, axes2) = plt.subplots(2, 1, figsize=(18, 5))
```

![image](https://cloud.githubusercontent.com/assets/4072455/11426708/e8fda266-942b-11e5-9228-7e0e5c7db499.png)

And reducing the # of cuts allows cuts to be larger:

``` python
    plotting.plot_img(haxby_anat_filename, axes=axes,
                      colorbar=True, display_mode='z', cut_coords=4)
```

![image](https://cloud.githubusercontent.com/assets/4072455/11426679/b5eb95cc-942b-11e5-88b1-8460e12eca6f.png)

So, the default behavior works, and there are lots of ways to set things up for more advanced users that work just fine. IMHO, there's not much need to address this via a matplotlib formatter.
",,
18,issue_comment,857,nilearn,nilearn,GaelVaroquaux,2015-11-26 15:56:21,"> So, the default behavior works, and there are lots of ways to set
> things up for more advanced users that work just fine. IMHO, there's
> not much need to address this via a matplotlib formatter.

OK. Thanks for your analysis. We might want to close that issue, then.
",,
19,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2015-11-26 15:58:18,"Is the space between the subplots acceptable? For me, it's a show-stopper if I consider publishing the image somewhere.
",,
20,issue_comment,857,nilearn,nilearn,salma1601,2015-11-26 20:03:53,"Thanks for all the explanations ! 

> Is the space between the subplots acceptable?

Yes the space between the subplots is strange for me, but I guess this is also tricky.
",,
21,issue_comment,857,nilearn,nilearn,AlexandreAbraham,2016-02-18 12:52:08,"I have noticed that now we require matplotlib > 1.1.1. That means that we actually can use GridSpec layout which should make all that stuff easier. I'll close this issue but keep your example in a more general one about colorbar code refactoring.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,817,nilearn,nilearn,dohmatob,2015-11-03 09:49:36,"Reproduce with:

```
import nibabel
import numpy as np
from nilearn.image import resample_img
affine = np.eye(4)
img = nibabel.Nifti1Image(np.zeros((2, 2, 2)).astype(np.int16), affine)
resample_img(img, target_affine=2. * affine)
```

I think similar data types are also concerned

Possible fix: The data should be cast before passing to `ndimage.interpolate`, etc.
",start issue,"Nilearn resampling doesn't support int16, throws RuntimeError: data type not supported"
2,issue_closed,817,nilearn,nilearn,lesteve,2015-11-04 08:43:42,,closed issue,"Nilearn resampling doesn't support int16, throws RuntimeError: data type not supported"
3,issue_comment,817,nilearn,nilearn,GaelVaroquaux,2015-11-04 12:07:53,"> Closed #817.

Good job Elvis! Thanks
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,265,nilearn,nilearn,dohmatob,2014-10-21 08:37:50,"Because users will fall in this trap, we need to express the percentile of voxels kept as a volumetric percentile with regards to a full brain. For this:

""I would like you to compute the volume in a standard brain (/usr/share/fsl/data/standard/MNI152_T1_1mm_brain_mask.nii.gz)
    When you are given a mask, in space_net, you should compute it's volume, and use the ratio of the two to adjust the screening percentile.
""
",start issue,Volume-corrected screening percentile in SpaceNet
2,issue_closed,265,nilearn,nilearn,dohmatob,2015-12-02 13:15:30,,closed issue,Volume-corrected screening percentile in SpaceNet
3,issue_comment,265,nilearn,nilearn,dohmatob,2014-10-21 08:38:51,"a126ce347db3721ba7f45f2418a795c85a138d3c is a first implementation of this feature. The discussion is open.
",,
4,issue_comment,265,nilearn,nilearn,dohmatob,2014-10-21 08:42:38,"Update  dae019e69a24a1c75559be331ce9786dd2963550
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,897,nilearn,nilearn,GaelVaroquaux,2015-12-10 15:41:03,"The rational is to avoid blowing the cache of dowloads in circleCI.
",start issue,Change the default number of subjects in fetch_adhd from 40 to 30
2,issue_closed,897,nilearn,nilearn,GaelVaroquaux,2016-02-01 17:08:40,,closed issue,Change the default number of subjects in fetch_adhd from 40 to 30
3,issue_comment,897,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:41:10,"I was going to ask if the problem was still on. I have several ideas to reduce the amount of data downloaded, but all of them will make the figures generated by CircleCI irrelevant.
",,
4,issue_comment,897,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:48:50,"I think we should discuss that during a coffee break.
",,
5,issue_comment,897,nilearn,nilearn,salma1601,2015-12-11 14:41:51,"Can we do this while keeping the same ratio ADHD/controls ?
Also, the sites are not ordered when loading ADHD dataset but I don't know if this was done on purpose ...
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,895,nilearn,nilearn,KamalakerDadi,2015-12-08 21:36:18,"I vaguely remember about some of the things. Tell me if I miss something.
",start issue,"Trying to cover all new features, functions, classes in whats new html"
2,issue_closed,895,nilearn,nilearn,AlexandreAbraham,2015-12-12 16:15:27,,closed issue,"Trying to cover all new features, functions, classes in whats new html"
3,pull_request_title,895,nilearn,nilearn,KamalakerDadi,2015-12-08 21:36:18,"I vaguely remember about some of the things. Tell me if I miss something.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"Trying to cover all new features, functions, classes in whats new html"
4,pull_request_merged,895,nilearn,nilearn,AlexandreAbraham,2015-12-12 16:15:27,"Trying to cover all new features, functions, classes in whats new html",ec28dcc13b635138f505ee430d73f8818ca9ac37,Pull request merge from KamalakerDadi/nilearn:whatsnew_0point2 to nilearn/nilearn:master
5,issue_comment,895,nilearn,nilearn,KamalakerDadi,2015-12-09 15:53:14,"ping @GaelVaroquaux Do you think I missed something to add which is important ?

I am going to add RegionExtractor but other than that if there are anything ?
",,
6,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:35:03,"Can you use the sphinx markup to have links to the corresponding class: :class:`nilearn.connectome.ConnectivityMeasure`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
7,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:35:18,"Here you should use :mod:`nilearn.connectome`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
8,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:38:17,"Here: :func:`nilearn.connectome.sym_to_vec`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
9,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:38:23,"Here: :class:`nilearn.decomposition.DictLearning`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
10,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:40:04,"This shouldn't be in the release notes, as it is not a public-facing object.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
11,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:40:04,"Let's not put this in the release notes: users won't understand what it means.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
12,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:40:04,"Can you please use the 'func', and 'class' syntaxes above, to have links.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
13,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:53:08,"Here: :class:`nilearn.input_data.NiftiSphereMasker`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
14,pull_request_commit_comment,895,nilearn,nilearn,GaelVaroquaux,2015-12-09 16:54:19,"Here: :func:`nilearn.plotting.find_cut_slices`
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
15,pull_request_commit_comment,895,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:18:13,"I would merge it with the line below: New module `...` that proposes ...
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
16,pull_request_commit_comment,895,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:19:32,"I would say `A decomposition method similar to ICA that imposes sparsity on components instead of independance between them.` 
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
17,pull_request_commit_comment,895,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:21:00,"Be more general, people don't know about check_niimg. `Globbing expressions can now be used in all nilearn functions expecting a list of files`.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
18,pull_request_commit_comment,895,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:21:12,"Mix with the line below.
",d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,"(None, '', u'doc/whats_new.rst')"
19,pull_request_commit,895,nilearn,nilearn,KamalakerDadi,2015-12-08 21:33:31,"Trying to cover all new features, functions, classes in whats new html",343b4511141be02828669eb6ca979dc6fd64050f,
20,pull_request_commit,895,nilearn,nilearn,KamalakerDadi,2015-12-09 16:18:04,Added region extractor to whats new,c4844212cfd03c1fc5eba136f94a3ba598dfa2f0,
21,pull_request_commit,895,nilearn,nilearn,KamalakerDadi,2015-12-09 17:35:43,Addressed comments to use the sphinx markup,67abfa6ef624a96fe7115a33f3d610e7e2c08c24,
22,pull_request_commit,895,nilearn,nilearn,KamalakerDadi,2015-12-10 13:41:27,Addressed latest comments,d146d7e70fcfaf8cd96b8fc0b804a0a0eb72fe51,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,924,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:29:26,"Follows PR #645.

To do:
- [x] make the example faster
- [x] use ConnectivityMeasure to estimate the connectome
",start issue,Add example using Power atlas
2,issue_closed,924,nilearn,nilearn,AlexandreAbraham,2016-06-09 21:53:42,,closed issue,Add example using Power atlas
3,pull_request_title,924,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:29:26,"Follows PR #645.

To do:
- [x] make the example faster
- [x] use ConnectivityMeasure to estimate the connectome
",c252370f1f86d244eb68b96c78f0578f18c5daa8,Add example using Power atlas
4,pull_request_merged,924,nilearn,nilearn,AlexandreAbraham,2016-06-09 21:53:42,Add example using Power atlas,dc1f56505404dbbf5c8422983728eb72b8aa6035,Pull request merge from AlexandreAbraham/nilearn:power to nilearn/nilearn:master
5,issue_comment,924,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:52:48,"Note: I'm not sure that all the plots in the example are necessary. I'll let people comment on it.
",,
6,issue_comment,924,nilearn,nilearn,bthirion,2015-12-18 21:37:55,"This kind of example is very useful, thx.
",,
7,pull_request_commit_comment,924,nilearn,nilearn,bthirion,2015-12-18 21:32:30,"print (**doc**) ?
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
8,pull_request_commit_comment,924,nilearn,nilearn,bthirion,2015-12-18 21:32:46,"should be removed ?
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
9,pull_request_commit_comment,924,nilearn,nilearn,bthirion,2015-12-18 21:35:42,"Shouldn't we make the effort to use more specific terms, e.g. 'correlation' rather than 'connectivity' ?
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
10,pull_request_commit_comment,924,nilearn,nilearn,bthirion,2015-12-18 21:37:29,"I think that the output of this example is a bit too messy. You should focus on a  particular model of connectivity, e.g. sparse inverse covariance, and leave the others apart.
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
11,pull_request_commit_comment,924,nilearn,nilearn,GaelVaroquaux,2015-12-18 22:14:50,"> I think that the output of this example is a bit too messy. You should
> focus on a particular model of connectivity, e.g. sparse inverse
> covariance, and leave the others apart.

+1
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
12,pull_request_commit_comment,924,nilearn,nilearn,banilo,2015-12-19 23:06:54,"We don't do the explicit plotting of the file paths etc. as we do it in other examples with fetchers.
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
13,pull_request_commit_comment,924,nilearn,nilearn,banilo,2015-12-19 23:07:19,"a comment here could increase readability for the user
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
14,pull_request_commit_comment,924,nilearn,nilearn,banilo,2015-12-19 23:07:48,"(=partial correlation)
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
15,pull_request_commit_comment,924,nilearn,nilearn,salma1601,2016-01-18 12:02:19,"5 mm
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
16,pull_request_commit_comment,924,nilearn,nilearn,salma1601,2016-01-18 12:03:05,"may be put the diagonal to 0 to better visualize blocks
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
17,pull_request_commit_comment,924,nilearn,nilearn,salma1601,2016-01-18 12:05:15,"for one second this puzzled me because I mixed with the true size of the sphere around the coordinates
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
18,pull_request_commit_comment,924,nilearn,nilearn,KamalakerDadi,2016-01-18 12:31:32,"I could not see the example in CircleCI. Could you rename to new directory? ""03_connectivity""

May be `plot_connectome_power_coords.py`  or `plot_connectome_power_atlas.py` ?
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
19,pull_request_commit_comment,924,nilearn,nilearn,banilo,2016-01-18 23:23:56,"This is an example and almost nobody knows what a ""sparse inverse covariance"" estimation is. Perhaps add some short intuitive explanation here, if the main goal of the example is not to impress by some esoteric lingo.
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
20,pull_request_commit_comment,924,nilearn,nilearn,banilo,2016-01-18 23:24:35,"add comment for the minus here. This could make this example more autonomous from the docs.
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
21,pull_request_commit_comment,924,nilearn,nilearn,GaelVaroquaux,2016-01-19 06:43:58,"> > +# Display the sparse inverse covariance
> 
> (=partial correlation)

Not ""="". Related. The inverse covariance is the negated product of the
partial correlation with the partial variaces of each node.
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
22,pull_request_commit_comment,924,nilearn,nilearn,banilo,2016-01-21 11:26:08,"I know, the point is about adding some comment about like your sentences in the last comment ""The inverse covariance is the negated product of the partial correlation with the partial variaces of each node.""
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
23,pull_request_commit_comment,924,nilearn,nilearn,banilo,2016-01-21 11:27:26,"title -> ""Covariance matrix"" to contrast with the precision plot
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
24,pull_request_commit_comment,924,nilearn,nilearn,banilo,2016-01-21 11:27:43,"title -> ""...:Precision matrix"" to contrast with the covariance matrix plot
",c252370f1f86d244eb68b96c78f0578f18c5daa8,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
25,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:01:58,initial commit,afad774a48cc0ab86a6dca9c8aa08f46dcd956bc,
26,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:32:22,initial commit,16919ac4df6c24c0892cdb1123607e56c2abb7f5,
27,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:01:58,initial commit,bd421986f0481536c85eba23fcadebc339959354,
28,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:32:22,initial commit,163f82ed1a2f2649b68bd532c4901bce97ea3c52,
29,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 12:20:11,various,6de858d7b64923db9de7382649395b4b5396d6b0,
30,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 12:20:11,various,d7700dfd5ba6a4daf9b29e2995b536ba9347cbeb,
31,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-16 09:40:15,"pep8  checker, description of example",90fefef7c58dadcceefa9d7bc2ecddf92b177e37,
32,pull_request_commit,924,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-16 09:40:15,"pep8  checker, description of example",80cf426f5a62f823270060e3718b06872320f1eb,
33,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2015-12-18 15:28:01,Fix stacking bug,18e3a3a64c9ca9d399ee5ceb4dd4763555f6a88f,
34,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2015-12-18 15:28:01,Fix stacking bug,048404dde220c265add49632dd0e700179b961ba,
35,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:47:14,Use ConnectivityMeasure for correlation computation,6ac381e9730a6ceb1807c346408513baae097789,
36,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:47:14,Use ConnectivityMeasure for correlation computation,6e5083f80d4c6878a02d65f3b0f3431d534938ca,
37,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-01-12 13:18:50,Fix title underline,aa6b970a060de4b8d80d3b7ef4eea2249972f232,
38,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-01-15 12:58:08,Fix title underline,e4d1713f1cd3c2eedbd4b1e427f7a47184b2aee7,
39,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:24:57,Replace atlas by coords,b5c8077bc160aa75912142a311387f6119dc4a2e,
40,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:39:14,Fix comments,1039a5cd211fcd785a6a2901b0310660b18b7d93,
41,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-02-19 10:42:01,Update the example,10c49e4525cd9840f0f6bcc171aec10039768aa7,
42,pull_request_commit,924,nilearn,nilearn,AlexandreAbraham,2016-05-23 08:19:57,Fix comments,c252370f1f86d244eb68b96c78f0578f18c5daa8,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,915,nilearn,nilearn,GaelVaroquaux,2015-12-16 11:58:32,"We should add a downloader for the COBRE dataset:
https://figshare.com/articles/COBRE_preprocessed_with_NIAK_0_12_4/1160600

Via @pbellec, who might be able to answer questions about this data.
",start issue,Downloader for COBRE
2,issue_closed,915,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:07,,closed issue,Downloader for COBRE
3,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:22:42,"I think that there is no need to mirror it. However, somebody should dig into the mat files to see if there is any useful information in there.
",,
4,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-23 20:02:41,"But the data ils already in nifti... There is no need for conversion.
",,
5,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-25 09:38:49,"@pbellec, On the website, I see Nifti and .mat files. Aren't the covariates stored in the .mat? In that case, there is no need for conversion, they are readable in Python.

If you have an hdf5 file, can you share it? I already have scripts to convert them to other formats. Maybe I can help.
",,
6,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-01-25 13:17:43,"Oh, OK! Now I get it.
",,
7,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-02-11 12:19:36,"@GaelVaroquaux Should we make an option to download part of the dataset? This dataset will only be used for analysis so I think that people will tend to download the whole stuff and not single subjects.
",,
8,issue_comment,915,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:07,"Fixed in #989.
",,
9,issue_comment,915,nilearn,nilearn,KamalakerDadi,2015-12-17 13:15:46,"> This is the one: nilearn/nilearn_sandbox#1

Yup, the link which @GaelVaroquaux provided has direct downloading of data without in need of asking for password. So, may be adapt code to this weblink or may download data and group upload them in nitrc ? @AlexandreAbraham 
",,
10,issue_comment,915,nilearn,nilearn,pbellec,2015-12-18 15:04:01,"The mat files contain all the covariates that have been regressed out of the data (motion parameters, mean CSF signal, etc). It also contains a list of time frames that have been removed from the time series by censoring for high motion. This means there are missing time points, which is not a problem for correlation, partial correlation, etc but needs to be taken into account as soon as you model the dynamics. 
",,
11,issue_comment,915,nilearn,nilearn,pbellec,2015-12-18 15:05:52,"There is also a csv file with the demographic and clinical variables, as well as a measure of frame displacement (à la power), which is the average FD for all time frames left after censoring. 
",,
12,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2015-12-18 19:36:40,"> It also contains a list of time frames that have been removed from the
> time series by censoring for high motion. This means there are missing
> time points

That's nasty! It means that the data cannot be time-filtered. We
absolutely need to warn people clearly about this in the description of
the data, as they will overlook this fact, and apply eg time filtering.
",,
13,issue_comment,915,nilearn,nilearn,pbellec,2015-12-19 01:03:39,"I see. These data originate for a publication and have already been filtered smoothed etc (check the README.md file for full details by the way). Thinking about it, for the purpose of integration in nilearn, it may be better to have unsmooth data with minimal denoising applied. I could of course package the motion parameters, FD measures, CSF WM signal etc for people to regress out (or censor) if they want, but not enforce these choices on the user. Do you think this would be more useful? If you guys think it's worth it, I'd just make a separate ""minimally preprocessed"" release. 
",,
14,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2015-12-19 10:12:34,"> Thinking about it, for the purpose of integration in nilearn, it may be
> better to have unsmooth data with minimal denoising applied. I could of
> course package the motion parameters, FD measures, CSF WM signal etc
> for people to regress out (or censor) if they want, but not enforce
> these choices on the user.

That would be awesome. We could easily have a switch in the downloader
that would download one or the other. We could also demonstrate in an
example how the NiftiMasker can be used to retrieve the full preprocessed
from the minimally preprocessed.
",,
15,issue_comment,915,nilearn,nilearn,banilo,2015-12-19 22:35:13,"> by censoring for high motion

Isn't this what they call ""scrubbing""?
",,
16,issue_comment,915,nilearn,nilearn,pbellec,2015-12-20 04:47:48,"@GaelVaroquaux Then I'll work on that asap. 
@banilo you're right, the approach applied here is the (Power et al. Neuroimage 2012) scrubbing method, based on their FD measure. Power et al. (Neuroimage 2014) have investigated the idea of replacing the ""bad"" time points by values extrapolated from the ""good"" time points in the regression, and further started using the term censoring. But in this release the bad time points have simply been eliminated. 
",,
17,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-18 15:45:48,"@pbellec Is there any source where I could download all datasets ? At the moment, I can download only data together of size https://ndownloader.figshare.com/articles/1160600/versions/15 1GB. Am I missing something here ?
",,
18,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-23 09:41:04,"Any opinion regarding the format of the data? hdf5 ? 
question received from @pbellec 
",,
19,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2016-01-23 11:06:24,"> Any opinion regarding the format of the data? hdf5 ? question received from @pbellec

hdf5 is not an option as it would be bringing in externel dependencies.

We should abide by http://bids.neuroimaging.io/ Which means that we
should probably be using tab separated files. We can compress them in a
gz file.
",,
20,issue_comment,915,nilearn,nilearn,pbellec,2016-01-12 03:07:53,"Sorry for the delay. Working on it. 
",,
21,issue_comment,915,nilearn,nilearn,pbellec,2016-01-23 20:32:07,"@AlexandreAbraham it's for the covariates that come with the images (motion parameters, average WM and CSF signals, global signal, etc). Currently they are stored in a hdf5 file. I am going to try to format them in tsv files, taking inspiration from bids as @GaelVaroquaux suggests, and I'll see how it goes.   
",,
22,issue_comment,915,nilearn,nilearn,pbellec,2016-02-10 09:30:48,"OK so this turned out to be [much more work](https://github.com/SIMEXP/niak/issues/122) than I had expected, as it forced me to separate the generation of confounds from their actual regression in the niak preprocessing pipeline. But hopefully this will help make the outputs much more re-usable so it's all good. Here is my proposition. 

There will be a file `<subject>_<session>_<run>_n.nii.gz` per subject. The _n suffix is for ""spatially normalized"", a la SPM. Actual processing steps will include: 
1.  Slice timing correction.
2.  Motion estimation (within- and between-run for each label).
3.  Linear and non-linear spatial normalization of the anatomical image.
4.  Coregistration of the anatomical volume with the target volume of 
5.  Concatenation of the T2-to-T1 and T1-to-stereotaxic-nl
6.  Resampling of the functional data in the stereotaxic space.

No regression of confounds, no smoothing. For each dataset, there will be a file `<subject>_<session>_<run>_confounds.tsv.gz`. It is a compressed file of tabulation-separated-values. See an example [here](https://drive.google.com/file/d/0B3fQhLcXWtDRb084YmczQ1lrRDA/view?usp=sharing). Each column is a confound, and the first row is a label. 

The labels will be explained in a separate json file, called [niak_confounds.json](https://drive.google.com/file/d/0B3fQhLcXWtDRNXpfeThTN3Q2eEE/view?usp=sharing). Note that some labels may be used multiple times: there are several covariates for slow time drift for example. I didn't want to include the frequency in the labels, because I did not want the labels to change from one dataset to the other. 

Hopefully, with that type of preprocessed data it will be easy to try alternative regression paths / smoothing directly from nilearn. Please let me know what you think. 

@chrisfilo I have tried to follow the spirit of BIDS here. Please let me know if you think this could be further improved in that direction. 
",,
23,issue_comment,915,nilearn,nilearn,pbellec,2016-02-11 03:50:50,"Not sure how much of a problem this is. Definitely not suitable for a quick tutorial, but this resource opens up possibilities for real data exploration. Would seem reasonable to have an option to download only a portion of the data. Another work-around would be to get time series on, say, 1000 or 3000 brain parcels. @GaelVaroquaux did not seem too keen on this option last time we talked. One last option would be to stick with 4D datasets but go down to a 4 or even 5 mm isotropic resolution. 
",,
24,issue_comment,915,nilearn,nilearn,pbellec,2016-02-12 00:52:49,"Alright, I'll try downsampling, and upload on zenodo. I'll check how fast is the download. I assume you are fine with the new format. Chris has started a document to formalize a BIDS preproc organization, but this is going to take a while so I'll move on with the current format. Will keep you posted. 
",,
25,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-02-10 14:17:51,"So, an impediment here:

I am writing a fetcher for https://figshare.com/articles/COBRE_preprocessed_with_NIAK_0_12_4/1160600  named as ""fully preprocessed"" and download time seems to be more than 1 hour fetching data from link ""Download all"". 

So, question? Any suggestions how to overcome this ? may be if we want to restrict downloading limited subjects ? Ping @GaelVaroquaux @AlexandreAbraham 
",,
26,issue_comment,915,nilearn,nilearn,GaelVaroquaux,2016-02-11 12:24:30,"Unlike @pbellec, I disagree that an hour download is not a problem. It's
a huge one.

However, I think that we should move on. The figshare interface makes it
hard to write code that does partial downloads. Figshare is also clearly
bandwidth limited: the download speed is limited on their side. What I
have in mind is that, in a latter PR, we will create a mirror of the data
on Nitrc, which has a fast download and makes it easier to organize
partial downloads.
",,
27,issue_comment,915,nilearn,nilearn,banilo,2016-01-12 22:35:44,"I am also working with COBRE data...
",,
28,issue_comment,915,nilearn,nilearn,KamalakerDadi,2015-12-16 22:19:26,"I think there is a PR in nilearn sandbox to get started and can be ported here. I guess.
",,
29,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-11 16:32:07,"@pbellec Could you let us know if you have released the package suitable for integration in nilearn ? 
",,
30,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-23 11:32:22,"@GaelVaroquaux Thank you. I will post this opinion to brain hack group.
",,
31,issue_comment,915,nilearn,nilearn,KamalakerDadi,2016-01-25 09:45:27,"I think the format we are discussing about is for new release with minimal preprocessed version.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,802,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:46:54,"Fix #764
",start issue,Rename fetch_atlas_aal_spm_12 to fetch_atlas_aal
2,issue_closed,802,nilearn,nilearn,lesteve,2015-10-27 12:03:05,,closed issue,Rename fetch_atlas_aal_spm_12 to fetch_atlas_aal
3,pull_request_title,802,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:46:54,"Fix #764
",ccda428752b2f45b3140c13cfe181abae09665a5,Rename fetch_atlas_aal_spm_12 to fetch_atlas_aal
4,pull_request_merged,802,nilearn,nilearn,lesteve,2015-10-27 12:03:05,Rename fetch_atlas_aal_spm_12 to fetch_atlas_aal,5c53c02626e6520ad5f4d5b819a1e0aec550e14e,Pull request merge from AlexandreAbraham/nilearn:rename_aal to nilearn/nilearn:master
5,issue_comment,802,nilearn,nilearn,aabadie,2015-10-26 08:17:48,"Sorry @GaelVaroquaux, you mispelled my id so I wasn't notified.
",,
6,issue_comment,802,nilearn,nilearn,aabadie,2015-10-27 09:30:54,"Thanks for fixing the remaining failing test @AlexandreAbraham. To me all is ok with this PR now (LGTM as you all say ;) ). So I guess it can be merged now : @lesteve @GaelVaroquaux  ?
",,
7,issue_comment,802,nilearn,nilearn,GaelVaroquaux,2015-10-22 11:02:28,"@aabadi : do you want to review this?
",,
8,issue_comment,802,nilearn,nilearn,lesteve,2015-10-23 12:34:06,"You need to change the description rst in nilearn/datasets/description/aal_spm_12.rst.

Side remark: it would be nice if we had a way to tests that dataset descriptions were correctly loaded ...
",,
9,issue_comment,802,nilearn,nilearn,lesteve,2015-10-27 12:03:02,"Thanks a lot merging.
",,
10,pull_request_commit_comment,802,nilearn,nilearn,lesteve,2015-10-27 10:11:41,"Stupid question: would the description not be useful irrespective of the SPM version ?
",ccda428752b2f45b3140c13cfe181abae09665a5,"(46, '', u'nilearn/datasets/atlas.py')"
11,pull_request_commit_comment,802,nilearn,nilearn,AlexandreAbraham,2015-10-27 11:53:17,"I wonder. The actual file can fit any SPM AAL version but if one day we decide to add an atlas from another source, we may need another file. I have no strong feeling about this ATM.
",ccda428752b2f45b3140c13cfe181abae09665a5,"(46, '', u'nilearn/datasets/atlas.py')"
12,pull_request_commit_comment,802,nilearn,nilearn,lesteve,2015-10-27 12:02:54,"Me neither so let's keep it like this for now.
",ccda428752b2f45b3140c13cfe181abae09665a5,"(46, '', u'nilearn/datasets/atlas.py')"
13,pull_request_commit,802,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:45:51,"Rename fetch_atlas_aal_spm_12 to fetch_atlas_aal
Fix #764",0f62e3163744458395c0b12ffc5f42adcab2748b,
14,pull_request_commit,802,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:35:25,Fix error message. Add test.,56be929f2f486e7e21f3e2f5f6329154abf47116,
15,pull_request_commit,802,nilearn,nilearn,AlexandreAbraham,2015-10-26 10:28:53,Add tests to detect description loading. Fix bugs.,6a60028c54cc6ea12e3bb175c0b105e5dbff72da,
16,pull_request_commit,802,nilearn,nilearn,AlexandreAbraham,2015-10-26 10:33:46,Fix archive structure and add default value in docstring.,497cb85919c2b540236e190a35c83ff0d8bff63c,
17,pull_request_commit,802,nilearn,nilearn,AlexandreAbraham,2015-10-26 20:45:30,Fix test,ccda428752b2f45b3140c13cfe181abae09665a5,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,919,nilearn,nilearn,lesteve,2015-12-17 14:18:44,"The main goal is to be able to generate nilearn doc with python 3.

Fix #888.
",start issue,[MRG] Update numpydoc sphinxext
2,issue_closed,919,nilearn,nilearn,lesteve,2016-01-04 10:44:29,,closed issue,[MRG] Update numpydoc sphinxext
3,pull_request_title,919,nilearn,nilearn,lesteve,2015-12-17 14:18:44,"The main goal is to be able to generate nilearn doc with python 3.

Fix #888.
",12c7dc85f3a2633c49a572a73082402d9145b5b9,[MRG] Update numpydoc sphinxext
4,pull_request_merged,919,nilearn,nilearn,lesteve,2016-01-04 10:44:29,[MRG] Update numpydoc sphinxext,986cd313d527d5ab90467f489b4fad1c4bbc41d1,Pull request merge from lesteve/nilearn:update-numpydoc-sphinxext to nilearn/nilearn:master
5,issue_comment,919,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:15:37,"I don't get most of this PR but the generated doc looks fine so +1.
",,
6,pull_request_commit_comment,919,nilearn,nilearn,lesteve,2015-12-17 14:20:34,"This is the slightly magical bit of this PR. I am not sure what that does but it does remove warnings created by some interaction between numpydoc and autosummary. I checked and the reference documentation still looks fine.
",12c7dc85f3a2633c49a572a73082402d9145b5b9,"(17, '', u'doc/conf.py')"
7,pull_request_commit,919,nilearn,nilearn,lesteve,2015-12-17 10:13:16,Update numpydoc to 0.5,b27db85e33fd51aee95795c22c716429598fc2ee,
8,pull_request_commit,919,nilearn,nilearn,lesteve,2015-12-17 14:07:07,Remove warnings due to interation between autosummary and numpydoc,12c7dc85f3a2633c49a572a73082402d9145b5b9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,846,nilearn,nilearn,dohmatob,2015-11-20 02:20:06,"`nilearn.decomposition.multi_pca.session_pca` seems to be a very low-level helper function (undocumented params, etc.)
",start issue,session_pca function should be private / protected
2,issue_closed,846,nilearn,nilearn,lesteve,2015-11-20 09:40:02,,closed issue,session_pca function should be private / protected
3,issue_comment,846,nilearn,nilearn,lesteve,2015-11-20 09:40:02,"> See PR #693, it will be refactored

That's what I kind of thought, closing.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,883,nilearn,nilearn,bthirion,2015-12-02 18:27:20,"So far, this is only documentation of the default behavior. I try to commit doc contribution later tonight...
",start issue,[MRG] Bg image intensity
2,issue_closed,883,nilearn,nilearn,bthirion,2015-12-03 12:41:36,,closed issue,[MRG] Bg image intensity
3,pull_request_title,883,nilearn,nilearn,bthirion,2015-12-02 18:27:20,"So far, this is only documentation of the default behavior. I try to commit doc contribution later tonight...
",89cb90966842523950195b2cad791fdebd34797d,[MRG] Bg image intensity
4,issue_comment,883,nilearn,nilearn,bthirion,2015-12-02 22:14:53,"That makes sense.

My point was the following; this functionally has remained unseen so 
far, how can we improve upon this ? My idea was to document this 
explicitly through example + documentation.
Please not also that actually no t-test is done here (""doing a t-test 
with nilearn is really something that we want to showcase"" ).
",,
5,issue_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:18:13,"> Please not also that actually no t-test is done here (""doing a t-test
> with nilearn is really something that we want to showcase"" ).

OK. Then I must say that I didn't understand the example.

I am thinking of one example that displays the same thing (eg a t-map
from the localizer) but with 3 different values of dim.
",,
6,issue_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:41:30,"I pushed such an example in #885. I think that it showcases dim quite well.
",,
7,issue_comment,883,nilearn,nilearn,bthirion,2015-12-02 22:44:00,"OK, the PR is in better shape now...
",,
8,issue_comment,883,nilearn,nilearn,bthirion,2015-12-03 12:39:48,"Should I delfate that one to the first commit ?
",,
9,issue_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:40:37,"> Should I delfate that one to the first commit ?

Sorry, I already cherry-picked that one: it is now in master. Thanks a
lot for your contribution.
",,
10,pull_request_commit_comment,883,nilearn,nilearn,lesteve,2015-12-02 18:38:07,"Add parentheses to be Python3 compatible.
",89cb90966842523950195b2cad791fdebd34797d,"(None, '', u'examples/manipulating_visualizing/plot_spms.py')"
11,pull_request_commit_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-02 19:28:53,"Is there a reason why you are not using the default figure of plot_stat_map (here and above)?

I would try to avoid as much as possible importing matplotlib in the examples, in order to avoid having to teach it to beginners.
",89cb90966842523950195b2cad791fdebd34797d,"(None, '', u'examples/manipulating_visualizing/plot_spms.py')"
12,pull_request_commit_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-02 19:29:59,"Could you use the new notebook-style type of splitting: first a long line of ""#"" and then, right below, the comment. This will ensure that the example is well rendered by sphinx gallery.
",89cb90966842523950195b2cad791fdebd34797d,"(None, '', u'examples/manipulating_visualizing/plot_spms.py')"
13,pull_request_commit_comment,883,nilearn,nilearn,GaelVaroquaux,2015-12-02 21:59:39,"Overall, I am not sure what this example is bringing: I don't think that doing a t-test with nilearn is really something that we want to showcase, so I am not sure what the function of this example is.
",89cb90966842523950195b2cad791fdebd34797d,"(1, '', u'examples/manipulating_visualizing/plot_spms.py')"
14,pull_request_commit_comment,883,nilearn,nilearn,bthirion,2015-12-02 22:34:20,"OK, my comments make more sense with the new commit, sorry for the noise.
",89cb90966842523950195b2cad791fdebd34797d,"(1, '', u'examples/manipulating_visualizing/plot_spms.py')"
15,pull_request_commit,883,nilearn,nilearn,bthirion,2015-12-02 11:38:30,Updated the docstrings of img_plotting,fe9cb421b1cd178803188a4dbaef135a846816e8,
16,pull_request_commit,883,nilearn,nilearn,bthirion,2015-12-02 11:39:37,added an example,5c90dd8239702d769bfa90ddb81b30dd71f94a2c,
17,pull_request_commit,883,nilearn,nilearn,bthirion,2015-12-02 22:33:05,Fixed the example,d87cb8e8070fdd50a8da80a9cf0e4301534a57a8,
18,pull_request_commit,883,nilearn,nilearn,bthirion,2015-12-02 22:42:42,Documentation updated,89cb90966842523950195b2cad791fdebd34797d,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,809,nilearn,nilearn,aabadie,2015-10-30 16:44:29,"As reported in #808, a lot of nilearn tests are failing on windows. There's an issue with the path ot the datasets.

Here is one of the failing ci run : https://ci.appveyor.com/project/aabadie/nilearn/build/job/htt98au0b1j0hxnq
",start issue,Failing tests on windows
2,issue_closed,809,nilearn,nilearn,lesteve,2015-11-09 14:36:59,,closed issue,Failing tests on windows
3,issue_comment,809,nilearn,nilearn,aabadie,2015-11-02 09:10:37,"> The path problems should be easy to fix

It seems the environ variables are not correctly set on windows. Trying to fix this.
",,
4,issue_comment,809,nilearn,nilearn,aabadie,2015-11-02 09:17:26,"> It seems the environ variables are not correctly set on windows. Trying to fix this.

Forget about this. The problem is in the logic of _get_dataset_dir
",,
5,issue_comment,809,nilearn,nilearn,aabadie,2015-11-02 15:04:17,"> You are going to be very limited memory-wise if you want to use nilearn on a 32bit platform

I'm testing locally using a 64 bit version of python and also have the same ""OverflowError: Python int too large to convert to C long"" issue. This problem seems to be related to a call to joblib.Parallel in function ""permuted_ols"" that I don't fully understand.

I could hopefully fix the path related issues.
",,
6,issue_comment,809,nilearn,nilearn,aabadie,2015-11-02 16:46:10,"I created PR #814 

Remaining issues:
- ""OverflowError: Python int too large to convert to C long"" raised in mass_univariate ""permuted_ol"" function. Some help will be greatly appreciated for this one.
- More problematic is the one concerning the access to multiple opened file at the same time on windows. For example:

``` python
with tempfile.NamedTemporaryFile(suffix='.txt') as fp:
    f = open(fp.name, 'w+b')
    f.write('toto')
    f.close()
```

will fail with the error message: """"""PermissionError: [Errno 13] Permission denied: 'C:\Users\ALEXAN~1\AppData\Local\Temp\tmpuuihk6z6.txt""""""
Same story with:

``` python
with tempfile.NamedTemporaryFile(suffix='.txt') as fp:
    with open(fp.name, 'w+b') as fpp:
        f.write('toto')
```

And this strategy is used intensively in nilearn/plotting/tests/test_img_plotting.py. I could fix the issue here using a temporary string variable and process the filename outside the ""with"" block.
But it's the same kind of context manager behavior used with the function write_tmp_imgs in _utils/testing.py to remove the temporary files on the fly. Here it breaks quite a few tests.
",,
7,issue_comment,809,nilearn,nilearn,aabadie,2015-11-03 08:12:33,"@GaelVaroquaux, I agree. But now in the test (see test_img_plotting.py, function test_plot_anat), we use it like what I described above:

``` python
with tempfile.TemporaryFile(suffix='.png') as fp:
    z_slicer.savefig(fp.name) # savefig open another descriptor internally => permission error
```

Using the code below works (of course) but I need a confirmation of the solution:

``` python
filename = """"
with tempfile.TemporaryFile(suffix='.png') as fp:
    filename = fp.name

# tempfile has been removed when exiting the previous context
z_slicer.savefig(filename) # Opens and creates the file again
os.remove(filename)
```
",,
8,issue_comment,809,nilearn,nilearn,aabadie,2015-11-03 08:15:59,"@GaelVaroquaux, about the overflow error, I made a simple test:

``` python
import numpy as np
a = np.arange(10)
print(a.dtype)
```
- result on windows (using anaconda python 3.4, 64 bits): int32
- result on linux (using same anaconda python 3.4, 64 bits): int64

I think built numpy/scipy provided by anaconda are 32 bits on windows which explains this issue.
",,
9,issue_comment,809,nilearn,nilearn,aabadie,2015-11-03 08:17:41,"> Can you try with a = np.zeros(10) and tell us what you get?

float64...I'm lost
",,
10,issue_comment,809,nilearn,nilearn,aabadie,2015-11-03 11:00:03,"> OK, so it's indeed a 64bit install, but the default integer is 32bit.
> Interesting.

I created #819 which hopefully (and magically) fixed the issue
",,
11,issue_comment,809,nilearn,nilearn,aabadie,2015-11-04 07:48:22,"> With the 2 PRs merged, is there still something failing under Windows?

@GaelVaroquaux, yes PR #814 is still pending. There are also
 other problems with context manager in _create_tmp_imgs test utility function that I'd like to fix today.
",,
12,issue_comment,809,nilearn,nilearn,aabadie,2015-11-04 15:19:50,"We are getting closer to complete this issue. Just a summary of what is remaining:
- Lots of remaining issues like: 

```
  File ""C:\softs\src\nilearn\nilearn\_utils\testing.py"", line 144, in write_tmp_imgs
    os.remove(filename)
PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: 'C:\\Users\\ALEXAN~1\\AppData\\Local\\Temp\\nilearn_iu926ggu.nii'
```

I tried what @GaelVaroquaux suggested IRL without success. I also tried to remove the contextlib decorator and get the filenames using `list(write_tmp_imgs())` but then it breaks the initial test logic. I need some help on those ones.
- Appveyor raises 3 other issues with python 2.7 but I can't reproduce them locally, see the 3 last ones [here](https://ci.appveyor.com/project/nilearn-ci/nilearn/build/1.0.14/job/nlmqm87exiihnss6)
- I fixed a couple of other ones : one write permission issue was remaining and there was an issue with some the mode parameter of some call to np.memmap.
",,
13,issue_comment,809,nilearn,nilearn,aabadie,2015-11-05 15:50:55,"@GaelVaroquaux, all tests are passing now on Windows. Just to let you know, we disabled matplotlib as it makes the python interpreter crash at exit with python 3.4. I cannot reproduce this behavior on my system. It's a bit weird.

All the rest is ok.

Maybe we can close this issue (along with #804 until the webhook is added to github).
",,
14,issue_comment,809,nilearn,nilearn,aabadie,2015-11-09 14:26:12,"> For the record, I have added the AppVeyor webhook but it doesn't show in PRs at the moment. I need to investigate more

I confirmed the request sent to nilearn-ci (it uses my personal email). Is it ok now ?
",,
15,issue_comment,809,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:35:08,"With the 2 PRs merged, is there still something failing under Windows?
",,
16,issue_comment,809,nilearn,nilearn,GaelVaroquaux,2015-11-04 08:05:01,"OK, I just merged #814 
I'll let you tackle the rest and create a PR.
",,
17,issue_comment,809,nilearn,nilearn,lesteve,2015-11-09 10:14:47,"> Maybe we can close this issue (along with #804 until the webhook is added to github).

For the record, I have added the AppVeyor webhook but it doesn't show in PRs at the moment. I need to investigate more ...
",,
18,issue_comment,809,nilearn,nilearn,lesteve,2015-11-09 14:35:15,"To make a long story short, I had to give nilearn-ci write permission in github, revoke the github link you made in AppVeyor and reauthorize it as nilearn-ci.

One of the resource that was actually helpful:
http://help.appveyor.com/discussions/kb/4-show-multiple-statuses-in-github-pull-requests#comment_36808437

I think this should be OK now, look at https://github.com/nilearn/nilearn/pull/613 (the failure is expected by the way)
",,
19,issue_comment,809,nilearn,nilearn,lesteve,2015-11-09 14:36:57,"Closing this one I'll open a new issue about the matplotlib segmentation fault on AppVeyor.
",,
20,issue_comment,809,nilearn,nilearn,lesteve,2015-11-02 09:00:12,"The path problems should be easy to fix.

The `nilearn.tests.test_signal.test_clean_confounds` one not so sure.
",,
21,issue_comment,809,nilearn,nilearn,lesteve,2015-11-02 14:45:50,"Also chatting with @GaelVaroquaux you want to set-up the tests on a 64bit architecture and forget about the 32bit ones. You are going to be very limited memory-wise if you want to use nilearn on a 32bit platform.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,909,nilearn,nilearn,SylvainTakerkart,2015-12-15 10:17:03,"Hello!

I'm trying to use the searchlight object, but I need to have access to the scores_ maps for each fold of the cv... Starting from the haxby example, I tried to modify the code as follows by removing the cv argument and the looping over the cv object (scikit-learn style):

``` python
for train_index, test_index in cv:
    # define train and test datasets
    fmri_img_train = index_img(fmri_img, train_index)
    fmri_img_test = index_img(fmri_img, test_index)
    y_train = y[train_index]
    y_test = y[test_index]
    searchlight = nilearn.decoding.SearchLight(
        mask_img,
        process_mask_img=process_mask_img,
        radius=5.6, n_jobs=n_jobs,verbose=1)
    searchlight.fit(fmri_img_train, y_train)
    searchlight.predict(fmri_img_test)
```

but there's no 'predict' method... then I read the doc of the searchlight class, and it says that if no cv is given, it does a 3-fold cv... so I'm stuck now!

Any clue on how to do this?

Thanks,

Sylvain
",start issue,searchlight without cv
2,issue_closed,909,nilearn,nilearn,SylvainTakerkart,2015-12-16 11:03:31,,closed issue,searchlight without cv
3,issue_comment,909,nilearn,nilearn,eickenberg,2015-12-15 13:31:52,"For 2. : You can use

from sklearn.cross_validation import ShuffleSplit
cv = ShuffleSplit(n_samples, n_iter=1, test_size=.5)

where test_size needs to be set to the fraction of data or the number of
data points that you want in your test fold.

On Tue, Dec 15, 2015 at 2:29 PM, SylvainTakerkart notifications@github.com
wrote:

> OK, thanks Gael, and yes, that's what I want! Two more questions then...
> 
>    1.
> 
>    for info, how is searchlight.scores_ computed?
>    2.
> 
>    can you guide me (at least to get me started) on how to design CV
>    object with just one fold?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/909#issuecomment-164764993.
",,
4,issue_comment,909,nilearn,nilearn,eickenberg,2015-12-15 13:57:13,"Then maybe: define `cv` however you want, and then

```

results = []
for cv_item in cv:
    one_cv = [cv_item]
    results.append(do_searchlight_analysis(one_cv))


On Tue, Dec 15, 2015 at 2:54 PM, SylvainTakerkart <notifications@github.com>
wrote:

> thanks, but, once again, I think my question was not properly framed,
> sorry... I actually want to do a LeaveOneLabelOut cv... so now, I'd need to
> construct several cvs which would correspond to each fold of my
> LeaveOneLabelOut cv
>
> —
> Reply to this email directly or view it on GitHub
> <https://github.com/nilearn/nilearn/issues/909#issuecomment-164771785>.
>
```
",,
5,issue_comment,909,nilearn,nilearn,sgagnon,2017-05-29 19:36:55,"How is the searchlight.scores_ map computed, if not by taking the mean across CV folds? It looks like the code is taking the mean across the folds (i.e., the output from `cross_val_scores` - an array of scores (shape = (len(list(cv)),)) of the estimator for each run of the cross validation). 

https://github.com/nilearn/nilearn/blob/master/nilearn/decoding/searchlight.py#L166",,
6,issue_comment,909,nilearn,nilearn,sgagnon,2017-05-30 13:45:45,"Thanks for the reply. I have a pretty good idea about how the searchlight object works, I'm just specifically focused on how `searchlight.scores_` is computed, given the earlier comment in this thread where ""_from what I understand, the searchlight.scores_ map is the average of the maps I'm looking for_"" (@SylvainTakerkart) was followed with a direct reply stating that ""_searchlight.scores_ map is not computed that way_."" My confusion is related to the specific code ~line 166 in `nilearn/decoding/searchlight.py` which says the following:

`par_scores[i] = np.mean(cross_val_score(estimator, X[:, row], y, cv=cv, n_jobs=1, **kwargs))`

Given this code, I'm confused how searchlight.scores_ is *not* simply the mean across CVs, given that `cross_val_score` returns an array of scores of shape = (len(list(cv)),) of the estimator for each run of the cross validation.",,
7,issue_comment,909,nilearn,nilearn,banilo,2015-12-15 22:53:04,"One way to view this would be: searchlight performs repeated local function approximation and maps the results to each voxel of the brain (this is why a single predict is ambiguous), whereas other whole-brain classifiers would act on the brain, globally (predict then makes sense).
",,
8,issue_comment,909,nilearn,nilearn,SylvainTakerkart,2015-12-15 13:13:50,"Hey, thanks for your feedback, but I think my question was not clear... Let me try to rephrase...

I'm trying to do a searchlight analysis where I would have access to the classification accuracy maps of each fold of the cv that I pass with cv=cv... Any suggestion on how to do this? (from what I understand, the searchlight.scores_ map is the average of the maps I'm looking for)

Sylvain
",,
9,issue_comment,909,nilearn,nilearn,SylvainTakerkart,2015-12-15 13:29:18,"OK, thanks Gael, and yes, that's what I want! Two more questions then...
1. for info, how is searchlight.scores_ computed?
2. can you guide me (at least to get me started) on how to design CV object with just one fold?
",,
10,issue_comment,909,nilearn,nilearn,SylvainTakerkart,2015-12-15 13:54:32,"thanks, but, once again, I think my question was not properly framed, sorry... I actually want to do a LeaveOneLabelOut cv... so now, I'd need to construct several cvs which would correspond to each fold of my LeaveOneLabelOut cv
",,
11,issue_comment,909,nilearn,nilearn,SylvainTakerkart,2015-12-15 22:34:46,"excellent, that does the job, thanks a lot!!

other than that, I would still be interested in knowing how searchlight.scores_ is computed... thanks in advance!
",,
12,issue_comment,909,nilearn,nilearn,SylvainTakerkart,2015-12-16 11:03:31,"ok, thanks everybody!

(I guess you could also view the searchlight in yet another way for which having a predict method would make sense, but you probably have thought this through more than me ;) )
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,851,nilearn,nilearn,dohmatob,2015-11-22 14:30:39,"Fixes issue #849.
",start issue,[BF] Fixes issue #849
2,issue_closed,851,nilearn,nilearn,GaelVaroquaux,2015-11-23 13:00:40,,closed issue,[BF] Fixes issue #849
3,pull_request_title,851,nilearn,nilearn,dohmatob,2015-11-22 14:30:39,"Fixes issue #849.
",3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,[BF] Fixes issue #849
4,pull_request_merged,851,nilearn,nilearn,GaelVaroquaux,2015-11-23 13:00:40,[BF] Fixes issue #849,19dd66aee0d705e8f46a1e198308227d678ad5a5,Pull request merge from dohmatob/nilearn:not_fitted to nilearn/nilearn:master
5,issue_comment,851,nilearn,nilearn,GaelVaroquaux,2015-11-23 13:00:38,"LGTM. Merging
",,
6,pull_request_commit_comment,851,nilearn,nilearn,banilo,2015-11-22 14:32:30,"rather ""has not been fitted..""?
",3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,"(None, '', u'nilearn/decoding/space_net.py')"
7,pull_request_commit_comment,851,nilearn,nilearn,AlexandreAbraham,2015-11-22 14:33:13,"Is it compliant with the minimal version of sklearn requested? I think this error is something recent.
",3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,"(None, '', u'nilearn/decoding/space_net.py')"
8,pull_request_commit_comment,851,nilearn,nilearn,dohmatob,2015-11-22 14:43:04,"Oops!, it didn't occur to me. I'll just issue a RuntimeError then.

On Sun, Nov 22, 2015 at 3:33 PM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> In nilearn/decoding/space_net.py
> https://github.com/nilearn/nilearn/pull/851#discussion_r45559572:
> 
> > @@ -18,6 +18,7 @@
> >  from functools import partial
> >  import numpy as np
> >  from scipy import stats, ndimage
> > +from sklearn.exceptions import NotFittedError
> 
> Is it compliant with the minimal version of sklearn requested? I think
> this error is something recent.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/851/files#r45559572.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,"(None, '', u'nilearn/decoding/space_net.py')"
9,pull_request_commit_comment,851,nilearn,nilearn,dohmatob,2015-11-22 14:43:25,"This is the phrasing from sklearn.

On Sun, Nov 22, 2015 at 3:32 PM, Danilo Bzdok notifications@github.com
wrote:

> In nilearn/decoding/space_net.py
> https://github.com/nilearn/nilearn/pull/851#discussion_r45559567:
> 
> > @@ -939,6 +940,9 @@ def predict(self, X):
> >              Predicted class label per sample.
> >          """"""
> >          # cast X into usual 2D array
> > -        if not hasattr(self, ""masker_""):
> > -            raise NotFittedError(""This %s instance is not fitted yet"" % (
> 
> rather ""has not been fitted..""?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/851/files#r45559567.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,"(None, '', u'nilearn/decoding/space_net.py')"
10,pull_request_commit,851,nilearn,nilearn,dohmatob,2015-11-22 13:25:50,Fixes issue #849,3439c3cddf92c40dc6b33feb1f104d3ecf5bf39a,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,865,nilearn,nilearn,mrahim,2015-12-02 09:43:51,"Fix issue #863 
",start issue,DOC: adding a section on NiftiSpheresMasker
2,issue_closed,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:09:26,,closed issue,DOC: adding a section on NiftiSpheresMasker
3,pull_request_title,865,nilearn,nilearn,mrahim,2015-12-02 09:43:51,"Fix issue #863 
",df41e49682d2dc70982774fc1ff20c845a94edf5,DOC: adding a section on NiftiSpheresMasker
4,pull_request_merged,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:09:26,DOC: adding a section on NiftiSpheresMasker,a47501864d5615b84c5b64bd141d68701c0cf4af,Pull request merge from mrahim/nilearn:doc_spheres to nilearn/nilearn:master
5,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:50:24,"Can you give an example here: one line of code that shows the typical input.

The reason being that for a user beginner in Python, it may not be clear what you are talking about.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
6,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:51:26,"It seems that this is redundant with the section before. I wonder if we should have 3 subsections, or just two paragraphs.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
7,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:53:55,"I am sorry, I don't understand the last sentence.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
8,pull_request_commit_comment,865,nilearn,nilearn,mrahim,2015-12-02 10:04:50,"I agree. I tried to follow the previous sections but two paragraphs might be enough.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
9,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:05:35,"> I tried to follow the previous sections but two paragraphs might be enough.

Don't feel obliged.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
10,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:04:10,"I was thinking to give an actual example here, maybe copy-pasting the code from the example.

The reason being that the 'start-after' / 'end-before' tend to break as soon as we do a refactoring of the examples, and we don't see it.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
11,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:07:54,"I finally understood what you meant. I think that I would rephrase this as:

If no value is given for the radius argument, the single voxel at the given locus is used.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
12,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:08:07,"s/locus/seed position/
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
13,pull_request_commit_comment,865,nilearn,nilearn,GaelVaroquaux,2015-12-02 14:08:29,"Can you add '>>>' at the beginning of the line, that way it get run by doctests.
",df41e49682d2dc70982774fc1ff20c845a94edf5,"(None, '', u'doc/manipulating_visualizing/data_preparation.rst')"
14,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 09:41:50,DOC: adding a section on NiftiSpheresMasker,13aae54d5a61f4c2ee998a6fac355fd1aaadde4e,
15,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 10:54:52,DOC: addressing Gael comments,a57394bb09b55897fcb24faf57b6cf8c9d5d49d2,
16,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 13:34:11,DOC: NiftiSphereMasker,fcb841b8904d913870f1b88030881b3aa72387bd,
17,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 14:13:24,DOC: NiftiSphereMasker,aef4541ee7e4c23f4808c4c190f204975b86116f,
18,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 16:48:02,DOC: NiftiSpheresMasker,98874d80ecd58017dea373d33c9cf2976ff270d8,
19,pull_request_commit,865,nilearn,nilearn,mrahim,2015-12-02 17:05:07,DOC: NiftiSpheresMasker,df41e49682d2dc70982774fc1ff20c845a94edf5,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,875,nilearn,nilearn,dohmatob,2015-12-02 14:35:46,"Fixes issue #872.
",start issue,[MRG+1] BF: IndexError in fast_abs_percentile
2,issue_closed,875,nilearn,nilearn,lesteve,2015-12-03 17:10:18,,closed issue,[MRG+1] BF: IndexError in fast_abs_percentile
3,pull_request_title,875,nilearn,nilearn,dohmatob,2015-12-02 14:35:46,"Fixes issue #872.
",9f2270095382866c4c2ac471c9085d7871d9ef97,[MRG+1] BF: IndexError in fast_abs_percentile
4,pull_request_merged,875,nilearn,nilearn,lesteve,2015-12-03 17:10:18,[MRG+1] BF: IndexError in fast_abs_percentile,9a2cd018f4cb35c59c8655d33dc238012421a96e,Pull request merge from dohmatob/nilearn:fix-872 to nilearn/nilearn:master
5,issue_comment,875,nilearn,nilearn,dohmatob,2015-12-03 15:25:26,"Normally, all comments have been addressed.
",,
6,issue_comment,875,nilearn,nilearn,lesteve,2015-12-03 15:31:37,"> Normally, all comments have been addressed.

This looks great, thanks a lot! Let's wait for the CI servers and hopefully merge this when they come back all green.
",,
7,issue_comment,875,nilearn,nilearn,GaelVaroquaux,2015-12-03 15:36:14,"Thanks Elvis; it's super useful to fix such bugs. They are showstoppers
for non-advanced users. For us, advanced users, they bug us right before
deadlines, and thus make us loose a lot of time.
",,
8,issue_comment,875,nilearn,nilearn,lesteve,2015-12-03 17:10:13,"Test are all green, merging, thanks a lot!
",,
9,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 16:16:57,"Can you shuffle it? This is the reason the test were passing before with the completely broken implementation of fast_abs_percentile.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
10,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 16:20:19,"Just curious about the human psyche, why do you feel the need to add your own pet markup that is not used anywhere else in the file?

Aside from that, I don't this comments adds a lot.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
11,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 16:20:25,"Same thing.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
12,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 16:21:33,"You are not using iris at all, right?
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
13,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 16:22:16,"I don't think test_extmath.py is the right place to test find_xyz_cut_coords. The additional imports at the top of the file should be removed too.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
14,pull_request_commit_comment,875,nilearn,nilearn,dohmatob,2015-12-02 16:47:19,"On Wed, Dec 2, 2015 at 5:16 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/tests/test_extmath.py
> https://github.com/nilearn/nilearn/pull/875#discussion_r46435121:
> 
> > @@ -8,11 +8,16 @@
> > 
> >  from nilearn._utils.extmath import fast_abs_percentile, is_spd
> > 
> > +from sklearn.datasets import load_iris
> > +from ..image import mean_img
> > +from ..decoding.tests.test_same_api import to_niimgs
> > +from ..plotting.find_cuts import find_xyz_cut_coords
> > +
> > 
> >  def test_fast_abs_percentile():
> >      data = np.arange(1, 100)
> 
> Can you shuffle it? This is the reason the test were passing before with
> the completely broken implementation of fast_abs_percentile.
> 
> Good catch. Worst still the data array is not even used...
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/875/files#r46435121.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
15,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 17:07:45,"I am not sure it is a great idea to have `data` and the percentiles we are checking to be identical. Basically you want to check the 10%, 20%, ..., 90% percentiles of `data` and `data` can be anything.  
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
16,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 17:09:35,"In other words, I would still have `data` a shuffle of `np.arange(1, 100)` and `percentiles_to_check = range(10, 100, 10)`.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
17,pull_request_commit_comment,875,nilearn,nilearn,dohmatob,2015-12-02 17:18:21,"@Loic: this PR is solely meant to fix an Index error. Those tests existed
independently of the index error. These comments have nothing to do with
current PR (lest, we'll end up having to modify tests in NiftiMasker, e.g)

On Wed, Dec 2, 2015 at 6:07 PM, Loïc Estève notifications@github.com
wrote:

> In nilearn/tests/test_extmath.py
> https://github.com/nilearn/nilearn/pull/875#discussion_r46442948:
> 
> >  from nilearn._utils.extmath import fast_abs_percentile, is_spd
> > 
> >  def test_fast_abs_percentile():
> > -    data = np.arange(1, 100)
> > -    for p in range(10, 100, 10):
> > -        yield nose.tools.assert_equal, fast_abs_percentile(data, p - 1), p
> > -    rng = check_random_state(1)
> > -    data = np.arange(10, 100, 10)
> > -    rng.shuffle(data)
> > -    for p in data:
> 
> I am not sure it is a great idea to have data and the percentiles we are
> checking to be identical. Basically you want to check the 10%, 20%, ...,
> 90% percentiles of data and data can be anything.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/875/files#r46442948.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
18,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 17:37:06,"> Those tests existed independently of the index error.

:confused: what I am trying to get at is to leave the tests as they were, except for the shuffle which I think was a big flaw since it gave us false confidence that fast_abs_percentile was working when it wasn't.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
19,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-02 17:38:43,"> what I am trying to get at is to leave the tests as they were

Obviously you do need the 
`nose.tools.assert_equal, fast_abs_percentile(data, p), p`
rather than
`nose.tools.assert_equal, fast_abs_percentile(data, p - 1), p`

to get the tests to pass.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/tests/test_extmath.py')"
20,pull_request_commit_comment,875,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:16:42,"We usually use absolute imports in tests, so that they can be run as scripts.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')"
21,pull_request_commit_comment,875,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:18:44,"Would you mind moving this line up, before the nilearn imports, to separate nilearn imports from the rest.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')"
22,pull_request_commit_comment,875,nilearn,nilearn,lesteve,2015-12-03 14:10:32,"I can reproduce a similar error with:

``` python
import numpy as np

import nibabel

from nilearn.plotting.find_cuts import find_xyz_cut_coords

data = np.array([
    [[1., 2.],
     [3., 4.]],
    [[0., 0.],
     [0., 0.]]])

img = nibabel.Nifti1Image(data, np.eye(4))

find_xyz_cut_coords(img)

```

i.e. no need to resort to load_iris, to_niimgs and mean_img.
",9f2270095382866c4c2ac471c9085d7871d9ef97,"(None, '', u'nilearn/plotting/tests/test_find_cuts.py')"
23,pull_request_commit,875,nilearn,nilearn,dohmatob,2015-12-02 14:33:42,BF: Fixes issue #872,193497df33fc9982c658f7ee19d36488479f9f96,
24,pull_request_commit,875,nilearn,nilearn,dohmatob,2015-12-03 15:22:30,bullet-proofing fast_abs_percentile function against various bugs,9f2270095382866c4c2ac471c9085d7871d9ef97,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,892,nilearn,nilearn,banilo,2015-12-04 19:34:49,"Given that there is now sparse PCA and (sparse) dictionary learning, how about implementing _structured_ sparse PCA into the nilearn arsenal in the future?

cf.
http://arxiv.org/abs/0909.1440
",start issue,Feature Request: Structured Sparse PCA
2,issue_closed,892,nilearn,nilearn,GaelVaroquaux,2016-01-15 06:51:20,,closed issue,Feature Request: Structured Sparse PCA
3,issue_comment,892,nilearn,nilearn,bthirion,2015-12-04 21:10:45,"I would not make this a priority, because efficiency should be improved before going to more complex versions of sparse PCA. Also, it unclear to me what is the best suited structured dictionary: why not TV-l1 regularized ?
",,
4,issue_comment,892,nilearn,nilearn,banilo,2015-12-04 21:34:57,"SSPCA could be interesting for unsupervised questions and TV-l1 for
supervised questions.

2015-12-04 22:10 GMT+01:00 bthirion notifications@github.com:

> I would not make this a priority, because efficiency should be improved
> before going to more complex versions of sparse PCA. Also, it unclear to me
> what is the best suited structured dictionary: why not TV-l1 regularized ?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/892#issuecomment-162082770.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,645,nilearn,nilearn,amadeuskanaan,2015-07-13 10:33:38,"needs another look at edge thresholding
",start issue,power 264 connectome example
2,issue_closed,645,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:30:03,,closed issue,power 264 connectome example
3,pull_request_title,645,nilearn,nilearn,amadeuskanaan,2015-07-13 10:33:38,"needs another look at edge thresholding
",eef22342780686978953425805d47cdf1809b838,power 264 connectome example
4,issue_comment,645,nilearn,nilearn,AlexandreAbraham,2015-12-18 13:29:55,"Thanks for your work, I'm going to take care of the last details in another PR.
",,
5,issue_comment,645,nilearn,nilearn,lesteve,2015-07-17 10:42:20,"The example doesn't work for me because power_coords is an array with a dtype=[('x', '<i8'), ('y', '<i8'), ('z', '<i8')] and shape (264,).

The definition for power_coords needs to be amended:

``` python
power_coords = power.rois[['x', 'y', 'z']]
```

I believe you need to use a vstack as in examples/connectivity/plot_probabilistic_atlas_extraction.py
",,
6,issue_comment,645,nilearn,nilearn,lesteve,2015-07-17 17:02:17,"vstack sounds good enough to me, not strong difference in pythonicity.
",,
7,issue_comment,645,nilearn,nilearn,amadeuskanaan,2015-07-16 09:41:17,"done
",,
8,issue_comment,645,nilearn,nilearn,amadeuskanaan,2015-07-17 10:49:54,"i could use vstack or 

``` python
power_coords = [(i[1], i[2], i[3]) for i in power.rois]
```

whats more pythonic ?
",,
9,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:35:10,"This is equivalent to: `power_coords = power.rois[['x', 'y', 'z']]`.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
10,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:39:59,"`datasets.fetch_adhd(n_subjects=1)`
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
11,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2015-07-13 11:41:38,"Missing blank line for PEP8 compliance.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
12,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:13:12,"Could you remove this empty line.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
13,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:14:42,"Could you install a pep8 checker: this code does not satisfy pep8 standard (it has whitespace surrounding equal signs in the keyword arguments).
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
14,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:16:13,"pep8 violation here also.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
15,pull_request_commit_comment,645,nilearn,nilearn,GaelVaroquaux,2015-07-15 11:16:46,"I would remove the line above.
",eef22342780686978953425805d47cdf1809b838,"(None, '', u'examples/connectivity/plot_power_connectome.py')"
16,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:00:52,"present progressive does not appear the most natural style choice at this point
",eef22342780686978953425805d47cdf1809b838,"(2, '', u'examples/connectivity/plot_power_connectome.py')"
17,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:02:38,"A minor thing but: beginners could be wondering why you are switching between `plt` and `plotting`. Perhaps simply?
",eef22342780686978953425805d47cdf1809b838,"(69, '', u'examples/connectivity/plot_power_connectome.py')"
18,pull_request_commit_comment,645,nilearn,nilearn,banilo,2015-12-19 23:03:43,"perhaps add: negated = partial correlations
",eef22342780686978953425805d47cdf1809b838,"(75, '', u'examples/connectivity/plot_power_connectome.py')"
19,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:27:41,"Fixed.
",eef22342780686978953425805d47cdf1809b838,"(2, '', u'examples/connectivity/plot_power_connectome.py')"
20,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:28:24,"plt is pyplot, plotting is nilearn. There is no simple way to handle it.
",eef22342780686978953425805d47cdf1809b838,"(69, '', u'examples/connectivity/plot_power_connectome.py')"
21,pull_request_commit_comment,645,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:29:42,"This is not partial correlation but sparse inverse covariance.
",eef22342780686978953425805d47cdf1809b838,"(75, '', u'examples/connectivity/plot_power_connectome.py')"
22,pull_request_commit_comment,645,nilearn,nilearn,banilo,2016-02-22 16:01:35,"what signals? ""resting-state signals"" could make this sentence more explict
",eef22342780686978953425805d47cdf1809b838,"(5, '', u'examples/connectivity/plot_power_connectome.py')"
23,pull_request_commit_comment,645,nilearn,nilearn,banilo,2016-02-22 16:05:54,"That is a lot of steps in one line for a tutorial example. In particular, perhaps do the `arctanh` in a separate line with a comment why you do this scaling.
",eef22342780686978953425805d47cdf1809b838,"(42, '', u'examples/connectivity/plot_power_connectome.py')"
24,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:01:58,initial commit,f8cdb242bdea44ac787e3b95a40c3a42009d2c35,
25,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 10:32:22,initial commit,f6576e710ac5d424e08e850df8c0a7a47f1e6bdd,
26,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-13 12:20:11,various,9369cad6560c954b71b3716b194679c2cdb94318,
27,pull_request_commit,645,nilearn,nilearn,amadeus.kanan@gmail.com,2015-07-16 09:40:15,"pep8  checker, description of example",eef22342780686978953425805d47cdf1809b838,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,816,nilearn,nilearn,ignatenkobrain,2015-11-03 06:21:01,"``` python
======================================================================
FAIL: nilearn.image.tests.test_image.test_mean_img
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/site-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/builddir/build/BUILD/nilearn-78f1cb0cf6c929a540cc5f90e5ea052caa47383a/nilearn/image/tests/test_image.py"", line 244, in test_mean_img
    assert_array_equal(mean_img.get_data(), truth)
  File ""/usr/lib/python2.7/site-packages/numpy/testing/utils.py"", line 782, in assert_array_equal
    verbose=verbose, header='Arrays are not equal')
  File ""/usr/lib/python2.7/site-packages/numpy/testing/utils.py"", line 708, in assert_array_compare
    raise AssertionError(msg)
AssertionError: 
Arrays are not equal

(mismatch 4.28571428571%)
 x: memmap([[[ 0.335135,  0.447316,  0.435278,  0.430124,  0.132739,  0.230898,
          0.276916],
        [ 0.463399,  0.333535,  0.330124,  0.319001,  0.469296,  0.539532,...
 y: array([[[ 0.335135,  0.447316,  0.435278,  0.430124,  0.132739,  0.230898,
          0.276916],
        [ 0.463399,  0.333535,  0.330124,  0.319001,  0.469296,  0.539532,...
>>  raise AssertionError('\nArrays are not equal\n\n(mismatch 4.28571428571%)\n x: memmap([[[ 0.335135,  0.447316,  0.435278,  0.430124,  0.132739,  0.230898,\n          0.276916],\n        [ 0.463399,  0.333535,  0.330124,  0.319001,  0.469296,  0.539532,...\n y: array([[[ 0.335135,  0.447316,  0.435278,  0.430124,  0.132739,  0.230898,\n          0.276916],\n        [ 0.463399,  0.333535,  0.330124,  0.319001,  0.469296,  0.539532,...')


----------------------------------------------------------------------
```
",start issue,[32bit] nilearn.image.tests.test_image.test_mean_img: Arrays are not equal
2,issue_closed,816,nilearn,nilearn,lesteve,2015-11-12 14:50:57,,closed issue,[32bit] nilearn.image.tests.test_image.test_mean_img: Arrays are not equal
3,issue_comment,816,nilearn,nilearn,aabadie,2015-11-03 07:32:45,"@GaelVaroquaux, the overflow is the same. I don't think I have the other one. 
",,
4,issue_comment,816,nilearn,nilearn,aabadie,2015-11-03 08:00:44,"@GaelVaroquaux, still about the overflow, be aware that my architecture is not i686 but x84_64 with windows.
",,
5,issue_comment,816,nilearn,nilearn,aabadie,2015-11-05 16:51:54," @ignatenkobrain we recently merged fixes for the same kind of issues you have with i686 architecture. Can you try to run the tests again with latest master and check if your problems are still there ?

Thanks !
",,
6,issue_comment,816,nilearn,nilearn,aabadie,2015-11-06 08:30:28,"Thanks @ignatenkobrain. 
What is your setup exactly ? So I can try to reproduce.
",,
7,issue_comment,816,nilearn,nilearn,aabadie,2015-11-06 08:38:52,"Thanks, that should be enough. I'll try with a 32 bit VM of fedora locally.
",,
8,issue_comment,816,nilearn,nilearn,aabadie,2015-11-06 10:28:41,"I could reproduce the issue.
pinging @lesteve just to have his opinion.

To me, there's a precision issue here between 32 bit and 64 bit. The arrays are almost equal. Replacing assert_equal with assert_allcose and using a tolerance of float64 resolution does the job. 

I created #828 but it might not be a fully satisfactory fix.
",,
9,issue_comment,816,nilearn,nilearn,ignatenkobrain,2015-11-05 19:42:13,"hi @aabadie ! One issue still persist on 32bit. I updated started topic with only remaining problem.
",,
10,issue_comment,816,nilearn,nilearn,ignatenkobrain,2015-11-06 08:35:05,"Packages installation log (all packages installs from repository): https://copr-be.cloud.fedoraproject.org/results/ignatenkobrain/neurofedora/fedora-rawhide-i386/00134863-python-nilearn/root.log.gz
There is all versions and packages I have in buildroot.

Build log: https://copr-be.cloud.fedoraproject.org/results/ignatenkobrain/neurofedora/fedora-rawhide-i386/00134863-python-nilearn/build.log.gz

I hope this is enough info, @aabadie. Let me know if I can provide some more info or help.
",,
11,issue_comment,816,nilearn,nilearn,ignatenkobrain,2015-11-06 08:46:32,"On centos you can download src.RPM and do:
`mock -r fedora-rawhide-i386 --verbose --no-cleanup-after /path/to/src.rpm` and once it will fail do: `mock -r fedora-rawhide-i386 --shell` and all stuff will be available under /buildroot/BUILD/.

SRPM: https://ignatenkobrain.fedorapeople.org/neurofedora/python-nilearn-0.1.5-0.dev.2git78f1cb0.fc24.src.rpm

If nilearn uses nibabel or other nipy stuff - modify /etc/mock/fedora-......cfg and add

```
[ignatenkobrain-neurofedora]
name=Copr repo for neurofedora owned by ignatenkobrain
baseurl=https://copr-be.cloud.fedoraproject.org/results/ignatenkobrain/neurofedora/fedora-$releasever-$basearch/
enabled=1
```

In the bottom.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,837,nilearn,nilearn,bcipolli,2015-11-10 12:13:25,"`_fetch_file` and `_fetch_files` claim that `data_dir` is optional (it is not) and that it can be `None` (it cannot be). Fix here is to change the docstrings.

It's worth noting that parameter order in the two functions is opposite: `_fetch_file(url, data_dir, ...)` vs. `_fetch_files(data_dir, files, ...)`. An additional change here could be to flip the parameters of one (I think `_fetch_files(files, data_dir, ...)` would be the way to go.
",start issue,Update _fetch_file* docstring.
2,issue_closed,837,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:29:25,,closed issue,Update _fetch_file* docstring.
3,pull_request_title,837,nilearn,nilearn,bcipolli,2015-11-10 12:13:25,"`_fetch_file` and `_fetch_files` claim that `data_dir` is optional (it is not) and that it can be `None` (it cannot be). Fix here is to change the docstrings.

It's worth noting that parameter order in the two functions is opposite: `_fetch_file(url, data_dir, ...)` vs. `_fetch_files(data_dir, files, ...)`. An additional change here could be to flip the parameters of one (I think `_fetch_files(files, data_dir, ...)` would be the way to go.
",1763bcda0a2127ab36bb52acec7f5df9a3d6e5b2,Update _fetch_file* docstring.
4,pull_request_merged,837,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:29:24,Update _fetch_file* docstring.,a69ef36bef1848f4f721efa9570af4a46f3d87d9,Pull request merge from bcipolli/nilearn:fetch-file-doc to nilearn/nilearn:master
5,issue_comment,837,nilearn,nilearn,AlexandreAbraham,2015-11-10 12:16:25,"1. Agreed. There has been a refactoring that changed the behavior of `data_dir` and I forgot to update the doc.
2. +1 for the switching. I can also do it if you want.
",,
6,issue_comment,837,nilearn,nilearn,bcipolli,2015-11-10 12:31:44,"Sure, if you don't mind to do it, that would help--I have some other changes I'm working on to use `_fetch_files` for the neurovault case (URLs with querystrings don't work well).
",,
7,issue_comment,837,nilearn,nilearn,AlexandreAbraham,2015-11-10 12:36:08,"Since it's not that important, maybe we can wait that your PR is over to prevent conflicts? It's not a big flaw since it's not exposed to the user.

When all is green, I'll merge this PR anyway.
",,
8,issue_comment,837,nilearn,nilearn,bcipolli,2015-11-10 12:38:26,"Either way. My PR will take some time to complete and merge, and I don't mind fixing any conflict. Whatever work for you! Thanks!
",,
9,pull_request_commit,837,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 12:10:57,DOC: Update _fetch_file* docstring.,1763bcda0a2127ab36bb52acec7f5df9a3d6e5b2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,864,nilearn,nilearn,lesteve,2015-12-01 10:31:39,"Add this as a separate entry in the Travis build matrix. For now this
entry is marked as ""allowed_failures"".
- add flake8_diff.sh that finds the common ancestor between the branch
  and upstream/master (or origin/master) and flake8 the diff with respect
  to this common ancestor
- general .travis.yml refactor to follow more closely the Travis-CI docs.
- move each build step into its own script
- additional SKIP_TESTS environment variable to be able to skip the
  tests. This is useful when you only want to do the flake8 --diff part
- Ignore 'module level import not at top of file' in setup.cfg, because
  we have plenty of those in our examples.
",start issue,[MRG] Flake8 diff in pull requests
2,issue_closed,864,nilearn,nilearn,lesteve,2016-01-11 09:46:02,,closed issue,[MRG] Flake8 diff in pull requests
3,pull_request_title,864,nilearn,nilearn,lesteve,2015-12-01 10:31:39,"Add this as a separate entry in the Travis build matrix. For now this
entry is marked as ""allowed_failures"".
- add flake8_diff.sh that finds the common ancestor between the branch
  and upstream/master (or origin/master) and flake8 the diff with respect
  to this common ancestor
- general .travis.yml refactor to follow more closely the Travis-CI docs.
- move each build step into its own script
- additional SKIP_TESTS environment variable to be able to skip the
  tests. This is useful when you only want to do the flake8 --diff part
- Ignore 'module level import not at top of file' in setup.cfg, because
  we have plenty of those in our examples.
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,[MRG] Flake8 diff in pull requests
4,pull_request_merged,864,nilearn,nilearn,lesteve,2016-01-11 09:46:02,[MRG] Flake8 diff in pull requests,259685606eea0eff2db7a608031627a18980085e,Pull request merge from lesteve/nilearn:flake8-diff to nilearn/nilearn:master
5,issue_comment,864,nilearn,nilearn,ogrisel,2016-01-08 14:28:01,"LGTM
",,
6,issue_comment,864,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:35:06,"@ogrisel: can you review this PR? We are somewhat thinking of it as a POC for something that could go in scikit-learn.
",,
7,issue_comment,864,nilearn,nilearn,lesteve,2016-01-08 14:12:29,"Does someone want to review this one in more details ?

The additional build is allowed to fail in Travis so there won't be any impact on build status and we can refine the flake8 checking after having learned how useful it is.
",,
8,issue_comment,864,nilearn,nilearn,lesteve,2015-12-16 15:09:23,"> Coverage decreased (-0.8%) to 92.767% 

Interesting glitch in coveralls given that I haven't touched a python file in this PR. Will relaunch to see whether it is just temporary.
",,
9,issue_comment,864,nilearn,nilearn,lesteve,2016-01-11 09:46:00,"I am going to merge this one and try to monitor the allowed failures in Travis to learn more about how to refine it.
",,
10,pull_request_commit_comment,864,nilearn,nilearn,lesteve,2015-12-01 10:34:55,"Someone with more git-fu than me may know this. I couldn't figure out a way to get the equivalent on $REMOTE/master without checking a branch locally ...
The problem comes from the fact that Travis checks out a single branch like this:

```
git clone --depth=50 --branch=test https://github.com/lesteve/nilearn.git lesteve/nilearn
```

So even doing `git fetch origin` upstream/master, origin/master is not going to show up in `git branch -r`.
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(None, '', u'continuous_integration/flake8_diff.sh')"
11,pull_request_commit_comment,864,nilearn,nilearn,ogrisel,2015-12-16 09:43:15,"Maybe try: `remotes/upstream/master` instead?
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(None, '', u'continuous_integration/flake8_diff.sh')"
12,pull_request_commit_comment,864,nilearn,nilearn,ogrisel,2016-01-08 14:23:48,"Do you have an idea of this performance impact of a full fetch on a project like nilearn and on a large project like scikit-learn?
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(8, '', u'continuous_integration/flake8_diff.sh')"
13,pull_request_commit_comment,864,nilearn,nilearn,ogrisel,2016-01-08 14:27:07,"Maybe add a comment to explain which error it is and why it needs to be ignored in the context of flake8_diff.
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(None, '', u'setup.cfg')"
14,pull_request_commit_comment,864,nilearn,nilearn,lesteve,2016-01-08 14:38:48,"I haven't tried yet. The thing to bear in mind is that the Travis build that does the flake8 checks doesn't run tests so I would expect the unshallowing not to matter that much in practice. Also note that if you run this script locally the unshallowing won't need to happen (at least in most cases).
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(8, '', u'continuous_integration/flake8_diff.sh')"
15,pull_request_commit_comment,864,nilearn,nilearn,lesteve,2016-01-08 14:58:13,"For completeness here are some very rough timings compared for the time `git clone --depth 50` (which is what Travis does at the time of writing) and `git fetch --unshallow`:

|  | git clone depth 50 | git unshallowing |
| --- | --- | --- |
| scikit-learn | 10s | 40s |
| joblib | 1-2s | 2-3s |
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(8, '', u'continuous_integration/flake8_diff.sh')"
16,pull_request_commit_comment,864,nilearn,nilearn,ogrisel,2016-01-08 15:00:36,"> The thing to bear in mind is that the Travis build that does the flake8 checks doesn't run tests so I would expect the unshallowing not to matter that much in practice.

Alright then!
",5ff76db267e2b7d25784842fcd1fad9caeddaa1b,"(8, '', u'continuous_integration/flake8_diff.sh')"
17,pull_request_commit,864,nilearn,nilearn,lesteve,2015-12-01 10:21:01,"TRAVIS: flake8 diff in pull requests

Add this as a separate entry in the Travis build matrix. For now this
entry is marked as ""allowed_failures"".

* add flake8_diff.sh that finds the common ancestor between the branch
and upstream/master (or origin/master) and flake8 the diff with respect
to this common ancestor
* general .travis.yml refactor to follow more closely the Travis-CI docs.
* move each build step into its own script
* additional SKIP_TESTS environment variable to be able to skip the
  tests. This is useful when you only want to do the flake8 --diff part
* Ignore 'module level import not at top of file' in setup.cfg, because
  we have plenty of those in our examples.",aae508cda795d6e2587b6ffc525af9e6c0447152,
18,pull_request_commit,864,nilearn,nilearn,lesteve,2015-12-16 12:38:12,"Make sure that $REMOTE/master exists

rather than fetching $REMOTE/master into local branch.
Also some improvement on the script output to separate the flake8 output",64719c661c30673e8cda16cab15d24082b75f48b,
19,pull_request_commit,864,nilearn,nilearn,lesteve,2016-01-08 15:55:26,Add comment about ignored PEP8 error messages in setup.cfg,5ff76db267e2b7d25784842fcd1fad9caeddaa1b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,820,nilearn,nilearn,aabadie,2015-11-03 16:50:49,"Fixes the write permissions on windows mentionned in #809 
",start issue,[MRG] fixing write permission error on windows
2,issue_closed,820,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:26:57,,closed issue,[MRG] fixing write permission error on windows
3,pull_request_title,820,nilearn,nilearn,aabadie,2015-11-03 16:50:49,"Fixes the write permissions on windows mentionned in #809 
",60a81d88434b3eed8be6525754a8c0e78b6cd0e7,[MRG] fixing write permission error on windows
4,pull_request_merged,820,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:26:57,[MRG] fixing write permission error on windows,a9d5470907d9daffd8cfb41849764bd9a77814a9,Pull request merge from aabadie/nilearn:fix_write_permissions_win to nilearn/nilearn:master
5,issue_comment,820,nilearn,nilearn,AlexandreAbraham,2015-11-03 17:00:08,"LGTM
",,
6,issue_comment,820,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:26:50,"LGTM. Merging. Thanks @aabadie !
",,
7,pull_request_commit,820,nilearn,nilearn,aabadie,2015-11-03 16:44:09,fixing write permission error on windows,60a81d88434b3eed8be6525754a8c0e78b6cd0e7,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,807,nilearn,nilearn,GaelVaroquaux,2015-10-29 21:44:36,"There is no easy to have a colorbar in plot_connectome. We need to add this, controlled by a 'colorbar' argument.
",start issue,Add a colorbar to plot_connectome
2,issue_closed,807,nilearn,nilearn,lesteve,2016-02-26 06:14:04,,closed issue,Add a colorbar to plot_connectome
3,issue_comment,807,nilearn,nilearn,lesteve,2015-11-03 15:21:53,"> @GaelVaroquaux Can you be more explicit about no easy ? Will _colobar_show in displays.py be not useful here ?

I remember playing with this a while ago and I vaguely remember that it wasn't that simple to reuse our colorbar code. From my notes:

the colorbar stuff is done in add_overlay
so that passing cmap=edge_cmap and colorbar=True in plot_glass_brain
doesn't do anything ...

Something I hacked together in img_plotting.py (not even sure that was working TBH)

``` python
    display = plot_glass_brain(None,
                               display_mode=display_mode,
                               figure=figure, axes=axes, title=title,
                               annotate=annotate,
                               black_bg=black_bg)

    class PseudoImage(object):
        def __init__(self, norm, cmap):
            self.norm = norm
            self.cmap = cmap

    from matplotlib import colors
    norm = colors.Normalize(vmin=-1, vmax=1)
    display._colorbar_show(PseudoImage(norm, edge_cmap), None)

    display.add_graph(adjacency_matrix, node_coords,
                      node_color=node_color, node_size=node_size,
                      edge_cmap=edge_cmap, edge_threshold=edge_threshold,
                      edge_kwargs=edge_kwargs, node_kwargs=node_kwargs)

```

Also I am not sure whether we want to make the colorbar depend on the values of the adjacency matrix.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,806,nilearn,nilearn,KamalakerDadi,2015-10-28 08:59:23,"Fixes #717 

Added:
- Fetcher
- Example
- Doc
- Tests
",start issue,[MRG] New fetcher for Megatrawls Netmats
2,issue_closed,806,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:54:45,,closed issue,[MRG] New fetcher for Megatrawls Netmats
3,pull_request_title,806,nilearn,nilearn,KamalakerDadi,2015-10-28 08:59:23,"Fixes #717 

Added:
- Fetcher
- Example
- Doc
- Tests
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,[MRG] New fetcher for Megatrawls Netmats
4,pull_request_merged,806,nilearn,nilearn,AlexandreAbraham,2016-01-12 09:54:45,[MRG] New fetcher for Megatrawls Netmats,9c0b43d43e8449fbce789b7a41d73411b6d0de94,Pull request merge from KamalakerDadi/nilearn:fetch_megatrawls_netmats to nilearn/nilearn:master
5,issue_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-10 12:43:46,"I have addressed your comments @bthirion @AlexandreAbraham 
",,
6,issue_comment,806,nilearn,nilearn,lesteve,2015-11-12 07:54:12,"This needs a rebase.
",,
7,issue_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-27 08:49:53,"@lesteve I have addressed your comments.
",,
8,issue_comment,806,nilearn,nilearn,KamalakerDadi,2015-12-17 13:46:43,"@lesteve @AlexandreAbraham Any more reviews on this ?
",,
9,issue_comment,806,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:18:00,"Apart from my comment about output, I'm +1.
",,
10,issue_comment,806,nilearn,nilearn,KamalakerDadi,2015-12-22 07:40:03,"@AlexandreAbraham Just to inform you that I addressed your comments. It would be nice to have a look whenever you have time. Thanks.
",,
11,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:28:36,"Should we really handle lists of options or should we let the user do the loop on its own if he wants them all? @GaelVaroquaux @lesteve 
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
12,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:29:17,"`n_networks` or `n_components` would be better.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
13,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:29:48,"Here too we should find another wording.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
14,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 10:30:06,"I am with giving options to choose.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
15,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:30:10,"You do not return a Bunch here.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
16,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:31:33,"Or maybe we could just always return them all.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
17,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 10:31:51,"Please load the files before returning them to the user.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
18,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 10:37:56,"By default, it will return all.But, I thought it would be nice to have options to choose.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
19,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 12:33:39,"Can we stick to `n_dimensionalities` ? since all the strings are named as 'd'. There would be 
confusion to users.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
20,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 12:36:19,"May be this `timeseries`. To be consistent with the names 'ts'.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
21,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 12:41:49,"Can we not stick to returning path of the text files? I see confounds in some fetchers are returned the same.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
22,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-10-28 13:58:07,"is -> has been or just remove this comment. I don't think it adds a lot of value.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
23,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-10-28 14:00:01,"Can you add a rst for the description in nilearn/datasets/description and a test that the description is correctly loaded?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
24,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 14:09:13,"Well, I was thinking of removing the 'd' and make it an integer.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
25,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 14:10:23,"Yes but we should not let the user choose between ""ts2"" or ""ts3"". We should find better wordings.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
26,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-10-28 14:12:48,"Confounds are not loaded because the masker do it automagically. It is very likely for matrices to be fed to sklearn estimators that won't load them. But we should wait for @lesteve and @GaelVaroquaux to give their mind.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
27,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 14:21:49,"I feel returning the paths can have an option to user to look if he fetched the right files. If we returned values if user does some mistake in giving input then it would be hard to identify.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
28,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-10-28 14:27:57,"Fixed
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
29,pull_request_commit_comment,806,nilearn,nilearn,bthirion,2015-10-30 21:42:42,"I'd rather put ""The network matrices are estimated from functional connectivity datasets of 461 subjects. ""
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
30,pull_request_commit_comment,806,nilearn,nilearn,bthirion,2015-10-30 21:45:44,"Sorry, but it is not crystal-clear to me what ""eigen regression"" refers to. Could you possibly give a reference here ?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
31,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:48:13,"Shorten the two sentences:

```
See :func:`nilearn.datasets.fetch_megatrawls_netmats` documentation for more details.
```
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
32,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:49:44,"You probably want to use a red/blue colormap like in other examples when we plot connectivity matrices.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
33,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:49:46,"This is not a list ...
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
34,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:50:51,"Maybe ""Plotting correlation matrices"" instead?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
35,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:53:21,"Typo: Possible
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
36,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:54:07,"Just use ""by default"" rather than ""if chosen to be default"". This is valid for a few other places as well.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
37,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:55:12,"no capital after a comma. You have done that in multiple places.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
38,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:57:06,"you don't need parentheses
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
39,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:57:32,"don't need the outer parentheses
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
40,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 08:58:17,"Just curious, do the `_` at the end of the variable names carry a special meaning?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
41,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-02 10:10:25,"Thanks I will change.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
42,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-02 10:10:39,"I will change to `dict_`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
43,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-02 10:14:10,"Nothing special. I will change it.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
44,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 10:19:21,"As a comment, two reasons I know of for using final underscores:
- avoid shadowing a builtin like list
- scikit-learn convention for attributes that depends on data

IMHO final underscores are not that great for readability, especially when you have `some_variable` and `some_variable_` in the same function.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
45,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-02 10:21:18,"It is better to have a meaningful name for viariables. `correlation_matrices` is probably better in this case.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
46,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-02 10:24:01,"Noted
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
47,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 12:23:38,"> It is better to have a meaningful name for viariables

+100
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
48,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-02 12:28:27,"Why the capital C in Correlation?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
49,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-03 16:28:08,"ping @AlexandreAbraham @lesteve @GaelVaroquaux @bthirion 
Any suggestions for a better naming to `choice_dimensionality` and `choice_timeseries` ?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
50,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-03 16:51:11,"`choice_dimensionality` -> `n_components` with value in [25, 50, 100, 200, 300] with default ?
`choice_timeseries` -> `timeseries_regression` with value in ['multiple-spatial-regression', 'eigenregression'] with default 'eigenregression'.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
51,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-03 17:01:25,"Ok sounds good. Then, most of the lines need to be replaced. Present code well adapted to string. I will wait for others for a final decision.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
52,pull_request_commit_comment,806,nilearn,nilearn,bthirion,2015-11-03 21:21:37,"`choice_dimensionality` -> why not `dimensionality` or even `dimension` ?
`choice_timeseries` -> `regression_mode`
I would also replace 'eigenregression' with 'eigen_regression' and 'multiple-spatial-regression' with 'multiple_spatial_regression'
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
53,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:31:32,"We use ""Correlation"" rather than ""Full correlation"".
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
54,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:37:01,"None is actually not permitted according to the docs.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
55,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:40:24,"Why don't you give the user the choice between `correlation` and `partial_correlation`?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
56,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:41:35,"Could you load the matrices and not return filepaths?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
57,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:42:05,"How is the user supposed to know which file corresponds to the timeseries / dimensionality he asked for?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
58,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-10 15:35:16,"For dimensionality = 25 and timeseries='eigen_regression' for example:
Output filename: 3T_Q1-Q6related468_MSMsulc_d25_ts3 where `d25` and `ts3` is what you have asked for ?

I have mentioned in the Returns doc saying that ts3 is eigen_regression and ts2 is multiple_spatial_regression. To keep it with Megatrawls naming.

And also worth to mention that we  uploaded in NITRC with these file naming. 
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
59,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:23:33,"You know how the filename is formatted but the user does not. Plus, you have to load the matrices before returning them so the user won't know what is the original filename.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
60,pull_request_commit_comment,806,nilearn,nilearn,bthirion,2015-11-11 22:18:27,"If possible, a better reference would be welcome. I believe that this what @alexsavio pointed to in #841.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
61,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:03:31,"Detail: if you start a new line, you can fit this the `for` loop on 2 lines.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
62,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:05:48,"You don't need this.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
63,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:06:06,"`for file_netmat in files_netmats:`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
64,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:06:25,"`data_dir, file_netmats, resume=resume, verbose=verbose)`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
65,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:08:30,"There is nothing to join here.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
66,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-16 09:38:36,"Several problems in your function:
- you have 2 `for` loops: one to fetch the files, one to load them. They can be merged.
- you have 3 for loops intricated for the 3 parameters. You can factorize that using itertools
- you generate a string for each item of the dataset. That mean that, if I want to have the matrices of dimensionality 20, I'll have to parse your string, which is inconvenient, you can use 3 lists instead.
- there is no reason to call `_fetch_files` several times since you only download one file

So I would write:

``` python
    dataset_name = 'Megatrawls'
    data_dir = _get_dataset_dir(dataset_name, data_dir=data_dir, verbose=verbose)
    description = _get_dataset_descr(dataset_name)

    # Generate all combinations
    dims, tseries, mats = list(zip(*list(itertools.product(dimensionalities, timeseries, matrices))))
    files = []
    ts_map = dict(multiple_spatial_regression='ts2', eigen_regression='ts3')
    mat_map = dict(correlation='Znet1.txt', partial_correlation='Znet2.txt')
    for dim, tserie, mat in zip(dims, tseries, mats):
        filepath = os.path.join('3T_Q1-Q6related468_MSMsulc_d%d_%s' % (dim, ts_map[tserie]), mat_map[mat])
        files.append((filepath, url, opts))

    # Fetch all files
    files = _fetch_files(data_dir, files, resume=resume, verbose=verbose)

    # Load them
    files = [csv_to_array(f) for f in files]

    # Build the output bunch
    return Bunch(
        description=description,
        dimensionality=dims,
        timeseries=tseries,
        matrices=mats,
        data=files)
```

A good thing can also be to replace the `data` element by `correlation` and `partial_correlation` or both when pertinent.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
67,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-20 11:54:12,"You can take a look at the test for Harvard Oxford fetching in test_atlas.py. Before fetching, we create a dummy XML file otherwise the function crash:

``` python
    dummy = open(os.path.join(ho_dir, 'HarvardOxford-Cortical.xml'), 'w')
    dummy.write(""<?xml version='1.0' encoding='us-ascii'?> ""
                ""<metadata>""
                ""</metadata>"")
    dummy.close()

    ho = atlas.fetch_atlas_harvard_oxford(target_atlas,
                                          data_dir=tst.tmpdir)
```

The problem is that your dummy file must be loadable by `csv_to_array` and empty files are not. You can, for exemple, replace the call of `csv_to_array` by `np.gen_from_txt` directly. You can also determine the filepaths that will be loaded by the function and make them non empty:

``` python
    for dim in [25, 100, 200, 300]:
        dummy = open(
            os.path.join(tst.tmp_dir,
                         'Megatrawls',
                         '3T_Q1-Q6related468_MSMsulc_d%d_ts3' % dim , 'Znet2.txt'), 'w')
        dummy.write(""1"")
        dummy.close()
```
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
68,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-11-20 12:01:49,"Overriding the local version of `csv_to_array` should work too:

``` python

def do_nothing(*args, **kwargs):
    return np.zeros((0,))

func.csv_to_array = do_nothing
```
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
69,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-26 08:23:43,"You can use with `open(...) as` to simplify slightly the code (you don't need the .close line)
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
70,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-26 08:24:14,"Can you add a comment explaining why you need to create these mock files?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
71,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-26 08:26:07,":confused: what are you trying to test here? assert_true takes two arguments:

```
Signature: assert_true(expr, msg=None)
```
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
72,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-26 08:27:40,"It would be great to test that the invalid value is part of the error message. Also I would really make it obvious which one it is for people not familiar with this fetcher, i.e. call it 'invalid_input' rather than 'a10', 'multiple_sptial_regression', etc ...
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
73,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-26 08:30:05,"Use assert_raises_regex with an error message just for explicitness
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
74,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-11-27 08:51:52,"Well, here I know we could test more than this. Any suggestions would be welcome.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
75,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-27 16:45:14,"you didn't use the name of the key here, I guess `description: ...`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
76,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 08:04:02,"This comment hasn't been tackled yet.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
77,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 08:24:35,"That's plotting only one matrix, right? If yes, just a naming suggestion: `plot_matrix(matrix, title)`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
78,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 08:27:02,"matrices is a plural, use `matrix` instead
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
79,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 08:27:11,"Idem
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
80,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 08:27:26,"You don't need parentheses here
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
81,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:07:01,"You should probably use tuples for default arguments. Using mutable arguments as defaults is one of the Python gotchas. See http://docs.python-guide.org/en/latest/writing/gotchas/#mutable-default-arguments for example.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
82,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:08:45,"""Valid inputs"" seem slightly better.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
83,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:10:30,"This should be a comma: ""For full technical details about each method, refer to [3] [4] [5].""
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
84,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:11:23,"I tend to use the python types, here, i.e. bool rather than boolean, str rather than string. In this case I would say:

str or list of str, optional
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
85,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:12:05,"Maybe valid ""inputs"" are: ...
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
86,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:13:27,"""partially downloaded"" seems to win the google contest against ""partly downloaded""
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
87,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:13:53,"Data -> data
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
88,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:15:48,"You can use else here. In other words there is no point using elif if your elif condition is the negation of your if condition.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
89,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:16:59,"should be **a** list, maybe you can use `collections.Sequence` rather than list, i.e. you could argue tuple could work.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
90,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-11-30 09:28:54,"Check each key content, e.g.:

``` python
assert_equal(correlations.dimensions_partial, [25, 100, 200, 300])
assert_equal(correlations.timeseries_partial=['eigen_regression'] * 4
# etc...
```

Side-comment: correlations is not a great name, maybe just megatrawl_dataset or something similar.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
91,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-12-17 14:24:15,":confused: why don't you say `isinstance(inputs, collection.SequenceType)` or something like that if you want your inputs to be a list.

Also amend the error message to say ""sequence"" and show the type of the inputs.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/_utils/param_validation.py')"
92,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-12-17 14:26:18,"This doesn't seem like this is general enough to be in _utils.param_validation. Why not put it next to your fetch_megatrawls function?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/_utils/param_validation.py')"
93,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-12-17 14:27:33,"You should really really really configure your editor to run pyflake8. This would have shown you that izip is unused.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/_utils/param_validation.py')"
94,pull_request_commit_comment,806,nilearn,nilearn,KamalakerDadi,2015-12-17 14:31:30,"You mean port this function directly into func.py or code ?

Why is it not do you think ?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/_utils/param_validation.py')"
95,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-12-17 14:57:05,"Answered that IRL.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/_utils/param_validation.py')"
96,pull_request_commit_comment,806,nilearn,nilearn,lesteve,2015-12-17 15:04:33,"This import doesn't seem to be used.
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(4, '', u'nilearn/datasets/tests/test_func.py')"
97,pull_request_commit_comment,806,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:16:37,"I find the output overly complicated. Why splitting everything between `correlation` and `partial_correlation` and not having three lists in the bunch: `dimensionality`, `timeseries` and `matrices`? I am still convinced that allowing only one value per parameter would be much simpler: this is what we already do for most of the fetchers (for harvard oxford, only one type of atlas is allowed, for aal, it's the same, only one version at a time).
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
98,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:46:20,"`plt` might not be defined upon function call
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
99,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:49:20,"is it possible to make this comment more informative?
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
100,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:51:30,"minor comment, but `tseries` might be more natural
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
101,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:53:54,"grammar
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/description/Megatrawls.rst')"
102,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:57:06,"We might want to move this section to the corresponding *.rst file
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/func.py')"
103,pull_request_commit_comment,806,nilearn,nilearn,banilo,2015-12-19 22:58:21,"Aren't you missing some cases here. Dimensinoalities appear to be `[25, 50, 100, 200, 300]`
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'nilearn/datasets/tests/test_func.py')"
104,pull_request_commit_comment,806,nilearn,nilearn,bthirion,2015-12-20 09:42:14,"`time_series` would actually be much better
",cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,"(None, '', u'examples/manipulating_visualizing/plot_visualize_megatrawls_netmats.py')"
105,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-10-28 08:38:38,"New fetcher for Megatrawls Netmats, Tests, Example, Doc",22cfc9e5c485c749a4e3eafd2380a65a683434aa,
106,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-10-28 14:20:59,"Addressed comments as description, test for description, Bunch return",9e4206f0800017959ae3acf8351e46c48536e264,
107,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-03 16:13:07,"Addressed comments: references, _ removed, better names, etc",cdc48dd0fa3bfc90fbf5d88b13d76ecc5a72565d,
108,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-10 12:01:01,Addressed comments related to namings of parameters,d0c52ec02064363ca71a67883d77e07552c382cc,
109,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-13 13:57:25,Addressed comments and rebase,67a8198bb0432d6146116066b33fdab6df276977,
110,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-13 15:02:11,Minor changes,c123caefdb1f4f9dbdd82ebe3d4abb3e097a953f,
111,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-22 20:44:09,Addressed comments made by Alex,9b8e57e26e0255f255d290ca948a9fa3f6e0319c,
112,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-24 10:31:30,corrected doubling the url,f0ffd60e5624805a2b55549bb8d2906f746255a3,
113,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-26 21:39:45,"Addressed Loic comments, nitpicks in documentation, tests",e5a9a96d652091252ac17ecd15688a1dd22768c7,
114,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-11-29 10:10:18,Fixed description,00a5016613fc762d7201785b52abc3876834e9fb,
115,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-12-14 19:57:28,"Changed example layout, Loic's comments, changed function layout to param_validation",bff1ad7a70a1115ac360c294f00762cff3b7ecb0,
116,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-12-15 15:18:39,Rebase,085ad3cccac29d303c1de6cd004d3963cd2e9e31,
117,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-12-16 12:04:59,For good rendering of attributes,b63b9577ca1333269e2950ef6b4ef148314977ee,
118,pull_request_commit,806,nilearn,nilearn,KamalakerDadi,2015-12-21 16:31:02,Changed design layout. Now accepts only one input parameter.,cb9d60c7fa9269c17910b18bf95e5a23aa41a8d2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,830,nilearn,nilearn,AlexandreAbraham,2015-11-06 12:42:11,"In #826, a user could not download an atlas because of SSL certificate verification error. He was probably behind a reverse proxy.

First, I think that we should favorize HTTP over HTTPS. I will make a PR to remove it where it is not necessary.

Second, it is possible to tell Python to ignore SSL verification. Should we do that? Ping @GaelVaroquaux .
",start issue,Certificate problem
2,issue_closed,830,nilearn,nilearn,AlexandreAbraham,2015-12-02 15:59:00,,closed issue,Certificate problem
3,issue_comment,830,nilearn,nilearn,aabadie,2015-12-02 15:41:12,"+1 for Requests. The API is great.
",,
4,issue_comment,830,nilearn,nilearn,GaelVaroquaux,2015-11-06 12:44:29,"> First, I think that we should favorize HTTP over HTTPS. I will make a PR to
> remove it where it is not necessary.

+1

> Second, it is possible to tell Python to ignore SSL verification.
> Should we do that? Ping @GaelVaroquaux .

+1
",,
5,issue_comment,830,nilearn,nilearn,KamalakerDadi,2015-11-13 20:23:49,"> First, I think that we should favorize HTTP over HTTPS. I will make a PR to remove it where it is not necessary.

If you haven't started, can I address this in Megatrawls PR ?
",,
6,issue_comment,830,nilearn,nilearn,AlexandreAbraham,2015-11-13 21:02:06,"You can take care of it but in a separated PR.
",,
7,issue_comment,830,nilearn,nilearn,KamalakerDadi,2015-11-13 21:07:26,"I would replace all https to http? Is it not necessary for all of them ?
",,
8,issue_comment,830,nilearn,nilearn,AlexandreAbraham,2015-11-13 22:11:50,"In a first time, we can replace the URLs that works in http, typically nitrc ones. In a second time, we can disable the certificate checking directly into the download request.
",,
9,issue_comment,830,nilearn,nilearn,KamalakerDadi,2015-11-13 22:25:45,"Ok Thanks.
",,
10,issue_comment,830,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:26:47,"@aabadie : maybe you can take this one over?
",,
11,issue_comment,830,nilearn,nilearn,AlexandreAbraham,2015-12-02 10:03:40,"@aabadie : I'll take a quick look at it.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,881,nilearn,nilearn,ainafp,2015-12-02 17:41:06,"Missing attributes in BaseSpaceNet (nilearn/decoding/space_net.py) and some other issues.
Fixes issue #848
",start issue,[WIP] SpaceNet documentation (docstrings) is being completed / improved
2,issue_closed,881,nilearn,nilearn,KamalakerDadi,2017-11-30 17:00:51,,closed issue,[WIP] SpaceNet documentation (docstrings) is being completed / improved
3,pull_request_title,881,nilearn,nilearn,ainafp,2015-12-02 17:41:06,"Missing attributes in BaseSpaceNet (nilearn/decoding/space_net.py) and some other issues.
Fixes issue #848
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,[WIP] SpaceNet documentation (docstrings) is being completed / improved
4,issue_comment,881,nilearn,nilearn,ainafp,2015-12-02 18:03:08,"To check the shapes of w_, ymean_, Xmean_, Xstd_
",,
5,pull_request_commit_comment,881,nilearn,nilearn,banilo,2015-12-03 10:28:21,"...""of X ACROSS samples""?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
6,pull_request_commit_comment,881,nilearn,nilearn,banilo,2015-12-03 10:29:59,"n_classes-1 is only true for 2 classes? Does this really also hold for one-versus-rest scenarios?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
7,pull_request_commit_comment,881,nilearn,nilearn,banilo,2015-12-03 10:32:15,"Style
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
8,pull_request_commit_comment,881,nilearn,nilearn,ainafp,2015-12-03 10:37:38,"not sure. That's why I added the ""to check"" comment.
@dohmatob what do you think?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
9,pull_request_commit_comment,881,nilearn,nilearn,ainafp,2015-12-03 10:38:04,"What do you mean?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
10,pull_request_commit_comment,881,nilearn,nilearn,banilo,2015-12-03 11:03:10,"What does ""On mask model coefficients"" mean, it may not be clear to everybody. Perhaps instead: `Masked model coefficients`?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
11,pull_request_commit_comment,881,nilearn,nilearn,dohmatob,2015-12-03 13:43:11,"I think it's a typo. It should indeed be something like: ""On mask model
coefficients""

On Thu, Dec 3, 2015 at 12:03 PM, Danilo Bzdok notifications@github.com
wrote:

> In nilearn/decoding/space_net.py
> https://github.com/nilearn/nilearn/pull/881#discussion_r46538268:
> 
> > ```
> >  `coef_` : ndarray, shape (n_classes-1, n_features)
> >      Coefficient of the features in the decision function.
> > ```
> > 
> > +
> > -    `coef_img_` : nifti image
> > -        On mask model coefficients
> 
> What does ""On mask model coefficients"" mean, it may not be clear to
> everybody. Perhaps instead: Masked model coefficients?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/881/files#r46538268.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
12,pull_request_commit_comment,881,nilearn,nilearn,dohmatob,2015-12-03 13:48:34,"Yes @danilo is right. So, shape `w_` should be documented as
- `(1, n_features + 1)` for two class classification problems (i.e `n_classes = 2`)
- `(n_classes, n_features + 1)` for `n_classes > 2`, and
- `(n_features,)` for regression

Document `coef_` as:
- `(1, n_features)` for two class classification problems (i.e `n_classes = 2`)
- `(n_classes, n_features)` for `n_classes > 2`, and
- `(n_features,)` for regression
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
13,pull_request_commit_comment,881,nilearn,nilearn,dohmatob,2015-12-03 13:49:50,"I agree it should be mentioned that this stats are across samples.

On Thu, Dec 3, 2015 at 11:28 AM, Danilo Bzdok notifications@github.com
wrote:

> In nilearn/decoding/space_net.py
> https://github.com/nilearn/nilearn/pull/881#discussion_r46534946:
> 
> > ```
> >      Scores (misclassification) for each alpha, and on each fold
> > 
> >  `screening_percentile_` : float
> >      Screening percentile corrected according to volume of mask,
> >      relative to the volume of standard brain.
> > ```
> > 
> > +
> > -    `w_` : ndarray, shape (n_classes-1, n_features) #TODO: check shapes
> > -        Model weights
> >   +
> > -    `ymean_` : array, shape (n_samples,)
> > -        Mean of prediction targets
> >   +
> > -    `Xmean_` : array, shape (n_features,)
> > -        Mean of X samples
> >   +
> > -    `Xstd_` : array, shape (n_features,)
> > -        Standard deviation of X samples
> 
> ...""of X ACROSS samples""?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/881/files#r46534946.

## 

Elvis Dohmatob,
_sent from my  potato..._
http://dohmatob.blogspot.fr/, https://team.inria.fr/parietal/elvis/,
https://github.com/dohmatob
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
14,pull_request_commit_comment,881,nilearn,nilearn,ainafp,2015-12-04 12:29:25,"ok I extend changes to `coef_` and  `intercept_`
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
15,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:50:04,"and ... ?
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
16,pull_request_commit_comment,881,nilearn,nilearn,ainafp,2015-12-04 13:51:25,"oops
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
17,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:56:40,"3D array of mask values
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
18,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:57:08,"and...
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
19,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:58:54,"Alpha values considered for selection of the best one
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
20,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:59:17,"and...
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
21,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:59:38,"same as above
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
22,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 13:59:54,"...
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
23,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 14:00:22,"Each pair is the list...
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
24,pull_request_commit_comment,881,nilearn,nilearn,bthirion,2015-12-04 14:00:35,"...
",a2737116f86e389a16c09ad9fa88f040b5a9ad33,"(None, '', u'nilearn/decoding/space_net.py')"
25,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-02 17:43:49,missing docs on attributes for space net added WIP,291d84f6fd937a49d84f388aaf7d14f9d7c54dce,
26,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-02 18:01:53,added more attributes WIP,79f033ef131e3eedd85b8b5392a1f034bcd3ea3e,
27,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-04 12:32:51,modified shapes of attributes + some typos,93e1b9882e450292278a2ee5b07b49b96376083c,
28,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-04 13:02:37,changes extended to SpaceNetRegressor and SpaceNetClassifier,1a68d18d70a96e5bfb7c407c54acea19f80c38a0,
29,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-02 17:43:49,missing docs on attributes for space net added WIP,380e08079a01c718d9f934ed6eeb0b66bd573b4d,
30,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-02 18:01:53,added more attributes WIP,bec92e6fa6ea5a871512cbbbe3df50ef18e6036a,
31,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-04 12:32:51,modified shapes of attributes + some typos,bc985c3fad95ca12b4f9711892555f8a12defb03,
32,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-04 13:02:37,changes extended to SpaceNetRegressor and SpaceNetClassifier,306546676be0c92d4e936f70c84c3def88d794b3,
33,pull_request_commit,881,nilearn,nilearn,ainafp,2015-12-04 14:09:24,some typos fixed,a2737116f86e389a16c09ad9fa88f040b5a9ad33,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,829,nilearn,nilearn,arthurmensch,2015-11-06 10:34:36,"Bug #827. I force `transpose = True` for `multi_pca` to yield the same result when we put twice the same data, and if we run fit twice on the same data
",start issue,HOTFIX: multi pca reproducibility
2,issue_closed,829,nilearn,nilearn,lesteve,2015-11-06 16:02:12,,closed issue,HOTFIX: multi pca reproducibility
3,pull_request_title,829,nilearn,nilearn,arthurmensch,2015-11-06 10:34:36,"Bug #827. I force `transpose = True` for `multi_pca` to yield the same result when we put twice the same data, and if we run fit twice on the same data
",7528829f4a1727caeb0d0bae671708cc549d3fb2,HOTFIX: multi pca reproducibility
4,pull_request_merged,829,nilearn,nilearn,lesteve,2015-11-06 16:02:12,HOTFIX: multi pca reproducibility,bb8197e17f47d7685032b4335efc072c526f7c95,Pull request merge from arthurmensch/nilearn:hotfix_multipca_tile to nilearn/nilearn:master
5,issue_comment,829,nilearn,nilearn,arthurmensch,2015-11-06 10:40:09,"ping @GaelVaroquaux @lesteve 
",,
6,issue_comment,829,nilearn,nilearn,GaelVaroquaux,2015-11-06 10:55:45,"It's  probably the transpose option that does the trick. 

How does it  affect our computational performance? 
",,
7,issue_comment,829,nilearn,nilearn,arthurmensch,2015-11-06 11:21:23,"Transpose = True is default in so learn < 0.17 so no performance
regression. Transpose = False could improve perf but this can be addressed
later
Le 6 nov. 2015 11:55, ""Gael Varoquaux"" notifications@github.com a écrit :

> It's probably the transpose option that does the trick.
> 
> How does it affect our computational performance?
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/829#issuecomment-154379847.
",,
8,issue_comment,829,nilearn,nilearn,giorgiop,2015-11-06 11:30:02,"LGTM.
",,
9,issue_comment,829,nilearn,nilearn,arthurmensch,2015-11-06 15:24:00,"I addressed comments
",,
10,issue_comment,829,nilearn,nilearn,GaelVaroquaux,2015-11-06 15:27:14,"LGTM. + 1 for merge  once Travis is green
",,
11,issue_comment,829,nilearn,nilearn,lesteve,2015-11-06 16:02:08,"Travis is green, merging, thanks a lot!

About:

> How does it affect our computational performance? 

The main effect may come from the additional power iterations rather than the transpose. 
",,
12,pull_request_commit_comment,829,nilearn,nilearn,giorgiop,2015-11-06 10:37:30,"It should not be `None` in testing.
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
13,pull_request_commit_comment,829,nilearn,nilearn,arthurmensch,2015-11-06 10:42:39,"Oups !
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
14,pull_request_commit_comment,829,nilearn,nilearn,lesteve,2015-11-06 12:24:42,"Just curious is there a scikit-learn convention that dictates whether random_state should be set to None or a fixed integer by default?
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(6, '', u'nilearn/decomposition/multi_pca.py')"
15,pull_request_commit_comment,829,nilearn,nilearn,lesteve,2015-11-06 12:26:23,"You should check exact equality of components1 and components2 (fit reproducibility, ~~don't you need to set random_state btw to achieve that?~~ edit: oops you have done that a few lines above) and almost equality for components1 and components3.
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(None, '', u'nilearn/decomposition/tests/test_multi_pca.py')"
16,pull_request_commit_comment,829,nilearn,nilearn,lesteve,2015-11-06 12:28:10,"random**ized** SVD
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(None, '', u'nilearn/decomposition/multi_pca.py')"
17,pull_request_commit_comment,829,nilearn,nilearn,GaelVaroquaux,2015-11-06 12:33:45,"> Just curious is there a scikit-learn convention that dictates whether
> random_state should be set to None or a fixed integer by default?

In the objects we set it to None because people expect randomness.
",7528829f4a1727caeb0d0bae671708cc549d3fb2,"(6, '', u'nilearn/decomposition/multi_pca.py')"
18,pull_request_commit,829,nilearn,nilearn,arthurmensch,2015-11-06 10:34:00,HOTFIX: multi pca reproducibility,d46d21b142072ae8f8a0a069f2741e6bb4d2f56b,
19,pull_request_commit,829,nilearn,nilearn,arthurmensch,2015-11-06 10:42:24,FIX: random_state=None,4973aab52d1e482a840542479827d23b0f009f8c,
20,pull_request_commit,829,nilearn,nilearn,arthurmensch,2015-11-06 15:23:08,Addressed comments,ebc6717ef9d6d89f452cd8c75e62275c4d43dcee,
21,pull_request_commit,829,nilearn,nilearn,arthurmensch,2015-11-06 15:23:39,Addressed comments,7528829f4a1727caeb0d0bae671708cc549d3fb2,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,815,nilearn,nilearn,ignatenkobrain,2015-11-02 23:09:10,"Hi, is there any plans to support python 3? At least 3.4. I'd want to have it because I'm packaging some stuff for Fedora which uses nilearn and I'd want to provide python2 and python3 in the same time.
",start issue,Python 3 support
2,issue_closed,815,nilearn,nilearn,ignatenkobrain,2015-11-03 06:28:14,,closed issue,Python 3 support
3,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 06:22:36,"``` python
+ CFLAGS='-O2 -g -pipe -Wall -Werror=format-security -Wp,-D_FORTIFY_SOURCE=2 -fexceptions -fstack-protector-strong --param=ssp-buffer-size=4 -grecord-gcc-switches -specs=/usr/lib/rpm/redhat/redhat-hardened-cc1 -m64 -mtune=generic'
+ /usr/bin/python3 setup.py build '--executable=/usr/bin/python3 -s'
Traceback (most recent call last):
  File ""setup.py"", line 36, in <module>
    _VERSION_GLOBALS = load_version()
  File ""setup.py"", line 22, in load_version
    exec(fp.read(), globals_dict)
  File ""/usr/lib64/python3.4/encodings/ascii.py"", line 26, in decode
    return codecs.ascii_decode(input, self.errors)[0]
UnicodeDecodeError: 'ascii' codec can't decode byte 0xc3 in position 116: ordinal not in range(128)
error: Bad exit status from /var/tmp/rpm-tmp.8WC5xi (%build)
```
",,
4,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 06:28:14,"Ah, I got it. I need to set LC_ALL=""en_US.UTF-8"". Thanks!
",,
5,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 06:44:12,"`'SHELL': '/bin/bash', 'TERM': 'vt100', 'LANG': 'en_US.utf8', 'LC_MESSAGES': 'C'`
",,
6,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 06:51:26,"don't worry. that envvars in chroot for building RPM package, in user environment it's okay by default =)
",,
7,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 08:27:28,"Do you want me to provide environment for you ?)
",,
8,issue_comment,815,nilearn,nilearn,ignatenkobrain,2015-11-03 08:28:39,"I already saw this issue with other pkgs so likely issue in mock utility for rpm
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,884,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:28:05,"We are starting to have a lot of examples, which is a good thing, but can easily lead to getting lost in the information.

I suggest a new breakdown of examples:
- General: just a handful of examples
- Decoding: what we currently have
- Functional connectivity: what we currently have
- Plotting
- Manipulation of brain images
- Advanced

Basically, it would entail breaking up our current 'visualizing_and_manipulating' into 'plotting', 'manipulating' and 'advanced'. Advanced is just another word for 'other', in a certain sense. We would put things like the low-level ICA stuff, or the mass-univariate stuff. Ie things that we don't really want to advertise strong to end users.

One strong reason for me to separate out the plotting examples is that it seems that our users do not use the full breadth of the plotting options, and do not find them.

This is an issue labelled 'discussion', please do comment here on what you think about this plan.
",start issue,Better breakdown of the examples
2,issue_closed,884,nilearn,nilearn,GaelVaroquaux,2016-01-15 12:23:32,,closed issue,Better breakdown of the examples
3,issue_comment,884,nilearn,nilearn,lesteve,2015-12-02 22:54:27,"Sounds reasonable to me.
",,
4,issue_comment,884,nilearn,nilearn,bthirion,2015-12-02 23:00:34,"Sounds good in general, but I wonder what you put in 'Manipulation of brain images' ?
",,
5,issue_comment,884,nilearn,nilearn,GaelVaroquaux,2015-12-03 05:53:32,"> Sounds good in general, but I wonder what you put in 'Manipulation of brain
> images' ?

An example extracting ROIs from a statistical map (@KamalakerDadi has a
great one almost ready), examples about computing masks (we have a few),
the resampling example. Maybe more later, as we are finding that it is
very important to teach people to do efficient yet simple manipulations
of their data.
",,
6,issue_comment,884,nilearn,nilearn,bthirion,2015-12-03 07:29:31,"OK, the name and content may be further specified in the future anyhow.
",,
7,issue_comment,884,nilearn,nilearn,KamalakerDadi,2015-12-03 09:36:36,"Breaking concept is nice to me. 

As @GaelVaroquaux  mentioned especially I am reshaping sub section 4.3.5 in Section 4 considering my example on ROI extraction on statistical maps.

@GaelVaroquaux Do you need this for 0.2.1 or 0.2 release ?
",,
8,issue_comment,884,nilearn,nilearn,GaelVaroquaux,2015-12-03 09:38:54,"> @GaelVaroquaux Do you need this for 0.2.1 or 0.2 release ?

Let's do it for 0.2.1, and not 0.2, as I don't want to delay the release.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,633,nilearn,nilearn,AlexandreAbraham,2015-07-05 00:45:52,"Integrate the methods presented in [Abraham et al. 2013](https://hal.inria.fr/hal-01093944) in a nilearn-friendly interface along with example, test and documentation.

Diffculties:
- my code is generic but very ugly and I'm not happy with it. It needs love.
- random walker and region growing approaches rely completely on the (great) scikit image code for region segmentation. I don't think that we should do our own code (a naive implementation is way slower and writing an optimized implementation takes time) so we have to decide if we add the code in nilearn.externals (the solution I chose so far) or put a dependency on scikit image for that.
- a lot of work in doc and example is also required.
",start issue,Add region extraction methods
2,issue_closed,633,nilearn,nilearn,lesteve,2015-12-14 10:06:27,,closed issue,Add region extraction methods
3,issue_comment,633,nilearn,nilearn,GaelVaroquaux,2015-07-05 09:00:40,"> Integrate the methods presented in Abraham et al. 2013 in a nilearn-friendly
> interface.

Not all of the methods. Just the one or two that works best.
",,
4,issue_comment,633,nilearn,nilearn,lesteve,2015-12-14 10:06:27,"Closing since RegionExtractor has reached master probably via #898 and a push in master.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,917,nilearn,nilearn,KamalakerDadi,2015-12-16 21:07:54,"- Rewrited region extraction example from canICA to Dict Learn and changed accordingly in region_extraction.rst
- Addressing few documentation issue in  doc/connectivity/resting_state_networks.rst 
",start issue, [MRG+1] Rewrite region-extraction example to dict learning instead of ICA (issue #904)
2,issue_closed,917,nilearn,nilearn,GaelVaroquaux,2016-01-17 12:34:55,,closed issue, [MRG+1] Rewrite region-extraction example to dict learning instead of ICA (issue #904)
3,pull_request_title,917,nilearn,nilearn,KamalakerDadi,2015-12-16 21:07:54,"- Rewrited region extraction example from canICA to Dict Learn and changed accordingly in region_extraction.rst
- Addressing few documentation issue in  doc/connectivity/resting_state_networks.rst 
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0, [MRG+1] Rewrite region-extraction example to dict learning instead of ICA (issue #904)
4,pull_request_merged,917,nilearn,nilearn,GaelVaroquaux,2016-01-17 12:34:55, [MRG+1] Rewrite region-extraction example to dict learning instead of ICA (issue #904),965486dd15decdd55bbb32726c3590d6158c62c4,Pull request merge from KamalakerDadi/nilearn:example_dictlearn to nilearn/nilearn:master
5,issue_comment,917,nilearn,nilearn,AlexandreAbraham,2016-01-12 11:30:01,"+1 once Gael's comments are addressed.
",,
6,issue_comment,917,nilearn,nilearn,KamalakerDadi,2016-01-15 17:26:45,"Can we have a final review on this ?
",,
7,issue_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-17 12:34:53,"This is great! Merging. Thanks
",,
8,issue_comment,917,nilearn,nilearn,KamalakerDadi,2016-01-12 19:24:41,"@GaelVaroquaux @AlexandreAbraham Addressed.
",,
9,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2015-12-16 22:34:08,"You should add a comment here that the example would be almost the same if the maps had been computed with an ICA.

Such a comment is Google bait: people googling for ""regions extraction ICA"" with thus find your page
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
10,pull_request_commit_comment,917,nilearn,nilearn,KamalakerDadi,2016-01-08 14:25:56,"@GaelVaroquaux  fixed your comment at line 12.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
11,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-08 23:01:23,"I would be inclined to think that initializing a class instance does imply that its parameters/variable are also initialized. Thus ""and parameters"" might perhaps be confusing to some.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
12,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-08 23:06:12,"'dictionary map' might be confusing because the dictionary refers to the entire set of components, rather than a single of them.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
13,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-08 23:06:48,"Space in Dictionary{ }Learning is inconsistent across the script.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
14,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-09 15:44:56,"I know that this is not part of your PR, but I should we should replace 'izip', that we are importing from a private module (bad, bad), with 'zip', which does almost the same thing and is a builtin (ie doesn't have to be imported).
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
15,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:08:09,"""each"" does not seem to fit into the sentence here
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
16,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:11:09,"why ""previously""....if you want to say that you first fetch then do dictionary learning, you might want to skip that word
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
17,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:12:45,"The neuroscientist might protest: why ""functional""? There is no notion of inference that is even remotely related to function in a neuriobiological or psychological sense. Epistemologically, it is not enough that the data are functional due to Fmri.
Alternative ""spatiotemporally consistent whole-brain pattern"" or similar
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
18,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:14:37,"""functional filenames"" might also be wierd to some people. Perhaps ""filenames of fMRI data/recordings""
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
19,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-12 22:14:51,"> The neuroscientist might protest: why ""functional""? There is no notion on
> inference that is even remotely related to function in a neuriobiological or
> psychological sense.
> Alternative ""spatiotemporally consistent whole-brain pattern"" or similar

Whatever. I like functional. Let's not go into specialists hairsplitting.
OK, this maybe be ever so slightly simplified, but it conveys the
message.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
20,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:22:21,"Dictionary Learning is a modern matrix decomposition technique, broadly related to ICA and PCA. It assumes that neural activity data result from recombinations of a given number of latent (sparse) whole-brain patterns to be discovered.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(27, '', u'doc/connectivity/region_extraction.rst')"
21,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:23:26,"I don't know how to split hairs? Have you tried it already :-P ?
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
22,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:25:50,"""connected"" -> ""spatially constrained""
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
23,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:26:41,"> Such a comment is Google bait: people googling for ""regions extraction ICA"" with thus find your page

Huh, we are SEO-optimizing nilearn code ?
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
24,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-12 22:28:01,"> I don't know how to split hairs? Have you tried it already :-P ?

Yeah. My hair lend well to that :). I'm actually pretty good at it.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
25,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-12 22:28:31,"> ```
> Such a comment is Google bait: people googling for ""regions extraction ICA""
> with thus find your page
> ```
> 
> Huh, we are SEO-optimizing nilearn code ?

Fuck yeah. Dude, we're in the business of getting rich.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
26,pull_request_commit_comment,917,nilearn,nilearn,banilo,2016-01-12 22:29:08,"article missing
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
27,pull_request_commit_comment,917,nilearn,nilearn,KamalakerDadi,2016-01-13 11:57:36,"I don't think definition matters here.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(27, '', u'doc/connectivity/region_extraction.rst')"
28,pull_request_commit_comment,917,nilearn,nilearn,KamalakerDadi,2016-01-13 12:11:00,"I didn't get your comment
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'examples/connectivity/plot_extract_regions_dictlearn_maps.py')"
29,pull_request_commit_comment,917,nilearn,nilearn,GaelVaroquaux,2016-01-16 11:33:29,"The object is called DictLearning, so I would rather call this example plot_extract_regions_dictlearning_maps.py

Sorry for the annoying comment that comes in a bit late.
",0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,"(None, '', u'doc/connectivity/region_extraction.rst')"
30,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2015-12-16 21:04:25,Trying to address Issue #904. Rewrite example to dict learning,80028d9b576be1247f9961a0095bc8f44debf62b,
31,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2015-12-17 14:49:15,Added comment saying can also be used for CanICA maps,dff11b30a99066b556f92e600fe283429e045dd0,
32,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2016-01-12 14:01:55,"Addressed comments: restructured titles, DMN to one specific network",eba43befa23ec6a2555c1d0ca2467a4ee8b5c8de,
33,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2016-01-13 12:35:35,Documentation improvement in dictionary learning example,7992b3e26c271b7929800d600d0108585152f02c,
34,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2016-01-15 15:47:50,Fixing conflicts and shifted megatrawls example to 01_plotting,0ddfa30921b8d1627da1811c0ef72e9668684675,
35,pull_request_commit,917,nilearn,nilearn,KamalakerDadi,2016-01-16 12:42:33,dictlearn to dictlearning in filename,0e1c7b98730a88f63b2b4e00b64b12fa4a6eb6e0,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,905,nilearn,nilearn,arthurmensch,2015-12-13 20:38:26,"Fixing image link to dictionary learning examples.

Would be great to provide a developer section describing shortly the generated doc tree, especially for sphinx gallery, I guess we all loose time on this :)
",start issue,FIX: doc link to examples
2,issue_closed,905,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:06:17,,closed issue,FIX: doc link to examples
3,pull_request_title,905,nilearn,nilearn,arthurmensch,2015-12-13 20:38:26,"Fixing image link to dictionary learning examples.

Would be great to provide a developer section describing shortly the generated doc tree, especially for sphinx gallery, I guess we all loose time on this :)
",d74c269b9618f12234ece97ff60d8b233d9cb7db,FIX: doc link to examples
4,pull_request_merged,905,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:06:17,FIX: doc link to examples,88f7d8bdc4defb9c40aece688575b3767faf8126,Pull request merge from arthurmensch/nilearn:docfix_dl to nilearn/nilearn:master
5,issue_comment,905,nilearn,nilearn,AlexandreAbraham,2015-12-13 22:06:49,"Why hasn't it be catched by CircleCI?
",,
6,issue_comment,905,nilearn,nilearn,AlexandreAbraham,2015-12-18 10:06:14,"Appveyor failure is a timeout. Doc in CircleCI looks good. Merging, thanks!
",,
7,issue_comment,905,nilearn,nilearn,arthurmensch,2015-12-18 09:51:57,"ping @GaelVaroquaux Appveyor is failing on this by I reckon we should merge it
",,
8,issue_comment,905,nilearn,nilearn,mrahim,2015-12-13 23:34:56,"make linkcheck can be useful but has some false positives ...
",,
9,pull_request_commit,905,nilearn,nilearn,arthurmensch,2015-12-13 20:36:52,FIX: doc link to examples,d74c269b9618f12234ece97ff60d8b233d9cb7db,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,849,nilearn,nilearn,banilo,2015-11-22 08:57:18,"``` python
---------------------------------------------------------------------------
AttributeError                            Traceback (most recent call last)
<ipython-input-1-2d6a79a75329> in <module>()
    180 # clf_ovr_gs.fit(X_train, Y_train)
    181 
--> 182 train_acc = clf.score(X_train_nii, Y_train)
    183 print('Train-Accuracy: %.2f' % train_acc)
    184 

/home/parietal/dbzdok/.local/lib/python2.7/site-packages/nilearn-0.1.5.dev0-py2.7.egg/nilearn/decoding/space_net.pyc in score(self, X, y)
   1148             Mean accuracy of self.predict(X)  w.r.t y.
   1149         """"""
-> 1150         return accuracy_score(y, self.predict(X))
   1151 
   1152 

/home/parietal/dbzdok/.local/lib/python2.7/site-packages/nilearn-0.1.5.dev0-py2.7.egg/nilearn/decoding/space_net.pyc in predict(self, X)
    940         """"""
    941         # cast X into usual 2D array
--> 942         X = self.masker_.transform(X)
    943 
    944         # handle regression (least-squared loss)

AttributeError: 'SpaceNetClassifier' object has no attribute 'masker_'
```
",start issue,SpaceNet*.predict/score() give incomprehensible error message if not fitted before
2,issue_closed,849,nilearn,nilearn,dohmatob,2015-12-02 12:42:07,,closed issue,SpaceNet*.predict/score() give incomprehensible error message if not fitted before
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,852,nilearn,nilearn,dohmatob,2015-11-22 14:55:58,"The snippet,

```
    rng = check_random_state(42)
    iris = load_iris()
    X, y = iris.data, iris.target
    X, mask = to_niimgs(X, [2, 2, 2])
    SpaceNetRegressor(n_alphas=1, mask=mask).fit(X, y)
```

Triggers the following error:

```
SpaceNetRegressor(n_alphas=1, mask=mask).fit(X, y)
```

  File ""/home/elvis/CODE/FORKED/nilearn/nilearn/decoding/space_net.py"", line 827, in fit
    len(l1_ratios), len(alphas)) > 1:
TypeError: object of type 'NoneType' has no len()
",start issue,SpaceNet constructor crashes if n_alphas=1 specified
2,issue_closed,852,nilearn,nilearn,dohmatob,2015-12-02 13:08:41,,closed issue,SpaceNet constructor crashes if n_alphas=1 specified
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,867,nilearn,nilearn,aabadie,2015-12-02 12:09:48,"This should fix #811.
",start issue,FIX expand user path in glob
2,issue_closed,867,nilearn,nilearn,GaelVaroquaux,2015-12-02 14:40:24,,closed issue,FIX expand user path in glob
3,pull_request_title,867,nilearn,nilearn,aabadie,2015-12-02 12:09:48,"This should fix #811.
",2bbfc495d8aa9481687f04431298fe3a8ac591db,FIX expand user path in glob
4,pull_request_merged,867,nilearn,nilearn,GaelVaroquaux,2015-12-02 14:40:24,FIX expand user path in glob,d5f631e049d60330fba62ece7ab18a7b6831507f,Pull request merge from aabadie/nilearn:811_glob_tilde to nilearn/nilearn:master
5,issue_comment,867,nilearn,nilearn,AlexandreAbraham,2015-12-02 12:23:54,"LGTM.
",,
6,pull_request_commit,867,nilearn,nilearn,aabadie,2015-12-02 12:08:52,FIX expand user path in glob,97211a5b1898073517fd8e9a318272ef3073338f,
7,pull_request_commit,867,nilearn,nilearn,aabadie,2015-12-02 13:20:33,DOC documenting user expand,be199182fe6db61d7e5d507043fea23cf4f43bdd,
8,pull_request_commit,867,nilearn,nilearn,aabadie,2015-12-02 14:36:31,DOC improving expand user path documentation,2bbfc495d8aa9481687f04431298fe3a8ac591db,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:10:48,"A fix to cast/type issue in high_variance confounds #896
",start issue,[MRG]: fixing cast/type issue in high_variance confounds #896
2,issue_closed,920,nilearn,nilearn,GaelVaroquaux,2015-12-20 09:51:12,,closed issue,[MRG]: fixing cast/type issue in high_variance confounds #896
3,pull_request_title,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:10:48,"A fix to cast/type issue in high_variance confounds #896
",2ee156f915fa823dd14caabc8d5de00a998200d3,[MRG]: fixing cast/type issue in high_variance confounds #896
4,pull_request_merged,920,nilearn,nilearn,GaelVaroquaux,2015-12-20 09:51:12,[MRG]: fixing cast/type issue in high_variance confounds #896,1053f4add52b37357eaf087f88ee719466fbb0b8,Pull request merge from GaelVaroquaux/nilearn:fix_detrend_int to nilearn/nilearn:master
5,issue_comment,920,nilearn,nilearn,AlexandreAbraham,2015-12-18 07:31:54,"+1
",,
6,issue_comment,920,nilearn,nilearn,AlexandreAbraham,2015-12-18 16:07:29,"Yes, sorry, I am now used to failing appveyor with no reason...
",,
7,issue_comment,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:28:47,"This is now an MRG
",,
8,issue_comment,920,nilearn,nilearn,lesteve,2015-12-18 15:22:54,"The AppVeyor tests seem like a genuine error to me:

```
======================================================================
FAIL: Test custom detrend implementation.
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""C:\Miniconda3-x64\lib\site-packages\nose\case.py"", line 198, in runTest
    self.test(*self.arg)
  File ""C:\Miniconda3-x64\lib\site-packages\nilearn\tests\test_signal.py"", line 222, in test_detrend
    < 15. * np.finfo(np.float).eps)
AssertionError: False is not true
```
",,
9,issue_comment,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 20:23:19,"I fixed the AppVeyoer problem.
",,
10,issue_comment,920,nilearn,nilearn,bthirion,2015-12-20 09:50:45,"LGTM.
",,
11,pull_request_commit,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:09:48,"BUG: a test that should fail on recent numpy?

Commit to test on travis",059aa04e5db961c820fcf1e120ef73be232b6f51,
12,pull_request_commit,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 07:19:21,"FIX: convert to float in detrend

Fixes #896",8d4841efb07343efd94c2e56c710a1f125e80a2a,
13,pull_request_commit,920,nilearn,nilearn,GaelVaroquaux,2015-12-18 18:29:10,"FIX: adapt numerical precision for windows

This might make the tests pass under AppVeyor",2ee156f915fa823dd14caabc8d5de00a998200d3,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,910,nilearn,nilearn,dohmatob,2015-12-15 13:25:18,"https://ci.appveyor.com/project/nilearn-ci/nilearn.

This is probably an ad hoc Appveyor failure, but just to signalize in case not yet noticed. Issue can be closed at any time.
",start issue,nilearn master broken ?
2,issue_closed,910,nilearn,nilearn,lesteve,2015-12-16 08:29:42,,closed issue,nilearn master broken ?
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,819,nilearn,nilearn,aabadie,2015-11-03 10:58:28,"This is a small change that appeared to fix the Overflow error on windows. I can't really explain as np.iinfo(np.int32).max returns the same value on Windows 64bit and Linux 64.

This is related to #809 
",start issue,[MRG] fixing overflow error on Windows (and potentially on i686)
2,issue_closed,819,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:33:22,,closed issue,[MRG] fixing overflow error on Windows (and potentially on i686)
3,pull_request_title,819,nilearn,nilearn,aabadie,2015-11-03 10:58:28,"This is a small change that appeared to fix the Overflow error on windows. I can't really explain as np.iinfo(np.int32).max returns the same value on Windows 64bit and Linux 64.

This is related to #809 
",87d288775430a607d9d1d338c470a2bb915a1ece,[MRG] fixing overflow error on Windows (and potentially on i686)
4,pull_request_merged,819,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:33:22,[MRG] fixing overflow error on Windows (and potentially on i686),073e7b1714ca7767f862fddb5a352be0e893c160,Pull request merge from aabadie/nilearn:fix_overflow_error to nilearn/nilearn:master
5,issue_comment,819,nilearn,nilearn,aabadie,2015-11-03 12:32:52,"> I would be in favor of a single PR with the appveyor addition and the Windows-related fixes so that we can be confident that everything is now fine on Windows.

The problem with this is that the failing tests come from a lot of places in the code and we'll end up with  a branch containing a rather big change.
",,
6,issue_comment,819,nilearn,nilearn,aabadie,2015-11-03 12:33:38,"Why not merge #804 first and then process the other PRs ?
",,
7,issue_comment,819,nilearn,nilearn,aabadie,2015-11-03 13:07:55,"> Obviously with both fixes, this may change the permuted_ols seeds and results slightly. Probably a tiny effect though but maybe it would be worth running the examples using permuted_ols to double-check.

Indeed: 

```
random_state=rng.randint(np.iinfo(np.int32).max))
```

make checks fail but

```
random_state=rng.randint(1, high=np.iinfo(np.int32).max))
```

works and is basically the same as

```
random_state=rng.rand_integers(np.iinfo(np.int32).max - 1))
```
",,
8,issue_comment,819,nilearn,nilearn,aabadie,2015-11-03 16:53:42,"> No need to use np.intp as currently in this PR I reckon.

Yes, I forgot to remove it initially. I guess it should be fine now.
",,
9,issue_comment,819,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:40:44,"> Why not merge #804 first and then process the other PRs ?

+1, being in an ubiquitous state for awhile is normal since we just discovered several flaws in Windows.
",,
10,issue_comment,819,nilearn,nilearn,lesteve,2015-11-03 12:53:24,"> +1, being in an ubiquitous state for awhile is normal since we just discovered several flaws in Windows.

Not really convinced. I don't see the rush of merging PRs partially fixing the issue where these Windows problems have been there forever.
",,
11,issue_comment,819,nilearn,nilearn,lesteve,2015-11-03 12:57:41,"About the fix, sligthly less horrible, but almost as magical:

``` python
random_state=rng.randint(np.iinfo(np.int32).max))
```

There are two things in this bug:
- `np.dtype(int)` is `int32` under Windows and `int64` under Linux
- `np.random.random_integers` is inclusive for the upper bound (between 1 and upper_bound) and for some reason can not take np.iinfo(int).max as the upper bound (not sure why to be honest). np.random.randint is not inclusive for the upper bound (between 0 and upper_bound - 1) and can take np.iinfo(int).max as the upper bound.
",,
12,issue_comment,819,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:58:42,"> Not really convinced. I don't see the rush of merging PRs partially fixing the issue where these Windows problems have been there forever.

Since multiple people will work on fixing these problems, merging them in one big PR seems like unnecessary work to me when we can merge them incrementally. I just try to save as much time as possible.
",,
13,issue_comment,819,nilearn,nilearn,lesteve,2015-11-03 13:01:20,"Obviously with both fixes, this may change the permuted_ols seeds and results slightly. Probably a tiny effect though but maybe it would be worth running the examples using permuted_ols to double-check.
",,
14,issue_comment,819,nilearn,nilearn,GaelVaroquaux,2015-11-03 13:28:52,"> Since multiple people will work on fixing these problems, merging them in one
> big PR seems like unnecessary work to me when we can merge them incrementally.

+1
",,
15,issue_comment,819,nilearn,nilearn,lesteve,2015-11-03 15:43:21,"> random_state=rng.rand_integers(np.iinfo(np.int32).max - 1))

Go for this one then. No need to use np.intp as currently in this PR I reckon.
",,
16,issue_comment,819,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:33:19,"LGTM. Merging for now, to by able to enable appveyor sooner.
",,
17,issue_comment,819,nilearn,nilearn,lesteve,2015-11-03 11:50:48,"I would be in favor of a single PR with the appveyor addition and the Windows-related fixes so that we can be confident that everything is now fine on Windows.
",,
18,pull_request_commit,819,nilearn,nilearn,aabadie,2015-11-03 10:55:09,fixing overflow error on Windows (and potentially on i686),87d288775430a607d9d1d338c470a2bb915a1ece,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,834,nilearn,nilearn,mrahim,2015-11-07 10:34:36,"Fix #833 + test
",start issue,Spacenet classifier accuracy score
2,issue_closed,834,nilearn,nilearn,lesteve,2015-11-16 09:48:57,,closed issue,Spacenet classifier accuracy score
3,pull_request_title,834,nilearn,nilearn,mrahim,2015-11-07 10:34:36,"Fix #833 + test
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,Spacenet classifier accuracy score
4,pull_request_merged,834,nilearn,nilearn,lesteve,2015-11-16 09:48:57,Spacenet classifier accuracy score,64911c7a6a247761cf0333bbf4175284c811c9f6,Pull request merge from mrahim/nilearn:spacenet_fix to nilearn/nilearn:master
5,issue_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:01:55,"In general it's better to open an issue before rolling a PR for it, as this leaves time for community discussion and reflections on the underlying issue. It seems you opened the issue and the PR at the same time ;)

OK thanks, I'll find time to review it.
",,
6,issue_comment,834,nilearn,nilearn,lesteve,2015-11-16 09:48:53,"Looks good, Travis is passing so I am going to merge this one. Thanks a lot!
",,
7,pull_request_commit_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:07:46,"I'd simplify the test. Ideally the prototype should be `test_*()`, with no args or kwargs. Also, most of the parameters you setting in SpaceNetClassifier are either irrelevant, or are already the default.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
8,pull_request_commit_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:09:51,"Missing doc for `sample_weight` param.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
9,pull_request_commit_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:11:15,"Should be "" w.r.t  y.""
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
10,pull_request_commit_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:14:35,"Are we sure these hard-coded URLs won't change one day ?
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
11,pull_request_commit_comment,834,nilearn,nilearn,dohmatob,2015-11-07 11:14:43,"Missing "".""
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
12,pull_request_commit_comment,834,nilearn,nilearn,mrahim,2015-11-07 11:28:46,"I don't know, I just copy-paste your docstring :)
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
13,pull_request_commit_comment,834,nilearn,nilearn,bthirion,2015-11-09 22:13:01,"between regions with equivalent Spearman correlation.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
14,pull_request_commit_comment,834,nilearn,nilearn,bthirion,2015-11-09 22:15:48,"Could the test be a bit more specific ?
Could you add a test to ensure that  the new loss is actually used by default ?
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
15,pull_request_commit_comment,834,nilearn,nilearn,mrahim,2015-11-10 10:51:33,"What do you mean by the new loss ? the classification accuracy ? 
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
16,pull_request_commit_comment,834,nilearn,nilearn,bthirion,2015-11-10 11:37:00,"See your change above:

loss : string, optional (default ""logistic"")
        Loss to be used in the classifier. Must be one of ""mse"", or ""logistic"".
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
17,pull_request_commit_comment,834,nilearn,nilearn,GaelVaroquaux,2015-11-11 20:42:59,"> Are we sure these hard-coded URLs won't change one day ?

We don't have a better solution, so far.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
18,pull_request_commit_comment,834,nilearn,nilearn,lesteve,2015-11-12 15:10:13,"By the way the full URL should be: http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg. Can you put it on one line? That will go over the PEP8 width limit but that is what we are doing everywhere else.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
19,pull_request_commit_comment,834,nilearn,nilearn,lesteve,2015-11-12 15:14:18,"> Are we sure these hard-coded URLs won't change one day ?

I was wondering whether we could not use a HTML redirect:
http://stackoverflow.com/questions/5411538/redirect-from-an-html-page

This way we could have a shorter URL that fits on one line, say something like `http://nilearn.github.io/building_block/niimg.html`, and additional level of indirection in case this part of the documentation moves around.

Anyone who want to give it a try, be my guest!
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
20,pull_request_commit_comment,834,nilearn,nilearn,mrahim,2015-11-13 08:06:13,"Actually the right URL is http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg 

About having shorter URL, What about an URL shortener like `git.io` ? http://git.io/v4fU8
I agree that it is not very intuitive ...
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
21,pull_request_commit_comment,834,nilearn,nilearn,mrahim,2015-11-13 08:31:05,"Do you think that `test_log_reg_vs_graph_net_two_classes_iris` adresses your comment ?
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
22,pull_request_commit_comment,834,nilearn,nilearn,GaelVaroquaux,2015-11-13 09:00:28,"> About having shorter URL, What about an URL shortener like git.io ? http://
> git.io/v4fU8

I'd rather not, that's horrible.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/space_net.py')"
23,pull_request_commit_comment,834,nilearn,nilearn,bthirion,2015-11-14 12:34:18,"If I understand correctly `assert_equal(accuracy, accuracy_score(y, 
gnc.predict(X_)))`
ensures that the score is indeed a classification score, so OK.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
24,pull_request_commit_comment,834,nilearn,nilearn,banilo,2015-11-14 22:01:06,"What happens if the model has not been fit before calling score()?
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(24, '', u'nilearn/decoding/tests/test_space_net.py')"
25,pull_request_commit_comment,834,nilearn,nilearn,banilo,2015-11-14 22:01:57,"People that are not familiar with convex optimization might not know what ""w.r.t."" could mean.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(202, '', u'nilearn/decoding/space_net.py')"
26,pull_request_commit_comment,834,nilearn,nilearn,lesteve,2015-11-16 08:56:55,"Just curious, is this check really needed given the check below?
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
27,pull_request_commit_comment,834,nilearn,nilearn,mrahim,2015-11-16 09:05:23,"Probably no longer since we check explicitly if it is the accuracy score.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
28,pull_request_commit_comment,834,nilearn,nilearn,lesteve,2015-11-16 09:26:21,"Remove it and I'll merge this PR.
",73b547ffda4f30f0f58ec4e9738acf9582ed8383,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
29,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-06 23:20:10,spacenet classifier accuracy +  test,4ff403efbe07a1a8a7120792b6d27dbd8bcfd687,
30,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-07 11:25:35,spacenet classifier accuracy +  test,67610f704fda6394c259ea1243b58a5edf91e9db,
31,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-09 08:24:32,addressing comments,0da88b17383f95b9868c1d85a210f23231208bc3,
32,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-09 09:03:13,replaced test by assert_less_equal,542e2371dee8d3589866cd16e7696f59e3dbe250,
33,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-09 09:18:06,replaced test by assert_less_equal,f998e9e11fe1957412f14058487af6d30887a0f5,
34,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-13 08:53:23,addressing comments,c84f6809a52a03a4cf1a2b482ab1494f7fab2c89,
35,pull_request_commit,834,nilearn,nilearn,mrahim,2015-11-16 09:36:50,addressing lesteves comments,73b547ffda4f30f0f58ec4e9738acf9582ed8383,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,886,nilearn,nilearn,mrahim,2015-12-03 10:23:27,"Typically this one :
http://nilearn.github.io/building_blocks/manipulating_mr_images.html#niimg
I'm wondering if we can have a tool that checks automatically all links.
",start issue,Broken links in docstrings
2,issue_closed,886,nilearn,nilearn,lesteve,2015-12-03 15:19:23,,closed issue,Broken links in docstrings
3,issue_comment,886,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:25:56,"> I'm wondering if we can have a tool that checks automatically all links.

make linkcheck.

But won't don't want it in CI, as it has a lot of false positives.
",,
4,issue_comment,886,nilearn,nilearn,mrahim,2015-12-03 10:33:44,"Ok, should we fix it right now before the 0.2 ?
",,
5,issue_comment,886,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:35:51,"> Ok, should we fix it right now before the 0.2 ?

Yes
",,
6,issue_comment,886,nilearn,nilearn,lesteve,2015-12-03 10:43:39,"Thanks @mrahim for remembering this to us! Do you want to do it, i.e. basically do you have a good way to do a search and replace in all the nilearn files rather than by hand? Otherwise I'll do it.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,878,nilearn,nilearn,dohmatob,2015-12-02 15:39:16,"Fixes issue #874
",start issue,BF: Better error msg for empty mask
2,issue_closed,878,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:27:08,,closed issue,BF: Better error msg for empty mask
3,pull_request_title,878,nilearn,nilearn,dohmatob,2015-12-02 15:39:16,"Fixes issue #874
",0394238c6d21c36f9520af6f58438843b1e17ed7,BF: Better error msg for empty mask
4,pull_request_merged,878,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:27:08,BF: Better error msg for empty mask,cd92afcd591c261be9d7c642468abe06a81309db,Pull request merge from dohmatob/nilearn:fix-874 to nilearn/nilearn:master
5,issue_comment,878,nilearn,nilearn,AlexandreAbraham,2015-12-02 15:56:19,"+1 for Gael's proposition
",,
6,pull_request_commit,878,nilearn,nilearn,dohmatob,2015-12-02 15:36:27,BF: Fixes issue #874 (better error msg for empty mask),0394238c6d21c36f9520af6f58438843b1e17ed7,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,888,nilearn,nilearn,arthurmensch,2015-12-03 13:01:11,"```
Exception occurred:
  File ""/opt/anaconda/lib/python3.5/site-packages/Sphinx-1.3.1-py3.5.egg/sphinx/application.py"", line 429, in setup_extension
    mod = __import__(extension, None, None, ['setup'])
  File ""/volatile/arthur/work/repos/nilearn/doc/sphinxext/numpy_ext/numpydoc.py"", line 37
    title_re = re.compile(ur'^\s*[#*=]{4,}\n[a-z0-9 -]+\n[#*=]{4,}\s*',
                                                                     ^
SyntaxError: invalid syntax
The full traceback has been saved in /tmp/sphinx-err-7puhmuq9.log, if you want to report the issue to the developers.
```

Looks like our version of numpydoc is outdated (see https://github.com/numpy/numpydoc/tree/master/numpydoc)
",start issue,Doc does not generate on python 3
2,issue_closed,888,nilearn,nilearn,lesteve,2016-01-04 10:44:29,,closed issue,Doc does not generate on python 3
3,issue_comment,888,nilearn,nilearn,lesteve,2015-12-03 13:05:18,"Yep this is known, we should update the sphinx extensions and nobody has found the time and/or energy to do it. PRs more than welcome!
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,889,nilearn,nilearn,mrahim,2015-12-03 15:59:09,"In the examples :
- `examples/decoding/plot_mixed_gambles_space_net.py`
- `examples/decoding/plot_haxby_space_net.py`

`memory=""nilearn_cache""` should be used rather than `memory=""cache""`
As it is, I have two cache folders in `example/decoding`.  

ping @dohmatob 
",start issue,Cache directory in SpaceNet examples
2,issue_closed,889,nilearn,nilearn,lesteve,2015-12-03 17:27:12,,closed issue,Cache directory in SpaceNet examples
3,issue_comment,889,nilearn,nilearn,dohmatob,2015-12-03 16:50:23,"OK, agreed there is some uniformaization to be done here. Thanks. Do you think you can do a PR for this ?
",,
4,issue_comment,889,nilearn,nilearn,mrahim,2015-12-03 17:15:15,"Yes
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,821,nilearn,nilearn,aabadie,2015-11-05 12:13:31,"Still related to #809
This PR fixes many file access error due to remaining file handle on windows. It also fixes an error when open a memmap on an already opened mmemap, `w+` is not allowed on windows.
",start issue,[MRG+1] Fix file access issues
2,issue_closed,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:24:57,,closed issue,[MRG+1] Fix file access issues
3,pull_request_title,821,nilearn,nilearn,aabadie,2015-11-05 12:13:31,"Still related to #809
This PR fixes many file access error due to remaining file handle on windows. It also fixes an error when open a memmap on an already opened mmemap, `w+` is not allowed on windows.
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,[MRG+1] Fix file access issues
4,pull_request_merged,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:24:57,[MRG+1] Fix file access issues,e2ed174320e97f736ea7034d185aee15ba604d6b,Pull request merge from aabadie/nilearn:fix_file_access_issue to nilearn/nilearn:master
5,issue_comment,821,nilearn,nilearn,aabadie,2015-11-05 15:10:43,"Just a side note : one of the test (test_resample_img_segmentation_fault) is awfully slow on appveyor as the system image for open-source projects only has 1.7GB of memory and this test requires slightly more than 2GB.
I added a conditionnal check of this test using SkipTest and an environment variable. It does the job.
",,
6,issue_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 13:32:18,"There is one comment that I made that I think should be addressed. The other is pure cosmetics and doesn't need to be addressed.

Aside from that: +1 for merge!
",,
7,issue_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:14:37,"Good idea on skipping the test.
",,
8,issue_comment,821,nilearn,nilearn,AlexandreAbraham,2015-11-05 15:21:08,"LGTM
",,
9,issue_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:25:04,"Merged. Thank you
",,
10,pull_request_commit_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 13:10:23,"Should the del be in the finally: if you get an error here, you won't del the masker, and thus the finally will fail.

The way I would write this would be:
- before the 'try': masker = None (so that the del is valid even if instanciation of the masker failed).
- in the 'finally': del masker
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')"
11,pull_request_commit_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 13:30:50,"I think that this failure you could have addressed with a 'del csv_file' at the end of the with statement.
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(53, '', u'nilearn/tests/test_numpy_conversions.py')"
12,pull_request_commit_comment,821,nilearn,nilearn,aabadie,2015-11-05 13:37:37,"> I think that this failure you could have addressed with a 'del csv_file' at the end of the with statement.

IMHO, the problem here was coming from `csv_to_array(csv_file.name)` which was opening another file descriptor on `csv_file.name`
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(53, '', u'nilearn/tests/test_numpy_conversions.py')"
13,pull_request_commit_comment,821,nilearn,nilearn,aabadie,2015-11-05 13:38:00,"Agree, I'll change this
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(None, '', u'nilearn/input_data/tests/test_nifti_masker.py')"
14,pull_request_commit_comment,821,nilearn,nilearn,GaelVaroquaux,2015-11-05 13:38:35,"> IMHO, the problem here was coming from csv_to_array(csv_file.name) which was
> opening another file descriptor on csv_file.name

OK. Point taken.
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(53, '', u'nilearn/tests/test_numpy_conversions.py')"
15,pull_request_commit_comment,821,nilearn,nilearn,AlexandreAbraham,2015-11-05 15:19:08,"Maybe VOLKSWAGEN_MODE? :P
",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,"(4, '', u'appveyor.yml')"
16,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-04 14:12:32,fixing one last access permission issue,a0d70d5a13d771ba944b4cf2a1c32226eafa393b,
17,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-04 14:22:31,fixing invalid argument error (windows case),9f5314b07c6d61aefc82079f5da1688c181cdb5b,
18,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-04 15:44:20,remove ResourceWarning message at the end of nosetests,0da9f89f81423512e7c43e438c4ce59da5d46094,
19,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-05 11:56:02,fixing file handle locking issues on windows,04c2cee24d6f9f4e4dc0a4630b22797f16195646,
20,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-05 13:58:32,increasing upper bound value,a6905fe648cfd7ee7f05b633dc8be369a5eb0a45,
21,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-05 13:47:43,fixing long representation issue with python 2.7,630bffbda9492a40e4e6265e2b379816647ec515,
22,pull_request_commit,821,nilearn,nilearn,aabadie,2015-11-05 14:46:08,"skipping test_resample_img_segmentation_fault on Appveyor since images
have less memory (1.7GB) than what is requested by the test (2GB)",8c5e413f59ec1dcf1a74aef661ed8c0520b0cf21,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,853,nilearn,nilearn,dohmatob,2015-11-22 15:16:00,"Fixes issue #852
",start issue,[MRG+1] [BF] Fixes SpaceNet crashes when n_alphas=1 specified
2,issue_closed,853,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:02:23,,closed issue,[MRG+1] [BF] Fixes SpaceNet crashes when n_alphas=1 specified
3,pull_request_title,853,nilearn,nilearn,dohmatob,2015-11-22 15:16:00,"Fixes issue #852
",1120bd74f1488b949aa13a7741e27345856c0f16,[MRG+1] [BF] Fixes SpaceNet crashes when n_alphas=1 specified
4,pull_request_merged,853,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:02:23,[MRG+1] [BF] Fixes SpaceNet crashes when n_alphas=1 specified,fba7fb38776aec300d8efa7150eafde18f932f71,Pull request merge from dohmatob/nilearn:fix-852 to nilearn/nilearn:master
5,issue_comment,853,nilearn,nilearn,dohmatob,2015-11-22 16:51:59,"Ok, probably due to the superfluous for loop.  Fixed.
",,
6,issue_comment,853,nilearn,nilearn,bthirion,2015-11-23 22:40:53,"LGTM too.
",,
7,issue_comment,853,nilearn,nilearn,GaelVaroquaux,2015-11-23 22:54:47,"@dohmatob : I am not sure why, but this branch now has conflicts with master, and should be rebased.
",,
8,issue_comment,853,nilearn,nilearn,lesteve,2015-11-24 08:00:10,"This needs a rebase on master.
",,
9,issue_comment,853,nilearn,nilearn,lesteve,2015-12-01 11:53:53,"Just in case you missed it: Travis fails for Python 2.6, not immediately obvious why.
",,
10,issue_comment,853,nilearn,nilearn,dohmatob,2015-12-01 15:01:18,"I missed it. Thanks for spotting. Looks like this is related to the way fold indices are generated in `sklearn=0.13`. 
",,
11,pull_request_commit_comment,853,nilearn,nilearn,AlexandreAbraham,2015-11-22 15:26:16,"Is that PEP8 valid? Looks ugly.
",1120bd74f1488b949aa13a7741e27345856c0f16,"(None, '', u'nilearn/decoding/space_net.py')"
12,pull_request_commit_comment,853,nilearn,nilearn,dohmatob,2015-11-22 15:39:47,"Simplified.
",1120bd74f1488b949aa13a7741e27345856c0f16,"(None, '', u'nilearn/decoding/space_net.py')"
13,pull_request_commit_comment,853,nilearn,nilearn,GaelVaroquaux,2015-11-22 16:18:21,"I am not sure that I prefer the new version. But nevermind.
",1120bd74f1488b949aa13a7741e27345856c0f16,"(None, '', u'nilearn/decoding/space_net.py')"
14,pull_request_commit_comment,853,nilearn,nilearn,banilo,2015-11-23 23:14:24,"comment to mark as regression test?
",1120bd74f1488b949aa13a7741e27345856c0f16,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
15,pull_request_commit_comment,853,nilearn,nilearn,lesteve,2015-11-24 08:03:35,"Nitpick: `alphas is not None and ...`
",1120bd74f1488b949aa13a7741e27345856c0f16,"(None, '', u'nilearn/decoding/space_net.py')"
16,pull_request_commit_comment,853,nilearn,nilearn,lesteve,2015-11-24 08:31:18,"Not sure why you did this in this PR, but you changed the meaning of `alphas=None` can you add a test for this as well?
",1120bd74f1488b949aa13a7741e27345856c0f16,"(6, '', u'nilearn/decoding/space_net.py')"
17,pull_request_commit_comment,853,nilearn,nilearn,dohmatob,2015-12-01 10:23:52,"That line is directly related to the bug being addressed. Test added.
",1120bd74f1488b949aa13a7741e27345856c0f16,"(6, '', u'nilearn/decoding/space_net.py')"
18,pull_request_commit,853,nilearn,nilearn,dohmatob,2015-11-22 14:10:28,Fixes issue #852,e76cc95a79764b2821568cf0c2d0e97fa389e52c,
19,pull_request_commit,853,nilearn,nilearn,dohmatob,2015-12-01 09:19:55,ENH: proper handling of case alphas=None in path_scores function,1120bd74f1488b949aa13a7741e27345856c0f16,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,805,nilearn,nilearn,aabadie,2015-10-23 12:08:43,"I found that datasets rst files where duplicated in 2 different places in nilearn code base : nilearn/description and nilearn/datasets/description. I kept the latter as it's used in the get datasets function docstring.
",start issue,[MRG] DOC : removing duplicated documentation files for datasets
2,issue_closed,805,nilearn,nilearn,lesteve,2015-10-28 14:10:38,,closed issue,[MRG] DOC : removing duplicated documentation files for datasets
3,pull_request_title,805,nilearn,nilearn,aabadie,2015-10-23 12:08:43,"I found that datasets rst files where duplicated in 2 different places in nilearn code base : nilearn/description and nilearn/datasets/description. I kept the latter as it's used in the get datasets function docstring.
",c259ebbdee9a3233a5e9d8d2038e0a51c4d0f8fc,[MRG] DOC : removing duplicated documentation files for datasets
4,pull_request_merged,805,nilearn,nilearn,lesteve,2015-10-28 14:10:37,[MRG] DOC : removing duplicated documentation files for datasets,5f4923ae7a91071a3071da5e06c97536919e713a,Pull request merge from aabadie/nilearn:dataset_description to nilearn/nilearn:master
5,issue_comment,805,nilearn,nilearn,aabadie,2015-10-23 12:48:35,"@lesteve the description was indeed empty. Renaming to oasis.rst fixed the issue.
",,
6,issue_comment,805,nilearn,nilearn,lesteve,2015-10-23 12:28:45,"oasis1 should probably be called oasis1.rst. Double check by using nilearn.dataset.fetch_oasis_vbm() and checking that the returned bunch has a non empty .description field.
",,
7,issue_comment,805,nilearn,nilearn,lesteve,2015-10-27 10:18:22,"Can you add a test for oasis similary to what @AlexandreAbraham has done in #802?
",,
8,issue_comment,805,nilearn,nilearn,lesteve,2015-10-28 14:10:48,"I'll add the test myself directly in master.
",,
9,issue_comment,805,nilearn,nilearn,lesteve,2015-10-28 14:34:32,"> I will add it anyway I am adding to megatrawls

No need to worry about that, I have already done it in 8270851.
",,
10,pull_request_commit,805,nilearn,nilearn,alexandre.abadie@therapixel.com,2015-10-23 12:05:39,removing duplicated documentation files for datasets,8924ebcae34dc84af2c23c5c08c447539e7442c6,
11,pull_request_commit,805,nilearn,nilearn,alexandre.abadie@therapixel.com,2015-10-23 12:47:51,fixing oasis dataset bunch description,c259ebbdee9a3233a5e9d8d2038e0a51c4d0f8fc,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,862,nilearn,nilearn,GaelVaroquaux,2015-11-29 22:29:08,"I have just added a 'make check' target to the doc Makefile. It fails when there is a warning in the docs.

I have also fixed all the warnings (hours of work :( ).

I think that we should add ""make check"" as a test on circleci. It needs to be done after we build the docs, as the examples need to be run for warnings to pass.

@jnothman : we might be interested in porting ""make check"" to scikit-learn, and the CI test too, if the experiment in nilearn is successful. It's been such a fight with warnings in the scikit-learn docs.
",start issue,Avoid documentation rot in continuous integration
2,issue_closed,862,nilearn,nilearn,lesteve,2015-12-03 12:50:08,,closed issue,Avoid documentation rot in continuous integration
3,issue_comment,862,nilearn,nilearn,aabadie,2015-12-02 09:06:49,"I had a look at this one and I'm about to have something fully working on circle ci.

Here are my conclusions:
- make -C doc check requires packages to be installed on the Ubuntu VM (12.04): dvipng.
- installing extra packages was broken on the VM but I could fix the issue by removing the conflicting latex package (texlive-binaries).
- I'm now trying the identify the missing packages in order to have the full doc check running.

As I had problems with circle-ci at the beginning, I also tried to run the doc check on travis and noticed a few things:
- I couldn't succeed because of the output limit (4MB) being reached by the full test suite (including doc test/check).
- At the beginning I reached several times the maximum resources provided by the legacy infrastructure of travis-ci. I gave a try to the container based one using : `sudo: required` in the `.travis.yml` configuration file. It works. The container infrastructure should be faster (that's what travis-ci claims). Maybe this change can be part of another PR.
",,
4,issue_comment,862,nilearn,nilearn,lesteve,2015-12-02 12:49:20,"> sudo: required in the .travis.yml configuration file. It works. The container infrastructure should be faster (that's what travis-ci claims). Maybe this change can be part of another PR.

The only reason we have to stick with the legacy Travis infrastructure is because we want to add neurodebian to the apt sources. For us to move the container-based one, we need Travis to add neurodebian to a white list. It hasn't happened and it is not clear whether/when it will. The PR on the travis repo is https://github.com/travis-ci/apt-source-whitelist/pull/10.
",,
5,issue_comment,862,nilearn,nilearn,lesteve,2015-12-02 15:54:33,"> That's the purpose of using sudo: required in the travis configuration file.

:confused: If I am reading the docs correctly:
https://docs.travis-ci.com/user/workers/container-based-infrastructure
https://docs.travis-ci.com/user/workers/standard-infrastructure/

we are using the default (which is the same as sudo: required) i.e. going to the legacy infrastructure.
",,
6,issue_comment,862,nilearn,nilearn,lesteve,2015-12-02 17:27:08,"> Indeed, I got confused by the error messages returned by circle ci

Hopefully you mean Travis here ...

> Now my understanding is that if you set sudo: false one time in your travis.yml file, later you have to explicitly set the legacy infrastructure using sudo: required, otherwise it uses the container infrastructure (even without the sudo:false in the configuration file).

Hmm slightly weird, but this may be Travis way of changing the default infrastructure on a per-project basis. I am guessing you are talking about Travis building on your branches from aabadie/nilearn otherwise I am a bit lost.
",,
7,issue_comment,862,nilearn,nilearn,lesteve,2015-12-02 18:29:27,"> Exactly I tried on a personnal project in order to avoid polluting the upstream repo.

OK that's what I thought. This may be useful to remember if we ever switch back and forth with nilearn/nilearn.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,863,nilearn,nilearn,GaelVaroquaux,2015-11-30 07:57:21,"We should add a small paragraph on the NiftiSphereMasker in the page doc/manipulating_visualizing/data_preparation.rst
",start issue,Add a small section on NiftiSphereMasker
2,issue_closed,863,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:14:54,,closed issue,Add a small section on NiftiSphereMasker
3,issue_comment,863,nilearn,nilearn,mrahim,2015-11-30 08:33:56,"I'm on it.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,693,nilearn,nilearn,arthurmensch,2015-07-16 15:36:20,"Decomposition estimators (`DictLearning` / `MultiPCA`) now inherit a  `DecompositionEstimator`.

Loading of data is made through a `PCAMultiNiftiMasker`, which loads data from files and compress it.

Potentially, the function check_masker could solve issue #688, as it factorizes the input checking of estimator to which you provide either a masker or parameters for a mask. It is tuned to be able to use `PCAMultiNiftiMasker`
",start issue,[MRG] Dictionary learning + nilearn.decomposition refactoring
2,issue_closed,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:44:07,,closed issue,[MRG] Dictionary learning + nilearn.decomposition refactoring
3,pull_request_title,693,nilearn,nilearn,arthurmensch,2015-07-16 15:36:20,"Decomposition estimators (`DictLearning` / `MultiPCA`) now inherit a  `DecompositionEstimator`.

Loading of data is made through a `PCAMultiNiftiMasker`, which loads data from files and compress it.

Potentially, the function check_masker could solve issue #688, as it factorizes the input checking of estimator to which you provide either a masker or parameters for a mask. It is tuned to be able to use `PCAMultiNiftiMasker`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,[MRG] Dictionary learning + nilearn.decomposition refactoring
4,pull_request_merged,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:44:07,[MRG] Dictionary learning + nilearn.decomposition refactoring,3a9614cb04687f6384691ad00fc0cb17a8a4e7b2,Pull request merge from arthurmensch/nilearn:l1_dict_learning_composition_mask to nilearn/nilearn:master
5,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-20 05:48:15,">   • SinglePCA is a transformer that takes masked data and returns their PCA.

The problem with this is that it forces to do things with the wrong
parallel-execution layout: you would have to load and mask all the data,
then do SVDs. Both in terms of parallel execution (imposing a barrier
between loading and SVDs) and in terms of memory usage (storing the data
in memory).

I tend to think that the basic element of reuse for stateless pipeline
operations is much more the function than the class. Indeed, objects are
not needed to keep state (the only reason that the Transformer is an
object is because it has separate fit and transform stages, and needs to
keep a state between the two). Functions lead to code reuse with less
boilerplate.
",,
6,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-21 09:51:55,"> Honestly, I don't see why we have make_pca_masker and PCAMultiNiftiMasker where
> we could just use MultiNiftiMasker followed by a PCA.

Once again: parallel computing + memory conception.
",,
7,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 14:49:43,"In terms of examples, I think we need:
- The unmodified CanICA example
- An example comparing both (like you had in June)

In terms of narrative docs:
- I would rename the title of resting_state_networks.rst to ""Extracting resting-state networks: ICA and related""
- In the above, I would have the current content in a section called 'Multi-subject ICA: CanICA' and another section with the doc for dict learning.
",,
8,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 18:24:56,"Can you use 30 subjects from ADHD in your example, please. It will make it use a bit less memory. I checked and it looks quite nice.
",,
9,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:25:33,"We are blowing the memory limit on CircleCI when running the examples. It corresponds to what I have observed: right now the examples use too much memory. Scaling down to 30 subjects would help a bit.
",,
10,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 09:59:04,"I have made a PR to this PR:
https://github.com/arthurmensch/nilearn/pull/1

It addresses the main blocker for merging this, ie that the memory usage of the current state of this PR is linear increasing with the number of subjects. This is blocker.

My PR is not satisfactory, in the sense that it pushes all checking in the inner loop. But right now I am not sure of a way of doing it right, and I don't want to delay merging this feature.

As a side note, we have a major design problem, maybe even a regression compared to the code in master. Right now, if people give images that are not resampled properly, it will run for a long time, and then fail miserably when trying to concatenate data. We'll need to revisit this whole codepath. But I'd rather add an issue and do it later.
",,
11,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:43:19,"> @GaelVaroquaux it should not fail if provided with images with different size
> isn't it ? n_voxels is based on mask_img size

Good point, the masker does a lot to make it work.
",,
12,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 13:07:18,"> To answer you about the design flaw, I listed it in my big refactoring
> issue. I suggest that we merge and take a closer look afterward.

Absolutely!
",,
13,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-04 13:20:15,"> A rebase never comes for free ;)

Quote of the week!
",,
14,issue_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-08 14:45:57,"Yipi!!!!

Sent from my phone. Please forgive brevity and mis spelling

On Dec 8, 2015, 09:44, at 09:44, Alexandre Abraham notifications@github.com wrote:

> Merged #693.
> 
> ---
> 
> Reply to this email directly or view it on GitHub:
> https://github.com/nilearn/nilearn/pull/693#event-485710127
",,
15,issue_comment,693,nilearn,nilearn,eickenberg,2015-07-21 09:55:59,"> We never make pipelines out of transformers, we make pipelines by using
> the functions on which the transformers depend.

It is however imaginable that some such transformers may need spatial
information. I am thinking specifically about the feature screening
currently only used in SpaceNet but which in the future could very well
serve for other estimators as well. In this case it would need to be inside
the masker.

On Tue, Jul 21, 2015 at 11:51 AM, Gael Varoquaux notifications@github.com
wrote:

> > Honestly, I don't see why we have make_pca_masker and
> > PCAMultiNiftiMasker where
> > we could just use MultiNiftiMasker followed by a PCA.
> 
> Once again: parallel computing + memory conception.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/693#issuecomment-123245049.
",,
16,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-20 00:35:46,"As a general matter, I am not comfortable with the ""pipelining through inheritance"" pattern. Especially because it is not easy to combine it with out caching system.

What we have now in nilearn.decomposition.MultiPCA is:
- MultiPCA takes a MultiNiftiMasker as parameter (or directly a mask, this is not the point here)
- It masks data and runs a PCA on the masked data.
- Its associated function, session_pca, takes niimgs as parameter, calls filter_and_mask and runs the PCA afterward. We can easily cache the call to session_pca because most of the time niimgs are strings.
- However, if we want to add more steps to the pipeline (ie CanICA), we have to inherit from MultiPCA and thus we don't have access to intermediate data, the masked data in our case.

What is proposed in this PR:
- PCAMultiNiftiMasker inherits from MultiNiftiMasker
- MultiPCA is now almost empty, it is just a wrapper around PCAMultiNiftiMasker
- nothing has changed regarding session_pca function.

What I think is the way to go:
- SinglePCA is a transformer that takes masked data and returns their PCA.
- MultiPCA is a transformer. It has init parameters of both MultiNiftiMasker and SinglePCA. It creates instances of both of them and, on fit, streamline the process: it takes the niimgs as input, mask them in the MNMasker, gives the masked data to the SinglePCA and aggregates the results, doing a cca if asked. Obviously, this is run online and efficiently (njobs and stuff)
- This patterns allows the results of MultiNiftiMasker to be reused in further steps of the process if needed. It also does as little mixing as possible between methods.

Sidenote: is we think of it, the NiftiMasker is already a pipeline of operations (smooting, masking, cleaning). Re-designing it using my proposition would be equivalent to have a SmoothingTransformer, MaskingTransformer, CleaningTransformer and chaining them in a class called NiftiMasker (pretty much the actual code). Using the other pattern, we would have a function called cleaning that would call a function called masking that would call a function called smoothing. Unless you are competing for the prize of the biggest call stack size, this seems not like a good idea to me. This is why I intuitively came up with the other solution.

I am sorry to raise this kind of concern in your PR but, if we are to refactor the entire decomposition framework, I think we should do it well.
",,
17,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 11:35:43,"I moved the fast concatenation to a separate `_utils` function. For the moment you can observe than `multi_pca` and `dict_learning` has a few common lines that could be factorized, but I think that these belongs to the own logic of both objects so it may not be worth.

In term of merging strategy, I merged PR #702 for testing purpose on this PR, but I can remove the commits for this PR easily, so we can merge this PR on top of PR #702
",,
18,issue_comment,693,nilearn,nilearn,lesteve,2015-07-21 06:35:03,"Needs a rebase + failing tests.
",,
19,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-21 08:05:41,"> MultiPCA is a transformer. It has init parameters of both MultiNiftiMasker and SinglePCA. It creates instances of both of them and, on fit, streamline the process: it takes the niimgs as input, mask them in the MNMasker, gives the masked data to the SinglePCA and aggregates the results, doing a cca if asked. Obviously, this is run online and efficiently (njobs and stuff)

This is basically what is done with make_pca_masker : streamline is done within function `session_pca`, instead of setting up a explicit pipe between two transformers. Trouble being that if we want to do that, we need to use MultiNiftiMasker.transform_single_imgs, piped to randomized_pca, which forces use to use Parallel over an already parallel ready object (MultiNiftiMasker)
",,
20,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 09:00:46,"Since your PR is working and improving code organization, I suggest that we go for merge and discuss of code engineering afterward. I don't want this PR to be blocked like Elvis' and the inner code won't change anything for the user.
",,
21,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 09:30:42,"Honestly, I don't see why we have `make_pca_masker` and `PCAMultiNiftiMasker` where we could just use `MultiNiftiMasker` followed by a PCA. We never make pipelines out of transformers, we make pipelines by using the functions on which the transformers depend.

Current state:
- MultiNiftiMasker
  - `fit` calls `filter_and_mask`
- MultiPCA
  - `fit` calls `session_pca`
  - `session_pca` calls `filter_and_mask`
- CanICA
  - `fit` calls `MultiPCA.fit`
  - `fit` then does the work

Proposition:
- MultiNiftiMasker
  - `fit` calls `filter_and_mask`
- SinglePCA
  - `fit` calls`single_pca` that takes as input masked data and do a PCA
- MultiPCA
  - `fit` calls `session_pca`
  - `session_pca` chains `filter_and_mask` and `single_pca`
- CanICA
  - `fit` calls `canica`
  - `canica` calls `session_pca`, and then `single_pca` and does ica afterward.
  - Note : this is optional.
- DictLearning
  - `fit` calls `dict_learning`
  - `dict_learning` calls `filter_and_mask` can easily do the job if init is provided, and compute a CanICA while keeping masked_data in memory since everything is functional. Or it can call `canica` directly and use caching.

I see no need whatsoever for a PCAMultiNiftiMasker, this is over-engineering for me. But maybe I'm wrong.

Also, it is possible to chain transformers. We just need a `transform_iter` method that does no parallel computation but returns an iterator to treat subjects on the fly.
",,
22,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:14:04,"> Once again: parallel computing + memory conception.

Well, no this is not the reason because the code behind the scenes is unchanged, this is only a refactoring the class organization where a part of MultiPCA becomes a class itself.

OK, it took me some time but now I get it. I'm not happy with `make_pca_masker` (I think that you could always use a PCAMultiNiftiMasker and decide to do the PCA or not inside) and I'm not happy with the naming, but I can live with that ;).
",,
23,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:23:35,">  In this case it would need to be inside the masker.

It would precisely need to be inside the masker, after the smoothing and before the cleaning. So, just where the masking is. This is precisely the code pattern I introduced in #665 and that allows to define NiftiMasker, NiftiLabelsMasker, or even NiftiUnivariateScreeningMasker if you want, using the same piece of code. Here, we are talking about software design for a PCA after masking. To summarize it, if masking and pca were 2 boxes, the actual choice is put the masking box inside the pca box. For me, it's not the best choice given that if you want to add another step, then you'll need a bigger box. I see that as boxes put next to each other.

But that's my personal bias, I am aware of that and I am totally opened to other solutions. I am just arguing a bit here because, in my head, I see a very simple schema and my impression here is that the spaghetti code has been replaced by lasagna code.
",,
24,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 11:25:33,"In particular, the concept itself of MultiNiftiMasker in the MultiPCA is a fraud: we use it to compute the mask, in the fit, that's a fact. But we don't use it for masking at all. For that, we basically use a NiftiMasker chained with a PCA in a parallel loop.
",,
25,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-21 12:03:29,"Talking with Arthur, we have identified the same weaknesses in the approach of software design in nilearn. Since his PR is an enhancement compared to existent, I suggest that we merge it and we discuss software refactoring after since it's another subject.
",,
26,issue_comment,693,nilearn,nilearn,lesteve,2015-07-21 13:42:55,"Your example doesn't work with python 3 for some reason I don't really understand. In the traceback below `n_iter` is a float (2085.16... if you want to know). The fact that it was not caught by the tests is not really reassuring:

```
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
/home/le243287/dev/nilearn/examples/connectivity/plot_dict_learning_resting_state.py in <module>()
     53     print('[Example] Learning maps using %s model'
     54           % type(estimator).__name__)
---> 55     estimator.fit(func_filenames)
     56     print('[Example] Dumping results')
     57     components_img = estimator.masker_.inverse_transform(estimator.components_)

/home/le243287/dev/nilearn/nilearn/decomposition/dict_learning.py in fit(self, imgs, y, confounds)
    209             random_state=self.random_state,
    210             shuffle=True,
--> 211             n_jobs=1)
    212         self.components_ = self.components_.T
    213         if self.verbose:

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in __call__(self, *args, **kwargs)
    481 
    482     def __call__(self, *args, **kwargs):
--> 483         return self._cached_call(args, kwargs)[0]
    484 
    485     def __reduce__(self):

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in _cached_call(self, args, kwargs)
    428                           'directory %s'
    429                         % (name, argument_hash, output_dir))
--> 430             out, metadata = self.call(*args, **kwargs)
    431             if self.mmap_mode is not None:
    432                 # Memmap the output at the first call to be consistent with

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/externals/joblib/memory.py in call(self, *args, **kwargs)
    673         if self._verbose > 0:
    674             print(format_call(self.func, args, kwargs))
--> 675         output = self.func(*args, **kwargs)
    676         self._persist_output(output, output_dir)
    677         duration = time.time() - start_time

/volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/decomposition/dict_learning.py in dict_learning_online(X, n_components, alpha, n_iter, return_code, dict_init, callback, batch_size, verbose, shuffle, n_jobs, method, iter_offset, random_state, return_inner_stats, inner_stats, return_n_iter)
    658     ii = iter_offset - 1
    659 
--> 660     for ii, this_X in zip(range(iter_offset, iter_offset + n_iter), batches):
    661         dt = (time.time() - t0)
    662         if verbose == 1:

TypeError: 'float' object cannot be interpreted as an integer
> /volatile/le243287/miniconda3/lib/python3.4/site-packages/sklearn/decomposition/dict_learning.py(660)dict_learning_online()
    659 
--> 660     for ii, this_X in zip(range(iter_offset, iter_offset + n_iter), batches):
    661         dt = (time.time() - t0)
```
",,
27,issue_comment,693,nilearn,nilearn,arthurmensch,2015-07-21 14:00:55,"i guess I should push the coverage to 100%
",,
28,issue_comment,693,nilearn,nilearn,lesteve,2015-10-05 12:26:11,"python 2.6 errors are quite easy to fix,  assert_greater should be nilearn._utils somewhere and you can replace assert_is(a, b) by assert_true(a is b).

About the CircleCI error, it happens during the documentation generation. Not sure what the exact reason is but it looks like this is related to adding `nilearn/examples/__init__.py`. Did you do that on purpose ?
",,
29,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-03 16:04:03,"I updated the doc. It seems ready to me
",,
30,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 08:03:21,"Travis is supposed to be green, but for some reason it does not find conda
",,
31,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 08:24:46,"@lesteve I addressed your comments, sorry I oversaw them. Travis CI is failing on conda due to an install error, do you reckon it is related to Travis itself ?
",,
32,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:26:52,"> @lesteve I addressed your comments, sorry I oversaw them. Travis CI is failing on conda due to an install error, do you reckon it is related to Travis itself ?

The error is a bit weird indeed. Let me try to reproduce it.
",,
33,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:31:30,"It looks like the path of conda has changed. I am testing a fix in one of my branch and I'll push it into master if that works.
",,
34,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 08:52:09,"@arthurmensch if you rebase on master, Travis has more chances to be green now.
",,
35,issue_comment,693,nilearn,nilearn,lesteve,2015-11-04 12:04:28,"For once the codacy status is actually spotting a real issue. You have added a PEP8 violation.
",,
36,issue_comment,693,nilearn,nilearn,arthurmensch,2015-11-04 13:31:17,"Done
",,
37,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:50:29,"On test seems to be failing (which is weird because travis is happy). Apart from small details, LGTM.
",,
38,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:55:15,"Failing test is : 

```
File ""/home/ubuntu/nilearn/nilearn/decomposition/tests/test_dict_learning.py"", line 49, in test_dict_learning
    assert_true(recovered_maps >= 2)
```

Please use proper functions (something like `assert_less`) to get more accurate errors.
",,
39,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 13:05:00,"> Good point, the masker does a lot to make it work.

To answer you about the design flaw, I listed it in my big `refactoring` issue. I suggest that we merge and take a closer look afterward.
",,
40,issue_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:43:14,"Merging this one. I opened issues regarding initialization documentation and broken links. Feel free to open issues if problems remain if I missed them.
",,
41,issue_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:42:14,"@GaelVaroquaux it should not fail if provided with images with different size isn't it ? `n_voxels` is based on `mask_img` size
",,
42,issue_comment,693,nilearn,nilearn,lesteve,2015-12-04 10:09:03,"Hmmm it looks like this needs a rebase on master. Maybe you'll get a few URL fixes by @mrahim for free.
",,
43,issue_comment,693,nilearn,nilearn,arthurmensch,2015-12-04 10:37:14,"A rebase never comes for free ;)
",,
44,issue_comment,693,nilearn,nilearn,bthirion,2015-12-08 14:50:59,"Congrats !
",,
45,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 08:25:56,"memory_level=5, verbose=2, random_state=0 makes it a bit frightening to users. I think that @GaelVaroquaux already raised this issue. Couldn't we rely on defaults ? If not, this couls mean that the defaults are not well chosen... 
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
46,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 08:31:20,"The example is broken here on my box: the masker is not happy with the provided input.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
47,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-17 08:58:13,"You changed n_init default from 10 to 1, is that on purpose ?

Not sure why you reordered the parameters, but that make things like this a lot more likely to pass through the cracks ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
48,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 09:03:48,"I reordered the parameters so that they are consistent with MultiNiftiMasker parameters (an instance of MultiNiftiMasker being created)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
49,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:53:05,"You can add `""Expected type: *NiftiMasker but got type %s"" % type(masker)`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
50,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 09:53:43,"None would be more meaningful
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
51,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:05:45,"...the mask is calculated.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
52,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:06:34,"To do in this PR ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
53,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:08:23,"Could you reorder the parameters in the docstring for readability ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
54,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-07-17 10:18:30,"Explain that this is typically applied prior to ICA of fMRI data.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
55,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 12:25:07,"This relates to #630. As scoring functions are useful for all decomposition estimators, the idea to derive them from a base DecompositionEstimator definitely makes sense.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
56,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 13:56:41,"Sorted
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
57,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 14:33:03,"We have to put memory_level=2 to have good performance (reuse masking from initialization in dictionary learning). I could make it the default
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
58,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-17 14:33:21,"Just did
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
59,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-17 14:41:20,"> We have to put memory_level=2 to have good performance (reuse masking
> from initialization in dictionary learning). I could make it the
> default

memory_level=1 should always be the default. Maybe we need to change our
'func_memory_level' in a few places.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
60,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-17 15:00:33,"You say 10 and later you fetch 20.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
61,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:33:36,"Line looks very long. Should be at most 79 characters.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
62,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:34:05,"Same comment as about, about very long lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
63,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:34:16,"Again.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
64,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:35:14,"Long lines ... You need to integrate pyflakes et al. into your editor.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
65,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:46:04,"Prefer assert_equal, assert_false, assert_true over raw assert.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_base.py')"
66,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:46:46,"Same remark about assert as above.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/input_data/tests/test_masker_validation.py')"
67,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:47:53,"What does the method return ? Document it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
68,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:50:17,"The comment is not useful. At least not for the line you've applied it to.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
69,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:51:17,"Consistently end each docstring entry with a fullstop ""."".
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
70,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:52:11,"Remove space before ""Prepare"".
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
71,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:52:58,"Missing fullstop. See related comment below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
72,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:56:32,"How is this the user's fault ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
73,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:57:18,"Can't you just concatenate the pcas in a one-liner ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
74,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 16:58:27,"Missing document for y and confounds.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
75,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-07-18 16:58:48,"> > -            self.components_ = np.empty((len(imgs) \* self.n_components,
> 
> Can't you just concatenate the pcas in a one-liner ?

This is actually faster. I believe that it is because numpy has a
sub-optimal memory allocation strategy in the simple concatenation
strategy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
76,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 17:05:47,"This line is dangerous. It produces a _generator_ of len(imgs_list) Nones. Generators are consumed without replacement, and you don't want this. Just do a one-liner like `confounds = [None] * len(imgs_list)` or something similar. Also you definitely don't need itertools here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
77,pull_request_commit_comment,693,nilearn,nilearn,dohmatob,2015-07-18 17:08:32,"OK.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
78,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:15:30,"Really?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
79,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:18:38,"I said something related in an earlier version of this code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
80,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:23:26,"What do you mean by sorting? PCA-ish, According to explained variance?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
81,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:34:28,"As discussed earlier with Michael, there is some controvery how to call these things. Many appear to say ""component weights"" for the actual maps in our case and ""loadings"" for the coefficients of the linear combination of these maps.

Means: here better `loadings`or something like that
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
82,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:37:23,"Use provided loadings to compute corresponding linear component combination in whole-brain voxel space
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
83,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-07-19 22:41:02,"loose underscore in filename?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
84,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-19 23:16:17,"Your comment is not very helpful.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
85,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-07-19 23:26:29,"This is not the most elegant code but if you really need that, you should probably call `check_niimg(imgs, ensure_ndim=4, atleast_4d=True)`.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
86,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 09:07:22,"I don't think this is a good idea if we do not want to support `PCAMultiNiftiMasker`, which is really an internal tool.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_subject_pca.py')"
87,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-07-20 11:31:14,"I ll leav it here as this is the same code as in MultiNiftiMasker. Either we change everything or we keep to this (this is not dangerous as we know that we use it only once).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
88,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-21 17:09:24,"You are not using the `mem` object it looks like. You can also remove the Memory import at the beginning.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
89,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-07-21 17:15:41,"Doesn't seem to be used in `__init__`
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
90,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-21 15:45:42,"The master version fails with floats...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/input_data/masker_validation.py')"
91,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:32:21,"Why don't you take `n_components` from `data[0].shape[0]`?

Note: I think we use this kind of code pattern several time in nilearn. It shouldn't be too much work to add an `axis` parameter and use it elsewhere. If you don't plan to do it, we'll add an issue about that after merging your PR.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
92,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:32:39,"Having the index of the image is usually useful in that context.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
93,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:01,"This should not be removed...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
94,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:11,"Same here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
95,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:33:26,"Revert here too.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/datasets/__init__.py')"
96,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:34:40,"Warning: this is not safe, `reduction_ratio` could be something else.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
97,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:37:56,"I think it's time to make a `_get_niimg_shape` function that does not load the data to get the shape.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
98,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:39:46,"This has to be discussed. We should, at minimum, allow overriding of this heuristic using an environment variable.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
99,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:40:46,"You have no guarantee that the directory will be writeable. Please use `tempfile`.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
100,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:42:56,"transform method can cache the masking cleanly, is there any reason to do it by hand here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
101,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-24 08:46:27,"Is the plan to add fetch_hcp_rest to nilearn.datasets? Maybe you didn't mean to git add this example.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state_shuffle.py')"
102,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-24 08:48:06,"You don't seem to be using fast_same_size_concatenation anywhere.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/numpy_conversions.py')"
103,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-24 08:50:26,"I think that you meant to remove this function along with PCAMultiNiftiMasker. Could you do it so we don't review unused code?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/_base.py')"
104,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:34:45,"You say 20 but there are 40.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
105,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:35:21,"Did you want to compare to CanICA?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
106,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:38:41,"I think that `memsize` is a more common naming.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
107,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:38:54,"You are say ""example apply"" twice in the same line
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
108,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:41:05,"Again, write access is not guaranteed here. Is there any reason to save the file here instead of the system temporary folder?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
109,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:42:15,"Seems like debug code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
110,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:44:20,"God bless you!
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
111,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:46:07,"Please raise warning when you override user-defined values.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
112,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-08-27 12:49:03,"We exposer the masker because it ca be used by the user to `inverse_transform` components. Why do make it private?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
113,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-08-27 12:50:13,"I tend to strongly prefer parentheses over backslashes for multi-line stuff
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
114,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:51:53,"I know we have not done this in the other examples, but why not have one argument to `DictLearning` per line and comment right to it briefly what it roughly means?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
115,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:52:59,"I guess `canica` is not in hear for debugging purposes...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
116,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:56:15,"For a user who does not already know the `NiftiMasker`family, it might be difficult to understand this line. Isn't there a way to expand this into multiple steps for didactic reasons?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
117,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 12:58:48,"What is the `type`for? - Does it not work without it?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
118,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:03:03,"This line appears ciritical to understand how the visu works, perhaps add an additional comment.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
119,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:05:37,"Yes that was the idea ! Caching it means that it takes very little extra time, as it would be computed anyway in DictLearning
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
120,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:06:17,"`PCA`appears out of date now.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
121,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:06:33,"Ah, true. It can be possibly very large, that's why I wanted to put it in some kind of data folder
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
122,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-08-27 13:07:23,"Doc error, sorry
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
123,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:13:14,"that DO not
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
124,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:22:08,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
125,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:26:39,"Are you sure the `int()` is necessary here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
126,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:28:55,"within
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
127,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:31:40,"perhaps mention somewhere that SVD or RandomizedSVD is used depending on sample/subject ratio...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
128,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 13:33:33,"""output"" instead of ""data""?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
129,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:00:48,"""signal"" -> ""loading"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
130,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:03:22,"Apparently, it is said nowhere where what the ""score"" corresponds to mathematically? 
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
131,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:06:09,"loose , here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
132,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:12:49,"Explanation could be clearer here. ""Upper limit on...""?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
133,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-08-27 14:19:21,"could still be clearer...the difference between ""in memory"" and memmap file ""on disk"" could be more explicit. As well as what the decision rule is exactly.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
134,pull_request_commit_comment,693,nilearn,nilearn,bthirion,2015-08-31 07:57:22,"This probably needs to go to some other places e.g. _utils
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
135,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-09-10 12:07:09,"You need that to introspect class name
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_dict_learning_resting_state.py')"
136,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-10-05 14:30:07,"Why the parentheses around the reference ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/dictionary_learning.rst')"
137,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-10-05 14:38:20,"Did mean to write something like this instead?

``` python
try:
    WindowsError
except AttributeError:
    WindowsError = None
```
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/_utils/file_io.py')"
138,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:10:06,"PEP8: 2 empty lines
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
139,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:12:22,"@AlexandreAbraham : can we avoid this code thanks to our checkers? I don't like the idea of having it spread in the codebase.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
140,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:22:49,"name: BaseDecomposition
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
141,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:23:25,"I suggest that we don't support persistence to memmap and use a function instead of this object.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
142,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:24:15,"I think that I would prefer 'session' to 'record'.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
143,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:24:36,"No there is not. But it can be done using a one-liner though.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
144,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:25:59,"My username is not arthur so I may have some problems :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
145,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:26:06,"This function cannot be named 'score', because is the scikit-learn API, score returns only one number.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
146,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:26:17,"PEP8: two empty lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
147,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-10-28 12:29:30,"If we remove support for out of core via the memmap, batches are no longer critical here, and we use dict_learning_online with return_code=True.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
148,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-10-28 12:34:27,"Please use masking._load_mask_img
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
149,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:13:50,"necessary? Why not just one variable instead?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
150,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:17:29,"perhaps add comment, why ""6"" as an example
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_sparse_pca_resting_state.py')"
151,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:22:09,"Just checking: does this work on Windows machines?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
152,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:27:11,"I know I already said that: but some broad indicators of the conceptual difference between sparse PCA and dictionary learning would be helpful, along the lines of ""Informally, think of sparse PCA (parsimony in voxels) as the transpose of dictionary learning (parsimony in components).""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
153,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:28:04,"too unspecific. What's the difference to PCA, sparse PCA and ICA?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/plot_dict_learning_resting_state.py')"
154,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:34:15,"point-not-point-at-end is inconsistent
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
155,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:40:52,"This explanation does not help much in understanding what this argument actually does.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
156,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 13:55:44,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
157,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:07:53,"kind of tautological with the score() function of the base class in terms of the explanation #descriminability
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
158,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:15:51,"a) why?
b) Are we sure that we have at least 10 maps?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
159,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:17:59,"""...(as opposed to voxel sparsity)""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
160,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-10-28 14:19:33,"compoent sparsity = voxel sparsity
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
161,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:20:17,"Isn't it more intuitive not to manipulate the data by default?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
162,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:24:02,"Is this pythonic? Is time_[1] ever used?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
163,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:24:42,"typo?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
164,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-10-28 14:33:58,"As far as I understand it, sparse PCA typcially imposes an L1 penalty term on the single voxels, whereas sparse dictionary learning typically imposes an L1 penalty term on the coefficients of the entire components of the dictionary, rather than the voxels of the space that is explained by the components.

Exactly for these aspect, I feel, that the distinction between DictLearning and SparsePCA should be explicit in both examples and nilearn base code.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
165,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-10-28 14:45:14,"See below ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
166,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:53:51,"Missing end of the sentence.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
167,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:53:54,"Missing dot at the end.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
168,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:54:32,"Typo: M**ap**s ... lea**r**ning
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
169,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:55:34,"cur -> cut
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/compare_resting_state_decomposition.py')"
170,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 09:56:15,"Do you need the atexit?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
171,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-04 10:06:51,"why not put subject_n_samples in the zip in order to avoid the enumerate?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
172,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-04 14:34:55,"Is this been added or I have missed it ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
173,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-11-05 12:12:13,"Good catch, dictionary_learning.rst hasn't been git added.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
174,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:11:10,"""DictLearning is a ready-to-use class just like CanICA"" should be sufficient I guess.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
175,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:11:53,"It would be nice to make an indentity to parameter ""alpha"". It is mixed in the sentence.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
176,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:12:11,"fullstop ).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
177,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:14:24,"I would write ""Group comparisons of Dictionary Learning and Canonical ICA analysis on resting-state fMRI""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
178,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:18:06,"By default it fetches 40 subjects.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
179,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:24:57,"""Dumping"" to ""Saving"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
180,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:32:13,"For nicer look \* Gael Varoquaux et al. ""Multi-subject dictionary learning to segment an atlas of brain spontaneous activity"", Information Processing in Medical Imaging, 2011, pp. 562-573, Lecture Notes in Computer Science.

""Available on hal""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
181,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:33:26,"""utilities""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
182,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:34:54,"May be ""provided data"" to ""input data"" .
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
183,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:36:19,"""provided masker"" to ""given masker""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
184,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:38:05,"I don't think ""using a PCA"" is required because anyway you are describing below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
185,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:41:16,"""utilities for masking and dimensionality reduction of data"". If you agree.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
186,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:42:30,"For multiple ""images""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
187,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:50:19,"May be ""An instance used to mask the input data"" ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
188,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:51:11,"subject to ""subjects""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
189,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:53:24,"or 2D matrix ""in an array""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
190,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:54:50,"It would be nice I guess if you say what is default and what is optional. Just for the sake of clarity.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(23, '', u'nilearn/decomposition/base.py')"
191,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:55:55,"Between 0. ""and"" 1.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
192,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:56:20,"Forget if I am mistaken.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
193,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 20:57:41,"please fullstop :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
194,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 21:00:12,"""Returns""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
195,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-11-05 21:02:28,"For consistency either ""int"" or ""integer""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
196,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:46:10,"Sparsity is controlled by a parameter for sparse maps. ;-)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
197,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:51:05,"grammar (second sentence)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
198,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:53:59,"style: leave out ""doing""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
199,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 21:55:34,"""4D plotting""? Perhaps not exactly intuitive...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
200,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:04:35,"content already in the line above and does not go well with the few lines below
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
201,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:21:00,"Wether ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
202,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:23:08,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
203,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:40:41,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
204,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:43:19,"Should not extend, rather than amount, indicate whether we flip signes?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
205,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:54:01,"Bach & Co usually like to distinguish ""fixed"" and non-""fixed"" dictionaries in DL appraoches.
Besides a reminder to be explicit about wether the map coeffients/loadings (typical sparse DL) or weights (closer to SparsePCA) are what will be sparse.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
206,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 22:59:07,"""initial estimation""?...perhaps more ""Custom initilization of map parameters...""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
207,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:01:20,"...or even extend+amount
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
208,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:04:01,"comment on these three lines
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(183, '', u'nilearn/decomposition/dict_learning.py')"
209,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:06:40,"unit-variance scaling?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
210,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-11-05 23:18:21,"More precisely, one could mention, it's an initialization of only V or for V+U
(http://scikit-learn.org/stable/modules/generated/sklearn.decomposition.dict_learning_online.html).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
211,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:11:16,"Do you actually need to save components to file?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
212,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:11:42,"~~It should be plotting.show() to avoid the matplotlib import~~. **Edit**: actually you are using plt in plenty of other places so that's fine.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
213,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-01 12:14:18,"> Do you actually need to save components to file?

I think that it is useful because users will most likely want to do that,
and that way, when they copy-paste from the example they don't have to
look for how to do it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
214,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:14:47,"Personally in favor of Python types, i.e. int.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
215,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:15:16,"else clause not needed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
216,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:15:35,"else clause not needed
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
217,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:16:03,"""0. and 1.""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
218,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:17:56," 'int' is platform-dependent, I would use an explicit dtype i.e. 'int64'
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
219,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:21:33,"There has to be a better way of doing this with numpy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
220,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:22:42,"Use -----
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
221,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:23:24,"Short description should fit on one line. Move second sentence below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
222,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:24:39,"{'background', 'epi'} is the way of indicating choices
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
223,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:25:27,"str rather than string (maybe just my own preference for Python types here)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
224,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:26:00,"---- rather than ====
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
225,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:35:06,"Actually this attribute doesn't seem to be used anywhere, has it changed its name somehow?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
226,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:35:36,"Same comment as above `_pca_masker_` doesn't seem to be used anywhere in the code, maybe the name has changed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
227,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-01 12:46:00,"Newline needed here, see [PEP 0257](https://www.python.org/dev/peps/pep-0257/#id17). ""Multi-line docstrings consist of a summary line just like a one-line docstring, followed by a blank line, followed by a more elaborate description""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
228,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:40:04,"What do you mean ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
229,pull_request_commit_comment,693,nilearn,nilearn,KamalakerDadi,2015-12-02 09:42:34,"something like this to indicate that it is a parameter 'alpha' ?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
230,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:44:07,"It's V only, but I don't think we should talk about it in the documentation, nilearn users do not need to know that.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
231,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:44:52,"We're using extend there !
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
232,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:55:45,"To be addressed.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
233,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:56:27,"To be addressed
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/index.rst')"
234,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 09:57:29,"Not sure of that
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
235,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:57:50,"+1 on that suggestion.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
236,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:59:06,"This file should be called 'plot_compare...' to be run by sphinx-gallery to generate a plot.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
237,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:00:11,"Could you rebase on master, and then use the new style of division (for notebook-style sphinx gallery):

<pre>
#######################################################################
# Load ADHD rest dataset
</pre>

throughout the example.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
238,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:01:14,"We no longer need to import matplotlib, as we can use show from nilearn.plotting.show (it simplifies the example).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
239,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:02:09,"I'd rather use multiple figures than multiple axes. It makes the code more complicated, and we are trying to phase out support for this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/compare_resting_state_decomposition.py')"
240,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:16:05,"I think that we should move this affection below, as it is not used before the for loop (useful for readability and memory usage).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
241,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:16:33,"Me neither :)
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
242,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:17:03,"State that they can be 3D or 4D.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
243,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:17:52,"I would state in the first line that this function is efficient on multiple blocks of data.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
244,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:19:39,"Is this argument still valid?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
245,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:20:24,"It seems to me that you can search for all the occurences of in_memory and remove them.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
246,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:35:03,"You cannot pass the 2D list (or array) to the inverse_transform of nifti_maps_masker?

What I don't like about this code is that it is going to be returning a list of 3D imgs. For consistency, it seems that we would like a 4D image.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(388, '', u'nilearn/decomposition/base.py')"
247,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:37:27,"Why did you reorder the arguments to CanICA? It's potentially a backward incompatible change, and I don't think that we want it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
248,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:43:30,"Can you do a short one-line docstring here.

The reason being that it helps coders (not end users) understand the purpose of the function.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
249,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:47:24,"+1
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
250,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:48:06,"I think that the formatting is broken here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
251,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:53:16,"@arthurmensch  has validated this choice empirically, and it works well.

@arthurmensch : could you add a comment in the code saying exactly this, so that we avoid people changing it in the future.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
252,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:54:45,"Reordering arguments :). I am not sure that it is a good thing.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
253,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:55:41,"What does the 2 mean here?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
254,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 11:54:48,"I think that we should remove these lines.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_base.py')"
255,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 12:02:16,"We tend to run tests using nose from the command line. Thus I think that we should remove this line.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/tests/test_canica.py')"
256,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 12:27:48,"IMHO it is better : we put all estimator related argument first, then masker related argument, then system related argument
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
257,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-02 12:44:35,"Loadings is a list of loadings related to subjetcs. I'll write an issue
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(388, '', u'nilearn/decomposition/base.py')"
258,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:37:17,"1) typo
2) ""Sparsity here refers to parsimony in ....""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
259,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:38:00,"intended?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
260,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:39:16,"I would expect that HAL is perhaps not known to everybody.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
261,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 13:43:46,"While you are at it, touching this file, this line is way too long ...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
262,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:45:51,"It is not helpful to explain something with the same something.

""""select pertinent slice section for display""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
263,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:50:02,"typo
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
264,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 13:51:34,"Just a side-comment, although it might not really matter in this particular case, changing the order of the arguments might break people code if they pass arguments by position rather than by name.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/multi_pca.py')"
265,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:51:50,"sorry, but kinda far from being clear what this does, when not considering the code
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
266,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 13:55:09,"PEP8
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
267,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-02 14:14:14,"what about:

``` python
current_pos = 0
for data in data_list:
    len_data = len(data)
    data[current_pos:current_pos+len_data] = data
    current_pos += len_data
```

At the end of the day, isn't this thing just a concatenation?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
268,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:14:51,"""initial estimation"" still does not make sense; one could also use an anatomically motivated map which would then not be ""estimated""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(64, '', u'nilearn/decomposition/dict_learning.py')"
269,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:15:07,"The notion of compression remains elusive
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
270,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-02 15:15:30,"empty line
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
271,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:24:44,"Identation is wrong above (by one whitespace).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
272,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:27:12,"Typo: activitym (last word).
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
273,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:29:22,"You should move this comment one line below
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
274,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:30:32,"This reference is wrong. You can grab the right reference from the build of sphinx-gallery, once it is finished.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
275,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:30:55,"Indentation is wrong in the two lines above.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
276,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:31:53,"Here use "":class:'DictLearning'""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
277,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:32:30,"You should remove this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_canica_resting_state.py')"
278,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:32:51,"Wrong indentation.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
279,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:33:07,"Still wrong.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
280,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:34:33,"You need to clean this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
281,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:37:16,"You should fix the indentation: this is not valid rst.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
282,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-02 17:45:41,"It seems that you changed the default smoothing from None to 6.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/canica.py')"
283,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:14:43,"two comment sharpes?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
284,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:17:16,"I thought, brackets are cleaner or even more pythonic in this setting?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
285,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:18:13,"...and add a short comment for why and what of these two indices.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
286,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:18:40,"Perhaps even expand line 77, which might be a little overloaded for beginners.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'examples/connectivity/plot_compare_resting_state_decomposition.py')"
287,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:21:38,"People might wonder, why ""PCA"" if `mask_and_reduce` is a general purpose function?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
288,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:33:53,"Suggestion for higher specificity: ""for MATRIX decomposition""

Also ""estimatorS""
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
289,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:39:05,"a) Perhaps introduce a helper function `isemptylist()` that performs both type-checking and test the length
b) perhaps profit from implicit booleaness of list -> `not imgs`?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
290,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:43:55,"I think this function name may contain a grammatical error -> do you mean ""sort by score"", that is, as a fucntion of each components' score/explained variance?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
291,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:47:18,"Do we have a test for both these two code branches?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(453, '', u'nilearn/decomposition/base.py')"
292,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:52:57,"just day `performs dimensionality reduction by subsampling in the temporal domain`. What is written here is a little fuzzy.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
293,pull_request_commit_comment,693,nilearn,nilearn,banilo,2015-12-03 09:53:55,"One could also make expilcit the way the smaller subset of time point is chosen?
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/dict_learning.py')"
294,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:03:20,"For me, this is clear. However, I am a bit puzzled by the word ""ratio"". In data compression, the compression ratio is usually computed using the formula `uncompressed data size / compressed data size`, thus a ratio inferior to 1 seems a bit odd. But maybe it's just me.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
295,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:04:57,"This is definitely not a good idea. You will waste a lot of memory here if you load everything instead of iterating over it.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
296,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:09:58,"> This is definitely not a good idea. You will waste a lot of memory here if you
> load everything instead of iterating over it.

My PR to this branch solves this problem, to the cost of doing things a
bit more manually. However, I think that we should accept this cost, in
order to merge this PR for the release. We should later  inspect our
loading / checking code to see what is the best way to do this.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
297,pull_request_commit_comment,693,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:16:39,"It's as simple as removing `list` here.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
298,pull_request_commit_comment,693,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:25:25,"> > -    imgs = list(_iter_check_niimg(imgs, atleast_4d='True', memory=memory,
> > -                             memory_level=memory_level))
> 
> It's as simple as removing list here.

No, that wasn't enough to limit the memory explosion, it just delayed it.

I suspect that images spanned by the iterator were not properly garbage
collected. But it does require investigation.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
299,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:25:57,"No beacuse we iterate twice. I was stupid to add this list() though. Reviewing Gaël PR now
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
300,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:52:31,"Seems more natural to me...
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(50, '', u'nilearn/decomposition/base.py')"
301,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-03 12:54:11,"Yes
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(453, '', u'nilearn/decomposition/base.py')"
302,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:07:34,"You probably don't want to change this link.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
303,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:07:42,"This one either.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
304,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:08:20,"This reference should probably stay the same.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
305,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:11:23,"In order to be compatible with the changes that have been going on in sphinx-gallery, you should probably a pattern something like this here:

../auto_examples/connectivity/images/sphx_glr_plot_canica_resting_state_003.png

Same thing for the png below.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'doc/connectivity/resting_state_networks.rst')"
306,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:27:17,"This link is wrong, it should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
307,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:27:34,"http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
308,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:28:01,"wrong link, should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
309,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-03 15:28:09,"wrong link, should be:
http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
310,pull_request_commit_comment,693,nilearn,nilearn,arthurmensch,2015-12-04 08:39:05,"49 occurence in the whole codebase. I'll do a pull request to change this once this one is merged
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
311,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 10:03:05,"> 49 occurence in the whole codebase

Nope, all occurences have been fixed by @mrahim recently in master. Just fix yours please!
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(None, '', u'nilearn/decomposition/base.py')"
312,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 12:37:20,"Genuine error in CircleCI, it looks like you need a space after the :

Try to run the doc generation with make html-strict and you'll be able to reproduce the error and possibly find other problems.
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(114, '', u'doc/connectivity/resting_state_networks.rst')"
313,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 14:09:58,"You probably shouldn't change this link
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(75, '', u'doc/connectivity/resting_state_networks.rst')"
314,pull_request_commit_comment,693,nilearn,nilearn,lesteve,2015-12-04 14:10:03,"and this link either
",8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,"(80, '', u'doc/connectivity/resting_state_networks.rst')"
315,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-09-09 13:18:30,Added l1 code based dictionary learning,1a9e8de6d6a3c3663f50a3851c187282b7cc6633,
316,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-12-02 09:30:28,Addressed comments,7af3a07a9fe836f3dc7350732dd71cb214853533,
317,pull_request_commit,693,nilearn,nilearn,arthurmensch,2015-12-04 10:41:26,Comments,8d15dfe8ed9a541c24b64dfa5513e1964df4d2b9,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,812,nilearn,nilearn,AlexandreAbraham,2015-11-02 14:17:32,"Some users complained about the fact that it is not possible to chose the location for the cut in plotting functions. It turns out that they did not know about `cut_coords`.

Also, for them, the `display_mode` is not clear. For example, they don't understand why they have to pass only 2 coordinates when using 'xz'.
",start issue,`cut_coords` is not clear for new users
2,issue_closed,812,nilearn,nilearn,AlexandreAbraham,2016-07-19 13:21:44,,closed issue,`cut_coords` is not clear for new users
3,issue_comment,812,nilearn,nilearn,lesteve,2015-11-03 07:53:51,"I thought what @AlexandreAbraham had in mind was to allow to pass cut_coords as list of 3d coordinates irrespective of the display_mode. This way you can change the display_mode without having to worry about changing cut_coords.
",,
4,issue_comment,812,nilearn,nilearn,alexsavio,2016-01-13 16:09:41,"Related to this, is there any way to plot in a grid instead of a row?
I mean, if I use cut_coords=40, I wouldn't like to plot 40 slices in a row, but maybe a grid of 5x8 slices.
I was thinking that an argument, e.g., `plot_grid=(5, 8)`, would help, if there is no other way to do this.
I have been trying to implement something like this for a while, if you indicate me what should be changed, I could do it.

P.S.: I know that I have another open issue, but this is more urgent for me, I will arrive to the other one one day.
",,
5,issue_comment,812,nilearn,nilearn,alexsavio,2016-01-14 10:43:58,"Do you think this will overcomplicate the code base? This is a feature I feel like doing, I will have a look through the code to have an estimate.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,824,nilearn,nilearn,dohmatob,2015-11-05 16:54:54,"…t brain, not standard brain
",start issue,BF+ENH: screening_percentile is now expressed in percentage of subjec…
2,issue_closed,824,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:19:53,,closed issue,BF+ENH: screening_percentile is now expressed in percentage of subjec…
3,pull_request_title,824,nilearn,nilearn,dohmatob,2015-11-05 16:54:54,"…t brain, not standard brain
",474a27808f70361666c1548345eb7be5452cbafc,BF+ENH: screening_percentile is now expressed in percentage of subjec…
4,issue_comment,824,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:02:43,"As seen with Elvis IRL, we are going to refine a bit more this logic, so
don't merge / review for now.
",,
5,issue_comment,824,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:19:52,"Closing as superseeded by #825
",,
6,pull_request_commit,824,nilearn,nilearn,dohmatob,2015-11-05 15:34:02,"BF+ENH: screening_percentile is now expressed in percentage of subject brain, not standard brain",474a27808f70361666c1548345eb7be5452cbafc,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,831,nilearn,nilearn,arokem,2015-11-06 21:15:01,"Primarily, not using 'jet' in these two examples.

Also: a call to `plotting.show()` was raising an error in plot_probabilistic*
so this fixes that.
",start issue,DOC: A few fixes in examples.
2,issue_closed,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:40:49,,closed issue,DOC: A few fixes in examples.
3,pull_request_title,831,nilearn,nilearn,arokem,2015-11-06 21:15:01,"Primarily, not using 'jet' in these two examples.

Also: a call to `plotting.show()` was raising an error in plot_probabilistic*
so this fixes that.
",99fe730f9963f87aaf5d614bb74d60fc3d8e8173,DOC: A few fixes in examples.
4,pull_request_merged,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:40:49,DOC: A few fixes in examples.,a0bef0ea97660e62a3113782a4ef638e16266e84,Pull request merge from arokem/nilearn:jet-be-gone to nilearn/nilearn:master
5,issue_comment,831,nilearn,nilearn,arokem,2015-11-08 08:36:02,"Thanks for the comments. Hopefully I got everything?

On Sun, Nov 8, 2015 at 12:17 AM, Alexandre Abraham <notifications@github.com

> wrote:
> 
> I requested some cosmetic changes. Otherwise, +1, this really improves the
> example indeed.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/831#issuecomment-154788691.
",,
6,issue_comment,831,nilearn,nilearn,bthirion,2015-11-07 21:16:44,"LGTM. The example looks much better now. 
",,
7,issue_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:17:46,"I requested some cosmetic changes. Otherwise, +1, this really improves the example indeed.
",,
8,issue_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:40:10,"That was fast. LGTM too, merging.
",,
9,issue_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:40:55,"Thanks!
",,
10,pull_request_commit_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:13:42,"This is simpler and faster: `np.fill_diagonal(correlation_matrix, 0)`
",99fe730f9963f87aaf5d614bb74d60fc3d8e8173,"(None, '', u'examples/connectivity/plot_probabilistic_atlas_extraction.py')"
11,pull_request_commit_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:16:57,"We use `plotting.show()` on purpose. In a lot of examples, this allows the user to display the plot without importing explicitely pyplot. We'd like to keep it this way.
",99fe730f9963f87aaf5d614bb74d60fc3d8e8173,"(None, '', u'examples/connectivity/plot_probabilistic_atlas_extraction.py')"
12,pull_request_commit_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:17:05,"Same remark here.
",99fe730f9963f87aaf5d614bb74d60fc3d8e8173,"(None, '', u'examples/connectivity/plot_signal_extraction.py')"
13,pull_request_commit_comment,831,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:17:18,"And here also.
",99fe730f9963f87aaf5d614bb74d60fc3d8e8173,"(None, '', u'examples/connectivity/plot_signal_extraction.py')"
14,pull_request_commit,831,nilearn,nilearn,arokem,2015-11-06 21:13:30,"DOC: A few fixes in examples.

Primarily, not using 'jet' in these two examples.

Also: a call to `plotting.show()` was raising an error in plot_probabilistic*
so this fixes that.",d4e206b3b68aa4172d2333ed09477ccbe8e06359,
15,pull_request_commit,831,nilearn,nilearn,arokem,2015-11-08 08:34:57,DOC: Use more elegant diagonal filling; Use plotting.show.,99fe730f9963f87aaf5d614bb74d60fc3d8e8173,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,908,nilearn,nilearn,KamalakerDadi,2015-12-15 09:14:51,"Removing deprecated function names according to latest release:

``` python
* fetch_msdl_atlas
* fetch_craddock_2012_atlas
* fetch_harvard_oxford
* fetch_smith_2009
* fetch_yeo_2011_atlas
* fetch_atlas_aal_spm_12
```
",start issue,PR trying to address removing deprecated functions of atlas fetcher
2,issue_closed,908,nilearn,nilearn,lesteve,2015-12-15 17:18:44,,closed issue,PR trying to address removing deprecated functions of atlas fetcher
3,pull_request_title,908,nilearn,nilearn,KamalakerDadi,2015-12-15 09:14:51,"Removing deprecated function names according to latest release:

``` python
* fetch_msdl_atlas
* fetch_craddock_2012_atlas
* fetch_harvard_oxford
* fetch_smith_2009
* fetch_yeo_2011_atlas
* fetch_atlas_aal_spm_12
```
",1823efcf0c6039fed9a8bd6ea1e254c7c431d9cb,PR trying to address removing deprecated functions of atlas fetcher
4,pull_request_merged,908,nilearn,nilearn,lesteve,2015-12-15 17:18:43,PR trying to address removing deprecated functions of atlas fetcher,9a1ac578c122e92c83d63d08228adfdac344d5de,Pull request merge from KamalakerDadi/nilearn:remove_deprecated_names to nilearn/nilearn:master
5,pull_request_commit,908,nilearn,nilearn,KamalakerDadi,2015-12-15 09:09:10,PR trying to address removing deprecated functions of atlas fetcher,1823efcf0c6039fed9a8bd6ea1e254c7c431d9cb,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,904,nilearn,nilearn,GaelVaroquaux,2015-12-13 19:53:04,"Example
http://nilearn.github.io/auto_examples/connectivity/plot_extract_regions_canica_maps.html#sphx-glr-auto-examples-connectivity-plot-extract-regions-canica-maps-py
should be rewritten to use DictLearning instead of CanICA
",start issue,Rewrite region extraction example to use DictLearning instead of CanICA.
2,issue_closed,904,nilearn,nilearn,GaelVaroquaux,2016-01-17 14:54:23,,closed issue,Rewrite region extraction example to use DictLearning instead of CanICA.
3,issue_comment,904,nilearn,nilearn,GaelVaroquaux,2016-01-17 14:54:23,"Done. Closing
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,780,nilearn,nilearn,dohmatob,2015-09-10 17:01:27,"Fix #779.
",start issue,Fix refs: (WIP) adressing issue #779
2,issue_closed,780,nilearn,nilearn,lesteve,2015-10-27 14:06:40,,closed issue,Fix refs: (WIP) adressing issue #779
3,pull_request_title,780,nilearn,nilearn,dohmatob,2015-09-10 17:01:27,"Fix #779.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,Fix refs: (WIP) adressing issue #779
4,pull_request_commit_comment,780,nilearn,nilearn,bthirion,2015-09-10 22:12:24,"from .space_net_solvers import tvl1_solver (see travis failure)
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(None, '', u'nilearn/decoding/__init__.py')"
5,pull_request_commit_comment,780,nilearn,nilearn,dohmatob,2015-09-11 07:02:01,"Thanks. It didn't occur to me such import patterns weren't py3 compat. Fixed.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(None, '', u'nilearn/decoding/__init__.py')"
6,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:41:56,"I don't think that we want to expose this function: to me, it's internal.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(31, '', u'doc/modules/reference.rst')"
7,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:42:02,"I don't think that we want to expose this function: to me, it's internal.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(42, '', u'doc/modules/reference.rst')"
8,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:44:50,"I don't think that we want to expose these two functions: to me, they are internal.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(59, '', u'doc/modules/reference.rst')"
9,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:44:55,"Thanks!
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(69, '', u'doc/modules/reference.rst')"
10,pull_request_commit_comment,780,nilearn,nilearn,dohmatob,2015-09-26 08:45:08,"Ok, what's the nilearn policy for exposing / not-exposing functions ? I
guessed we'd want to expose stuff by default, otherwise we'd make them
""hidden"" by prepending the ""_"" marker, but i may be wrong.

On Sat, Sep 26, 2015 at 10:42 AM, Gael Varoquaux notifications@github.com
wrote:

> In doc/modules/reference.rst
> https://github.com/nilearn/nilearn/pull/780#discussion_r40491694:
> 
> > @@ -115,7 +137,8 @@ uses.
> >     reorder_img
> >     smooth_img
> > 
> > ##     swap_img_hemispheres
> > -   coord_transform
> > -   get_bounds
> 
> I don't think that we want to expose this function: to me, it's internal.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/780/files#r40491694.

## 

DED
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(42, '', u'doc/modules/reference.rst')"
11,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:45:31,"I don't think that we want to expose any of the functions here. Just the objects.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(9, '', u'nilearn/decoding/__init__.py')"
12,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:46:01,"As I feel that this is internal, I'd rather have it not imported in the **init**.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(7, '', u'nilearn/decomposition/__init__.py')"
13,pull_request_commit_comment,780,nilearn,nilearn,dohmatob,2015-09-26 08:46:02,"ok.

On Sat, Sep 26, 2015 at 10:45 AM, Gael Varoquaux notifications@github.com
wrote:

> In nilearn/decoding/**init**.py
> https://github.com/nilearn/nilearn/pull/780#discussion_r40491713:
> 
> > @@ -4,3 +4,9 @@
> > 
> >  from .searchlight import SearchLight
> >  from .space_net import SpaceNetClassifier, SpaceNetRegressor
> > +from .searchlight import search_light
> > +from .fista import mfista
> > +from .space_net_solvers import tvl1_solver
> > +
> > +**all** = [""SearchLight"", ""SpaceNetRegressor"", ""SpaceNetClassifier"",
> > -           ""search_light"", ""mfista"", ""tvl1_solver""]
> 
> I don't think that we want to expose any of the functions here. Just the
> objects.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/780/files#r40491713.

## 

DED
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(9, '', u'nilearn/decoding/__init__.py')"
14,pull_request_commit_comment,780,nilearn,nilearn,GaelVaroquaux,2015-09-26 08:47:48,"> Ok, what's the nilearn policy for exposing / not-exposing functions ?

There is no 'policy', I am afraid. It's more a question of 'design'. The
way I think of it is that nilearn needs to be as accessible as possible
(my visit to Oxford convinced me even more of this) and for this we need
to expose only high-level functionnality that is understandable and
useable to end users doing neuroimaging.
",fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,"(42, '', u'doc/modules/reference.rst')"
15,pull_request_commit,780,nilearn,nilearn,dohmatob,2015-09-10 16:49:21,added refs decoding-related functions in reference.rst,95e376cef6822a74c481779ddb1c99e11cfaeca9,
16,pull_request_commit,780,nilearn,nilearn,dohmatob,2015-09-10 16:58:22,more functions added to reference.rst,cf310d0beb314367d564b90c5677fdf1f8140c1b,
17,pull_request_commit,780,nilearn,nilearn,dohmatob,2015-09-10 17:59:30,input_data functions added to reference.rst,50156d9b92ac0535e6cd9cf10c92fca3e9ef8b2d,
18,pull_request_commit,780,nilearn,nilearn,dohmatob,2015-09-10 18:03:09,signal.py functions added to reference.rst,6a542f95ec49ae446ed1fc7508e13b6794b64bca,
19,pull_request_commit,780,nilearn,nilearn,dohmatob,2015-09-11 06:59:41,BF: fixing non py3 compat import,fdede2f7b4e71b7b81ff933c6805ccc3fea7cbd1,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,677,nilearn,nilearn,salma1601,2015-07-15 15:39:11,"Classification on ADHD with different measures of connectivity. Addresses most comments of PR #227, except moving functions _cov_to_corr and prec_to_partial to nilearn._utils.
I am wondering if the name 'tangent' is a good one.
",start issue,Tangent classif
2,issue_closed,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:14,,closed issue,Tangent classif
3,pull_request_title,677,nilearn,nilearn,salma1601,2015-07-15 15:39:11,"Classification on ADHD with different measures of connectivity. Addresses most comments of PR #227, except moving functions _cov_to_corr and prec_to_partial to nilearn._utils.
I am wondering if the name 'tangent' is a good one.
",e78cf53782f2dd712f6dde023591b696609ab5f6,Tangent classif
4,pull_request_merged,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:14,Tangent classif,03242ab2a381f0417441001339a6a0ebafc534ad,Pull request merge from salma1601/nilearn:tangent_classif to nilearn/nilearn:master
5,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:02:51,"I haven't had time to look at this pull request in detail, but I am very excited about the direction it is taking.

One general comment that I have is that we are going to have to work on the phrasing and terminology to be a bit less frightening to non math people. Words like 'tangent' or 'embedding' should be a bit less emphasized, for instance in names of examples or objects.
",,
6,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-07-16 17:26:35,"Another comment: the example (which is actually really cool) takes quite a while to run.

I think that we should restrict it to only SVM. It will make it faster, and simpler to read.
",,
7,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-16 10:31:23,"> Should we merge this one @AlexandreAbraham @GaelVaroquaux ? I don't see any
> outstanding issues and I can do the Python 3 fixes after the merge.

There is an outstanding naming issue, isn't it? With a conclusion, I
believe, but I am not sure that it has been implement.

I'd like to do a pass on this. Maybe this afternoon? I do agree that the
PR is pretty much mergeable.
",,
8,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-16 16:26:50,"One last thing (hopefully): it would be great to have a subsection about
this functionality in the reference documentation. For instance at the
end of doc/connectivity/connectome_extraction.rst in a new section, that
would link to the example.
",,
9,issue_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-22 09:53:11,"Merging. Thank you!
",,
10,issue_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:49:44,"> words like 'tangent' or 'embedding' should be a bit less emphasized, for instance in names of examples or objects.

Hi @GaelVaroquaux 
what about  

``` python
from nilearn.connectivity import ConnectivityMatrix
matrix = ConnectivityMatrix(type='robust dispersion')
```

to explain that individual matrices are not covariance matrices (they can show negative or positive values on the diagonal) and also encourage users to use this matrix type if noisy data ?
",,
11,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-08-07 21:01:07,"So, the only thing blocking this PR are naming and a bunch of details?
",,
12,issue_comment,677,nilearn,nilearn,salma1601,2015-11-22 21:34:41,"Youpi :+1: 
I can bring my pastries Tuesday !
",,
13,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:18:57,"Yeah, Salma's back in the place!
",,
14,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:26:44,"Minor details. LGTM otherwise. @GaelVaroquaux any remark regarding naming?
",,
15,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 13:03:49,"Apart from very minor details, :+1:.
",,
16,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 14:15:33,"Since the PR is fully functional, I suggest that we merge it (after resolving the naming issue) and that I take care of the last details.
",,
17,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-16 08:47:51,"+1 for me!
",,
18,issue_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-22 09:58:37,"Who's gonna bring champagne tomorrow?
",,
19,issue_comment,677,nilearn,nilearn,lesteve,2015-09-22 08:00:04,"@salma1601 if you rebase on master, the libgfortran error should go away.
",,
20,issue_comment,677,nilearn,nilearn,lesteve,2015-11-16 08:43:08,"Should we merge this one @AlexandreAbraham @GaelVaroquaux ? I don't see any outstanding issues and I can do the Python 3 fixes after the merge.
",,
21,issue_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:35:27,"@KamalakerDadi could you please take a look and give me feedback ? I also hesitated a lot on the naming, so if someone have other suggestions/comments ...
",,
22,issue_comment,677,nilearn,nilearn,salma1601,2015-11-16 11:20:40,"> There is an outstanding naming issue, isn't it? With a conclusion, I believe, but I am not sure that it has been implement.

I renamed using ""tangent"" and stopped after addressing Gaël's comments.
I didn't address Loïc's (python 3 + colormap)
",,
23,issue_comment,677,nilearn,nilearn,salma1601,2015-11-16 19:46:23,"Ok I can take care of that.
",,
24,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:18:43,"No hardcoded path in examples please.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
25,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:19:24,"Have you tried putting low_pass and high_pass filters? Also, why don't you standardize?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
26,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-16 08:19:36,"you should import joblib from sklearn.externals. There is no guarantee that users have joblib installed.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
27,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 08:21:30,"`memory='nilearn_cache'` and do not specify `memory_level`
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
28,pull_request_commit_comment,677,nilearn,nilearn,banilo,2015-07-16 09:29:59,"Perhaps just paste the value into a new variable, instead of accessing `scores[measure][classifier_name]`three times
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
29,pull_request_commit_comment,677,nilearn,nilearn,banilo,2015-07-16 09:33:13,"why only close? Should this not be equal?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
30,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 09:50:07,"In a perfect world, yes. In the world of computer, we have numercial instability.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
31,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:42:24,"Yes here I am !
I removed filtering and confounds regression on purpose: tangent behaves better with noisy data. Its score falls down when filtering.
I don't standardize because 
- I want to show the difference between covariance and correlation measure
- standardizing ruins tangent score
- the tangent mean has not unit diagonal even if individual time series are standardized
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
32,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:31,"why not specify memory_level ? I have an ugly warning when not
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
33,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:38,"fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
34,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-16 10:43:51,"fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
35,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-16 12:10:59,"My bad. I thought that when you specify the cache, memory_level=1 was
forced. Leave it then but it looks like an issue to me (nilearn issue, not
yours of course).

On Thu, Jul 16, 2015 at 12:43 PM, salma1601 notifications@github.com
wrote:

> In examples/connectivity/plot_adhd_tangent.py
> https://github.com/nilearn/nilearn/pull/677#discussion_r34775249:
> 
> > +
> > +""""""
> > +
> > +# Fetch dataset
> > +import nilearn.datasets
> > +atlas = nilearn.datasets.fetch_atlas_msdl()
> > +dataset = nilearn.datasets.fetch_adhd()
> > +
> > +# Extract and preprocess regions time series
> > +import nilearn.input_data
> > +import joblib
> > +mem = joblib.Memory('/home/sb238920/CODE/Parietal/nilearn/nilearn_cache/adhd')
> > +masker = nilearn.input_data.NiftiMapsMasker(
> > -    atlas.maps, resampling_target=""maps"", detrend=True,
> > -    low_pass=None, high_pass=None, t_r=2.5, standardize=False,
> > -    memory=mem, memory_level=1)
> 
> why not specify memory_level ? I have an ugly warning when not
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/677/files#r34775249.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
36,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-16 17:34:47,"This line fails on my laptop (numpy version=1.9.1).  Is this an issue with my configuration ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
37,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:25:35,"Please be more precise: this is a scalar function that takes non-negative inputs...
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
38,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:26:24,"M should be n_dim or something more explicit.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
39,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 10:26:58,"can't it be an (p, n) matrix with p>n or p<n ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
40,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 13:28:29,"Do we really need the option. In the current code base, the default is used systematically. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
41,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 13:30:29,"Same question here.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
42,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:03:05,"But... x -> 1./x does not invert the matrix
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
43,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:16:34,"Typically you would use a seed value. Why don't you do this ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
44,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-17 14:17:06,"idem
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
45,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:51:54,"I don't know why it's failing for you, what is your python version ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
46,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:54:19,"It doesn't take non-negative inputs, I use it with `np.exp`
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
47,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:54:42,"changed to n_features
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
48,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 13:59:11,"Yes it can, but what would be the benefit of this generalization ?
This function is used to transform the eigenvalues of a symmetric matrix, while keeping the same eigenvectors, so vecs is always a square matrix.
May be the naming of the parameters should be more explicit to explain better what I am doing?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
49,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:00:26,"You are right, I removed it. I used it with the option to transform p-values.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
50,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:03:44,"`_map_sym` applies the given function (x -> 1./x) to the matrix eigenvalues, keeping the eigenvectors, so actually this inverses the matrix.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
51,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-07-19 14:03:57,"Fixed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/tests/test_embedding.py')"
52,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-21 09:24:21,"But clearly, the function would work even if the vecs are not square matrices... and there is no checking to enforce this rule. 
eigen_vectors / eigen_values would definitely be a better wording. 

----- Mail original -----

> De: ""salma1601"" notifications@github.com
> À: ""nilearn/nilearn"" nilearn@noreply.github.com
> Cc: ""bthirion"" bertrand.thirion@inria.fr
> Envoyé: Dimanche 19 Juillet 2015 15:59:11
> Objet: Re: [nilearn] Tangent classif (#677)
> 
> In nilearn/connectivity/embedding.py :
> 
> > +
> > +
> > +def _map_eig(function, vals, vecs):
> > -    """"""Return the symmetric matrix with eigenvectors vecs and eigenvalues
> > -    obtained by applying the function to vals.
> >   +
> > -    Parameters
> > -    ----------
> > -    function : function
> > -        The function to apply.
> >   +
> > -    vals : numpy.ndarray, shape (M, )
> > -        Input argument of the function.
> >   +
> > -    vecs : numpy.ndarray, shape (M, M)
> > -        Unitary matrix.
> 
> Yes it can, but what would be the benefit of this generalization ?
> This function is used to transform the eigenvalues of a symmetric matrix,
> while keeping the same eigenvectors, so vecs is always a square matrix.
> May be the naming of the parameters should be more explicit to explain better
> what I am doing?
> 
> —
> Reply to this email directly or view it on GitHub .
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
53,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:25:01,"Do we really want an example that relies on full ADHD?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
54,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:27:12,"Can't you put the parameter directly instead of instantiating a dictionary?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
55,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:31:08,"Works for me, numpy 1.9.2. Can you put the stacktrace? Note that this problem is not yours, we shouldn't give path to CSV files to the user, we should load them directly.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
56,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-07-24 15:49:09,"Please use `labels[['x', 'y', 'z']].tolist()`, calling vstack is really ugly...
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
57,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-24 21:13:39,"## In [2]: %run plot_adhd_tangent.py

ValueError                                Traceback (most recent call last)
/home/bertrand/mygit/nilearn/examples/connectivity/plot_adhd_tangent.py in <module>()
     46 import numpy as np
     47 import nilearn.plotting
---> 48 labels = np.recfromcsv(atlas.labels)
     49 region_coords = np.vstack((labels['x'], labels['y'], labels['z'])).T
     50 for measure in ['tangent', 'correlation', 'partial correlation']:

/usr/local/lib/python2.7/dist-packages/numpy/lib/npyio.pyc in recfromcsv(fname, *_kwargs)
   1904     kwargs.setdefault(""delimiter"", "","")
   1905     kwargs.setdefault(""dtype"", None)
-> 1906     output = genfromtxt(fname, *_kwargs)
   1907 
   1908     usemask = kwargs.get(""usemask"", False)

/usr/local/lib/python2.7/dist-packages/numpy/lib/npyio.pyc in genfromtxt(fname, dtype, comments, delimiter, skiprows, skip_header, skip_footer, converters, missing, missing_values, filling_values, usecols, names, excludelist, deletechars, replace_space, autostrip, case_sensitive, defaultfmt, unpack, usemask, loose, invalid_raise)
   1686             # Raise an exception ?
   1687             if invalid_raise:
-> 1688                 raise ValueError(errmsg)
   1689             # Issue a warning ?
   1690             else:

ValueError: Some errors were detected !
    Line #2 (got 5 columns instead of 4)
    Line #3 (got 5 columns instead of 4)
    Line #4 (got 5 columns instead of 4)
    Line #5 (got 5 columns instead of 4)
    Line #6 (got 5 columns instead of 4)
    Line #7 (got 5 columns instead of 4)
    Line #8 (got 5 columns instead of 4)
    Line #9 (got 5 columns instead of 4)
    Line #10 (got 5 columns instead of 4)
    Line #11 (got 5 columns instead of 4)
    Line #12 (got 5 columns instead of 4)
    Line #13 (got 5 columns instead of 4)
    Line #14 (got 5 columns instead of 4)
    Line #15 (got 5 columns instead of 4)
    Line #16 (got 5 columns instead of 4)
    Line #17 (got 5 columns instead of 4)
    Line #18 (got 5 columns instead of 4)
    Line #19 (got 5 columns instead of 4)
    Line #20 (got 5 columns instead of 4)
    Line #21 (got 5 columns instead of 4)
    Line #22 (got 5 columns instead of 4)
    Line #23 (got 5 columns instead of 4)
    Line #24 (got 5 columns instead of 4)
    Line #25 (got 5 columns instead of 4)
    Line #26 (got 5 columns instead of 4)
    Line #27 (got 5 columns instead of 4)
    Line #28 (got 5 columns instead of 4)
    Line #29 (got 5 columns instead of 4)
    Line #30 (got 5 columns instead of 4)
    Line #31 (got 5 columns instead of 4)
    Line #32 (got 5 columns instead of 4)
    Line #33 (got 5 columns instead of 4)
    Line #34 (got 5 columns instead of 4)
    Line #35 (got 5 columns instead of 4)
    Line #36 (got 5 columns instead of 4)
    Line #37 (got 5 columns instead of 4)
    Line #38 (got 5 columns instead of 4)
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
58,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-27 08:41:48,"Could it be that the csv has been fixed? Try deleting ~/nilearn_data/msdl_atlas and rerunning the example.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
59,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-07-27 08:53:14,"This is a fair point I fixed the examples accordingly in c8555ec.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
60,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-07-27 09:03:13,"Yes, this indeed solves the issue. This example is _really_ nice.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
61,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-08-25 08:32:49,"Why not leaving the inversion job to scipy?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/embedding.py')"
62,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:33:28,"I speeded up the example by replacing the StratifiedShuffleSplit by StratifiedKFold. I can decrease the subjects number to 24, the classification results remain OK. But does it make sense to run a classification on 24 subjects?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
63,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-17 10:33:40,"done
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_adhd_tangent.py')"
64,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:28:06,"This idea of the example compares different measures. But, the end-result is shown as classification accuracy which is actually overtaken. Will it be good to show example only about measures ? If this is the case, we can also reduce number of ADHD subjects which obviously can save time. Just an idea. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
65,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:28:08,"It would be nice if we can strict to showing only measures to partial correlation, covariances, correlation. This way we can also save some time in running.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
66,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 13:30:32,"Can we change ""matrix_operations"" to ""connectome_matrices"" since its the base to use for learning any functional connectomes ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/matrix_operations.py')"
67,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-21 13:41:42,"> This idea of the example compares different measures. But, the end-result is shown as classification accuracy which is actually overtaken. Will it be good to show example only about measures ?

That's right, but I added this classification example to illustrate the advantage of using the robust dispersion measure over the other standard measures. May be I can add a comment on that?

> we can also reduce number of ADHD subjects which obviously can save time.

I can of course reduce the number of subjects (if  it makes sense to run a classification on 24 subjects for instance).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
68,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-21 13:42:43,"OK, I am removing precision and covariance measures.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
69,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 14:11:14,"> May be I can add a comment on that?

In that case, yes may be you should also add few lines about the application.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
70,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-21 14:14:13,"> if it makes sense to run a classification on 24 subjects for instance

Example wise, I feel it is OK.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
71,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-09-22 10:39:44,"@salma1601 You might have forgot to change here and below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
72,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-09-22 13:53:03,"yes, thanks
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
73,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:36:11,"You don't need the + here. Strings are concatenated as long as you have parentheses around them, e.g.:

```
 In [1]: ('some content '
   ...:  'and some more content')
Out[1]: 'some content and some more content'
```
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
74,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:38:37,"You should if, elif, ..., else and raise a ValueError if prop is not in {'square', 'symmetric', 'spd'}. To be perfectly honest, in this particular case, I'd rather have three functions with explicit names than one with a `prop` string argument.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
75,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:40:14,"It seems that eigenvalues and eigenvectors are generally spelled in one word, in which case removing the underscore from these variable names would make sense.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
76,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:45:26,"I find the or None a bit misleading (I originally thought the ""or None"" applied to the shape ...). Maybe just remove it, since you have optional and you explain what happens if init=None below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
77,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:47:17,"Use array or matrix consistently, rather than a mix of both.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
78,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:49:49,"""all of shape"", rather than ""shape of each"" ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
79,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:56:25,"Not a big fan in general of documenting default in docstrings since it is redundant with the signature. In this case it seems way to verbose and also wrong since it defaults to sklearn.covariance.EmpiricalCovariance(assume_centered=True).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
80,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:57:30,"IIRC you need a backslash at the end of this line if you want the sphinx documentation to format properly.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
81,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:58:48,"Why the backquotes ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
82,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:59:05,"> Why the backquotes ?

Same thing for all the attributes
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
83,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 13:59:43,"Maybe you could put that in a ""References"" section ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
84,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:04:31,"Not sure where the sqrt(2) comes from but it is not mentioned in the docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
85,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:06:24,"I may be wrong, but there must be a simpler way to implement this function, in particular without having to copy the input array (`symmetric = symmetric.copy()` l.205 of the current diff).
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
86,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-05 14:10:17,"It would be nice if the error message could mention both the allowed connectivity kinds and the one that the user provided.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
87,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-06 06:43:31,"Just wondering, what's the difference between tol=None and tol=0, i.e. is it common elsewhere, for example scikit-learn, to allow tol=None?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
88,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:47:41,"I saw this in decoding/searchlight.py and group_sparse_covariance.py
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
89,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:48:02,"changed
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
90,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-06 15:57:46,"again I saw it in group_sparse_covariance.py. I added a similar explanation in the docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
91,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:40:27,"I would add a `raise_error=True` parameter to `is_spd` instead of declaring a whole new function.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
92,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:42:34,"Could you please be more verbose? You could print the metrix shape and the expected one.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
93,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:43:13,"Same here.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
94,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-10-22 14:14:37,"I remember having a debate on the naming of the method. Is ""robust dispersion"" the consensus naming?
Ping @bthirion @GaelVaroquaux.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
95,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 14:18:44,"> I remember having a debate on the naming of the method. Is ""robust dispersion""
> the consensus naming?

I am a bit uneasy about calling it 'robust dispersion', because I don't
think that it maps to anything that has been published in the brain
imaging literature.

The terms that have been employed in the brain imaging literature to
denote this have been so far centered around the ideas of 'manifold',
'tangent' and 'riemannian'. I think that these would be 3 valid
suggestions for a naming. My favorite is 'manifold' because it is more
big picture, and because I can never spell 'riemannian' right.

So +1 for manifold on my side.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
96,pull_request_commit_comment,677,nilearn,nilearn,KamalakerDadi,2015-10-22 15:13:57,"With no magic, I prefer to be as standard `riemannian manifold`. 
A seperate example on `plot_riemannian_manifold_functional_connectivity` would be really great to motivate users. ;)
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
97,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-10-22 20:46:32,"Sorry, I like neither 'Riemannian' nor 'manifold' because these terms are not specific enough. Almost all objects you can think of are Riemannian manifolds,  so this does not tell you anything. I think we had the same discussion 5 years ago, but the main point here is that the computations are made in the geometry implied by the 'affine invariant' metric. So I would use 'tangent' or 'affine invariant'. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
98,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 20:50:37,"Think of it as a marketting problem, not a mathematical one. People need
to be able to remember the name, and link it to publications, possibly
via Google. In that sense 'affine invariant' is not great, because the
terms hasn't been used in fMRI and EEG.

'tangent' is OK, as I think that it conveys the right idea. But in fMRI,
Bernard has been pushing forward Riemannian, and people in EEG too.
That's was I was thinking of 'manifold'. But I am OK with 'tangent'.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
99,pull_request_commit_comment,677,nilearn,nilearn,bthirion,2015-10-22 21:29:23,"Sure, but the community we're talking to does not read MICCAI proceedings and does not value that much Riemannian poetry. Now I can live with whatever suits you best.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
100,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-22 21:31:48,"> Now I can live with whatever suits you best.

It's not about what suits me best, it's about finding what's best for the
future of this code.

Note that 'tangent' is quite fine with me. It's the vocabulary that I
tend to use in talks, or in my review paper with Cameron Craddock.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
101,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-10-27 13:42:22,"> People need to be able to remember the name, and link it to publications, possibly via Google

I think 'tangent' meets this goal and I prefer it to 'manifold', 'affine invariant' and 'Riemannian'.
Of course I am not fully satisfied by it since for me when I hear tangent I want to ask tangent to what. I am also not satisfied with 'robust dispersion' but couldn't come up with a better suggestion.

So +1 for 'tangent'   
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
102,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-10-27 13:46:07,"OK, we have a consensus on tangent! Let's go for it, then. 
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
103,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-27 13:47:34,"Side-comment as a note to myself. This example does not work with Python 3 because np.genfromtxt loads all the strings as bytes so `phenotypic['site']` is never in `['""NYU""', '""OHSU""', '""NeuroImage""']`. I remember trying to convince np.genfromtxt to return strings to no avail a little while ago.

Also it is not great that  the site name is doubly quoted i.e. `""'NYU'""` rather than `""NYU""` ... Should we try to fix this in the dowloader ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
104,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-10-27 13:51:30,"For the record, I don't think this is needed. For example see https://github.com/numpy/numpy/blob/master/doc/HOWTO_DOCUMENT.rst.txt#class-docstring.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
105,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:28:01,"I think that we should use as a currentmodule nilearn.connectivity, and the 'nilearn.connectivity.connectivity_matrices' module should pretty much be hidden from users.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
106,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:29:16,"I would be in favor of renaming 'nilearn.connectivity' to 'nilearn.connectome'
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/__init__.py')"
107,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:32:28,"This if/else tell me that we have a suboptimal design in the ConnectivityMeasure object. It seems to me that it should expose a 'mean_' attribute always.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
108,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:33:42,"OK, I just realized that when kind is not 'tangent', it doesn't need to compute the mean to do the fit_transform... Then I understand better.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
109,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:38:01,"I think that we should just call this attribute 'mean_'
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
110,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 08:39:06,"Any reason that we are not using a LedoitWolf by default? My reflex would be to do that.

My reflex would also be not to turn 'assume_centered' on by default.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
111,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-02 09:35:08,"> Any reason that we are not using a LedoitWolf by default?
> for a bad reason: I always observed that 'tangent' gives better results with EmpiricalCovariance
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
112,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 10:26:35,"> > ```
> > Any reason that we are not using a LedoitWolf by default?
> > ```
> 
> ```
> for a bad reason: I always observed that 'tangent' gives better results
> with EmpiricalCovariance
> ```

You mean that it makes tangent space look better compared to the others?
Here, we are interested in getting overall good performance in every
scenario. The defaults in nilearn should be as robust as possible.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'nilearn/connectivity/connectivity_matrices.py')"
113,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-02 13:01:46,"For the doc to be generated, it is necessary to specify the whole path. As in `.. currentmodule:: nilearn.plotting.displays` for the `OrthoSlicer`.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
114,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-02 13:02:40,"> For the doc to be generated, it is necessary to specify the whole path. As in
> .. currentmodule:: nilearn.plotting.displays for the OrthoSlicer.

OK. I thought that an import path was enough.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
115,pull_request_commit_comment,677,nilearn,nilearn,AlexandreAbraham,2015-11-02 13:08:32,"I am not the best one to talk about doc generation but if you look at the doc generated by CircleCI, most of sections are empty because the import is not precise enough.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
116,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-02 13:39:16,"I am not sure off the top of my head either. There is a bug in sphinx 1.3.1 and we should probably try with sphinx 1.2 before drawing any conclusion. See #712. 

BTW I am going to update circle.yml directly in master.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
117,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-02 14:40:56,"when I write only .. currentmodule:: nilearn.connectome in the file reference.rst, my doc is not generated
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'doc/modules/reference.rst')"
118,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 08:53:20,"@salma1601 you can prefix the strings with b, i.e. `b'""NYU""'`, etc... Not great but this would make this example work with Python 3.

I still think the downloader should be fixed to not have the site names contain quotes.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(None, '', u'examples/connectivity/plot_connectivity_measures.py')"
119,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-03 09:35:34,"People using this code to compare conditions/groups may fit separately the individual time-series for each condition/group. This will not be meaningful for the tangent measure. Shall comment about this ?
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(42, '', u'examples/connectivity/plot_connectivity_measures.py')"
120,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 12:06:20,"Another Python 3 fix needed:

``` python
classes = ['%s%s' % (site, adhd) for ...]
```

site is of type bytes and str(adhd) of type str.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
121,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-03 12:06:56,"It'd be great to use a red/blue colormap for showing the correlation matrix as in other examples.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(56, '', u'examples/connectivity/plot_connectivity_measures.py')"
122,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-17 17:42:40,"I think that this still needs addressing.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
123,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-17 17:53:12,"I very nicely said that I could do it post-merge somewhere below.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
124,pull_request_commit_comment,677,nilearn,nilearn,GaelVaroquaux,2015-11-17 17:53:58,"> I very nicely said that I could do it post-merge somewhere below.

OK sure.

So we are only missing the doc thingy
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
125,pull_request_commit_comment,677,nilearn,nilearn,lesteve,2015-11-17 17:55:23,"Obviously I'd be more than happy if @salma1601 does it.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
126,pull_request_commit_comment,677,nilearn,nilearn,salma1601,2015-11-17 20:42:26,"I can work on it by Thursday.
",e78cf53782f2dd712f6dde023591b696609ab5f6,"(72, '', u'examples/connectivity/plot_connectivity_measures.py')"
127,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 08:52:20,classification on different connectivity measures,d9644019bfa793b7f87d16a6005df0f8a1dbcb51,
128,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 12:03:16,"added classifiers, fixed same cv across experiments",9b5be80e771b791637e07b896c292e5a25e7be33,
129,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 20:00:49,fixed random state,c81a77a36b3b91b2745ee7c02177428d2c92e1fa,
130,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-01 08:52:20,classification on different connectivity measures,613499eb6ca3bc47b050d7c42e58a66b154483b2,
131,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 12:03:16,"added classifiers, fixed same cv across experiments",136f8718fce569dd8829d9a5c00c9dd8b727443c,
132,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-02 20:00:49,fixed random state,e98cd373f27b99ecd222838fce35ff80bba4df42,
133,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-04 11:12:55,minor changes,bb9b21fedf9692150f1e77c1350c6bce880d7850,
134,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-12 16:00:54,best score,3daebb18d2a89ef304790d46fabeef096e59b531,
135,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 15:17:19,classif,4c44eac4148a8b8e411287ef30569319bc0fd067,
136,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 15:20:56,"Merge branch 'tangent_classif' of github.com:salma1601/nilearn into tangent_classif

Conflicts:
	examples/connectivity/plot_adhd_tangent.py
	nilearn/connectivity/embedding.py
	nilearn/connectivity/tests/test_embedding.py",ca1a95631c474c5e3349a92e727ea5eec6191f52,
137,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 17:47:30,replaced mean_cov_ by tangent_mean_,ed65e487d088ace9153b9727448b0b68713d0fb6,
138,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:12:25,removed nose.tools.assert_is_instance,695c7c9693eab26f6f4c1ad9548daf4817ab24da,
139,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:34:32,removed nose.tools.assert_greater,b4c16e10eb52d463c21e52a257b6e999fa5ca539,
140,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-15 18:47:48,Fix,6764c0173c2c32c5f0f1940172bf96627f114df4,
141,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-16 10:34:41,remove joblib import and fix caching,22f2e7cf22b22f7681977e91b8d4b275c17aec7f,
142,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 14:24:53,kept only SVM classifier,cd7af42c5eb8836eb053f619aa269dc56f006d6c,
143,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 14:25:29,addressed comments,eaed2c8a781462fa322f48425795919244a5d957,
144,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-07-19 15:30:12,renaming variable,eb8e2447f4621f67a8853e96653e1fe2708347ef,
145,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-04 18:16:59,Merge branch 'master' into tangent_classif,9f24288cbe5e3cc68ed2ab449e19ec0419342b4a,
146,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-15 16:55:23,addressed comments,ab2c5d3a8c733e5febcfce970a9b967fb8edba1e,
147,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-16 12:47:47,more explicit naming,96140b6643854ef22c3faf3355bf5d4279bdba34,
148,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-16 12:50:54,Merge branch 'master' into tangent_classif,ca1ccf68182088c2a3ee91baed81936930ba6bed,
149,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:09:45,"renaming, changing output of transform to matrices",8b42cd3061847d7a1484e71031c92a1c02cd4cd9,
150,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:15:20,fix doc,21c34bbe74daeaac542d94028085e0feab2694a9,
151,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-17 10:27:07,removed vec_to_sym,7f7dce8557d18795a0b49210cdeb80741f7c27ed,
152,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:14:16,reduced subjects number and measures,eb6d3e371a623a96303cbeef54c131b10ca3c3a0,
153,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:23:07,renaming and doc cosmetics,8add7c79ecdaf211859731d097efcd98ec7faf88,
154,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-21 15:37:09,added comment on classif performance,6d3b6eb5a06ab747ea669225d44016c0bec79c72,
155,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-22 09:35:15,Merge branch 'master' into tangent_classif,cc07ca866ea71bafc4db4e865166f34c935f8e93,
156,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-09-22 12:11:49,updated doc,f3e7fd0d14bc8ffe8340d6a982e654b92c8c592c,
157,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:43:23,addressed Loic's comments,d5af4c37893a7ead45a966eb89a3e4018a97e556,
158,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:43:53,Merge branch 'master' into tangent_classif,16da5795189cc99e2cedc3c46e9a9104da2c97ed,
159,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-10-06 15:56:35,tolerance None explained,610a1b53e445d3c2693c6e0cde9bc73b61d0c4f7,
160,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:15:25,addressed Gael's comments,8875d710970ab6000d93dce159bd8e018bd79bc1,
161,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:15:57,Merge branch 'master' into tangent_classif,0e46bdfedcfe48b8257e06f9d62df2a6a9e10ed8,
162,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-02 13:54:55,Merge branch 'master' into tangent_classif,e5c3ba50204a4b63f8bb64fb82fbe37c84348093,
163,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-03 09:34:01,prefixing strings with b for python 3 compatibility,bf335d778ce5f86b7e521b0407691e6099393d2f,
164,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-19 14:47:40,narrative doc on tangent measure,ac2ee789e5703c0953cfb966386d263013315404,
165,pull_request_commit,677,nilearn,nilearn,sb238920@is223297.intra.cea.fr,2015-11-19 14:48:38,Merge branch 'master' into tangent_classif,e78cf53782f2dd712f6dde023591b696609ab5f6,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,827,nilearn,nilearn,GaelVaroquaux,2015-11-05 22:35:19,"nilearn.decomposition.tests.test_multi_pca.test_multi_pca fails with scikit-learn master (but not 0.16). I suspect that this is a numerical instability in scikit-learn and that @giorgiop might know something about that.

While @giorgiop is still at the lab (ie in the next few days), we should investigate that.

<pre>
======================================================================
FAIL: nilearn.decomposition.tests.test_multi_pca.test_multi_pca
----------------------------------------------------------------------
Traceback (most recent call last):
  File ""/usr/lib/python2.7/dist-packages/nose/case.py"", line 197, in runTest
    self.test(*self.arg)
  File ""/home/varoquau/dev/nilearn/nilearn/decomposition/tests/test_multi_pca.py"", line 36, in test_multi_pca
    decimal=4)
  File ""/usr/lib/python2.7/dist-packages/numpy/testing/utils.py"", line 811, in assert_array_almost_equal
    header=('Arrays are not almost equal to %d decimals' % decimal))
  File ""/usr/lib/python2.7/dist-packages/numpy/testing/utils.py"", line 644, in assert_array_compare
    raise AssertionError(msg)
AssertionError: 
Arrays are not almost equal to 4 decimals

(mismatch 99.9305555556%)
 x: array([[ -8.01780945e-03,  -1.57127933e-02,   5.21554343e-02, ...,
         -2.45565708e-02,   5.41739597e-02,  -6.57871537e-03],
       [ -4.39631746e-02,   5.23726237e-05,  -2.74229888e-02, ...,...
 y: array([[ 0.04536376, -0.04022769,  0.00722741, ..., -0.01436048,
         0.02965129,  0.00382973],
       [ 0.05776912, -0.04430462,  0.01511899, ...,  0.06632538,...
>>  raise AssertionError('\nArrays are not almost equal to 4 decimals\n\n(mismatch 99.9305555556%)\n x: array([[ -8.01780945e-03,  -1.57127933e-02,   5.21554343e-02, ...,\n         -2.45565708e-02,   5.41739597e-02,  -6.57871537e-03],\n       [ -4.39631746e-02,   5.23726237e-05,  -2.74229888e-02, ...,...\n y: array([[ 0.04536376, -0.04022769,  0.00722741, ..., -0.01436048,\n         0.02965129,  0.00382973],\n       [ 0.05776912, -0.04430462,  0.01511899, ...,  0.06632538,...')
</pre>
",start issue,Numerical error with scikit-learn master
2,issue_closed,827,nilearn,nilearn,lesteve,2015-11-06 16:02:23,,closed issue,Numerical error with scikit-learn master
3,issue_comment,827,nilearn,nilearn,lesteve,2015-11-06 07:29:51,"The test that fails is the following:

``` python
# Test that the components are the same if we put twice the same data
components1 = multi_pca.fit(data).components_
components2 = multi_pca.fit(2 * data).components_
np.testing.assert_array_almost_equal(components1, components2)
```

@arthurmensch was telling me that we should remove it the other day. I don't remember the exact reason though.
",,
4,issue_comment,827,nilearn,nilearn,arthurmensch,2015-11-06 07:37:24,"I believe this behavior is expected : we use a random matrix in range
finder to perform initial projection.  For the result above to be true, the
random Matrix should be to the concatenation of twice the same random
matrix. Basically the large eigenvalues vectors are very close, but those
associated to smaller eigenvalues won't be.

The test that fails is the following:

# Test that the components are the same if we put twice the same data

components1 = multi_pca.fit(data).components_
components2 = multi_pca.fit(2 \* data).components_
np.testing.assert_array_almost_equal(components1, components2)

@arthurmensch https://github.com/arthurmensch was telling me that we
should remove it the other day. I don't remember the exact reason though.

—
Reply to this email directly or view it on GitHub
https://github.com/nilearn/nilearn/issues/827#issuecomment-154334220.
",,
5,issue_comment,827,nilearn,nilearn,arthurmensch,2015-11-06 07:42:02,"The element that changed in scikit learn master is that n_iter went from 0
to 2 in randomized_svd if I am not mistaken

I believe this behavior is expected : we use a random matrix in range
finder to perform initial projection.  For the result above to be true, the
random Matrix should be to the concatenation of twice the same random
matrix. Basically the large eigenvalues vectors are very close, but those
associated to smaller eigenvalues won't be.

The test that fails is the following:

# Test that the components are the same if we put twice the same data

components1 = multi_pca.fit(data).components_
components2 = multi_pca.fit(2 \* data).components_
np.testing.assert_array_almost_equal(components1, components2)

@arthurmensch https://github.com/arthurmensch was telling me that we
should remove it the other day. I don't remember the exact reason though.

—
Reply to this email directly or view it on GitHub
https://github.com/nilearn/nilearn/issues/827#issuecomment-154334220.
",,
6,issue_comment,827,nilearn,nilearn,GaelVaroquaux,2015-11-06 07:43:04,"> I believe this behavior is expected : we use a random matrix in range
> finder to perform initial projection. For the result above to be true, the
> random Matrix should be to the concatenation of twice the same random
> matrix. Basically the large eigenvalues vectors are very close, but those
> associated to smaller eigenvalues won't be.

Fair enough, but it's not obvious from a cursory look that this is what
is happening.

If it's indeed the case, we need to fix the test to check only for the
leading eigenvalues (for instance by extracting only a small number of
components).
",,
7,issue_comment,827,nilearn,nilearn,giorgiop,2015-11-06 07:48:04,"@lesteve is this the only svd-related test failing with the current dev version of scikit-learn or there are more?
",,
8,issue_comment,827,nilearn,nilearn,giorgiop,2015-11-06 07:50:00,"> The element that changed in scikit learn master is that n_iter went from 0 to 2 in randomized_svd if I am not mistaken

Correct.
",,
9,issue_comment,827,nilearn,nilearn,GaelVaroquaux,2015-11-06 07:51:33,"> @lesteve is this the only svd-related test failing with the current dev
> version of scikit-learn or there are more?

It's the only one
",,
10,issue_comment,827,nilearn,nilearn,lesteve,2015-11-06 10:26:37,"For the record scikit-learn 0.17 is now available through conda. Because we use the latest versions for the Python 3.5 tests, Travis is failing in master at the moment.
",,
11,issue_comment,827,nilearn,nilearn,arthurmensch,2015-11-06 10:26:40,"It turns out that we need to force `transpose=True` in `randomized_svd`. This is actually expected regarding the equations: we feed `data.T` to `randomized_svd`, that is a p x n or a p x 2n matrix.
Randomized svd perform the computation:
- `data.T.dot(np.randn((n, k+10)))` (ref case) vs `data.T.dot(np.randn((2n, k+10)))` (tile case) if `transpose = False`
- data.dot(np.randn(p, k+10)) if `transpose = True` in any case

The random matrix `Q` is different for ref case and tile case if `transpose=False`. It does not mean that we should put `transpose=True` as this is less efficient : on the other hand, if we choose not to, we need to adapt the test. in sklearn < 0.17, `transpose` was always `True` (bug fixed by @giorgiop), hence the bug. `n_iter` has no influence on our test, but it defaults differently in different sklearn, so we should force it in nilearn IMHO.

Hotfix is easy, I'll provide it. Them we should redesign the test in order to test only on leading components.
",,
12,issue_comment,827,nilearn,nilearn,giorgiop,2015-11-06 11:30:09,"This makes sense to me and should solve the issue.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,844,nilearn,nilearn,aabadie,2015-11-16 10:20:59,"Should fix #836. It seems that matplotlib can be installed via conda. Let's see if it helps with appveyor.
",start issue,[MRG] Install matplotlib with conda
2,issue_closed,844,nilearn,nilearn,lesteve,2015-11-19 09:06:47,,closed issue,[MRG] Install matplotlib with conda
3,pull_request_title,844,nilearn,nilearn,aabadie,2015-11-16 10:20:59,"Should fix #836. It seems that matplotlib can be installed via conda. Let's see if it helps with appveyor.
",49d92cd65e21ac95d7e5b36668cd49135ed623b8,[MRG] Install matplotlib with conda
4,pull_request_merged,844,nilearn,nilearn,lesteve,2015-11-19 09:06:47,[MRG] Install matplotlib with conda,b884909cc8d4dd8747c2da54d9a7ac267dd19499,Pull request merge from aabadie/nilearn:appveyor_matplolib to nilearn/nilearn:master
5,issue_comment,844,nilearn,nilearn,aabadie,2015-11-17 15:56:32,"> The matplotlib._png import error was the one I was seeing locally as noted in the associated issue.

Indeed, I ""duckduckgoed"" a bit and found this post on SO:
http://stackoverflow.com/questions/33459574/import-matplotlib-png-as-png-import-error-dll-load-failed-the-specified-mod

The solution is to use anaconda instead of miniconda. I use anaconda on my Win box and I don't have this issue at all. Will try the proposed solution then.
",,
6,issue_comment,844,nilearn,nilearn,aabadie,2015-11-18 08:58:53,"Appveyor ci works ! So the proposed solution from SO worked.

Any comment @lesteve ?
",,
7,issue_comment,844,nilearn,nilearn,aabadie,2015-11-18 09:22:46,"> How big is the download?

367.6 MB for anaconda.

> Maybe we should be using cache on travis, as has been introduced in scikit-learn.

Appveyor proposes this http://www.appveyor.com/docs/build-cache but the cached archive cannot exceed 100MB. It's worth a try btw.
",,
8,issue_comment,844,nilearn,nilearn,aabadie,2015-11-18 12:53:05,"> I suspect that only one of them or a few are needed to fix the issue.

I'll find those and use miniconda instead, I'll also try the build cache provided by appveyor to speed up the installation step.
",,
9,issue_comment,844,nilearn,nilearn,lesteve,2015-11-16 10:50:32,"The matplotlib._png import error was the one I was seeing locally as noted in the associated issue.
",,
10,issue_comment,844,nilearn,nilearn,lesteve,2015-11-18 19:03:47,"> I tested different things with appveyor cache but it doesn't seem to work (I took scikit-learn configuration file as example). BTW, it's not far from what is already setup in master, so I think it can be merged.

Just remove the cache section in appveyor.yml and I'll merge this one. Maybe add a comment about adding Library\bin to the %PATH% so we can remove it in the future when cond fix this issue. For reference the conda issue is here: https://github.com/conda/conda/issues/1753. 
",,
11,issue_comment,844,nilearn,nilearn,lesteve,2015-11-19 09:06:42,"One of the AppVeyor build is passing, merging, thanks a lot !
",,
12,pull_request_commit,844,nilearn,nilearn,alexandre.abadie@therapixel.com,2015-11-16 10:16:42,install matplotlib with conda and set PATH environment variable,49d92cd65e21ac95d7e5b36668cd49135ed623b8,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 15:32:18,,start issue,Pr 899
2,issue_closed,901,nilearn,nilearn,AlexandreAbraham,2015-12-11 16:44:24,,closed issue,Pr 899
3,pull_request_title,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 15:32:18,,ddd90beb58ac3c1f7f6cc3ffac4c7f98cf712a8b,Pr 899
4,pull_request_merged,901,nilearn,nilearn,AlexandreAbraham,2015-12-11 16:44:24,Pr 899,0783bf45843f3ee11dd0c2beaac3ac9b3a4dac1f,Pull request merge from GaelVaroquaux/nilearn:pr_899 to nilearn/nilearn:master
5,issue_comment,901,nilearn,nilearn,AlexandreAbraham,2015-12-11 16:44:20,"Circle CI is passing on Gael's machine so no need to wait longer.
",,
6,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-13 16:02:28,Added an incomplete code of AutoExtractor to show a progress,ecac0595b63c4139e70df75e0ffd5338289c2059,
7,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-19 18:17:31,"A simple threshold extractor
Voxel Ratio Extractor or Auto threshold extractor",0c809b488fb4a9a34acd0b0be914e32a6038b81d,
8,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-20 08:09:47,Remove obsolete file,a1a9b9750c7c61f8e8857727cf5fe7b2b66480f1,
9,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-22 11:54:53,Simple code for a Voxel Ratio Region Extraction,26b45754898348454979d609adf39dd4cebb1c62,
10,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-26 20:24:02,"Made code more simplified limiting to one class for two methods and
added documentation for upto now parameters or arguments.",20ac84c2be13eaafa561493617c21f29343d6388,
11,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-29 13:01:03,"Addressed some recent comments. Making code a bit looks nicer and
meaningful documentation",e5a2ddadb79ac74a63b44f3735c0ee503626a8f0,
12,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-07-30 12:14:48,Preliminary changes committed to shift to new branch,6c01cc53a90afdcabcc8aca10e9896eb1d73de57,
13,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-08-04 11:08:59,Integrated NiftiMapsMasker with Region Extractor,1d3c3c95dfc45347faf773f5d573f87b13ae2aa3,
14,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-09 18:39:22,"Addressed almost all the comments and made changes to the documentation
and changed/removed the names of the conflict in class variables and return
variables",6fa81f3ca79c9055e6f29fe6be34b4f2234b9855,
15,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-16 15:31:38,Made code factorization and functions more usable privately,f18c662afa460974f5622144be0ae9ff6ff9f54a,
16,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-18 11:23:33,"Added an example which works for 3D map
Made code factorization and adaptability to useable functions",36696defb4ee3d2ed354393a2e40bb72fa1f3510,
17,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-23 10:45:41,Added another example showing a canica maps region extraction,9f0d3fb8593e2861f383aa7184e7ce6e1a09997a,
18,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-24 15:03:24,Added tests and made some modifications in main class object and functions,2286e6c65d53e003568381a94db5423394dfbe08,
19,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-09-25 15:31:51,Added new files and nilearn external dependencies,889e3c34506da01a4a05340c422be20a56dae878,
20,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-12 13:52:48,Addressed Gael's reviews and comments,998f0293394235214de660a0444167d3bd52d2bd,
21,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-12 14:12:07,Trying to fix Travis failure,47b66d6139384d21ae2ca1b4b86147a0334e6581,
22,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-13 08:01:58,Trying to fix some failures,6289af2c478030cb0a0f9d33261eda6376ee14c3,
23,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-16 12:09:00,Fixed comments made by Alex,cf26fcdc8942b4b8e16b95adcca548412663f3cc,
24,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-16 13:15:16,An example shows region extraction using Smith Atlas RSN10,902e266ad027769f462c4b08ee101f75458889f3,
25,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-16 14:46:50,"Changed accordingly ""thresholding_strategy"" in tests files.",b6a3156618b811dcec9e58c2e994b9d5849b985f,
26,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-10-27 10:14:16,"Fixed comments naming for the functions, removing dtype file from skimage",60ed33404dfa08afe14c9c2aaa796c2d17594a5a,
27,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-02 22:33:00,"Addresssed comments: changed design for fit and transform utilising NiftiMapsMasker.
and comments made by Alex.",0475577d6082541c0b75b1a3665c0236a922750d,
28,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-03 09:30:01,Corrected mistakes,659753b59d09c38a1462e073fa94744c50ad6ba2,
29,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-08 18:41:04,"Addressed comments, threshold_img, connected_regions, tests for skimage",755780e1780497b31d1e2e30a634b34800f2b137,
30,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-08 20:11:33,Minor changes,bee579bc0ae87c2a6188155a31b26fd44cfea8c6,
31,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-09 13:16:22,"Ported code check_threshold from displays to extmath
check_threshold is basically data operation function on a valid thresholds.",e719df27f0f2d39376b89c8248a732f1a85c6c3f,
32,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-09 14:22:18,"Trying to increase coverage
Adding tests files for missing lines in skimage random walker",650347858460269ac50099b7c05eb60318a1744c,
33,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-19 12:08:55,Addressed comments and trying to make coverage pass on external code,96c35e6cd89cf3ba1dced800f82bd5253b93a906,
34,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-23 11:54:37,Addressed comments made nby Gael,42e438b6b78ec870e176a17b14f73ac0fdc9d874,
35,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-23 14:38:17,Trying to fix coverage decrease lines of code,c431eaae66d70feace287969fe019380e9b646c7,
36,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-23 18:51:37,Coverage,925bd6642d92fa05070564c809b36e0b43e23e7c,
37,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-23 21:00:23,Trying to increase coverage again,9f05b7981beb3dd09f33ec3fabd0cb208c98ead2,
38,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-11-26 08:03:51,"Addressed Loic comments
Documenation corrected
more specific tests in region extractor",a7a171748348898e190ac584d47cbf32ffe68500,
39,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-01 22:14:44,"Addressed Gael comments, examples suited for notebooks style",9e9a5920535e9a72cf06cf16b9fdc5d95d5a6731,
40,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-02 14:28:12,check_threshold into new location and addressed comments for enhancement,235e5529f9eb0a941b0712b6562308a936cd326f,
41,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-03 15:39:05,Added notebook example and documentation and some comments are addressed,b851452bfc933f78ee1c4e42188744a8c5f14c52,
42,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-07 10:08:51,"Addressed region size in voxel volume, statistical maps example in manipulating visualizing",8a13a4de58d75689b9c1a7072b63376ff62e2750,
43,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-08 17:19:44,Addressed comments made by Bertrand,8f8738f9d4b88d82b5c68ce134d90f407f2d539d,
44,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-08 17:43:23,Changed min_region_size documentation in RegionExtractor,0e4831673877ae78606d889c68307bcaf38b2633,
45,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-09 15:58:57,Version inclusions,00bea9eecc84ff9e0d4b7caa9fc70dfa4b8fd74d,
46,pull_request_commit,901,nilearn,nilearn,KamalakerDadi,2015-12-10 14:17:32,Addressed comments made by Loic,83f2c29091567d3e005d670e2617b8d9a9eccc38,
47,pull_request_commit,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:24:40,Merge branch 'master' into pr_651,8ca206ca215e2f70eaeb94802a6881727fac55f9,
48,pull_request_commit,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:54:54,Add Regions to module reference,20f544acf03c8e0d57c6b5cbe3a031ece85484a2,
49,pull_request_commit,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 01:01:54,Improve doc situation,96611dde5e82f8dff8a0ac4d4f3bd5c84551416e,
50,pull_request_commit,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 01:23:24,Iter on docs,3421a088716e4b5aaa06c3b8d34b3198ee9a5534,
51,pull_request_commit,901,nilearn,nilearn,GaelVaroquaux,2015-12-11 15:31:49,DOC: improve doc problems,ddd90beb58ac3c1f7f6cc3ffac4c7f98cf712a8b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,796,nilearn,nilearn,GaelVaroquaux,2015-10-15 16:12:44,"Now that sphinx-gallery has been merged in nilearn (hurray!!). We can start converting some example to use the notebook-style example.

The first candidate is probably the plotting examples.
",start issue,Use the new sphinx-gallery notebook-style example
2,issue_closed,796,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:09:36,,closed issue,Use the new sphinx-gallery notebook-style example
3,issue_comment,796,nilearn,nilearn,GaelVaroquaux,2015-10-15 16:15:20,"For reference: the corresponding sphinx-gallery docs: http://sphinx-gallery.readthedocs.org/en/latest/tutorials/index.html#notebook-styled-examples
",,
4,issue_comment,796,nilearn,nilearn,lesteve,2015-10-15 16:51:33,"Should we not do a sphinx-gallery release, revive #592 and merge it before we can think about using notebook-style examples in nilearn ?
",,
5,issue_comment,796,nilearn,nilearn,GaelVaroquaux,2015-10-15 16:53:06,"> Should we not do a sphinx-gallery release, revive #592 and merge it before we
> can think about using notebook-style examples in nilearn ?

I don't know. I lost track :$
",,
6,issue_comment,796,nilearn,nilearn,lesteve,2015-10-15 18:07:00,"Let's ask @Titan-C what he remembers !
",,
7,issue_comment,796,nilearn,nilearn,Titan-C,2015-10-15 22:03:51,"yes we are missing a PyPI realease of sphinx-gallery with the notebook examples.
The we can rebase #592 to correctly adopt the images and references naming convention that meanwhile got adopted when the notebook examples pull request passed.
",,
8,issue_comment,796,nilearn,nilearn,lesteve,2015-10-15 22:12:34,"It's probably worth looking at the issues (and me at my notes if I can find them) to see whether there were still things to iterate on before the next sphinx-gallery release. I seem to remember the naming conventions still weren't that consistent but I could be wrong.
",,
9,issue_comment,796,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:09:36,"I did this over the week end. Closing.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,341,nilearn,nilearn,GaelVaroquaux,2015-01-08 15:17:31,"I am talking about the following example:
http://nilearn.github.io/auto_examples/connectivity/plot_ica_resting_state.html

People that want to run ICA using nilearn sometimes use it after googling. It is an example that was built to demonstrate pipelining with nilearn and scikit-learn, but it is certainly not a good ICA pipeline for fMRI. CanICA includes many small tricks that improve a lot model estimation.

We should probably move it to the advanced example section, and maybe replace ICA by something else, for which we have not integrated model.
",start issue,The simple ICA example is somewhat toxic
2,issue_closed,341,nilearn,nilearn,AlexandreAbraham,2015-12-02 12:15:30,,closed issue,The simple ICA example is somewhat toxic
3,issue_comment,341,nilearn,nilearn,AlexandreAbraham,2015-01-28 10:09:26,"The spectral clustering example I have somewhere is similar to this one. Do you think that it could work? 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,811,nilearn,nilearn,AlexandreAbraham,2015-11-02 14:14:36,"Globbing is good but we should also expand `~` to user home directory.
",start issue,Globbing should expand user.
2,issue_closed,811,nilearn,nilearn,GaelVaroquaux,2015-12-02 14:40:24,,closed issue,Globbing should expand user.
3,issue_comment,811,nilearn,nilearn,aabadie,2015-12-02 10:37:33,"@GaelVaroquaux, I'll take it.
",,
4,issue_comment,811,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:13:35,"Cc @aabadie : do you want to do this during the sprint (and add it to the docs).
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,818,nilearn,nilearn,dohmatob,2015-11-03 10:26:45,"Fix issue #817.
",start issue,[WIP] BF: Fix issue #817
2,issue_closed,818,nilearn,nilearn,GaelVaroquaux,2015-11-03 13:34:55,,closed issue,[WIP] BF: Fix issue #817
3,pull_request_title,818,nilearn,nilearn,dohmatob,2015-11-03 10:26:45,"Fix issue #817.
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,[WIP] BF: Fix issue #817
4,pull_request_merged,818,nilearn,nilearn,GaelVaroquaux,2015-11-03 13:34:55,[WIP] BF: Fix issue #817,ec761f9c134fa22d7e2c6d77eb4988eb455787f2,Pull request merge from dohmatob/nilearn:fix-resample to nilearn/nilearn:master
5,issue_comment,818,nilearn,nilearn,dohmatob,2015-11-03 12:19:37,"@lesteve: there is ""Fix issue xyz"" in the desc of the PR. I don't get the point of your remark.
",,
6,issue_comment,818,nilearn,nilearn,lesteve,2015-11-03 12:21:01,"> @lesteve: there is ""Fix issue xyz"" in the desc of the PR. I don't get the point of your remark.

Ah OK I only saw the title change at the time, sorry.
",,
7,issue_comment,818,nilearn,nilearn,GaelVaroquaux,2015-11-03 13:34:52,"LGTM. Thank you! Merging.
",,
8,issue_comment,818,nilearn,nilearn,lesteve,2015-11-03 10:38:19,"Side-comment, please put Fix #issue number in the **description** so that merging the PR automatically closes the issue.
",,
9,issue_comment,818,nilearn,nilearn,lesteve,2015-11-03 12:09:46,"> Done.

Description != title.

Also I seem to remember it's too late once the PR is created so that was more a reminder for your next PR rather than anything else.
",,
10,pull_request_commit_comment,818,nilearn,nilearn,GaelVaroquaux,2015-11-03 13:34:04,"You don't like purring in comments :)
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(21, '', u'nilearn/image/resampling.py')"
11,pull_request_commit_comment,818,nilearn,nilearn,lesteve,2015-11-03 15:05:23,"I couldn't find a way to get 'floatc' in the name.
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(8, '', u'nilearn/image/resampling.py')"
12,pull_request_commit_comment,818,nilearn,nilearn,lesteve,2015-11-03 15:05:53,"so the last .replace may not be necessary
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(8, '', u'nilearn/image/resampling.py')"
13,pull_request_commit_comment,818,nilearn,nilearn,AlexandreAbraham,2015-11-03 15:12:52,"The rule is even simpler : int64 and float64 lead to float64. Anything else is float32. So it can be written:

``` python
aux = ""float64"" if aux.endswith('64') else ""float32""
```
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(8, '', u'nilearn/image/resampling.py')"
14,pull_request_commit_comment,818,nilearn,nilearn,GaelVaroquaux,2015-11-03 15:17:01,"> The rule is even simpler : int64 and float64 lead to float64. Anything
> else is float32.

I find that this is a bit fragile. I would rather test on something like

a.dtype.itemsize >= 8
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(8, '', u'nilearn/image/resampling.py')"
15,pull_request_commit_comment,818,nilearn,nilearn,lesteve,2015-11-03 15:28:12,"If you promise to rename the `aux` variable, I would say push the change into master :-)
",dfbec1c4b27f404f8861ce8282b5b087ea976afa,"(8, '', u'nilearn/image/resampling.py')"
16,pull_request_commit,818,nilearn,nilearn,dohmatob,2015-11-03 09:24:36,BF: Fix issue #817,dfbec1c4b27f404f8861ce8282b5b087ea976afa,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,858,nilearn,nilearn,banilo,2015-11-25 15:29:32,"Just doing a simple a masker.transform() on this resting-state image (high values in the xE7 area) actually crushed most image values down to zero in the output (transformed) matrix. Appears to be a type-casting issue, perhaps in the NiftiMasker class? Any ideas?

``` python
 masker.inverse_transform(masker.transform('rsfix_img732.nii')).to_filename('rsfix_img732_test.nii')
```

Here are the input files:
https://dl.dropboxusercontent.com/u/4403154/MNI152GM.nii
https://dl.dropboxusercontent.com/u/4403154/rsfix_img732_test.nii
https://dl.dropboxusercontent.com/u/4403154/rsfix_img732.nii

<img width=""827"" alt=""masker_pacman"" src=""https://cloud.githubusercontent.com/assets/3907396/11400972/a3131f4c-9390-11e5-8467-3cf2755830b1.png"">
",start issue,"NiftiMasker.transform() ""eats"" big part of the target image data"
2,issue_closed,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 06:34:48,,closed issue,"NiftiMasker.transform() ""eats"" big part of the target image data"
3,issue_comment,858,nilearn,nilearn,eickenberg,2015-11-27 07:18:21,"hmm what is the point of equipping images with affines if they are then not
used?

maybe in this concrete case we can actually issue a warning: if the mask
shape and signal shape are exactly equal but affines differ, then warn
saying that nilearn considers these images different but that the user may
think they are the same. (Or if the mask is passed as just an array, go
voxelwise ..... I know, scary)

Alternatively, using the identity matrix as affine is improbable in real
life. When it happens, one could also directly warn (although note that I
would get quite angry at nilearn incessantly commenting on my choice of
affine, if it was deliberate)

On Friday, November 27, 2015, Gael Varoquaux notifications@github.com
wrote:

> On Thu, Nov 26, 2015 at 11:07:43PM -0800, Danilo Bzdok wrote:
> 
> > Sure. Where would you put this?
> > 
> > Somewhere at the very beginning of the docs.
> 
> I am OK with a sidebar on this specific aspect in the getting started,
> linking the page in ""manipulating images"" that explains what we mean by a
> niimg.
> Not anything more: it would be cluttering.
> 
> > Or even more drastically think about ~5 core design principles of
> > nilearn usage (such the onces mentioned above) that are printed to the
> > console by default after import nilearn...
> 
> I'd rather not.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/858#issuecomment-160056932.
",,
4,issue_comment,858,nilearn,nilearn,banilo,2015-11-25 15:58:33,"Addendum: If I apply the mask by hand, all values remain in the output nifti. So there is some quirky thresholding/type-casting going on in the NiftMasker class.

``` python
data = nib.load(rs_files[ind]).get_data()[masker_bool]
masker.inverse_transform(data).to_filename('rsfix_img732_test_bool.nii')
```
",,
5,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-26 21:50:12,"Could you post the full set of lines that enables reproducing? I need the
lines with which you instanciate the masker (to know the options that you
are using), and how you fit it.
",,
6,issue_comment,858,nilearn,nilearn,bthirion,2015-11-26 21:50:26,"The problems comes from the fact that the affine of the RS image is wrong:
In [36]: nib.load('rsfix_img732.nii').get_affine()
Out[36]: 
array([[ 1.,  0.,  0.,  1.],
       [ 0.,  1.,  0.,  1.],
       [ 0.,  0.,  1.,  1.],
       [ 0.,  0.,  0.,  1.]])

In [37]: masker.mask_img_.get_affine()
Out[37]: 
array([[  -2.,    0.,    0.,   90.],
       [   0.,    2.,    0., -126.],
       [   0.,    0.,    2.,  -72.],
       [   0.,    0.,    0.,    1.]])
",,
7,issue_comment,858,nilearn,nilearn,banilo,2015-11-26 23:03:18,"@GaelVaroquaux: The NiftiMasker instantiation is completely standard - just the mask image is specified in the constructor, then fit().
",,
8,issue_comment,858,nilearn,nilearn,banilo,2015-11-26 23:05:11,"Good to know that the affine is probably the culprit. Some users might expect the masking/transforming to take place in voxel space (and assume affine does not play a role), rather than brain space (and assume affine is relevant).
",,
9,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 05:53:18,"> @GaelVaroquaux: The NiftiMasker instantiation is completely standard -
> just the mask image is specified in the constructor, then fit().

Please do give me the lines. My hunch is that you are making a user error
here. So I do need the lines to actually check.
",,
10,issue_comment,858,nilearn,nilearn,banilo,2015-11-27 06:05:45,"Here we go with the code:

``` python
masker = NiftiMasker(mask_img='MNI152GM.nii')
masker.fit()
masker.inverse_transform(masker.transform('rsfix_img732.nii')).to_filename('rsfix_img732_test.nii')
```
",,
11,issue_comment,858,nilearn,nilearn,AlexandreAbraham,2015-11-27 06:27:54,"@GaelVaroquaux the culprit is the affine, no need to investigate further.
",,
12,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 06:34:41,"> masker = NiftiMasker(mask_img='MNI152GM.nii')
> masker.fit()

OK. Then I don't understand why you are complaining: your mask image and
your data only partly overlap. The NiftiMasker is doing what it is
supposed to do.
",,
13,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 06:38:49,"I closed the issue, but I worry a bit about user support.

We are always going to have users who feed in erroneous masks, and then complain that it does work.

If even @banilo, who is an advanced user (a developer even), opens an issue on the tracker when he does this, I fear that many more will.

A very simply plotting ""plotting.plot_stat_map('rsfix_img732.nii', 'MNI152GM.nii')"" can diagnose the problem immediately, but people don't do it. That goes back to the idea that we need reporting or diagnosing utilities, with such plots.
",,
14,issue_comment,858,nilearn,nilearn,banilo,2015-11-27 06:53:29,"Well, as proposed above, you might simply state explicitly in
docs/docstring that the masking (the ""overlap"") is examined in brain/world space
and that the affines need to be healthy for that.

Up to now, I though it is a simple ""binary"" operation in voxel space -
matrix matching. That is by the way what probably most people in matlab do,
who do not have a dedicated API such as nilearn does.

2015-11-27 7:38 GMT+01:00 Gael Varoquaux notifications@github.com:

> I closed the issue, but I worry a bit about user support.
> 
> We are always going to have users who feed in erroneous masks, and then
> complain that it does work.
> 
> If even @banilo https://github.com/banilo, who is an advanced user (a
> developer even), opens an issue on the tracker when he does this, I fear
> that many more will.
> 
> A very simply plotting ""plotting.plot_stat_map('rsfix_img732.nii',
> 'MNI152GM.nii')"" can diagnose the problem immediately, but people don't do
> it. That goes back to the idea that we need reporting or diagnosing
> utilities, with such plots.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/858#issuecomment-160053310.
",,
15,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 06:56:04,"> Well, as proposed above, you might simply state explicitly in
> docs/docstring that the masking (the ""overlap"") is examined in brain space
> and that the affines need to be healthy for that.

Sure. PR welcomed.

> Up to now, I though it is a simple ""binary"" operation in voxel space -
> matrix matching.

Every single operation in nilearn is implemented in brain space.
",,
16,issue_comment,858,nilearn,nilearn,banilo,2015-11-27 07:01:26,"> Every single operation in nilearn is implemented in brain space.

This appears to be an overarching design principle that is worth mentioning somewhere at the very beginning at nilearn. How a about a short list à la ""Overarching design principles"":
- nifti image is the primary working unit, not 3D/4D matrices
- any comparisons/manipulation is done in world space, not voxel space
- transform() performs a manipulation, inverse_transform() reverses that manipulation
- access to standard datasets (e.g. region/network atlases) is pipelined by fetchers
- ...
- ...
",,
17,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 07:03:24,"> This appears to be an overarching design principle that is worth mentioning
> somewhere at the very beginning at nilearn.

Sure. Where would you put this?
",,
18,issue_comment,858,nilearn,nilearn,banilo,2015-11-27 07:07:40,"> Sure. Where would you put this?

Somewhere at the very beginning of the docs.

Or even more drastically think about ~5 core design principles of nilearn usage (such the onces mentioned above) that are printed to the console by default after `import nilearn`...
",,
19,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 07:11:24,"On Thu, Nov 26, 2015 at 11:07:43PM -0800, Danilo Bzdok wrote:

> ```
> Sure. Where would you put this?
> ```
> 
> Somewhere at the very beginning of the docs.

I am OK with a sidebar on this specific aspect in the getting started,
linking the page in ""manipulating images"" that explains what we mean by a
niimg.
Not anything more: it would be cluttering.

> Or even more drastically think about ~5 core design principles of
> nilearn usage (such the onces mentioned above) that are printed to the
> console by default after import nilearn...

I'd rather not.
",,
20,issue_comment,858,nilearn,nilearn,AlexandreAbraham,2015-11-27 07:19:33,"A dedicated page ""from matlab to nilearn"" would be the perfect place for that kind of information.

Also, I guess that `_check_same_fov` is called in the transform. We could raise a specific warning when the shape is the same but the affine is different, especially if the shape is dummy.
",,
21,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 07:20:51,"> maybe in this concrete case we can actually issue a warning: if the mask
> shape and signal shape are exactly equal but affines differ, 
> 
> Alternatively, using the identity matrix as affine is improbable in real
> life. 

I think that doing an 'and' on these two conditions, and a warning would
be a good thing. +1 for a PR on that.
",,
22,issue_comment,858,nilearn,nilearn,GaelVaroquaux,2015-11-27 07:21:46,"> A dedicated page ""from matlab to nilearn"" would be the perfect place
> for that kind of information.

I think here it would be a 'from FSL to nilearn' rather. But indeed, such
a page would be great.

> Also, I guess that _check_same_fov is called in the transform. We could
> raise a specific warning when the shape is the same but the affine is
> different, especially if the shape is dummy.

That's the right place to implement the warning of @eickenberg
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,850,nilearn,nilearn,GaelVaroquaux,2015-11-22 10:03:17,"Now that the tangent space PR is merged, we have a 'nilearn.connectome' namespace.

We should move the group_sparse_covariance file in it, and import the objects in nilearn/connectome/**init**.py (and also move tests, and update the docs).

The goal would be to make nilearn.connectome a one-stop entry point to dealing with connectivity matrices.
",start issue,Move nilearn.group_sparse_covariance in nilearn.connectome
2,issue_closed,850,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:18:52,,closed issue,Move nilearn.group_sparse_covariance in nilearn.connectome
3,issue_comment,850,nilearn,nilearn,AlexandreAbraham,2016-02-19 09:18:52,"Fixed.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,890,nilearn,nilearn,mrahim,2015-12-03 17:22:24,"Fix #889  
",start issue,Set SpaceNet examples cache to 'nilearn_cache'
2,issue_closed,890,nilearn,nilearn,lesteve,2015-12-03 17:27:12,,closed issue,Set SpaceNet examples cache to 'nilearn_cache'
3,pull_request_title,890,nilearn,nilearn,mrahim,2015-12-03 17:22:24,"Fix #889  
",9ad5d453926964a914d24c95cfc9f64f6e86d732,Set SpaceNet examples cache to 'nilearn_cache'
4,pull_request_merged,890,nilearn,nilearn,lesteve,2015-12-03 17:27:12,Set SpaceNet examples cache to 'nilearn_cache',e86c5d27c3c0f0c1a03ad7538d1bd20ce3700131,Pull request merge from mrahim/nilearn:fix_spacenet_cache to nilearn/nilearn:master
5,issue_comment,890,nilearn,nilearn,lesteve,2015-12-03 17:26:59,"Merging, thanks a lot!
",,
6,pull_request_commit,890,nilearn,nilearn,mrahim,2015-12-03 17:21:04,set cache to nilearn_cache,9ad5d453926964a914d24c95cfc9f64f6e86d732,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,793,nilearn,nilearn,arthurmensch,2015-10-14 08:57:11,"This is due to the use of non safe `get_data` in `copy_img`.

Typically this invalidate cache:

``` python

def f(img):
    print('Not cached')

mem = Memory(cache_dir='nilearn_cache')
img = NiftiImage(np.ones(10, 10, 10, 10), affine=np.ones(4))

mem.cache(f)(img)
mem.cache(f)(img)
img2 = copy_img(img)
mem.cache(f)(img)
```

Output:

```
Not cached
Not cached
```
",start issue,copy_img has a side effect on image
2,issue_closed,793,nilearn,nilearn,GaelVaroquaux,2015-12-02 19:14:16,,closed issue,copy_img has a side effect on image
3,issue_comment,793,nilearn,nilearn,GaelVaroquaux,2015-10-14 08:58:21,"Good catch!

A PR to fix this would be great.
",,
4,issue_comment,793,nilearn,nilearn,arthurmensch,2015-10-14 08:59:49,"Fix is straightforward, I just need to write a test and I will push it
",,
5,issue_comment,793,nilearn,nilearn,GaelVaroquaux,2015-10-14 09:01:36,"> Fix is straight forward,

It is indeed, because you understand the package :)
",,
6,issue_comment,793,nilearn,nilearn,GaelVaroquaux,2015-12-02 07:59:27,"@arthurmensch : can you either do this today, or help Aina do it
",,
7,issue_comment,793,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:12:24,"Cc @ainafp : I think that this is something that you could work on.

The idea is to use nilearn._utils.niimg._safe_get_data instead of the get_data method.
",,
8,issue_comment,793,nilearn,nilearn,lesteve,2015-12-02 15:21:01,"Have you opened a PR? This is the easiest way to comment on your changes.
",,
9,issue_comment,793,nilearn,nilearn,ainafp,2015-12-02 13:58:07,"@GaelVaroquaux @arthurmensch :

I changed it but it still creates a new image because it uses new_img_like() from nilearn.image.image
I can substitute the whole line and return just _safe_get_data(img). 
Is this fine? In this case, instead of 
`new_img_like(img, img.get_data().copy(), img.get_affine().copy(),  copy_header=True)`
it just makes a deep copy
`img = copy.deepcopy(img)`
if it is not cached inside _safe_get_data. 

If you agree I change it. I wrote the test based on what Arthur did. 
",,
10,issue_comment,793,nilearn,nilearn,ainafp,2015-12-02 14:36:00,"@GaelVaroquaux 
In new_img_like() in from nilearn.image.image, when copy_header is set to true, changing  header['scl_slope'], header['scl_inter'],  header['cal_max'] or header['cal_max'] change the value of the hash. 

```
img = Nifti1Image(np.ones((2, 2, 2, 2)), affine=np.eye(4))
joblib.hash(img)
img2 = new_img_like(img, np.ones((2, 2, 2, 2)), img.get_affine().copy(), copy_header=True)
joblib.hash(img)  
```
",,
11,issue_comment,793,nilearn,nilearn,ainafp,2015-12-02 15:03:55,"Nevermind. It was just a copy.copy of the header inside new_img_like(). I changed it to copy.deepcopy()
",,
12,issue_comment,793,nilearn,nilearn,ainafp,2015-12-02 15:25:56,"Done! 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 12:49:25,"I have a user getting an error that he does not understand at all when the mask extraction has failed:

<pre>
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\nilearn-0.1
.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in path_scores(solver, X, y,
mask, alphas, l1_ratios, train, test, solver_params, is_classif, n_alphas,
eps, key, debias, Xmean, screening_percentile, verbose)
    356
    357     # crop the mask to have a tighter bounding box
--> 358     mask = _crop_mask(mask)
    359
    360     # get train and test data

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\nilearn-0.1
.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in _crop_mask(mask)
     61     the same support (active voxels)""""""
     62     idx = np.where(mask)
---> 63     i_min = max(idx[0].min() - 1, 0)
     64     i_max = idx[0].max()
     65     j_min = max(idx[1].min() - 1, 0)

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\numpy\core\
_methods.pyc in _amin(a, axis, out, keepdims)
     27
     28 def _amin(a, axis=None, out=None, keepdims=False):
---> 29     return umr_minimum(a, axis, None, out, keepdims)
     30
     31 def _sum(a, axis=None, dtype=None, out=None, keepdims=False):

ValueError: zero-size array to reduction operation minimum which has no
identity
</pre>


We should detect that ""idx"" is empty in _crop_mask and raise a more comprehensible error: something like ""Empty mask: if you have given a mask, it is empty, and if you have not given a mask, the mask-extraction routines have fail. Please provide an appropriate mask"".

@dohmatob : do you want to take care of that?
",start issue,space_net._crop_mask returns incomprehensible error when mask is empty
2,issue_closed,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:18:53,,closed issue,space_net._crop_mask returns incomprehensible error when mask is empty
3,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 12:53:16,"Oops! Ok, sure. Lemme reproduce and then fix it. Thanks.
",,
4,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 12:55:02,"Thanks!
",,
5,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 15:03:50,"Thanks for your work for my issue. I tried the updated code with a mask file, but the same error shows up.

There is my code:

# 

import numpy as np

# make X (design matrix) and y (response variable)
import nibabel
from nilearn.image import index_img

train_index = np.ones(60)>0
test_index = np.ones(600)>0

X_train = nibabel.load('C:\Users\LYF\Desktop\sim2train.nii')
X_test = nibabel.load('C:\Users\LYF\Desktop\sim2test.nii')

X_train = index_img(X_train,train_index)
X_test = index_img(X_test, test_index)

mask = nibabel.load('C:\Users\LYF\Desktop\sim1mask.nii')

a=np.array([1,2])
y_train = a.repeat(30)
y_test = a.repeat(300)

from nilearn.decoding import SpaceNetClassifier

penalty1 = 'graph-net'
penalty2 = 'tv-l1'
### Fit model on train data and predict on test data ######################
decoder = SpaceNetClassifier(penalty=penalty1,loss = 'logistic',screening_percentile=100,mask=mask)
decoder.fit(X_train, y_train)
y_pred = decoder.predict(X_test)
accuracy1 = (y_pred == y_test).mean() \* 100.
decoder = SpaceNetClassifier(penalty=penalty2,loss = 'logistic',screening_percentile=100,mask=mask)
decoder.fit(X_train, y_train)
y_pred = decoder.predict(X_test)
accuracy2 = (y_pred == y_test).mean() \* 100.

# 

And here is the track back log:

%run ""C:\Users\LYF\Desktop\NILEARN\SIM1.py""
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17  

## stacklevel=1)

ValueError                                Traceback (most recent call last)
C:\Users\LYF\Desktop\NILEARN\SIM1.py in <module>()
     28 ### Fit model on train data and predict on test data ######################
     29 decoder = SpaceNetClassifier(penalty=penalty1,loss = 'logistic',screening_percentile=100)
---> 30 decoder.fit(X_train, y_train)
     31 y_pred = decoder.predict(X_test)
     32 accuracy1 = (y_pred == y_test).mean() \* 100.

C:\Users\LYF\Documents\GitHub\nilearn\nilearn\decoding\space_net.py in fit(self, X, y)
    829                 debias=self.debias, verbose=self.verbose,
    830                 screening_percentile=self.screening_percentile_
--> 831                 ) for cls in range(n_problems) for fold in range(n_folds)):
    832             self.best_model_params_.append((best_alpha, best_l1_ratio))
    833             self.alpha_grids_.append(alphas)

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in **call**(self, iterable)
    657             self._iterating = True
    658             for function, args, kwargs in iterable:
--> 659                 self.dispatch(function, args, kwargs)
    660 
    661             if pre_dispatch == ""all"" or n_jobs == 1:

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in dispatch(self, func, args, kwargs)
    404         """"""
    405         if self._pool is None:
--> 406             job = ImmediateApply(func, args, kwargs)
    407             index = len(self._jobs)
    408             if not _verbosity_filter(index, self.verbose):

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in **init**(self, func, args, kwargs)
    138         # Don't delay the application, to avoid keeping the input
    139         # arguments in memory
--> 140         self.results = func(_args, *_kwargs)
    141 
    142     def get(self):

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\memory.pyc in **call**(self, _args, *_kwargs)
    279 
    280     def **call**(self, _args, *_kwargs):
--> 281         return self.func(_args, *_kwargs)
    282 
    283     def call_and_shelve(self, _args, *_kwargs):

C:\Users\LYF\Documents\GitHub\nilearn\nilearn\decoding\space_net.py in path_scores(solver, X, y, mask, alphas, l1_ratios, train, test, solver_params, is_classif, n_alphas, eps, key, debias, Xmean, screening_percentile, verbose)
    353 
    354     # crop the mask to have a tighter bounding box
--> 355     mask = _crop_mask(mask)
    356 
    357     # get train and test data

C:\Users\LYF\Documents\GitHub\nilearn\nilearn\decoding\space_net.py in _crop_mask(mask)
     61     the same support (active voxels)""""""
     62     idx = np.where(mask)
---> 63     i_min = max(idx[0].min() - 1, 0)
     64     i_max = idx[0].max()
     65     j_min = max(idx[1].min() - 1, 0)

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\numpy\core_methods.pyc in _amin(a, axis, out, keepdims)
     27 
     28 def _amin(a, axis=None, out=None, keepdims=False):
---> 29     return umr_minimum(a, axis, None, out, keepdims)
     30 
     31 def _sum(a, axis=None, dtype=None, out=None, keepdims=False):

ValueError: zero-size array to reduction operation minimum which has no identity 
",,
6,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:05:34,"Can you put 'mask.nii' somewhere online, so that we have a look at it?
",,
7,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 15:22:05,"I cannot upload in the discussion at https://github.com/nilearn/nilearn/issues/822.https://github.com/nilearn/nilearn/issues/822

I have attached it in the email. And also the training data set and a brief description of the setting.

The mask is just ruling out the surface of the 20 by 20 by 10 box.
",,
8,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 15:28:05,"Here is a dropbox line for the three files I mentioned in the last reply.
https://www.dropbox.com/sh/pnj8kduyivvwmss/AABq_AL6WyB6ueMwoHnuyh75a?dl=0
Let me know if that does not work.
Thanks.
",,
9,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:28:30,"> I have attached it in the email.

Where? I am sorry, I missed it. If you need a temporary transfer service
to upload the file, we can provide that, just let us know.
",,
10,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:28:55,"> https://www.dropbox.com/sh/pnj8kduyivvwmss/AABq_AL6WyB6ueMwoHnuyh75a?dl=0

That works. Thanks
",,
11,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:55:11,"@Leo-YF-Liu : I am on it. It seems that it doesn't have much to do with your mask, but is a bug in our code. We'll have this fixed soon.
",,
12,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 15:57:17,"@GaelVaroquaux Thanks a lot. :)
",,
13,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 16:02:02,"Yes, it's a bug in our code, reproducible with:

```
import numpy as np
import nibabel
from nilearn.decoding import SpaceNetClassifier
X_train = nibabel.load(""sim2train.nii"")
mask = nibabel.load(""sim1mask.nii"")
mask = nibabel.Nifti1Image(mask.get_data(),
                           mask.get_affine())
a = np.array([1, 2])
y_train = a.repeat(30)
decoder = SpaceNetClassifier(loss='logistic', screening_percentile=100,
                             mask=mask).fit(X_train, y_train)


```

I'll look at it asap.
",,
14,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 16:12:57,"OK, the bug concerns the (internal) interpretation of `screening_percentile`: does 100% mean 100% of standard brain or 100% of **this** brain ? There was once a debate on this issue, and we retained: the first meaning.

For @Leo-YF-Liu's particular example, 100% of standard brain = 0.044438533900526642% of **this** brain, leading to an essentially empty mask.

I think it's more natural to let `screening_percentile=100` mean 100% of **this** brain, i.e full-brain. Users can more easily make sense out of this.
",,
15,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 16:15:37,"@dohmatob I tried to remove the option, i.e. decoder = SpaceNetClassifier(penalty=penalty1,loss = 'logistic',mask=mask). The same error still occur. What I want is just a mask that contains all the voxel in the image.
",,
16,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 16:19:41,"My data is not a typical brain image. It's just a simulated image of size  20 by 20 by 10 .
",,
17,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 16:20:37,"On Thu, Nov 5, 2015 at 5:19 PM, Leo-YF-Liu notifications@github.com wrote:

> My data is not a typical brain image. It's just a simulated 20 by 20 by 10
> image.
> 
> Ya, saw that already.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/issues/822#issuecomment-154109968.

## 

DED
",,
18,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 16:38:48,"OK, I just pushed a fix on PR #823.

Demo code.

```
import numpy as np
import matplotlib.pyplot as plt
import nibabel
from nilearn.decoding import SpaceNetClassifier
from nilearn.plotting import plot_stat_map
X_train = nibabel.load(""sim2train.nii"")
mask = nibabel.load(""sim1mask.nii"")
mask = nibabel.Nifti1Image(mask.get_data(),
                           mask.get_affine())
a = np.array([1, 2])
y_train = a.repeat(30)
for penalty in ['graph-net', 'tv-l1']:
    decoder = SpaceNetClassifier(
        penalty=penalty, loss='logistic', screening_percentile=100,
        verbose=2).fit(X_train, y_train)
    plot_stat_map(decoder.coef_img_, None, black_bg=True,
                  title=penalty.upper(), colorbar=True)
    plt.savefig(""%s.png"" % penalty)
plt.show()

```

![graph-net](https://cloud.githubusercontent.com/assets/634068/10974773/030df910-83e4-11e5-9ea6-f10ad46643ef.png)
![tv-l1](https://cloud.githubusercontent.com/assets/634068/10974779/06c9e208-83e4-11e5-97d4-8cb32aa550c5.png)
",,
19,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 16:50:59,"@dohmatob : I don't see anything.

But I am on it, I have diagnosed the problem, and I am adding logic (including warnings) to prevent from it.
",,
20,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 16:58:21,"@dohmatob Your results are pretty good, but I tried your demo code, the same error showed up again. Did you update any internal code in the nilearn package? Shall I wait for the update of the package before I run the code?
",,
21,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:01:27,"> Shall I wait for the update of the package before I run the code?

Yes, @domathob and myself are on it. Give me 20mn to do a PR, and another
hour of two for reviews and merge to happen.
",,
22,issue_comment,822,nilearn,nilearn,dohmatob,2015-11-05 17:04:13,"Sorry, the PR link i gave you was wrong. It's here: https://github.com/nilearn/nilearn/pull/824.

Also, i didn't notice @GaelVaroquaux was working on the issue. So, you may ignore the above PR.
",,
23,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:21:03,"@Leo-YF-Liu : I believe that now your problem is fixed. You can pull master and rerun your analysis on the new version. Tell us if that works for you.
",,
24,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:40:27,"I just updated and tried, but the error still occurred.
",,
25,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:40:57,"This is the trackback log:

%run ""C:\Users\LYF\Desktop\Dropbox (YUFENG)\sim1\sim1.py""
Mask volume = 812mm^3 = 0.812cm^3
Standard brain volume = 1.82724e+06mm^3 = 1827.24cm^3
Original screening-percentile: 100
Volume-corrected screening-percentile: 0.0444385
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\cross_validation.py:1601: DeprecationWarning: check_cv will return indices instead of boolean masks from 0.17
  'masks from 0.17', DeprecationWarning)
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\cross_validation.py:69: DeprecationWarning: The indices parameter is deprecated and will be removed (assumed True) in 0.17

##   stacklevel=1)

ValueError                                Traceback (most recent call last)
C:\Users\LYF\Desktop\Dropbox (YUFENG)\sim1\sim1.py in <module>()
     12     decoder = SpaceNetClassifier(
     13         penalty=penalty, loss='logistic', screening_percentile=100,
---> 14         verbose=2).fit(X_train, y_train)
     15     plot_stat_map(decoder.coef_img_, None, black_bg=True,
     16                   title=penalty.upper(), colorbar=True)

C:\Users\LYF\AppData\Roaming\Python\Python27\site-packages\nilearn-0.1.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in fit(self, X, y)
    832             self.cv_ = [(np.arange(n_samples), [])]
    833         n_folds = len(self.cv_)
--> 834 
    835         # scores & mean weights map over all folds
    836         self.cv_scores_ = [[] for _ in range(n_problems)]

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in **call**(self, iterable)
    657             self._iterating = True
    658             for function, args, kwargs in iterable:
--> 659                 self.dispatch(function, args, kwargs)
    660 
    661             if pre_dispatch == ""all"" or n_jobs == 1:

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in dispatch(self, func, args, kwargs)
    404         """"""
    405         if self._pool is None:
--> 406             job = ImmediateApply(func, args, kwargs)
    407             index = len(self._jobs)
    408             if not _verbosity_filter(index, self.verbose):

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\parallel.pyc in **init**(self, func, args, kwargs)
    138         # Don't delay the application, to avoid keeping the input
    139         # arguments in memory
--> 140         self.results = func(_args, *_kwargs)
    141 
    142     def get(self):

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\sklearn\externals\joblib\memory.pyc in **call**(self, _args, *_kwargs)
    279 
    280     def **call**(self, _args, *_kwargs):
--> 281         return self.func(_args, *_kwargs)
    282 
    283     def call_and_shelve(self, _args, *_kwargs):

C:\Users\LYF\AppData\Roaming\Python\Python27\site-packages\nilearn-0.1.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in path_scores(solver, X, y, mask, alphas, l1_ratios, train, test, solver_params, is_classif, n_alphas, eps, key, debias, Xmean, screening_percentile, verbose)
    356 
    357     test : array or list of integers
--> 358         List of indices for the test samples
    359 
    360     l1_ratio : float in the interval [0, 1]; optional (default .5)

C:\Users\LYF\AppData\Roaming\Python\Python27\site-packages\nilearn-0.1.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in _crop_mask(mask)
     61     original_screening_percentile = screening_percentile
     62     # correct screening_percentile according to the volume of the data mask
---> 63     mask_volume = _get_mask_volume(mask_img)
     64     if mask_volume > MNI152_BRAIN_VOLUME:
     65         warnings.warn(

C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\numpy\core_methods.pyc in _amin(a, axis, out, keepdims)
     27 
     28 def _amin(a, axis=None, out=None, keepdims=False):
---> 29     return umr_minimum(a, axis, None, out, keepdims)
     30 
     31 def _sum(a, axis=None, dtype=None, out=None, keepdims=False):

ValueError: zero-size array to reduction operation minimum which has no identity 
",,
26,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:41:41,"This is the code I use:

import numpy as np
import matplotlib.pyplot as plt
import nibabel
from nilearn.decoding import SpaceNetClassifier
from nilearn.plotting import plot_stat_map
X_train = nibabel.load(""C:\Users\LYF\Desktop\sim2train.nii"")
mask = nibabel.load(""C:\Users\LYF\Desktop\sim1mask.nii"")
mask = nibabel.Nifti1Image(mask.get_data(),mask.get_affine())
a = np.array([1, 2])
y_train = a.repeat(30)
for penalty in ['graph-net', 'tv-l1']:
    decoder = SpaceNetClassifier(
        penalty=penalty, loss='logistic', screening_percentile=100,
        verbose=2).fit(X_train, y_train)
    plot_stat_map(decoder.coef_img_, None, black_bg=True,
                  title=penalty.upper(), colorbar=True)
    plt.savefig(""%s.png"" % penalty)
plt.show()
",,
27,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:42:48,"Basically it's a copy of @dohmatob 's code, with some modification on the path of files.
",,
28,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:43:44,"> I just updated and tried, but the error still occurred.

With the data and the script that you shared, I am no longer getting an
error.

Are you sure that you are indeed running the latest code? How did you do
the update?

Can you paste the output of the run, with eventual warnings and the
corresponding traceback?
",,
29,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:44:34,"> %run ""C:\Users\LYF\Desktop\Dropbox (YUFENG)\sim1\sim1.py""
> Mask volume = 812mm^3 = 0.812cm^3
> Standard brain volume = 1.82724e+06mm^3 = 1827.24cm^3
> Original screening-percentile: 100
> Volume-corrected screening-percentile: 0.0444385

That's strange, it looks like you are running the old code. How did you
do the update?
",,
30,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:45:42,"I downloaded the zip file from the website then unzip it. Then do the installation from that path. 
",,
31,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:48:49,"> I downloaded the zip file from the website then unzip it.

Which exact link? Just to be sure.

> Then do the installation from that path.

Which exact command? Once again, just to be sure, and help us understand
the problems.
",,
32,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:51:50,"Scrap my previous questions: that's a different error that you are
getting, and the traceback below does show that you are running the latest
code.

<pre>
C:\Users\LYF\AppData\Roaming\Python\Python27\site-packages\
nilearn-0.1.5.dev0-py2.7.egg\nilearn\decoding\space_net.pyc in _crop_mask(mask)
61 original_screening_percentile = screening_percentile
62 # correct screening_percentile according to the volume of the data mask
---> 63 mask_volume = _get_mask_volume(mask_img)
64 if mask_volume > MNI152_BRAIN_VOLUME:
65 warnings.warn(
C:\Users\LYF\AppData\Local\Enthought\Canopy\User\lib\site-packages\numpy\
core_methods.pyc in _amin(a, axis, out, keepdims)
27
28 def _amin(a, axis=None, out=None, keepdims=False):
---> 29 return umr_minimum(a, axis, None, out, keepdims)
30
31 def _sum(a, axis=None, dtype=None, out=None, keepdims=False):
ValueError: zero-size array to reduction operation minimum which has no
identity
</pre>
",,
33,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 21:53:15,"I downloaded it from https://github.com/nilearn/nilearn, lower right corner, icon download zip.
Then unzip it on my desktop, and run python setup.py install --user
",,
34,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 22:00:11,"OK, I find that the traceback that you are getting is very surprising. It
pretty much makes no sense. I wonder if there is not a mixture of the new
and the old code.

Can you, reinstall, but before you do the operations for reinstallation,
can you remove completely the directory
C:\Users\LYF\AppData\Roaming\Python\Python27\site-packages\nilearn-0.1.5.dev0-py2.7.egg
",,
35,issue_comment,822,nilearn,nilearn,Leo-YF-Liu,2015-11-05 22:07:03,"Great!!! It works now! Thanks a lot for the big effort you and your team made today!
",,
36,issue_comment,822,nilearn,nilearn,GaelVaroquaux,2015-11-05 22:13:36,"> Great!!! It works now! Thanks a lot for the big effort you and your
> team made today!

Awesome! That's good news.

Well, interacting with you was useful, as it revealed a bug in our code,
and that before we released it to the public. Thanks a lot for the
detailed information.

I hope that you get good results with nilearn.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:55:27,,start issue,Rebased version of region extraction
2,issue_closed,898,nilearn,nilearn,AlexandreAbraham,2015-12-11 08:39:47,,closed issue,Rebased version of region extraction
3,pull_request_title,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:55:26,,3421a088716e4b5aaa06c3b8d34b3198ee9a5534,Rebased version of region extraction
4,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-13 16:02:28,Added an incomplete code of AutoExtractor to show a progress,ecac0595b63c4139e70df75e0ffd5338289c2059,
5,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-19 18:17:31,"A simple threshold extractor
Voxel Ratio Extractor or Auto threshold extractor",0c809b488fb4a9a34acd0b0be914e32a6038b81d,
6,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-20 08:09:47,Remove obsolete file,a1a9b9750c7c61f8e8857727cf5fe7b2b66480f1,
7,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-22 11:54:53,Simple code for a Voxel Ratio Region Extraction,26b45754898348454979d609adf39dd4cebb1c62,
8,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-26 20:24:02,"Made code more simplified limiting to one class for two methods and
added documentation for upto now parameters or arguments.",20ac84c2be13eaafa561493617c21f29343d6388,
9,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-29 13:01:03,"Addressed some recent comments. Making code a bit looks nicer and
meaningful documentation",e5a2ddadb79ac74a63b44f3735c0ee503626a8f0,
10,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-07-30 12:14:48,Preliminary changes committed to shift to new branch,6c01cc53a90afdcabcc8aca10e9896eb1d73de57,
11,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-08-04 11:08:59,Integrated NiftiMapsMasker with Region Extractor,1d3c3c95dfc45347faf773f5d573f87b13ae2aa3,
12,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-09 18:39:22,"Addressed almost all the comments and made changes to the documentation
and changed/removed the names of the conflict in class variables and return
variables",6fa81f3ca79c9055e6f29fe6be34b4f2234b9855,
13,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-16 15:31:38,Made code factorization and functions more usable privately,f18c662afa460974f5622144be0ae9ff6ff9f54a,
14,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-18 11:23:33,"Added an example which works for 3D map
Made code factorization and adaptability to useable functions",36696defb4ee3d2ed354393a2e40bb72fa1f3510,
15,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-23 10:45:41,Added another example showing a canica maps region extraction,9f0d3fb8593e2861f383aa7184e7ce6e1a09997a,
16,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-24 15:03:24,Added tests and made some modifications in main class object and functions,2286e6c65d53e003568381a94db5423394dfbe08,
17,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-09-25 15:31:51,Added new files and nilearn external dependencies,889e3c34506da01a4a05340c422be20a56dae878,
18,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-12 13:52:48,Addressed Gael's reviews and comments,998f0293394235214de660a0444167d3bd52d2bd,
19,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-12 14:12:07,Trying to fix Travis failure,47b66d6139384d21ae2ca1b4b86147a0334e6581,
20,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-13 08:01:58,Trying to fix some failures,6289af2c478030cb0a0f9d33261eda6376ee14c3,
21,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-16 12:09:00,Fixed comments made by Alex,cf26fcdc8942b4b8e16b95adcca548412663f3cc,
22,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-16 13:15:16,An example shows region extraction using Smith Atlas RSN10,902e266ad027769f462c4b08ee101f75458889f3,
23,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-16 14:46:50,"Changed accordingly ""thresholding_strategy"" in tests files.",b6a3156618b811dcec9e58c2e994b9d5849b985f,
24,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-10-27 10:14:16,"Fixed comments naming for the functions, removing dtype file from skimage",60ed33404dfa08afe14c9c2aaa796c2d17594a5a,
25,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-02 22:33:00,"Addresssed comments: changed design for fit and transform utilising NiftiMapsMasker.
and comments made by Alex.",0475577d6082541c0b75b1a3665c0236a922750d,
26,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-03 09:30:01,Corrected mistakes,659753b59d09c38a1462e073fa94744c50ad6ba2,
27,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-08 18:41:04,"Addressed comments, threshold_img, connected_regions, tests for skimage",755780e1780497b31d1e2e30a634b34800f2b137,
28,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-08 20:11:33,Minor changes,bee579bc0ae87c2a6188155a31b26fd44cfea8c6,
29,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-09 13:16:22,"Ported code check_threshold from displays to extmath
check_threshold is basically data operation function on a valid thresholds.",e719df27f0f2d39376b89c8248a732f1a85c6c3f,
30,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-09 14:22:18,"Trying to increase coverage
Adding tests files for missing lines in skimage random walker",650347858460269ac50099b7c05eb60318a1744c,
31,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-19 12:08:55,Addressed comments and trying to make coverage pass on external code,96c35e6cd89cf3ba1dced800f82bd5253b93a906,
32,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-23 11:54:37,Addressed comments made nby Gael,42e438b6b78ec870e176a17b14f73ac0fdc9d874,
33,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-23 14:38:17,Trying to fix coverage decrease lines of code,c431eaae66d70feace287969fe019380e9b646c7,
34,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-23 18:51:37,Coverage,925bd6642d92fa05070564c809b36e0b43e23e7c,
35,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-23 21:00:23,Trying to increase coverage again,9f05b7981beb3dd09f33ec3fabd0cb208c98ead2,
36,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-11-26 08:03:51,"Addressed Loic comments
Documenation corrected
more specific tests in region extractor",a7a171748348898e190ac584d47cbf32ffe68500,
37,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-01 22:14:44,"Addressed Gael comments, examples suited for notebooks style",9e9a5920535e9a72cf06cf16b9fdc5d95d5a6731,
38,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-02 14:28:12,check_threshold into new location and addressed comments for enhancement,235e5529f9eb0a941b0712b6562308a936cd326f,
39,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-03 15:39:05,Added notebook example and documentation and some comments are addressed,b851452bfc933f78ee1c4e42188744a8c5f14c52,
40,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-07 10:08:51,"Addressed region size in voxel volume, statistical maps example in manipulating visualizing",8a13a4de58d75689b9c1a7072b63376ff62e2750,
41,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-08 17:19:44,Addressed comments made by Bertrand,8f8738f9d4b88d82b5c68ce134d90f407f2d539d,
42,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-08 17:43:23,Changed min_region_size documentation in RegionExtractor,0e4831673877ae78606d889c68307bcaf38b2633,
43,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-09 15:58:57,Version inclusions,00bea9eecc84ff9e0d4b7caa9fc70dfa4b8fd74d,
44,pull_request_commit,898,nilearn,nilearn,KamalakerDadi,2015-12-10 14:17:32,Addressed comments made by Loic,83f2c29091567d3e005d670e2617b8d9a9eccc38,
45,pull_request_commit,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:24:40,Merge branch 'master' into pr_651,8ca206ca215e2f70eaeb94802a6881727fac55f9,
46,pull_request_commit,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 00:54:54,Add Regions to module reference,20f544acf03c8e0d57c6b5cbe3a031ece85484a2,
47,pull_request_commit,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 01:01:54,Improve doc situation,96611dde5e82f8dff8a0ac4d4f3bd5c84551416e,
48,pull_request_commit,898,nilearn,nilearn,GaelVaroquaux,2015-12-11 01:23:24,Iter on docs,3421a088716e4b5aaa06c3b8d34b3198ee9a5534,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:08:17,"Fix #633 
To Do List:
- [x] Code
- [x] Documentation
- [x] Tests
- [x] Example
- Code design
  - `class` named as `RegionExtractor` - to _extract regions_ from the maps and also extracts _subjects timeseries signals_ from those extracted regions by inheriting `NiftiMapsMasker`.
    - function named as `threshold_img` to keep meaningful voxels for region extraction.
    - function named as `connected_regions` to extract regions from thresholded images.
-  `RegionExtractor`
  - `fit()` extract regions.
  - `transform()` regions to signals.
    - example: `plot_extract_regions_canica_maps.py` 
    - example: `plot_extract_regions_smith_atlas_networks.py`
-  `threshold_img` - two different ways of thresholding. (integrated in `nilearn.image.image`)
  1. `percentile` - `scoreatpercentile`.
  2. `img_value` - based on voxel intensity value.
     - example: `plot_extract_regions_statistical_maps.py`
-  `connected_regions` - two different ways of extracting regions.
  1. `local_regions` uses random walker method.
  2. `connected_components` uses only labelling which labels based on unique features. 
     - example: `plot_extract_regions_statistical_maps.py`
",start issue,[MRG+1] Region Extractor
2,issue_closed,651,nilearn,nilearn,AlexandreAbraham,2015-12-11 08:34:40,,closed issue,[MRG+1] Region Extractor
3,pull_request_title,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:08:17,"Fix #633 
To Do List:
- [x] Code
- [x] Documentation
- [x] Tests
- [x] Example
- Code design
  - `class` named as `RegionExtractor` - to _extract regions_ from the maps and also extracts _subjects timeseries signals_ from those extracted regions by inheriting `NiftiMapsMasker`.
    - function named as `threshold_img` to keep meaningful voxels for region extraction.
    - function named as `connected_regions` to extract regions from thresholded images.
-  `RegionExtractor`
  - `fit()` extract regions.
  - `transform()` regions to signals.
    - example: `plot_extract_regions_canica_maps.py` 
    - example: `plot_extract_regions_smith_atlas_networks.py`
-  `threshold_img` - two different ways of thresholding. (integrated in `nilearn.image.image`)
  1. `percentile` - `scoreatpercentile`.
  2. `img_value` - based on voxel intensity value.
     - example: `plot_extract_regions_statistical_maps.py`
-  `connected_regions` - two different ways of extracting regions.
  1. `local_regions` uses random walker method.
  2. `connected_components` uses only labelling which labels based on unique features. 
     - example: `plot_extract_regions_statistical_maps.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,[MRG+1] Region Extractor
4,issue_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-08 16:32:37,"> ping @GaelVaroquaux I am thinking of removing smith atlas networks example as
> it shows just a basic extraction.

I'd rather not.

> If you are not agreeing upon this then I think it should be moved to
> some where else. May be in General or Plotting ?

Manipulating_visualizing is the right place.
",,
5,issue_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-09 18:41:53,"> @GaelVaroquaux Can I change this [MRG + 1] ?

Yes
",,
6,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:00:10,"Results so far:

``` python
import nibabel

from nilearn import datasets
from nilearn._utils import check_niimg
from nilearn.image import iter_img, new_img_like
from nilearn.decomposition.canica import CanICA

import matplotlib.pyplot as plt
from nilearn import plotting

# ICA Decomposition
adhd_dataset = datasets.fetch_adhd()
func_filenames = adhd_dataset.func

n_components = 5
canica = CanICA(n_components=n_components, smoothing_fwhm=6.,
                memory=""nilearn_cache"", memory_level=5,
                threshold=3., verbose=10, random_state=0)

canica.fit(func_filenames)
components_img = canica.masker_.inverse_transform(canica.components_)
affine = components_img.get_affine()

# Visualization
for i, img in enumerate(iter_img(components_img)):
    plotting.plot_stat_map(img, title=""IC %d"" % i,
                           display_mode='z', cut_coords=1,
                           colorbar=False)
    plt.show()

# Foreground Extraction and Connected components extraction
from nilearn.region_extraction import SimpleThresholdExtractor
# Foreground extraction using Voxel Ratio or Auto Extractor
vre = SimpleThresholdExtractor.VoxelRatioExtractor()
vre.transform(components_img)
vre_regions = vre.regions_
strategy = 'Voxel Ratio Extractor'

for i_vre, _ in enumerate(vre_regions):
    vre_reg = nibabel.Nifti1Image(vre_regions[i_vre],
                                  affine)
    plotting.plot_stat_map(vre_reg, title=""IC %d after %s "" % (i_vre, strategy),
                           display_mode='z', cut_coords=1,
                           colorbar=False)
    plt.show()
```

## CANICA

![untitled 1](https://cloud.githubusercontent.com/assets/11410385/8771805/06b37752-2ec6-11e5-91b9-497ebc00e973.png)

## Voxel Ratio Threshold Extractor

![vre](https://cloud.githubusercontent.com/assets/11410385/8771811/1533fdce-2ec6-11e5-8399-7cc9f38e5c7b.png)
",,
7,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:02:59,"Remarks:
Random Walker Region Segmentation in progress
",,
8,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 11:59:46,"``` python
import nibabel

from nilearn import datasets
from nilearn._utils import check_niimg
from nilearn.image import iter_img, new_img_like
from nilearn.decomposition.canica import CanICA

import matplotlib.pyplot as plt
from nilearn import plotting

# ICA Decomposition
adhd_dataset = datasets.fetch_adhd()
func_filenames = adhd_dataset.func

n_components = 4
canica = CanICA(n_components=n_components, smoothing_fwhm=6.,
                memory=""nilearn_cache"", memory_level=5,
                threshold=3., verbose=10, random_state=0)

canica.fit(func_filenames)
components_img = canica.masker_.inverse_transform(canica.components_)
affine = components_img.get_affine()

# Visualization
for i, img in enumerate(iter_img(components_img)):
    plotting.plot_stat_map(img, title=""IC %d"" % i,
                           colorbar=False)
    plt.show()

from nilearn.region_extraction import SimpleThresholdExtractor
# Foreground extraction using Voxel Ratio or Auto Extractor
vre = SimpleThresholdExtractor.VoxelRatioExtractor(min_size=100)
vre.transform(components_img)
vre_regions = vre.regions_
index = vre.index_
strategy = 'Voxel Ratio Extractor'

for i, each_4d in enumerate(iter_img(vre_regions)):
    plotting.plot_stat_map(each_4d,
                           title=""IC %d after %s "" % (index[i], strategy),
                           colorbar=False)
    plt.show()
```

Results picked manually for showing purpose:
![git](https://cloud.githubusercontent.com/assets/11410385/8824838/e2bb673c-3079-11e5-9555-c46f73e975ac.png)
",,
9,issue_comment,651,nilearn,nilearn,bthirion,2015-07-22 12:08:14,"Nice, thx ! 
But the naming is a bit twisted. ""VoxelRatioExtractor"" ? ""Threshold of voxel ratio"" ?
",,
10,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:18:45,"At the moment I kept name as ""VoxelRatioExtractor"" but need to be discussed to fix a nice and convincing name. ""Threshold of voxel ratio"", I am trying to say that I applied threshold of `ratio` onto the non zero voxels before ""blobs extraction"" . The threshold strategy is actually adapted from `canica` script file.
",,
11,issue_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:24:56,"> But the naming is a bit twisted. ""VoxelRatioExtractor"" ?

This name is a remainder of the piece of code I gave to @KamalakerDadi. I take your remark as a compliment about my natural gift to find perfect names for objects (remember the NiftiBallsMasker?).
",,
12,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-04 11:16:19,"@AlexandreAbraham  I have added code snippet of yours to compute `threshold` using `ratio` of the number of voxels. Please see if it makes sense as how I included. Also, I kept `scoreatpercentile` as an option.
",,
13,issue_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:06:59,"@KamalakerDadi, I have no time to test your code but the logic looks good to me. I switch into code nazi mode and nitpick on implementation details.
",,
14,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-09 17:16:32,"@GaelVaroquaux @AlexandreAbraham @lesteve I think it can be reviewable. For coverage increase, I have tried to include tests from skimage for the missing lines. But, still I see there are some missing lines. I will see it. Any comments on code, ported files and locations will be helpful. Thanks.
",,
15,issue_comment,651,nilearn,nilearn,lesteve,2015-11-10 12:40:53,"> @GaelVaroquaux @AlexandreAbraham @lesteve I think it can be reviewable. For coverage increase, I have tried to include tests from skimage for the missing lines. But, still I see there are some missing lines.

Not 100 % sure but I thought @GaelVaroquaux was of the opinion of not adding the scikit-image code in externals but rather only taking what we need and add it somewhere in nilearn.

If we decide it's fine to add it in externals then we should not test it. Adding a .coveragerc is probably the way forward in order to ignore files from the coverage (note you probably need to tweak continuous_integration/install.sh in order to copy .coveragerc where we are running the tests from)
",,
16,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:50:32,"- We should consider a min_distance in mm too.
- We should think of giving a minimum size in mm^3 instead of number of voxels to handle anisotropic data.

Except these two comments, everything is addressed. I think I should discuss a bit more to address those. I have added region_extraction.rst in connectivity section. 

if you have any comments let me know.

ping @GaelVaroquaux @lesteve @AlexandreAbraham @bthirion 
",,
17,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:56:02,"As a side note, I really don't know how to convince coveralls. Any hints would be great.
",,
18,issue_comment,651,nilearn,nilearn,bthirion,2015-12-03 21:17:43,"I think that If you want to define separation between local maxima is 
metric space, you can no longer use scipy.ndimage.maximum_filter, 
because the neighborhood you consider is no longer a parallelepipoid in 
voxel space...
So, while the concern is correct, I think that it is relatively hard to 
handle it correctly without re-coding significant re-coding.

A simple way to extend the function for the case of non-isotropic voxels 
is to reproduce  the scipy.ndimage.maximum_filter API, where either a 
'size' or a 'footprint' is used.
",,
19,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-07 10:21:42,"ping @AlexandreAbraham @lesteve 

I think I have addressed your comments in a recent commit.
",,
20,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 16:31:03,"ping @GaelVaroquaux I am thinking of removing smith atlas networks example as it shows just a basic extraction. If you are not agreeing upon this then I think it should be moved to some where else. May be in General or Plotting ?
",,
21,issue_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 19:06:59,"Anymore reviews/comments @GaelVaroquaux @lesteve @AlexandreAbraham @bthirion 
",,
22,issue_comment,651,nilearn,nilearn,lesteve,2015-07-17 10:36:30,"Rather than saying ""imcomplete"" just put [WIP] at the beginning of your PR title to indicate this is not ready to merge.
",,
23,issue_comment,651,nilearn,nilearn,lesteve,2015-12-10 14:52:13,"> I'm waiting for the green and merging :)

Sounds good.
",,
24,issue_comment,651,nilearn,nilearn,banilo,2015-07-15 15:01:17,"Why is the new python file camel-cased?
",,
25,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-13 16:10:12,"Remove `only_gm`: we said that we should do it in a separate function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
26,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-13 16:11:19,"VoxelRatioExtractor previously inherited of BaseROIExtractor, hence the parameters here. It is not the case anymore so you can't call `super(VoxelRatioExtractor, self).__init__`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
27,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:17:54,"how about calling this `data`as we usually do for non-niimg objects with imaging information. Map might give the impression that is a nibabel object
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
28,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:18:07,"not explicit enough to me
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
29,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:20:30,"better not call the variable the same name as the function
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
30,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:22:54,"how about `compute_relative_threshold` as alternative name?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
31,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:24:43,"why the underscore in the variable name?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
32,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:25:16,"`np.any` conversion of the code might be faster (although probably not relevant here)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
33,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:25:28,"mention that it is a list
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
34,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:33:47,"I think you can loose the `view()`here. That seems to be mainly for type conversion and several access roads to a same array in memory in contexts where different dtypes/objects are necessary.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
35,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:35:12,"Having a 4d image but keeping the time dimension in the first place is unusualy across the nilearn code base.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
36,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-07-15 15:36:19,"error message for the None case?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region/AutoExtractor.py')"
37,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:24:58,"This class is equivalent to the previous one. You don't need two of them.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
38,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:25:56,"You don't need an empty line here. Plus, you should not use `CamelCase` for file names. In python, we use `snake_case`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
39,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-20 08:27:06,"You should actually extract the regions, not set the ones that you don't want to 0. Meaning, if I give you a 3D map with 4 regions in it, you should output a 4D file with 4 scans and I should find one region per scan.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
40,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:06:44,"Fixed
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
41,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:06:53,"Ok I do it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
42,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-20 09:07:09,"Ok
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
43,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:35:24,"Please fix file name.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
44,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:36:28,"By convention in nilearn, the ""img"" suffix refers to nibabel.SpatialImage objects. You use a list here. Please remove this suffix as it can be troublesome for other devs.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
45,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:37:53,"You should not call `label` twice. This is a computationally expensive function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
46,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:38:32,"Please use `_img` suffix here ;)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
47,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:39:22,"Why do you create 3d images to concat them in a 4d? You can directly build the 4d image.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
48,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:40:57,"We don't want to use this thresholding strategy.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
49,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:43:21,"Be careful: data is 4D here so your threshold is based on the lenght of the first dimension. Plus, you need a brain mask to estimate the brain volume.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
50,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:44:19,"I am converting to image format to be compatible with `concat_niimgs` otherwise it is complaining. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
51,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-22 12:48:21,"I named the filename and ""Voxel_ratio_extractor"" to ""region_extractor"".
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
52,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 12:55:13,"You didn't push it then.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
53,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 13:06:08,"You don't need `concat_niimgs` at all.

Here is a quick and dirty equivalent of your code:

``` python
    labels, n_labels = label(img_data)
    labels_size = np.bincount(components.ravel())
    labels_size = 0
    regions = []
    for label_id, label_size in enumerate(labels_size):
        if label_size < min_size:
            pass
            img_data[components == label_assign] = 0
        region = img_data.copy()
        img_data[labels != label_id] = 0
        regions.append(region[..., np.newaxis])
    regions = np.concatenate(regions, axis=3)
    regions_img = new_img_like(img, regions)
return regions_img
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
54,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-22 13:06:28,"data and affine are contained in img...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
55,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-23 08:23:05,"Replace `len(maps_data)` by `mask_img.get_data().sum()`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/SimpleThresholdExtractor.py')"
56,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:06:06,"We'll see naming later but `region_extraction/regionextractor.py` is a bit redundant. Also, we use `snake_case` as naming convention. So the name would be `region_extractor.py`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
57,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:07:18,"Typo: separate. Also, you could just name it `extract_regions`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
58,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:08:17,"Same remark as before. Suffix `img` is for images object (ie `SpatialImage` with `get_data` and `get_affine` methods).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
59,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:10:41,"Also: why `img` and `img_data`? Only `img` is necessary, just call `img.get_data()` to get the data. (Note, maybe this is justified further, I haven't read all the code yet).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
60,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:12:30,"This description is very obscure to me.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
61,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:12:54,"`img_data` is the thresholded image taken as input in this function. I am calling `img` since I am using it to take affine and create a `new_img_like`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
62,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:13:17,"This is not used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
63,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:13:59,"You don't need to copy the data since you don't modify it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
64,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:15:19,"You can do `region_img = new_img_like(img, (labels == label_id) * img.get_data())`
By doing this:
- the copy of data is implicit
- you don't have to specify the affine. By default, `img.get_affine()` is taken.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
65,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:16:41,"You don't have to go into so much details: we are trying to hide implementation from user.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
66,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:20:02,"The main difference between the two strategies is that random walker will try to separate connected components into subregions based on seeds. We have to find names reflecting this behavior because ""random_walker"" won't speak to the users. Maybe `simple` and `seed_based`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
67,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:21:53,"I think that we can be more restrictive using `check_niimg_4d`.
@GaelVaroquaux : people will want to extract regions from simple 3d images too but, in that case, thresholding is not very meaningful. Should we create another object or do a special case here?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
68,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-07-26 21:22:40,"'seed-based' does not convey the idea of connectedness/locality. would `growth` or `growing` work ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
69,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-26 21:23:44,"> The main difference between the two strategies is that random walker will try
> to separate connected components into subregions based on seeds. We have to
> find names reflecting this behavior because ""random_walker"" won't speak to the
> users. Maybe simple and seed_based.

'connect_components', and 'hill_detection'?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
70,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-26 21:24:39,"> I think that we can be more restrictive using check_niimg_4d.
> @GaelVaroquaux : people will want to extract regions from simple 3d images too
> but, in that case, thresholding is not very meaningful. Should we create
> another object or do a special case here?

Probably another object, but we need to discuss it. Basically, the
question is: how will we document / explain this?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
71,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:24:46,"`self.extractor not in extractor_methods` should be sufficient.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
72,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:35:30,"You copy data too much...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
73,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:37:51,"This is not the strategy of the paper. We can discuss whether or not this strategy is pertinent though.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
74,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:41:12,"Now that I know that `img_data` is `label_map`, this makes more sense to me. You should name it `label_data` in that case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
75,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:42:23,"There is also a way to pass the affine in order to take it into account.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
76,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:42:41,"Yes, but as you know and as we saw that implemented it has some problems. Yes we can discuss. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
77,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:44:38,"yes, that is what I mean saying a thresholded image. You are right, I have not made clear enough for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
78,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:45:31,"which lines made its obscure. can you denote ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
79,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-26 21:46:29,"Ok, then I remove all ""ref:"" related lines.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
80,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:47:32,"Well, problems are meant to be solved ;). I gave you several options to solve them.
Your solution here is a workaround to aboid the fact that you need the brain mask: you suppose that nonzero values are the only one not masked, which is wrong.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
81,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-07-26 21:48:17,"Do that only one time at the end of the loop.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
82,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-07-27 08:27:28,"`local_region_extraction` ? since we are separating components based upon their locality.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
83,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-07-29 11:09:48,"> local_region_extraction ? since we are separating components based upon their
> locality.

local_regions?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
84,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:18:48,"You can use `check_niimg_4d`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
85,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:20:52,"`if self.mask is not None:` should be sufficient.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
86,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:21:37,"You don't need to reinvent the wheel ;). What you want is `masking._load_mask_img`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
87,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:22:32,"`self.masker_` may not exist yet here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
88,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:23:26,"Why do you want to keep the transformed maps in your object?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
89,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:23:41,"typo
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
90,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 11:57:40,"Do not create an img here, it is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
91,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:05:25,"Your whole block is good but it can be factorized. It's better since it's shorter and you rely on nilearn's code for handling exceptions.

``` python
# First create the masker
if isinstance(self.mask, NiftiMasker):
    self.masker_ = clone(self.mask)
else:
    self.masker_ = NiftiMasker(mask_img=self.mask, ...)

# Then fit
if self.masker_.mask_img is None:
    self.masker_.fit(maps_img)
else:
    self.masker_.fit()
self.mask_img_ = self.masker_.mask_img_
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
92,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:09:29,"More explanation : the ""img"" object should be created at the very end of the pipeline. Also, I like to separate ""nifti world"" and ""data world"". Here, your function takes data as input and output niftis. Plus, you use `new_img_like` with a freshly new image, which makes the call to this function completely counterproductive.
You should just do `regions.append(map_data)` and turn the data into niftis in the upper level function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
93,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:10:06,"Actually, you don't even need it. See below.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
94,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:10:21,"See the comment below about factorization of this code.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
95,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 12:11:03,"Do we really need this strategy?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
96,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:17:48,"I think that this won't work as you exemple since `regions_accumulated is a list of list of Nifti1Image. You should obtain a 5D nifti.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
97,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:18:31,"You probably want to use `extend` instead of `append`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
98,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:18:42,"Should be in the `for` loop.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
99,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:01,"You don't want to keep them.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
100,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:14,"No, you should return the signals here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
101,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-04 13:20:47,"Well, you probably just want to use the transform method of the Maps Masker, you don't need a `for` loop here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
102,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 09:23:06,"I am hoping that if we also need to input 3D image ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
103,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 10:25:37,"If you input 3D image, the line below will an exception. You can use `check_niimg(maps_img, atleast_4d=True)`. We need to discuss this but it's a minor detail, do not bother.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
104,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 11:59:33,"To be honest, I really don't know. We were discussed that `percentile` strategy is same as `voxelratio` strategy. I can remove if it don't make any useful unless we are planned to make `canica` compatibility.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
105,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-05 15:21:25,"@AlexandreAbraham Should I also implement `confounds` parameter here ? similar to `multipca.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
106,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 15:29:59,"Yes. You just have to pass them to NiftiMapsMasker.transform anyway.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
107,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:33:14,"Isn't this creating a novel dependency for nilearn. If yes, is that ok/worth it?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
108,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:36:59,"""label point"" - WDYM?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
109,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:37:34,"The corresponding skimage code will be added to nilearn/external. No additional dependency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
110,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:39:29,"perhaps rather `label_counts/label_cnts`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
111,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:47:46,"Shouldn't the parameters be listed in the docstring of `__init__`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
112,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:49:45,"Isn't it confusing to use the class variables here as names for the return values?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
113,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:53:23,"perhaps some `np.where()` on mask_img_ instead?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
114,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:55:25,"Isn't there a more elegant way to get the data in 3d brain space? for example by using `´mask_img_``as an index into a n empty 3d brain matrix...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
115,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:57:46,"It actually returns the size of each labelized region.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
116,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:57:56,"There appears to be some confusion about class variable and return value in this PR.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
117,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:59:08,"No, it is in the right place.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
118,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 21:59:43,"Yes, they should be in an `Attributes` section.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
119,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-08-05 21:59:57,"This calls `check_niimg(niimg, ensure_ndim=4, return_iterator=return_iterator,
                       dtype=dtype` ...sure self.regions_ has the right shape if there is only one region?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
120,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:00:27,"np.where is linear in the size of the mask. `.size` is instantaneous.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
121,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:01:20,"If I get you well, this is exactly what `inverse_transform` does.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
122,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-08-05 22:04:39,"There is no need to call `check_niimg` on data computer in the `fit`. Lots of details like that are wrong in this PR. I think that peer coding may be more efficient that mass commenting ;).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
123,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-11 12:39:50,"I agree its not clear. What I mean is I am trying to tell that each voxel is assigned with unique label point of voxels in that particular region.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
124,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-08-11 12:41:08,"Ok, I append the data and returns imgs at the end.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/region_extraction/regionextractor.py')"
125,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-02 12:55:50,"'from ._rank_order import rank_order'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
126,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-10-05 12:30:11,"Fix it, hopefully that should get Travis green and I'll take a closer look at your PR.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
127,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-05 12:35:06,"I also got reviews from @GaelVaroquaux on my overall PR. I am also fixing those. Then, may be you can take a look.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/peak.py')"
128,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:38:51,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
129,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:39:05,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
130,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:39:12,"print(...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
131,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:40:01,"`reg_ext` makes me think of regular expressions. Maybe `extractor` is sufficient ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
132,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:42:45,"Should we expose them all ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/__init__.py')"
133,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:43:58,"Replace this block by:

``` python
single_map = (len(maps_img.shape) == 3)
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
134,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:46:20,"The `else` is not needed here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
135,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:48:50,"This name is a bit verbose. `thresholding_strategy` is maybe better ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
136,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 13:50:00,"ratio can be > 1 for `ratio_n_voxels`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
137,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 14:05:00,"and if ratio is None?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
138,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-14 14:06:46,"masking / unmasking is an expensive operation. Is it really necessary ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
139,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:53:28,"Yes as an option, it could be also be useful as a seperate functions. If user, has cases like only one 3D map to be extracted. Not only that, we can also fit these functions in code base. But, Where ? I don't know now. Ideas are welcome.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/__init__.py')"
140,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:55:32,"Before it was `threshold_strategy`. I changed this name to be more informative since we estimate certain threshold value from the voxels or data. May be I stick to old one `thresholding_strategy`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
141,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 07:59:41,"`ratio is None`, then it takes default ratio value = 0.8. But, I haven't explicitly used this condition. Instead, I used the condition saying that `if threshold == auto` to pick default value.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
142,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-16 08:03:42,"I used this just for my comfortability. Other alternatives for example, `new_img_like` ? Do you think ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
143,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:54:18,"PEP8: `print(' (no space)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
144,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:56:11,"Do not use a masker, especially if you estimate the mask on only one subject. Let CanICA do it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
145,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:56:57,"Set `memory_level=1`, there is absolutely no reason to increase its value here. It is for very specific cases.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
146,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:03,"`regions_extracted` should be enough. Also, the comment above is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
147,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:21,"You don't use it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
148,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 09:58:53,"Edit: sorry I misread your code. `""subject_timeseries` would be a better name for the variable.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
149,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:04:17,"You don't use ADHD here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
150,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:09:48,"We probably don't want the original img_as_float function as it converts to float64. You can define your own above that converts to float32 and remove the dtype.py file.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
151,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:12:33,"'cg_mg' may not work, you should do a try / except and downgrade to 'cg' then 'bf'.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
152,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:45:59,"Use `check_niimg(maps_img, at_least_4d=True)` and forget about single_map case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
153,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:48:07,"Use `segment` or `extract` but not `break`.

In the STMI paper, we use `foreground extraction` for the first step and `connected component extraction` for the second one. You may want to follow the same semantics.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
154,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:52:09,"`regions` is enough.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
155,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 10:52:39,"Use `check_niimg_3d`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
156,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:10:15,"You should not return a list of niimgs.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
157,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:11:05,"You don't need a NiftiMasker since you have to set the masked values to 0.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
158,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-22 11:12:43,"I don't understand the pattern here: what is the purpose of fit? What is the purpose of transform? Shouldn't that be linked to NiftiMapsMasker somehow?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
159,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 15:44:41,"Its already there. What are you referring to ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
160,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 15:45:59,"I have no specific case but used in to call for `fit_transform`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
161,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 16:49:56,"Ok. I would do this importing from sklearn. Do you think it is Ok for using like this ?

``` python
from sklearn.utils import as_float_array
data = as_float_array(data)[..., np.newaxis]
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
162,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-23 17:08:14," I don't think so, this function should work for 3D mostly.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
163,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-10-28 14:47:26,"I will change accordingly based on our discussions and push a new one.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
164,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-28 14:51:03,"`at_least_4d=True` will turn your 3D data into 4D and make the things easier for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
165,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-10-29 10:10:18,"``` python
# Load the mask
mask_img = masking._load_mask_img(mask_img)
maps_data = maps_img.get_data()
# Set to 0 values outside of the mask
maps_data[np.logical_not(mask)] = 0.
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
166,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 11:42:30,"Usage of functional datasets will be removed in next commit.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
167,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 11:47:20,"@AlexandreAbraham Do you think this would help to mask the data ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
168,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:24:51,"A more correct formulation would be ""This example shows how to use RegionExtractor to extract connected brain regions from whole brain ICA maps and use them to estimate a connectome.""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
169,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:26:36,"just my appreciation but 0.5 seems a low threshold to me and 400 is a big min_size (I usually take 20/50 depending on the method used).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
170,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:27:28,"Considering the memory required by time series, it is not a good idea to keep them in memory.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
171,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:27:50,"`for subject_ts in subjects_ts` for example.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
172,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:30:12,"I would name it `index_`. `identity` refers to the identity matrix.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
173,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:31:21,"Why don't you use `plot_stat_map`?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
174,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:32:43,"This is not informative for the user. Explain what the other strategy is if you really want to explain it here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
175,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 12:34:46,"I guess that the purpose of this example is to explore all combinations of strategies for foreground and component extraction? It is not clear to me when I read the code but we can fix that afterward.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
176,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:08:19,"`_load_mask_img` is an exception in nilearn. It takes an niimg as input and returns a tuple of (data, affine). This is because the type used to store niimg (nibabel.Nifti1Image) does not support boolean types. You should therefore write `mask_data, _ = masking._load_mask_img(mask_img)`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
177,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:08:21,"Yes, this is exactly it! Thanks to `_load_mask_img` you can even write `maps[mask] = 0.`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
178,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:15:34,"This is redundant with the previous parameter. The threshold depends on the type of the previous parameter:
- float -> ratio_n_voxels
- string ""XX%"" -> percentile
- 'auto' -> automatic strategy
- None -> no thresholding

This is not only disturbing for the user but you will have to do complex checking to see if both parameters matches.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
179,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:17:06,"This is not needed.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
180,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:19:33,"We never talked about this one. Is that new?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
181,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:19:49,"This is unclear.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
182,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:20:30,"This variable is useless.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
183,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:23:19,"I don't think that masking is necessary in both functions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
184,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:34:21,"Please use `iter_img` to iterate on maps.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
185,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:42:46,"Recent version of the RW do not need this.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
186,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:43:09,"Unnecessary variable.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
187,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:43:46,"You should try the 3 modes : cg_mg, cg and bf.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
188,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:46:12,"I think you don't need that if you have run RW before. Therefore it should go into the `else` statement.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
189,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:46:41,"`index` is the wording to use here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
190,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:48:20,"Please declare it at line 243 when you really need it for the sake of clarity.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
191,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:49:13,"You don't need to delete it explicitely, Python will do it for you.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
192,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:49:50,"Same remark as above.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
193,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:50:07,"`index_`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
194,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:51:56,"Using ""super"" is cleaner in this case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
195,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:53:22,"Since you take the mask into account for region extraction, you don't need it here.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
196,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:54:10,"Plus, your object _is_ a NiftiMapsMasker so why do you declare a new one?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
197,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:54:51,"Remove this whole block.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
198,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:57:21,"It's already in NiftiMapsMasker: you don't need it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
199,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 13:58:05,"You don't need this function. If you call `fit` as in my previous comment, you will rely on NiftiMapsMasker.transform and you don't have to do anything.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
200,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:51:15,"Thanks
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
201,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:53:25,"The reason I used size=400 is to good sized blobs out of regions for visualization. Yes I agree threshold is small. Will optimize the parameters for better visualization. Could you give an idea if it also good to compare here RWE and CCE ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
202,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:55:07,"I am in a state such that atlas maps should not be shown as statistical maps. Correct me If I am wrong. Except that I am Ok to show as `plot_stat_map`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
203,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 16:59:18,"This design is such that if user wants foreground objects based on t-value then there is no need of any strategy. It just thresholds with the input value. I agree it is not more explicit. May be I would remove the line ? or give more explanation ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
204,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:04:22,"Yes, @GaelVaroquaux and I were involved.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
205,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:13:30,"If I see the percentile concept in `canica`, no where it says that percentile should be string. Infact, the doc explanation is given as considering `ratio_n_voxels` I believe but inner code used `scoreatpercentile`. I am bit skeptical between `percentile` and `ratio_n_voxels`. Better solution would be I guess to use the same doc as in `canica`. I agree it is not clear using multiple options in threshold. May be we would decide something convincible.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
206,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:14:14,"Thanks and sorry I missed this `_`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
207,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:14:24,"Thanks
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
208,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:15:53,"Again @GaelVaroquaux and I was in discussion to have `mask_img` as an option.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
209,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-03 17:17:06,"I had some problem with normalization when I was using smith atlas. I will check again.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
210,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-03 17:33:32,"CanICA has only one thresholding strategy it does not use the percentile one. I thought of an approach similar to the one in `plot_prob_atlas`. However, if a float can be a ratio and a value at the same time, then yes, we need another parameter.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
211,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-04 13:10:39,"@AlexandreAbraham U mean on data ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
212,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-04 13:17:48,"Oh, yeah, you're in data. Nevermind ;)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
213,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-09 13:32:31,"@AlexandreAbraham Here, `'cg_mg'` has a dependency called `pyamg`. By itself, it is downgrading to `mode='cg'` since we don't have installed `pyamg`. The reason which I am not `try`ing `mode='cg'`. Do you think should I still `try` 'cg'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
214,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-11-09 20:39:28,"Shouldn't the class  be referenced as  nilearn.regions.RegionExtractor? I would like as much as possible not to go more than one level deep. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
215,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-11-09 21:04:49,"Same thing here: could you import canica from decomposition. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
216,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:45:58,"Now I'm lost. I thought that we got rid of the ""string"" version of the threshold.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
217,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:48:14,"default is `img_value`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
218,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:49:30,"Now that this function is exposed to the user, you can't always convert to 4d. Removing `atleast_4d=True` should work.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
219,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:53:31,"Should we do it automatically or leave this option to the user? Or maybe should we expect similar pov and raise an error if not? I am perfectly fine with the current behavior but I would also agree if we raise an error. I am against adding a new parameter that would make the function more complex. @GaelVaroquaux @lesteve 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(72, '', u'nilearn/image/image.py')"
220,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:57:41,"I think that we should not raise an error if the maps returned are empty: garbage in -> garbage out. We should maybe raise a warning but it has to be done in `check_threshold`. This whole block should be replaced by `threshold = check_threshold(...)`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
221,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 13:59:32,"This line is critical for big data. We should open an issue to make this function scale to big data after your PR is merged.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
222,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:02:31,"Never trust external code ;). I would feel better if all the cases were covered.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
223,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:02:41,"This should be a warning.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
224,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 14:09:11,"Is there any reason to keep these maps? I think that you should just discard them after region extraction.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
225,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-10 15:06:37,"If I remember correctly, this we have discussed during our sitting.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
226,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:22:42,"grammar...the second half-sentence semantically does not make sense
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
227,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:27:06,"A...mapS
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
228,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:31:32,"Yes but since the additon of `threshold strategy`, I just didn't know if the string thing still holds.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
229,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:32:15,"Sure, `extmath.py` is the most appropriate spot for this function?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
230,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:53:57,"word missing
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
231,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 22:55:10,"missing captial letter
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
232,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:00:18,"Why not handle this option at hte beginning, would that not reduce indentations?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
233,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:05:47,"Explicitly float? Any type conversion aspects here? What if the nifti data is in int32?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
234,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-10 23:08:27,"The value is casted to the type of the array automatically.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
235,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-11-10 23:09:22,"Ok, good to know.

2015-11-11 0:08 GMT+01:00 Alexandre Abraham notifications@github.com:

> In nilearn/image/image.py
> https://github.com/nilearn/nilearn/pull/651#discussion_r44480040:
> 
> > -                threshold = (""{0}%"").format(threshold)
> > -            cutoff_threshold = check_threshold(threshold, img_data,
> > -                                               percentile_calculate=scoreatpercentile,
> > -                                               name='threshold')
> > -    else:
> > -        raise ValueError(""The input parameter 'threshold' is empty. ""
> > -                         ""Please submit value which should be either float or ""
> > -                         ""a string e.g. '90%' or simply number 90."")
> >   +
> > -    list_of_strategies = ['percentile', 'img_value']
> > -    if thresholding_strategy not in list_of_strategies:
> > -        message = (""'thresholding_strategy' should be given as ""
> > -                   ""either of these {0}"").format(list_of_strategies)
> > -        raise ValueError(message)
> >   +
> > -    img_data[np.abs(img_data) < cutoff_threshold] = 0.
> 
> The value is casted to the type of the array automatically.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/651/files#r44480040.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
236,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:38:53,"Any clue where the beta=130 comes from ? This worries me.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
237,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:40:02,"This docstring is probably not complete...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
238,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:47:12,"rather than 'mask nodes', I'd put 'nodes where mask is False', otherwise the docstring is a bit misleading. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
239,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:48:33,"beta = 50 here ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
240,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:49:39,"Thanks for the explanation, but it is hard to figure out where the default comes from.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
241,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:51:44,"and for 3D images I guess ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
242,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-11-11 22:54:14,"Note sure what you mean.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
243,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:54:24,"Yes, yet another parameter... I tried changing it but the effect was small because it affects low values.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
244,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:54:58,"It is scikit image code.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
245,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-11 22:56:01,"I suggest we don't fix scikit image docstring. The goal is to be able to update this code with newer versions easily.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/externals/skimage/random_walker_segmentation.py')"
246,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-13 13:33:56,"I think it should be because this function also includes to give threshold based on `scoreatpercentile`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
247,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-16 13:37:19,"I think I have missed somehow in our conversation. Sorry. 
Now, I remove `threshold_strategy` in class `RegionExtractor` and use this private function for thresholding.
threshold = [float, 'auto']
default: threshold = 'auto'

``` python
def _threshold_maps(maps, threshold):
    """""" Automatic threshold function using ratio to the number of voxels
    in the brain volume to keep the most prominent features of the maps
    which lies above a certain threshold.
    """"""
    abs_maps = np.abs(maps)
    ratio = None
    if isinstance(threshold, float):
        ratio = threshold
    elif threshold == 'auto':
        ratio = 1.
    elif threshold is not None:
        raise ValueError(""Threshold must be 'auto', ""
                         "" or float. You provided %s."" %
                         str(threshold))
    raveled = abs_maps.ravel()
    argsort = np.argsort(raveled)
    n_voxels = (ratio * maps.size)
    cutoff_threshold = raveled[argsort[- n_voxels]]
    maps[abs_maps < cutoff_threshold] = 0.

    return maps
```

@AlexandreAbraham 
Question is to threshold with common float value on all maps or value with each individual map ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
248,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-18 09:45:30,"Following our discussion, we have now 3 thresholding strategies:
- `img_value`: it's a float
- `percentile`: it can be a string, or be a float
- `ratio_n_voxel`: it's a float

So, if you remove `threshold_strategy`, we won't be able to differentiate between cases 1 and 3. I think you should just leave it as-is.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
249,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 08:43:27,"seperate -> separate. Multiple occurences of this typo.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
250,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:31:09,"You probably want to check that it is between 0 and 1 (not sure whether the equality are inclusive or not)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
251,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:32:09,"I would not mention threshold_strategy here since it is not related to this function but to RegionExtractor.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
252,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:33:13,"Also do this sanity check towards the top of the function. No need to do .get_data if threshold is not a float.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
253,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-11-24 09:34:10,"threshold can be any positive floating point value between 0 and n_maps.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
254,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:34:52,"None
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
255,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:18,"remove the a before ""4D ..."". Also I think it is just 4D Nifti image, right?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
256,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:34,"idem, remove the a before ""numpy array""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
257,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:36:49,"typo: identity
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
258,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:37:40,"Add the value provided by the user in the error message.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
259,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:38:21,"I would just call it allowed_extract_types or possible_extract_types
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
260,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 09:47:14,"Yes, I will remove.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
261,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:49:44,"meaningful variable names is always a good idea. Maybe something like map_3d?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
262,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:50:33,"'auto' type doesn't exist any more
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
263,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 09:52:32,"I will change it looks good.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
264,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:52:48,"Just curious, what's the reason for this? Maybe you need to add a comment to make it more obvious.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
265,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:57:42,"remove ""or path ..."" this is what 4D Niimg-like means
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
266,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 09:59:21,"Remove ""an image or a filename of the"" and just starts with: ""Image containing ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
267,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:05:29,"This can be simplified, maybe something like:

Mask to be applied to input data, passed to NiftiMasker.
If set to None, no masking is applied
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
268,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:07:04,"Maybe min_region_voxels or min_region_size?

Also no need for ""size"" after default:
int, default 50, optional
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
269,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:09:14,"No need to say again that it is an integer that is what the line before is for.

The whole thing can be simplified:
Minimum number of voxels for a region to be kept. Useful to suppress small spurious regions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
270,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:13:45,"Niimg-like object
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
271,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:16:36,"Not sure what you want to do with ""or"" but it's fine just to go to a new line so remove it. Same thing applies to ""or"" in other places.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
272,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:19:37,"peak_local_smooth doesn't strike me as a great name.

@AlexandreAbraham just curious, does it make sense to have peek_local_smooth != smoothing_fwhm in general?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
273,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 10:24:07,"Ok, may be I would just use default as 6. to `peak_local_max` and then hide it being a parameter ?
ping @GaelVaroquaux 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
274,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:26:17,"Do not use capitals in function name.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
275,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-24 10:27:13,"I used `peak_local_smooth` to differentiate with `NiftiMapsMasker` parameter `smooth_fwhm`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
276,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:28:40,"Can we not do better than a smoke test, e.g. generate a few regions with gaussian + noise and make sure that we find the regions as we expect?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
277,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:28:56,"no need to use passing in the function name
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
278,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 10:30:56,"Idem as the previous test, hopefully we can do better than a smoke test for RegionExtractor.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
279,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:32:27,"no need for the parentheses here
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
280,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:36:43,"""Multi-line docstrings consist of a summary line just like a one-line docstring, followed by a blank line, followed by a more elaborate description"" from [PEP 0257](https://www.python.org/dev/peps/pep-0257/#multi-line-docstrings).

That would be nice if you could fix this in other docstrings as well.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
281,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:46:09,"Maybe simpler: "" -- %d regions extracted from %d ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
282,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-24 11:49:09,"This can be simplified with a list comprehension:

``` python
correlations = [np.corrcoeff(subject_ts.T) for subject_ts in subjects_timeseries]
```

I would use a plural (i.e. correlations rather than correlation) since this is a list.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
283,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-26 12:21:14,"Oops, this need to be changed.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
284,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 09:29:44,"New line after the imports for readability.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
285,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-11-30 09:34:27,"I am changing the layout of the examples to suit it for notebooks style.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
286,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 14:04:11,"maybe `[coords[-1]]` is more readable
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
287,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-11-30 14:05:18,"still seperate -> separate. Please do a search and replace for seperat -> separat in all of your files.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
288,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:42:18,"It doesn't feel like check_threshold really belong in _utils.extmath...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
289,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:46:02,"What was wrong with the old check_threshold code?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
290,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-01 17:52:12,"Nothing was wrong. I just changed the location since we have travis failure problem and added block of code to check for `float` value. rest all is same as before.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
291,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:53:14,"To make life easier for our future selves, you may want to indicate which file you took it or the fully qualified function name e.g. skimage.feature.peak.peak_local_max in this case.

You can probably do something similar each function/file you took from scikit-image.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(45, '', u'nilearn/_utils/ndimage.py')"
292,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-01 17:53:45,"This is very kind of you but maybe not that crucial.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/ndimage.py')"
293,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-01 17:57:55,"Why did you raise a question ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
294,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:12:46,"You should add a test with an int threshold and one that checks the warning if the threshold is greater than the max value of the data. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
295,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:18:34,"Because the current code has some oddities, for example the `elif isinstance(threshold, numbers.Real): pass` followed by `elif not isinstance(threshold, numbers.Real)`.

There is no reason not to keep the same structure as before:

``` python
if isinstance(threshold, str):
    ...
elif isinstance(threshold, numbers.Real):
    # Note that includes int in contrary to your current code
else:
    raise TypeError(...)
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
296,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 07:20:13,"Adding a test making sure that check_threshold works with numpy scalar would be great too.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
297,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 07:20:38,"Even, I am not sure. Do you have any preferences ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
298,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 08:09:23,"No strong opinions, maybe @GaelVaroquaux or @AlexandreAbraham have suggestions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
299,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:30:19,"Agreed with @lesteve : I think that it should be a private function, and be put close to where it is currently used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
300,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 08:36:38,"@GaelVaroquaux currently it is in `displays.py`. I have to use it outside of plotting modules which means I cannot escape being caught by travis. I am using it to check for valid thresholds in `threshold_img` in `image.py`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
301,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:57:02,"Do we really need to create a figure? In other words: can't we use the default behavior of plot_prob_atlas?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
302,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:58:43,"If we remove this, we can also remove the import of matplotlib, a bit higher.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
303,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:02:47,"I think that this attribute should be called `regions_img_` as it is an niimg. Also, we should stress that it is actually a Nifti1Image object, rather than a niimg (as it cannot be a file name).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
304,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 09:03:06,"Ok. I think it is not so important. I used it to show in bigger picture. I can remove.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
305,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:04:09,"Is this still current? I have the impression that we are no longer defining such an attribute (and I think that it is a good thing).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
306,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:06:12,"In terms of naming, I think that I would prefer 'regions_percentile_img' (and 'regions_value_img'). The rule is that every variable that is a 'niimg' ends with '_img'.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
307,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:08:14,"Can you remove the for loop, and simple do two explicit calls to plot_stat_map (almost copy-pasted)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
308,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 09:09:51,"As discussed with @GaelVaroquaux . this function will be symbolled as private and will move to new file `param_validation.py` in _utils.
@AlexandreAbraham @lesteve 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
309,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:12:34,"> As discussed with @GaelVaroquaux . this function will be symbolled as private
> and will move to new file param_validation.py in _utils.

If we put it in _utils, we don't need to make it private, as everything
in _utils is private.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/extmath.py')"
310,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:19:15,"In our codebase I suspect that we always use either indices=True or indices=False. If so, we should remove this option, and the unexplored branches corresponding to the value not used.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/ndimage.py')"
311,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:21:40,"We should remove the mode option, as it now has only one valid option.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/segmentation.py')"
312,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:23:06,"We can probably remove the option return_full_prob and only keep the value that we use.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/segmentation.py')"
313,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:25:35,"Let's do it like this. When manipulating data, it's so convenient not to have to resample images.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(72, '', u'nilearn/image/image.py')"
314,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:28:51,"I don't think that this conversion is a good idea. It will surprise users that '1' and '1.' give very different results.

I think that we should simply remove the two lines above.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
315,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:31:14,"The data is modified inplace after. Should we have a 'copy' here?

Also, maybe we should use a nilearn._utils.niimg._safe_get_data to avoid a side effect.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
316,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-02 10:35:51,"+1
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
317,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-02 13:36:04,"It does work with numpy scalar:

<pre>
In [15]: a = np.zeros(10)

In [17]: aa = a[0]

In [19]: aa
Out[19]: 0.0

In [20]: type(aa)
Out[20]: numpy.float64

In [24]: isinstance(aa, float)
Out[24]: True
</pre>


however, the right way to check for numbers is to do:

<pre>
import numbers
isinstance(baz, numbers.Number)
</pre>
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
318,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:01:25,"> It does work with numpy scalar:

Yep I know that but adding a test would be good to make sure it is always the case.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_extmath.py')"
319,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-02 15:03:49,"@lesteve I have added. Please let me know if this not what you have expected ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
320,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:25:18,"assert_equal yields slightly better error messages
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
321,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:28:31,"~~Nitpick: probably less surprising to build an array from a list~~ **edit: ignore this**.

I would do something like:

``` python

# Test with numpy scalar as argument
threshold = 2.
threshold_numpy_scalar = np.float64(threshold)

assert_equal(
    check_threshold(threshold, ...),
    check_threshold(threshold_numpy_scalar, ...))
```
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
322,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-02 15:33:35,"This comment doesn't bring much information. Basically you are saying ""checks that we get the expected result"". What you should be saying is what this additional test adds, in this case something like ""Test for threshold provided as a percentile of the data (str ending with a %)"".
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/tests/test_param_validation.py')"
323,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:29:59,"Can you remove the n_components variable, and simply pass the value ""5"" below, in an effort to simplify things for users.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
324,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:31:36,"Can we use the new ConnectivityMeasure here or not?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
325,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:33:00,"Also, maybe we should integrate this step in the for loop above, and not store a list of ""subjects_timeseries"", which I think that we don't use after. The idea would be to store a list of correlations only.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
326,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:49:08,"> Can we use the new ConnectivityMeasure here or not?

We were discussed to use numpy corr to keep it simple. But, still we can use our measures here. Should I stick to tangent measure ? 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
327,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:50:31,"> We were discussed to use numpy corr to keep it simple. But, still we can use
> our measures here. Should I stick to tangent measure ?

Correlations are enough. I am wondering: which code is simpler: using
numpy, or ConnectivityMeasure. In a sense, ConnectivityMeasure might
introduce less concepts to the user: the API is still a fit_transform.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
328,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:54:15,"In the reference documentation, I gave a reference to ConnectivityMeasure in nilearn saying that we have ready to compute object for functional connectivity measures.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
329,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:55:27,"> In the reference documentation, I gave a reference to
> ConnectivityMeasure in nilearn saying that we have ready to compute
> object for functional connectivity measures.

Great! What I am trying to figure out here is: how do we make this
example simplest and best for the user.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
330,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 07:56:10,"> In a sense, ConnectivityMeasure might introduce less concepts to the user: the API is still a fit_transform

Ok, I will switch to ConnectivityMeasure kind = correlation and add few lines saying that we also have more robust measures like tangent embedding....
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
331,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 08:01:26,"I have no clear opinion on which is simpler. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
332,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 08:03:37,"> I have no clear opinion on which is simpler.

Me neither, so I would like to try ConnectivityMeasure
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
333,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:18:15,"Do you really need to declare the figure?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
334,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:33:06,"`threshold` and `threshold_strategy` contain redundant information.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
335,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:54:53,"We should think of giving a minimum size in mm^3 instead of number of voxels to handle anisotropic data.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
336,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:55:17,"The code above can be replaced by `scoreatpercentile`.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
337,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 09:55:31,"Not mandatory.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
338,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-03 09:56:15,"We should consider a `min_distance` in mm too.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(23, '', u'nilearn/_utils/ndimage.py')"
339,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 09:57:48,"U mean explanation is not so clear ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
340,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-03 10:02:14,"In theory, you're completely right. 
In practice, I'm not so sure: people are really not used to thinking in terms of 'I expect brain areas of size at least 200mm^3', and actually more easily think in terms of voxel counts. This is obvious when you look at the SPM interface.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
341,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:03:15,"> In practice, I'm not so sure: people are really not used to thinking in terms
> of 'I expect brain areas of size at least 200mm^3', and actually more easily
> think in terms of voxel counts. This is obvious when you look at the SPM
> interface.

How about we fix that ;).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
342,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:43:02,"nice...that's very clear
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
343,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:44:05,"space at the end of line not needed, if line break follows.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
344,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:44:29,"could be nice to explain the threshold parameter somehow
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
345,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:46:13,"""(DMN)"" ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
346,pull_request_commit_comment,651,nilearn,nilearn,banilo,2015-12-03 10:54:03,"the variable name `image` typically refers to a nifti-like object, not to an array. Perhaps consider shifting to `image_data`or something like that to increase code consistency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(18, '', u'nilearn/_utils/ndimage.py')"
347,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 13:50:11,"> How about we fix that ;).

I didn't get your comments exactly. Are you talking about documentation change or code change ?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
348,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-03 13:57:25,"> ```
> How about we fix that ;).
> ```
> 
> I didn't get your comments exactly. Are you talking about documentation change
> or code change ?

Community change; via a code change, as suggested by @AlexandreAbraham
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
349,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 14:13:44,"This code comes from scikit-image and is inside ndimage.py where image has a different meaning. I think we should avoid changing the code we took from scikit-image to make our life easier in the future if we want to track future scikit-image versions.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(18, '', u'nilearn/_utils/ndimage.py')"
350,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:34:12,"It's probably better to use a more unique marker to delimit the included snippet.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
351,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:35:39,"Maybe that's OK actually, this just means until the end of the cell. Let's just hope that the end-before tries to find the first occurence of the pattern.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
352,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:40:54,"What difference do you have in mind between float and real number? The first line is to indicate types, you should be as terse as possible, e.g. float or str. More details can be specified in the section below.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
353,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:42:57,":confused: about ""or just a real number as 99"". Is this still applicable?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
354,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-03 17:44:18,"No, I will change it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
355,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:45:06,"Just say function on this line and then below something like 

""Percentile function for example scipy.stats.scoreatpercentile""

Also maybe, call the parameter percentile_func which seems slightly better than percentile_calculate.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/_utils/param_validation.py')"
356,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 17:57:59,"Again I am not sure which difference you make between float and number.

Also I am a bit confused, it doesn't look like there is anything like the behaviour described by this doc this in the code.

Also thresholding_strategy doesn't seem to be used, or am I missing something here?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/image/image.py')"
357,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-03 18:19:46,"still a seperat -> separat
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
358,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:51:53,"Based on the CircleCI rendering, it seems to be working as we would like:
https://circle-artifacts.com/gh/nilearn/nilearn/870/artifacts/0/home/ubuntu/nilearn/doc/_build/html/connectivity/region_extraction.html

So I guess that it is OK.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(39, '', u'doc/connectivity/region_extraction.rst')"
359,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:53:27,"You don't need to import sym_to_vec, you are not using it.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
360,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:56:54,"Can you use a plot_stat_map here instead of plot_anat + add_contours
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
361,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:57:27,"Can you use add_overlay here, instead of add_contours (and same thing below).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
362,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 07:59:36,"Maybe it would be better if you retrieved these indices from the region_index list.

And then you could do a for loop over them below.

The reason I am asking this is that I have the impression that not all regions of the original map are shown.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
363,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:00:57,"You need a shorted title: as you can see from the rendering, it's too long.
https://circle-artifacts.com/gh/nilearn/nilearn/870/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/connectivity/plot_extract_regions_smith_atlas_networks.html

Also, I would disable the colorbar.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
364,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:01:23,"I would like to have this figure first, before the others.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
365,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:02:47,"This example should be moved to the manipulating_visualizing section of the examples.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
366,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:05:12,"With the new notebook-style examples, it would be useful to add this plotting just after the code that does the thresholding. That way when people look at the example, they see the results immediately.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
367,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 08:06:05,"I would be good to use the same display_mode and cut_coords all throughout the example, to give some visual consistency.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_statistical_maps.py')"
368,pull_request_commit_comment,651,nilearn,nilearn,GaelVaroquaux,2015-12-04 13:19:12,"You should probably call this _threshold_maps_ratio to be more explicit that it is not a general function.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
369,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-04 15:53:06,"`min_size = min_size / (affine[0] * affine[1] * affine[2])`
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(119, '', u'nilearn/regions/region_extractor.py')"
370,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-04 16:01:48,"but... (affine[0]\* affine[1] \* affine[2]) is a vector... (=0 most of the time...)
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(119, '', u'nilearn/regions/region_extractor.py')"
371,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:34:19,"min_region_size=1350 mm^3
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
372,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:35:58,"that the threshold in voxels units depends on the resolution of the image. Please see the
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
373,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:44:32,"threshold=.5 represents the expected proportion of voxels included in the regions (i.e. with a non-zero value in one  of the maps).
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
374,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:45:29,"Each brain region is assigned a color and...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
375,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:46:24,"Why not simply: ""Here, we use the object called ...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
376,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:46:40,"measured
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
377,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:48:48,"The first step
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
378,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:49:07,"the second step
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
379,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:49:58,"'time series' rather than 'timeseries'
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
380,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:50:47,"Maybe: ""we compute the mean correlation across all subjects""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
381,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:52:24,"...that DMN regions are...
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'doc/connectivity/region_extraction.rst')"
382,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:54:27,"np has already been imported.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
383,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:55:28,"I think that this import can be avoided by relying on nilearn.plotting utilities.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_canica_maps.py')"
384,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 22:59:24,"Do we need to plot _all_ figures ? the result is a bit messy.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'examples/connectivity/plot_extract_regions_smith_atlas_networks.py')"
385,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-07 23:06:06,"Since there is on single image, how comes we obtain overlapping regions ? I don't figure out this behaviour.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
386,pull_request_commit_comment,651,nilearn,nilearn,KamalakerDadi,2015-12-08 19:10:01,"I have no perfect answer to commit. It is just that in the statistical map we have regions overlapped regions extracted in different 3D maps. This caused visualization a bit unnormal. Code wise I think there is no problem causing these overlaps. 
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
387,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-08 21:08:17,"We took a look. The regions are not overlapping. Matlotlib does some interpolation for the display of the contours and they look like they are overlapping even if they're not.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
388,pull_request_commit_comment,651,nilearn,nilearn,bthirion,2015-12-08 21:18:28,"Vale.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(68, '', u'examples/manipulating_visualizing/plot_extract_rois_statistical_maps.py')"
389,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:14:51,"My understanding is that self.treshold can be an int in the 'ratio_n_voxels' case. In any case you should probably not do the parameter checking here since _threshold_maps_ratio already has some.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
390,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:15:51,"You don't need parentheses around the ""...""
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
391,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:19:40,"Maybe you want to use numbers.Real rather than float since threshold can be an int.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
392,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:20:20,"You can use n_maps here rather than maps.shape[-1]
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
393,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:22:06,"You can remove object, i.e. just Nifti1Image
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
394,pull_request_commit_comment,651,nilearn,nilearn,lesteve,2015-12-10 13:28:23,"Import not used ... maybe check other imports
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
395,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:30:19,"Shouldn't we say niimg object or something like that?
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
396,pull_request_commit_comment,651,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:50:21,"The problem is the same in canica.py (line 159). I suggest that we leave it like that and then do a PR to fix both classes at once.
",83f2c29091567d3e005d670e2617b8d9a9eccc38,"(None, '', u'nilearn/regions/region_extractor.py')"
397,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-13 16:02:28,Added an incomplete code of AutoExtractor to show a progress,ecac0595b63c4139e70df75e0ffd5338289c2059,
398,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-19 18:17:31,"A simple threshold extractor
Voxel Ratio Extractor or Auto threshold extractor",0c809b488fb4a9a34acd0b0be914e32a6038b81d,
399,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-20 08:09:47,Remove obsolete file,a1a9b9750c7c61f8e8857727cf5fe7b2b66480f1,
400,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-22 11:54:53,Simple code for a Voxel Ratio Region Extraction,26b45754898348454979d609adf39dd4cebb1c62,
401,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-26 20:24:02,"Made code more simplified limiting to one class for two methods and
added documentation for upto now parameters or arguments.",20ac84c2be13eaafa561493617c21f29343d6388,
402,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-29 13:01:03,"Addressed some recent comments. Making code a bit looks nicer and
meaningful documentation",e5a2ddadb79ac74a63b44f3735c0ee503626a8f0,
403,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-07-30 12:14:48,Preliminary changes committed to shift to new branch,6c01cc53a90afdcabcc8aca10e9896eb1d73de57,
404,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-08-04 11:08:59,Integrated NiftiMapsMasker with Region Extractor,1d3c3c95dfc45347faf773f5d573f87b13ae2aa3,
405,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-09 18:39:22,"Addressed almost all the comments and made changes to the documentation
and changed/removed the names of the conflict in class variables and return
variables",6fa81f3ca79c9055e6f29fe6be34b4f2234b9855,
406,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-16 15:31:38,Made code factorization and functions more usable privately,f18c662afa460974f5622144be0ae9ff6ff9f54a,
407,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-18 11:23:33,"Added an example which works for 3D map
Made code factorization and adaptability to useable functions",36696defb4ee3d2ed354393a2e40bb72fa1f3510,
408,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-23 10:45:41,Added another example showing a canica maps region extraction,9f0d3fb8593e2861f383aa7184e7ce6e1a09997a,
409,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-24 15:03:24,Added tests and made some modifications in main class object and functions,2286e6c65d53e003568381a94db5423394dfbe08,
410,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-09-25 15:31:51,Added new files and nilearn external dependencies,889e3c34506da01a4a05340c422be20a56dae878,
411,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-12 13:52:48,Addressed Gael's reviews and comments,998f0293394235214de660a0444167d3bd52d2bd,
412,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-12 14:12:07,Trying to fix Travis failure,47b66d6139384d21ae2ca1b4b86147a0334e6581,
413,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-13 08:01:58,Trying to fix some failures,6289af2c478030cb0a0f9d33261eda6376ee14c3,
414,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 12:09:00,Fixed comments made by Alex,cf26fcdc8942b4b8e16b95adcca548412663f3cc,
415,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 13:15:16,An example shows region extraction using Smith Atlas RSN10,902e266ad027769f462c4b08ee101f75458889f3,
416,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-16 14:46:50,"Changed accordingly ""thresholding_strategy"" in tests files.",b6a3156618b811dcec9e58c2e994b9d5849b985f,
417,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-10-27 10:14:16,"Fixed comments naming for the functions, removing dtype file from skimage",60ed33404dfa08afe14c9c2aaa796c2d17594a5a,
418,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-02 22:33:00,"Addresssed comments: changed design for fit and transform utilising NiftiMapsMasker.
and comments made by Alex.",0475577d6082541c0b75b1a3665c0236a922750d,
419,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-03 09:30:01,Corrected mistakes,659753b59d09c38a1462e073fa94744c50ad6ba2,
420,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-08 18:41:04,"Addressed comments, threshold_img, connected_regions, tests for skimage",755780e1780497b31d1e2e30a634b34800f2b137,
421,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-08 20:11:33,Minor changes,bee579bc0ae87c2a6188155a31b26fd44cfea8c6,
422,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-09 13:16:22,"Ported code check_threshold from displays to extmath
check_threshold is basically data operation function on a valid thresholds.",e719df27f0f2d39376b89c8248a732f1a85c6c3f,
423,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-09 14:22:18,"Trying to increase coverage
Adding tests files for missing lines in skimage random walker",650347858460269ac50099b7c05eb60318a1744c,
424,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-19 12:08:55,Addressed comments and trying to make coverage pass on external code,96c35e6cd89cf3ba1dced800f82bd5253b93a906,
425,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 11:54:37,Addressed comments made nby Gael,42e438b6b78ec870e176a17b14f73ac0fdc9d874,
426,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 14:38:17,Trying to fix coverage decrease lines of code,c431eaae66d70feace287969fe019380e9b646c7,
427,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 18:51:37,Coverage,925bd6642d92fa05070564c809b36e0b43e23e7c,
428,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-23 21:00:23,Trying to increase coverage again,9f05b7981beb3dd09f33ec3fabd0cb208c98ead2,
429,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-11-26 08:03:51,"Addressed Loic comments
Documenation corrected
more specific tests in region extractor",a7a171748348898e190ac584d47cbf32ffe68500,
430,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-01 22:14:44,"Addressed Gael comments, examples suited for notebooks style",9e9a5920535e9a72cf06cf16b9fdc5d95d5a6731,
431,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-02 14:28:12,check_threshold into new location and addressed comments for enhancement,235e5529f9eb0a941b0712b6562308a936cd326f,
432,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-03 15:39:05,Added notebook example and documentation and some comments are addressed,b851452bfc933f78ee1c4e42188744a8c5f14c52,
433,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-07 10:08:51,"Addressed region size in voxel volume, statistical maps example in manipulating visualizing",8a13a4de58d75689b9c1a7072b63376ff62e2750,
434,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-08 17:19:44,Addressed comments made by Bertrand,8f8738f9d4b88d82b5c68ce134d90f407f2d539d,
435,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-08 17:43:23,Changed min_region_size documentation in RegionExtractor,0e4831673877ae78606d889c68307bcaf38b2633,
436,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-09 15:58:57,Version inclusions,00bea9eecc84ff9e0d4b7caa9fc70dfa4b8fd74d,
437,pull_request_commit,651,nilearn,nilearn,KamalakerDadi,2015-12-10 14:17:32,Addressed comments made by Loic,83f2c29091567d3e005d670e2617b8d9a9eccc38,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,755,nilearn,nilearn,AlexandreAbraham,2015-08-06 08:46:56,"In NiftiMapsMasker, some people want to prevent any overlap. Such option can be useful. On the other hand, some people may want to allow overlapping spheres in NiftiSpheresMasker.
",start issue,"Add `allow_overlap` in NiftiMapsMasker, NiftiSpheresMasker"
2,issue_closed,755,nilearn,nilearn,lesteve,2015-10-27 10:19:54,,closed issue,"Add `allow_overlap` in NiftiMapsMasker, NiftiSpheresMasker"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,634,nilearn,nilearn,AlexandreAbraham,2015-07-05 00:50:55,"Add Multi subject dictionary learning based on [Varoquaux et al. 2011](https://hal.inria.fr/inria-00588898/) along with tests, example and documentations.
",start issue,Add dictionary learning
2,issue_closed,634,nilearn,nilearn,lesteve,2015-12-14 10:03:12,,closed issue,Add dictionary learning
3,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-05 08:19:36,"Let's start with a simple l1-penalized dict learning, before full blown
MSDL.

G

On Sat, Jul 04, 2015 at 05:50:55PM -0700, Alexandre Abraham wrote:

> Add Multi subject dictionary learning based on Varoquaux et al. 2011 along with
> tests, example and documentations.
> 
> —
> Reply to this email directly or view it on GitHub.*

## 

```
Gael Varoquaux
Researcher, INRIA Parietal
NeuroSpin/CEA Saclay , Bat 145, 91191 Gif-sur-Yvette France
Phone:  ++ 33-1-69-08-79-68
http://gael-varoquaux.info            http://twitter.com/GaelVaroquaux
```
",,
4,issue_comment,634,nilearn,nilearn,AlexandreAbraham,2015-07-05 08:46:46,"I've coded simple dictionary learning based on sklearn online dictionary learning a very long time ago. I was planning to merge it after the spectral clustering PR was merged but it never was. I can rehabilitate it though.
",,
5,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-05 08:50:04,"> I've coded simple dictionary learning based on sklearn online dictionary
> learning a very long time ago. I was planning to merge it after the spectral
> clustering PR was merged but it never was. I can rehabilitate it though.

Talk to Arthur!
",,
6,issue_comment,634,nilearn,nilearn,arthurmensch,2015-07-06 13:19:52,"I have a working branch with simple dict learning working. Should I make it a PR already ?
",,
7,issue_comment,634,nilearn,nilearn,GaelVaroquaux,2015-07-06 14:38:13,"> I have a working branch with simple dict learning working. Should I make it a
> PR already ?

I think you should.
",,
8,issue_comment,634,nilearn,nilearn,AlexandreAbraham,2015-07-06 14:45:16,"> I think you should.

:+1: 
",,
9,issue_comment,634,nilearn,nilearn,lesteve,2015-12-14 10:02:23,"Closing since #693 has been merged.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,808,nilearn,nilearn,aabadie,2015-10-30 16:40:37,"Fixes #804 

Added an appveyor.yml file to configure the automatic setup of the environnement installation, nilearn dist installation and testing.

Note the environnement is set up using miniconda because I couldn't build some nilearn dependencies (scipy/scikit-learn). I tried to use python-appveyor-demo project but couldn't make it work : scipy needs lapack/blas libraries.
",start issue,[MRG] Setting up appveyor ci
2,issue_closed,808,nilearn,nilearn,lesteve,2015-11-04 13:44:07,,closed issue,[MRG] Setting up appveyor ci
3,pull_request_title,808,nilearn,nilearn,aabadie,2015-10-30 16:40:37,"Fixes #804 

Added an appveyor.yml file to configure the automatic setup of the environnement installation, nilearn dist installation and testing.

Note the environnement is set up using miniconda because I couldn't build some nilearn dependencies (scipy/scikit-learn). I tried to use python-appveyor-demo project but couldn't make it work : scipy needs lapack/blas libraries.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,[MRG] Setting up appveyor ci
4,pull_request_merged,808,nilearn,nilearn,lesteve,2015-11-04 13:44:07,[MRG] Setting up appveyor ci,8c170e5e10ad01aa2c156e40bbf0d644a158e234,Pull request merge from aabadie/nilearn:master to nilearn/nilearn:master
5,issue_comment,808,nilearn,nilearn,aabadie,2015-11-02 15:09:15,"> Also I would look at what joblib does for appveyor and do the exact same thing. No need to reinvent the wheel.

That's what I did but joblib relies on pip which builds dependencies like scipy/scikit-learn. I tried it but couldn't make it work.
",,
6,issue_comment,808,nilearn,nilearn,aabadie,2015-11-03 12:43:43,"> I wasn't aware miniconda was installed on appveyor machines so I guess it's not that much work to reinvent the wheel.

The appveyor configuration is also simpler in this branch than the one in joblib : only appveyor.yml is required.
",,
7,issue_comment,808,nilearn,nilearn,aabadie,2015-11-04 09:02:04,"> For the record, I don't think we will get AppVeyor status on PRs until we set it up in github.

Indeed but the badge status on the README.rst will be there. We can remove it from the PR and add this once all is green.
",,
8,issue_comment,808,nilearn,nilearn,aabadie,2015-11-04 09:25:38,"I updated the nilearn-ci project url in README.rst.
",,
9,issue_comment,808,nilearn,nilearn,aabadie,2015-11-04 13:45:10,"> I am going to merge this one.

Thanks !
",,
10,issue_comment,808,nilearn,nilearn,GaelVaroquaux,2015-11-03 17:36:47,"@aabadie : this looks good to me, but before merging, and enabling appveyor on nilearn I would like to know that tests are likely to pass. Tell me when the state of master looks good to you.
",,
11,issue_comment,808,nilearn,nilearn,lesteve,2015-11-04 08:42:54,"> @aabadie : this looks good to me, but before merging, and enabling appveyor on nilearn I would like to know that tests are likely to pass. Tell me when the state of master looks good to you.

For the record, I don't think we will get AppVeyor status on PRs until we set it up in github.
",,
12,issue_comment,808,nilearn,nilearn,lesteve,2015-11-04 09:19:48,"> Indeed but the badge status on the README.rst will be there. We can remove it from the PR and add this once all is green.

I don't think anyone actually pays close attention to it to be honest.

In my experience, problems on master are more likely to be discovered by someone running the tests locally rather than someone looking at the github page README.rst.
",,
13,issue_comment,808,nilearn,nilearn,lesteve,2015-11-04 13:43:16,"I am going to merge this one.

Installing matplotlib with pip seems fine since there are wheels available for Windows on PyPI. I seem to remember installing it with conda pulls in a lot of dependencies, including qt.
",,
14,issue_comment,808,nilearn,nilearn,lesteve,2015-11-02 14:48:31,"> Of course this will have to be changed in order to the ""nilearn team"" account on appveyor.

Just create a nilearn-ci account and share the password by email.

Also I would look at what joblib does for appveyor and do the exact same thing. No need to reinvent the wheel.
",,
15,issue_comment,808,nilearn,nilearn,lesteve,2015-11-02 17:13:54,"> That's what I did but joblib relies on pip which builds dependencies like scipy/scikit-learn. I tried it but couldn't make it work.

Of course, sorry about that.

I wasn't aware miniconda was installed on appveyor machines so I guess it's not that much work to reinvent the wheel.
",,
16,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 14:38:38,"Could you create a nilearn-ci account and change the URL?

The target of the image seems overly complicated, is there a good reason for it? The scikit-learn one is:
https://ci.appveyor.com/api/projects/status/github/scikit-learn/scikit-learn?branch=master&svg=true

so I guess we can use something similar.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'README.rst')"
17,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 14:39:27,"Maybe ""AppVeyor build status""?
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'README.rst')"
18,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 14:58:49,"Just curious, is there a problem with numpy 1.10?
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
19,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 15:03:58,"Not sure we want to test 32bit python as I said somewhere else (probably the issue associated to this PR)
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
20,pull_request_commit_comment,808,nilearn,nilearn,GaelVaroquaux,2015-11-03 15:04:57,"> Not sure we want to test 32bit python

+1
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
21,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 15:13:17,"You should install matplotlib to make sure that nilearn plotting works.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
22,pull_request_commit_comment,808,nilearn,nilearn,aabadie,2015-11-03 15:30:07,"> You should install matplotlib to make sure that nilearn plotting works.

The nilearn installation instruction line installs it as a dependency. But I can add it there to make it more obvious.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
23,pull_request_commit_comment,808,nilearn,nilearn,aabadie,2015-11-03 15:30:22,"Ok, I'll remove this.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
24,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 15:42:35,"Just for clarity's sake don't remove it, just use Python2.7 64bit.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
25,pull_request_commit_comment,808,nilearn,nilearn,aabadie,2015-11-03 15:49:50,"> Just curious, is there a problem with numpy 1.10?

I don't think so. Do you prefer this version ?
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
26,pull_request_commit_comment,808,nilearn,nilearn,aabadie,2015-11-03 16:11:05,"To me, some permission is missing to make it fully functionnal : the nilean-ci account on appveyor should be added to the github nilearn team. But I might be wrong. Ideally, having a look at how things are done for joblib on the appveyor settings page would help a lot.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'README.rst')"
27,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 17:01:19,"> The nilearn installation instruction line installs it as a dependency. But I can add it there to make it more obvious.

I missed that, yes please install it with conda this is more in line with nilearn installation instructions.

The general guideline is to install everything with conda if it is available and the rest with pip.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
28,pull_request_commit_comment,808,nilearn,nilearn,lesteve,2015-11-03 17:02:17,"> I don't think so. Do you prefer this version ?

If there is no good reason to specify an explicit numpy version I would remove it, i.e. just use numpy rather than numpy==whatever.
",ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,"(None, '', u'appveyor.yml')"
29,pull_request_commit,808,nilearn,nilearn,aabadie,2015-10-30 12:47:21,setting up appveyor ci,a363443655f4a7094f726c829e6a8253e9f591cd,
30,pull_request_commit,808,nilearn,nilearn,aabadie,2015-11-03 15:56:12,adressing comments,c150186a928213bff55c281a3b5d62173ed75aa5,
31,pull_request_commit,808,nilearn,nilearn,aabadie,2015-11-04 09:23:10,updating nilearn ci url,3c7895a6dc04ed946329dc6902c93212ea8db0ab,
32,pull_request_commit,808,nilearn,nilearn,aabadie,2015-11-04 09:27:37,using latest numpy version on appveyor,ca23ddb7b4a5eea3a1ce22efe09eba02579b7c36,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,914,nilearn,nilearn,salma1601,2015-12-15 22:56:24,"I have 2 little issues with `symmetric_split`:
1) the type of the output changes if `symmetric_split` is True or False

``` Python
from nilearn import datasets
atlas = datasets.fetch_atlas_harvard_oxford('cort-maxprob-thr25-1mm', symmetric_split=True)
type(atlas['labels']), type(atlas['maps'])
```

(list, nibabel.nifti1.Nifti1Image)

``` Python
atlas = datasets.fetch_atlas_harvard_oxford('cort-maxprob-thr25-1mm', symmetric_split=False)
type(atlas['labels']), type(atlas['maps'])
```

(numpy.ndarray, str)
2) the parameter `symmetric_split` is allowed to be True for `'sub-maxprob-thr25-1mm'` but 

``` Python
datasets.fetch_atlas_harvard_oxford('sub-maxprob-thr25-1mm', symmetric_split=True)
```

throws an error `RuntimeError: data type not supported`.  May be not allowing for subcortical atlases as their labels already contain the information right/left
",start issue,fetch_atlas_harvard_oxford and symmetric_split
2,issue_closed,914,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:22:45,,closed issue,fetch_atlas_harvard_oxford and symmetric_split
3,issue_comment,914,nilearn,nilearn,AlexandreAbraham,2015-12-16 17:31:15,"> the type of the output changes if symmetric_split is True or False

You're right, I'll fix it.

> the parameter symmetric_split is allowed to be True for 'sub-maxprob-thr25-1mm' but [...]

Already splitted atlases should not be splitted again. The atlas you plot is actually not modified in our but the list of labels is modified even when it should not be. The code for that is quite horrible, I will rewrite it.

However, I have no RuntimeError, could you give me the trace of the error?
",,
4,issue_comment,914,nilearn,nilearn,AlexandreAbraham,2015-12-17 08:12:05,"> and what about the right/left labels, is there a mismatch ?

Like I said, the labels returned by the function when `symmetric_split=True` are wrong.
",,
5,issue_comment,914,nilearn,nilearn,salma1601,2015-12-16 13:54:36,"I have another question @AlexandreAbraham 

``` Python
atlas = datasets.fetch_atlas_harvard_oxford('cort-maxprob-thr25-1mm', symmetric_split=True)
```

`print(atlas.labels[:5])` gives the right regions

``` Python
['Background', 'Frontal Pole, right part', 'Insular Cortex, right part', 'Superior Frontal Gyrus, right part', 'Middle Frontal Gyrus, right part']
```

while `print(atlas.labels[-5:])` gives the left regions 

``` Python
['Planum Polare, left part', ""Heschl's Gyrus (includes H1 and H2), left part"", 'Planum Temporale, left part', 'Supracalcarine Cortex, left part', 'Occipital Pole, left part']
```

but when plotting they seem to me inverted because I expected the intensity growing from 0 for the Background to its maximum in occipital regions. Did I get something wrong ?

``` Python
from nilearn import plotting
plotting.plot_stat_map(atlas.maps)
```

![ho_atlas](https://cloud.githubusercontent.com/assets/7080143/11842318/3336b2e6-a403-11e5-98be-06b0e8800a17.png)
",,
6,issue_comment,914,nilearn,nilearn,salma1601,2015-12-16 17:57:58,"> You're right, I'll fix it

Thanks ! and what about the right/left labels, is there a mismatch ?

> could you give me the trace of the error?

RuntimeError                              Traceback (most recent call last)
<ipython-input-181-aac264309bdf> in <module>()
----> 1 datasets.fetch_atlas_harvard_oxford('sub-maxprob-thr25-1mm', symmetric_split=True)

/home/sb238920/CODE/Parietal/nilearn/nilearn/datasets/atlas.py in fetch_atlas_harvard_oxford(atlas_name, data_dir, symmetric_split, resume, verbose)
    259     # ndimage.find_objects output contains None elements for labels
    260     # that do not exist
--> 261     found_slices = (s for s in ndimage.find_objects(atlas)
    262                     if s is not None)
    263     middle_ind = (atlas.shape[0] - 1) // 2

/usr/lib/python2.7/dist-packages/scipy/ndimage/measurements.pyc in find_objects(input, max_label)
    267         max_label = input.max()
    268 
--> 269     return _nd_image.find_objects(input, max_label)
    270 
    271 

RuntimeError: data type not supported
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,592,nilearn,nilearn,Titan-C,2015-05-20 11:50:09,"Here I update to sphinx-gallery with the backreferences solution.
So now it is possible to use an rst template to document classes and functions including at the end the link to examples using them.
A question of design. Since now this documentation generation is done with default sphinx extention autodoc. It becomes a dependency to have it in the included extensions in the conf.py file.(Not an issue since it was already used by nilearn). But because it is an automatic process all automatic documented classes will try to have the backreferences to example, which might not exist. This issues a warning to during `make`. To workaround this warning scikit-learn and now in this PR, there is an extra action in conf.py that touches non-existing backreference example files so that one does not get the include warning. Question:
- Is this the good way for the user to proceed?(I'll write documentation for this procedure in sphinx-gallery)
- Alternative: have this action as default in sphinx-gallery and require user to always have autodoc extension always loaded?

Massive renaming in files because:
Since the new naming convention for sphinx-gallery image prefix sphx-glr image references are updated.
Since naming convention for example references is to include the target dir, this references are also updated.
",start issue,[MRG+1] Backreferences template from sphinx-gallery
2,issue_closed,592,nilearn,nilearn,GaelVaroquaux,2015-11-28 10:33:15,,closed issue,[MRG+1] Backreferences template from sphinx-gallery
3,pull_request_title,592,nilearn,nilearn,Titan-C,2015-05-20 11:50:09,"Here I update to sphinx-gallery with the backreferences solution.
So now it is possible to use an rst template to document classes and functions including at the end the link to examples using them.
A question of design. Since now this documentation generation is done with default sphinx extention autodoc. It becomes a dependency to have it in the included extensions in the conf.py file.(Not an issue since it was already used by nilearn). But because it is an automatic process all automatic documented classes will try to have the backreferences to example, which might not exist. This issues a warning to during `make`. To workaround this warning scikit-learn and now in this PR, there is an extra action in conf.py that touches non-existing backreference example files so that one does not get the include warning. Question:
- Is this the good way for the user to proceed?(I'll write documentation for this procedure in sphinx-gallery)
- Alternative: have this action as default in sphinx-gallery and require user to always have autodoc extension always loaded?

Massive renaming in files because:
Since the new naming convention for sphinx-gallery image prefix sphx-glr image references are updated.
Since naming convention for example references is to include the target dir, this references are also updated.
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,[MRG+1] Backreferences template from sphinx-gallery
4,pull_request_merged,592,nilearn,nilearn,GaelVaroquaux,2015-11-28 10:33:15,[MRG+1] Backreferences template from sphinx-gallery,a065c94d946fc88eeae91039158ceed7613b5235,Pull request merge from Titan-C/nilearn:backref_template to nilearn/nilearn:master
5,issue_comment,592,nilearn,nilearn,lesteve,2015-06-02 12:04:38,"> To workaround this warning scikit-learn and now in this PR, there is an extra action in conf.py that touches non-existing backreference example files so that one does not get the include warning

Just wondering wheter there is a way to have some logic in the jinja2 template to say that if the .examples file exists include it otherwise don't bother. Seems slightly better than creating empty .examples files. By the way I am not sure about the ordering of  gen_gallery versus the 'autodoc-process-docstring' step. Imagine you start from a clean state, are all the .examples file created empty during the 'autodoc-process-docstring' and then gen_gallery comes along and generates non-empty .examples file or is it the other way around? I think what I am trying to say is that it does seem a bit fragile.

> Since naming convention for example references is to include the target dir, this references are also updated.

That makes the naming a bit too redundant: example_auto_examples_... Just wondering whether there is an easy but generic way to remove auto_examples from the reference name.

Also you need to rebase on master and fix the merge conflicts.
",,
6,issue_comment,592,nilearn,nilearn,Titan-C,2015-06-02 12:26:34,"> . By the way I am not sure about the ordering of gen_gallery versus the 'autodoc-process-docstring' step.

Sphinx gallery does its job first creating the .example files. 'autodoc-process-docstring' is executed afterwards everytime it finds the include directive to the example file

> That makes the naming a bit too redundant: example_auto_examples_

Yes, I agree on the redundancy. At some point I tested to rename it to sphx_glr_auto_example_ or to remove completely the example_ prefix, but I could not agree with myself on which to prefer so I left it that way. I support the fact to have the full target name on the reference starting from the sphinx source folder, so to our convention the gallery sits in auto_examples_. That way is was easier to link to the images and references. To put an additional prefix to it might not be necessary anymore, example_ was used because all paths where used taken the inside of the gallery folder as reference, so having the prefix became valuable. As a generic option I would rather remove example_ prefix than the first folder auto_example
",,
7,issue_comment,592,nilearn,nilearn,Titan-C,2015-06-02 12:39:56,"rebase done
",,
8,issue_comment,592,nilearn,nilearn,Titan-C,2015-06-02 12:40:47,"rebase done
",,
9,issue_comment,592,nilearn,nilearn,lesteve,2015-06-02 13:19:24,"> As a generic option I would rather remove example_ prefix than the first folder auto_example

I am not sure, it feels like the reference name should look more like the example python file than the generated rst in auto_examples. Also it'd be good to have some consistency between the generated image name and the reference name. At the moment the two of them have grown further apart.

> Sphinx gallery does its job first creating the .example files. 'autodoc-process-docstring' is executed afterwards everytime it finds the include directive to the example file

Surely this can't be true, 'autodoc-process-docstring' doesn't know anything about example files which are sphinxgallery specific. The only way this can work if the autodoc-process-string creates all example files as empty and then sphinxgallery comes along, parses the example scripts and overrides the .examples files. Just curious, is the ordering guaranteed ? Does it depend on the ordering of `extensions` in conf.py ?

More importantly, it seems that you haven't included the backreferences.py module in this PR (i.e. sphinxext/sphinxgallery/backreferences.py) is that on purpose?
",,
10,issue_comment,592,nilearn,nilearn,Titan-C,2015-06-02 13:41:15,"> I am not sure, it feels like the reference name should look more like the example python file than the generated rst in auto_examples. Also it'd be good to have some consistency between the generated image name and the reference name. At the moment the two of them have grown further apart.

For the consistency with image names I wanted to put it as prefix sphx_glr, then the path to the python example. That way is more consistent.

> Surely this can't be true, 'autodoc-process-docstring' doesn't know anything about example files which are sphinxgallery specific. 
> 
> Just curious, is the ordering guaranteed ? Does it depend on the ordering of extensions in conf.py ?

Yes the ordering is guaranteed. As each one is assigned a different event in the sphinx build. It does not depend in the ordering of the extensions in conf.py but to which build step it was assigned. Sphinx-gallery happens when the builder is started(outputs rst files, image files, .example files), but the autodoc file touch is when rst files are parsed.
So autodoc is completely independent of sphinx-gallery, it only tries to include a matching example file to every module it has to document. If it can't find the file a warning is issued, and in our case the missing file is touched and so no warning issued.

> More importantly, it seems that you haven't included the backreferences.py module in this PR (i.e. sphinxext/sphinxgallery/backreferences.py) is that on purpose?

This is a glitch in my update script as it does not git add new files. I'll fix it
",,
11,issue_comment,592,nilearn,nilearn,lesteve,2015-06-29 07:08:27,"This needs a rebase on master actually.
",,
12,issue_comment,592,nilearn,nilearn,Titan-C,2015-11-24 18:49:59,"This one is rebased on master and has the latest release of Sphinx-Gallery.
Some examples already have the notebook style. All seem to be running now.

There is one link that is not working and I hesitate to change.

https://github.com/nilearn/nilearn/blame/master/doc/connectivity/functional_connectomes.rst#L138-L142
file `examples/manipulating_visualizing/plot_probabilistic_atlas.py` does not exist. On same folder there is one `plot_prob_atlas.py`, but since there the following figure does not match the file either nor can I find mention of the function stated before the link I'm not sure.

you can preview the website in

http://scikit-learn.byethost7.com/nilearn/
",,
13,issue_comment,592,nilearn,nilearn,Titan-C,2015-11-24 19:00:39,"Side question. How does the circleci work. Can I see the sphinx output there? the rendered documentation?
",,
14,issue_comment,592,nilearn,nilearn,KamalakerDadi,2015-11-24 19:43:24,"@Titan-C Thanks for reporting.

`examples/manipulating_visualizing/plot_probabilistic_atlas.py` does not exist since the name `plot_probabilistic_atlas` is renamed as `plot_overlay` to avoid conflicting with `plot_prob_atlas`. Both `plot_overlay` and `plot_prob_atlas` exists in Nilearn.

Could you please change this
 see the :ref:`corresponding example <example_manipulating_visualizing_plot_probabilistic_atlas.py>`

to this
see the :ref:`corresponding example <example_manipulating_visualizing_plot_overlay.py>`

Then I think it will work. Please let me know. If it doesn't ?
",,
15,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-25 12:42:19,"@Titan-C : the circle-ci web interface does not give you links to artifacts unless you are administrator :(.

But here is the link to the latest build of your PR:
https://circle-artifacts.com/gh/nilearn/nilearn/733/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/index.html
",,
16,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-25 13:02:13,"+1 for merge. This is simply great. Thank you very @Titan-C 

Does anyone wants to have a look, or should I merge?
",,
17,issue_comment,592,nilearn,nilearn,KamalakerDadi,2015-11-25 14:14:16,"> Does anyone wants to have a look, or should I merge?

I want to have a look. I will give my call by end of day.
",,
18,issue_comment,592,nilearn,nilearn,Titan-C,2015-11-25 14:45:04,"> @Titan-C : the circle-ci web interface does not give you links to artifacts unless you are administrator :(.
> 
> But here is the link to the latest build of your PR:
> https://circle-artifacts.com/gh/nilearn/nilearn/733/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/index.html

That's cool. Then I would need to manually upload the builds to my test website
",,
19,issue_comment,592,nilearn,nilearn,lesteve,2015-11-26 10:11:42,"@Titan-C just curious, is there an example that renders as notebook in https://circle-artifacts.com/gh/nilearn/nilearn/733/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/index.html. I haven't found any yet.
",,
20,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-26 10:16:45,"@lesteve 
https://circle-artifacts.com/gh/nilearn/nilearn/733/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/decoding/plot_haxby_different_estimators.html#sphx-glr-auto-examples-decoding-plot-haxby-different-estimators-py

And actually we can see that from a layout / styling perspective, the code line and the output of the script appear as visually similar, which can be confusing for the users. We will need to change this.
",,
21,issue_comment,592,nilearn,nilearn,lesteve,2015-11-26 10:22:18,"Thanks a lot.

> And actually we can see that from a layout / styling perspective, the code line and the output of the script appear as visually similar,

There is an issue about that already https://github.com/sphinx-gallery/sphinx-gallery/issues/44
",,
22,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-26 10:27:40,"> There is an issue about that already sphinx-gallery/sphinx-gallery#44

OK :)
",,
23,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-26 10:40:35,"> There is an issue about that already sphinx-gallery/sphinx-gallery#44

I pushed a quick fix:
https://github.com/sphinx-gallery/sphinx-gallery/pull/72

we can backport in nilearn.
",,
24,issue_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-28 10:33:13,"Merging this guy, and backporting the latest sphinx-gallery, to have the new style.
",,
25,pull_request_commit_comment,592,nilearn,nilearn,lesteve,2015-11-23 08:34:05,"Ideally we should stick with a released version. @Titan-C any reason why this is not 0.0.11?
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,"(None, '', u'doc/sphinxext/sphinxgallery/__init__.py')"
26,pull_request_commit_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-25 12:43:57,"Not a blocker to merge this PR, but should this be in sphinx_gallery itself? It seems that it's something that people can easily get wrong.
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,"(41, '', u'doc/conf.py')"
27,pull_request_commit_comment,592,nilearn,nilearn,Titan-C,2015-11-25 14:36:37,"I was also thinking about it. In general you don't need this. It is only to remove some warnings of sphinx as it runs autosummary. 
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,"(41, '', u'doc/conf.py')"
28,pull_request_commit_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-25 14:37:51,"> > +def touch_example_backreferences(app, what, name, obj, options, lines):
> 
> I was also thinking about it. In general you don't need this. It is only to
> remove some warnings of sphinx as it runs autosummary.

If it's easy to add, I think you should (though not in this PR)
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,"(41, '', u'doc/conf.py')"
29,pull_request_commit_comment,592,nilearn,nilearn,GaelVaroquaux,2015-11-28 10:39:00,"I just realized: why was this file deleted?
",6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,"(8, '', u'doc/sphinxext/copy_sphinxgallery.sh')"
30,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-05-20 08:27:52,Update to sphinx-gallery release 0.0.9-dev1,6243b0c2f136c49f47e9660b390baf8d25c5b31c,
31,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-05-20 08:32:26,Include example backrefences in templates,64ae4ebd9be6c8020251d5faf9015865981c7443,
32,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-05-20 11:28:38,Fixes to embed template autodocs to use backreferences,9f92a784eafb081cbe2385230c8289d3addae104,
33,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-05-29 08:59:22,Install sphinx-gallery v0.0.10,4816a90e4e3f715baa99cfd2251bfbd9611b997a,
34,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-06-02 13:45:46,copy_sphinxgallery defaults in git adding the module folder by default,94449666965aceff55b57b3f383e293c0b34c3fb,
35,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-10-23 14:44:55,"Update to Sphinx-Gallery 0.0.11 to use notebook examples

Delete copy gallery is on the release",c01587a55ea6cc8b5d5d8ec2fe5a839b8034fe31,
36,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-10-23 15:50:55,Update image names with sphx_glr prefix,6b1858d385b07cb06adee41d954e005343701c8b,
37,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-10-23 15:54:58,Update reference names to use sphx_glr prefix,7b5dfa2a35e5eff67b0b51369e1ca640b9961246,
38,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-11-24 15:53:18,Update to public release of Sphinx-Gallery v0.0.11,cfc773b5b42125d3a21b7077148d80b770314170,
39,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-11-24 15:58:20,Rename to sphinx_gallery module,83ba236c7b9157ba359bff6e40bc9e8f086f1d8b,
40,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-11-24 18:35:59,Fixing links,5dcc50ab588afc75cc9360a6bfe3261968dbee71,
41,pull_request_commit,592,nilearn,nilearn,Titan-C,2015-11-24 20:10:43,Fix one more link,6c9e894c07a0b6c6fe280f0cb284551c45bea3ab,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,882,nilearn,nilearn,aabadie,2015-12-02 17:56:24,"This should address and fix #866.
",start issue,[MRG+1] Fix: add globbing to _iter_check_niimg
2,issue_closed,882,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:24:46,,closed issue,[MRG+1] Fix: add globbing to _iter_check_niimg
3,pull_request_title,882,nilearn,nilearn,aabadie,2015-12-02 17:56:24,"This should address and fix #866.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,[MRG+1] Fix: add globbing to _iter_check_niimg
4,pull_request_merged,882,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:24:46,[MRG+1] Fix: add globbing to _iter_check_niimg,397f1639b730a28031a329f9173fe3f6a253c685,Pull request merge from aabadie/nilearn:globbing_2 to nilearn/nilearn:master
5,issue_comment,882,nilearn,nilearn,lesteve,2015-12-02 22:15:49,"From the associated issue, in case it has been lost in all the activity:

> Thinking about it, what is wrong with nilearn._utils.check_niimg('~/*.nii', return_iterator=True) or its check_niimg_4d equivalent?
",,
6,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:20:49,"> ```
> Thinking about it, what is wrong with
> nilearn._utils.check_niimg('~/*.nii', return_iterator=True) or its
> check_niimg_4d equivalent?
> ```

What you are pointing to is greedy, in the sense that it will load all
the data in memory. That's a big nono when working with large data.
",,
7,issue_comment,882,nilearn,nilearn,lesteve,2015-12-02 22:33:17,"> What you are pointing to is greedy

I don't think that's true if you use return_iterator=True, see [this](https://github.com/nilearn/nilearn/blob/master/nilearn/_utils/niimg_conversions.py#L240).
",,
8,issue_comment,882,nilearn,nilearn,aabadie,2015-12-03 09:00:53,"Travis is failing on python 2.6, will fix it.
",,
9,issue_comment,882,nilearn,nilearn,lesteve,2015-12-03 09:34:04,"@aabadie do you have anything to add on what this PR brings compared to using `nilearn._utils.check_niimg('~/*.nii', return_iterator=True)`?

From what I remember very vaguely, _iter_check_niimg was always supposed to only be a helper function for check_niimg with return_iterator=True.
",,
10,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 09:38:30,"> @aabadie do you have anything to add on what this PR brings compared to using
> nilearn._utils.check_niimg('~/*.nii', return_iterator=True)?

As a side note, I am currently working on a small change to this PR to
limit memory usage. Temporarily, it leads to not using _iter_check_niimg.
We can come back to trying to use checkers in this code after the
release.

I think that the trick is really to delay loading as much as possible,
and it's easy to get that wrong with the checkers.
",,
11,issue_comment,882,nilearn,nilearn,aabadie,2015-12-03 10:05:55,"I'm also wondering what should be done with this PR. What do you think @GaelVaroquaux ? Should it be dropped ?
",,
12,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:09:15,"> I'm also wondering what should be done with this PR. What do you think
> @GaelVaroquaux ? Should it be dropped ?

I don't think so. The general idea with it is good. It's just that we are
struggling with other parts of the codebase. Maybe we need to shelve it,
ie postpone it and come back to it once we have cleared a bit the other
parts of the design.
",,
13,issue_comment,882,nilearn,nilearn,lesteve,2015-12-03 10:33:23,"> > I'm also wondering what should be done with this PR. What do you think
> >  @GaelVaroquaux ? Should it be dropped ?
> 
> I don't think so. The general idea with it is good.

I have to disagree on this one. I really don't see what this PR brings, sorry if I am missing something. 

Here is the picture in my mind: `check_niimg(..., return_iterator=True)` calls `_iter_check_img` as a helper function. `check_niimg(..., return_iterator=True)` supports globbing already, just use it.  

> I think that the trick is really to delay loading as much as possible, and it's easy to get that wrong with the checkers.

I guess if you are saying that the interface is not great, and you want to have a `iter_img` function, that is a valid point but then it should probably call `check_niimg(..., return_iterator=True)`.
",,
14,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:35:36,"> I have to disagree on this one. I really don't see what this PR brings, sorry
> if I am missing something.

CanICA().fit('*.nii.gz')

> Here is the picture in my mind: check_niimg(..., return_iterator=True) calls
> _iter_check_img as a helper function. `check_niimg(..., return_iterator=True)
> supports globbing already, just use it.

No. _iter_check_iimgs does much more than that. It does resampling for
instance.

> I guess if you are saying that the interface is not great, and you want
> to have a iter_img function, that is a valid point but then it should
> probably call `check_niimg(..., return_iterator=True).

It's not a question about interface, it a question of how things fit
together. Looking at this single function and it's signature won't tell
us anything. We need to look at how it's been used.
",,
15,issue_comment,882,nilearn,nilearn,lesteve,2015-12-03 10:47:44,"> No. _iter_check_iimgs does much more than that. It does resampling for instance.

OK how many times do I have to repeat this? `_iter_check_img` is a helper function called by check_niimg when return_iterator=True.
",,
16,issue_comment,882,nilearn,nilearn,lesteve,2015-12-03 10:49:19,"> OK how many times do I have to repeat this? _iter_check_img is a helper function called by check_niimg when return_iterator=True.

So what I meant is that if `_iter_check_img` does something `check_niimg` does it as well.
",,
17,issue_comment,882,nilearn,nilearn,aabadie,2015-12-03 10:52:01,"> So what I meant is that if _iter_check_img does something check_niimg does as well.

It does a little bit more if you set target_fov option.
",,
18,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:57:02,"> ```
> OK how many times do I have to repeat this?
> ```

I am not sure that this formulation helps me focusing on the technical
aspects of the discussion.

> So what I meant is that if _iter_check_img does something check_niimg does it
> as well.

I don't think is, because _iter_check_niimg has arguments that are unused
in check_niimg.

Anyhow, the fact is that _iter_check_niimg is called outside of
check_niimg by the MultiNiftiMasker. This in itself may be a design flaw,
but before sweeping the existing code under the rug, we need to
understand why it does that. One reason is that it uses those arguments
not exposed in check_niimg. There might be other reasons, or might not.
We need to assess this.
",,
19,issue_comment,882,nilearn,nilearn,lesteve,2015-12-03 12:38:07,"> Anyhow, the fact is that _iter_check_niimg is called outside of check_niimg by the MultiNiftiMasker. 

I see, that's definitely a piece of information I completely missed.

> One reason is that it uses those arguments not exposed in check_niimg. There might be other reasons, or might not. We need to assess this.

Agreed.
",,
20,issue_comment,882,nilearn,nilearn,AlexandreAbraham,2015-12-03 12:53:22,"What an atmosphere! Next time, use `git blame` and ping the guy who wrote the code :P.

The answers are really simple and lie in a fine distinction between what is a niimg and what is a list of niimg.

A niimg represents a single ""session"" (or a single atlas). A 4D niimg can be a single 4D nifti file or a list of 3D nifti files. If this is a list, all the nifti files should have the same affine, no resample is allowed.

A list of niimgs is a list of single sessions. Meaning, they can have different field of views, but this is acceptable and we can resample them.

Note that the mix between these 2 concepts (`niimg` and `niimgs`) brought a huge mess in the code before the last refactoring I made.

Now, `check_niimg*` functions will load single session nifti files. if a list if files is given, no resampling is allowed. To optimize some code here and there, people needed to iterate on the 3d scan of a 4d niimg at some point, this is why `return_iterator` is here. It calls `iter_check_niimg` for convenience but no resampling allowed, it will just check that the affine is the same everywhere.

In order to iterate on several subjects, such as MultiNiftiMasker, we want to allow resampling, this is why we call `_iter_check_niimg` directly.

I hope this is clearer now.
",,
21,issue_comment,882,nilearn,nilearn,bthirion,2015-12-03 21:32:45,"I am aware that this is secondary, but be aware that it happens 
sometimes that you obtain data from one session with different affines, 
in particular with data coming from SPM pipelines.
This is in particular the case of the multimodal_faces dataset used in 
nistats.
https://github.com/nistats/nistats/blob/master/examples/plot_spm_multimodal_faces.py

Note that nistats code handles this case perfectly, but if I understand 
correctly this formally breaks the semantics that you associate with 
niimg/niimgs.
",,
22,issue_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-04 05:58:18,"> Note that nistats code handles this case perfectly, but if I understand
> correctly this formally breaks the semantics that you associate with
> niimg/niimgs.

No it doesn't, and we would like to support this.
",,
23,issue_comment,882,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:24:42,"+1, merging.
",,
24,pull_request_commit_comment,882,nilearn,nilearn,lesteve,2015-12-02 18:09:13,"You don't need os.sep if you are using os.path.join
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
25,pull_request_commit_comment,882,nilearn,nilearn,lesteve,2015-12-02 18:10:35,"Python 2.6 is not going to be happy ... You need explicit numbers `{0}`
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
26,pull_request_commit_comment,882,nilearn,nilearn,lesteve,2015-12-02 18:11:08,"Use a `with open(...)` this way you don't need the .close
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
27,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-02 18:14:33,"I removed this.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
28,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-02 18:15:45,"I used the `testing.write_tmp_img` function for this.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
29,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-02 18:16:04,"Done
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/tests/test_niimg_conversions.py')"
30,pull_request_commit_comment,882,nilearn,nilearn,banilo,2015-12-03 10:17:45,"general purpose function for this scenario?
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
31,pull_request_commit_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:20:31,"> general purpose function for this scenario?

I'd rather address the big-picture design before worrying about breaking
down into subfunctions.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
32,pull_request_commit_comment,882,nilearn,nilearn,banilo,2015-12-03 10:21:21,"How about extending this logic also to `os.path.abspath()`?
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
33,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-03 10:23:02,"Indeed the check should be hasattr(niimgs, ""__iter__"") in order to be more generic.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
34,pull_request_commit_comment,882,nilearn,nilearn,banilo,2015-12-03 10:24:34,"> Indeed the check should be hasattr(niimgs, ""**iter**"") in order to be more generic

Yes, this will also catch tuples for instance.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
35,pull_request_commit_comment,882,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:25:10,"> How about extending this logic also to os.path.abspath()?

What would it bring us?
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
36,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-03 10:43:43,"I tested this and the problem comes from generators that can be passed as arguments which are also included in this check. I see 2 options : 
- use `isinstance(niimgs, list) or isinstance(niimgs, tuple)`
- remove this check. It was already like that initially.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
37,pull_request_commit_comment,882,nilearn,nilearn,AlexandreAbraham,2015-12-03 13:21:44,"Calling `len` on `niimgs` won't work if `niimgs` is a generator. What you can do is checking the number of loops done in the `for loop` below.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
38,pull_request_commit_comment,882,nilearn,nilearn,AlexandreAbraham,2015-12-03 13:22:08,"I agree with Gael, this is not necessary.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
39,pull_request_commit_comment,882,nilearn,nilearn,AlexandreAbraham,2015-12-03 13:23:11,"If you do when I suggested above. This check becomes unnecessary.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(14, '', u'nilearn/_utils/niimg_conversions.py')"
40,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-03 15:00:57,"There's a small difference in the error message which return the input filename.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(14, '', u'nilearn/_utils/niimg_conversions.py')"
41,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-03 15:03:35,"Ok, I'll use this.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
42,pull_request_commit_comment,882,nilearn,nilearn,aabadie,2015-12-03 15:16:46,"Done.
",c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,"(None, '', u'nilearn/_utils/niimg_conversions.py')"
43,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-02 17:55:39,add globbing to _iter_check_niimg,96248df00a619f0a67046269f4978dfd4bb8c06d,
44,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-02 18:11:58,addressing comments,57bbc8329ad67dd12217e453b9785cf1de40527e,
45,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-02 18:12:51,addressing comments,2932823a20551f103540c018521de783e177b88e,
46,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-02 18:14:18,removing useless variables,61e3462bddae3a6003d95890c40287a9dec1dc21,
47,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 08:44:47,making test python 2.6 compliant,2f40fe933acd09193bdfa10748be07cba03aa237,
48,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 09:08:18,adding see also in docstring,817fbfc8294a0dffc80cadb8a827a529b98a679e,
49,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 09:11:43,converting string formatting to old python style,adcb6fd4f3665038682a036ed9500769b5a4a8a6,
50,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 13:05:46,"fixing test on windows, improving _iter_check_niimg check",9cc888f974b9c4db34afbc669941f23ade2beb7b,
51,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 15:04:16,expecting this to fix appveyor,cf0f905af1feeb6fdb43d2a20796e36f78400881,
52,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-03 15:14:53,raising error with empty generators,db0773b8b81e3f7be3ba75ebf0370b5b70f9ae51,
53,pull_request_commit,882,nilearn,nilearn,aabadie,2015-12-04 08:44:27,trying to fix appveyor,c9f79c8d5b6d4dfa6bf508aefa9cd6c6debe901b,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,856,nilearn,nilearn,dohmatob,2015-11-22 19:44:15,"Fixes issue #855 
",start issue,[BF] find_cuts crashes ungracefully if mask is empty
2,issue_closed,856,nilearn,nilearn,lesteve,2015-12-01 17:33:27,,closed issue,[BF] find_cuts crashes ungracefully if mask is empty
3,pull_request_title,856,nilearn,nilearn,dohmatob,2015-11-22 19:44:15,"Fixes issue #855 
",d382e0e084aae4b05ce44a1a2c31eef6e15aefce,[BF] find_cuts crashes ungracefully if mask is empty
4,pull_request_merged,856,nilearn,nilearn,lesteve,2015-12-01 17:33:27,[BF] find_cuts crashes ungracefully if mask is empty,f8c21d9343c7cafb550a789bd1f1045899065f18,Pull request merge from dohmatob/nilearn:fix-855 to nilearn/nilearn:master
5,issue_comment,856,nilearn,nilearn,dohmatob,2015-12-01 10:03:39,"I've just implemented the suggestion at the moment.
",,
6,issue_comment,856,nilearn,nilearn,lesteve,2015-12-01 17:33:25,"Looks fine, merging, thanks!
",,
7,issue_comment,856,nilearn,nilearn,lesteve,2015-12-01 17:35:42,"For the record ""fix issue #bla"" doesn't seem to close automatically the issue once the PR is merged...
",,
8,pull_request_commit_comment,856,nilearn,nilearn,GaelVaroquaux,2015-11-23 07:05:26,"Maybe another option, possibly more useful for the end user, would be to raise this as a warning, and return the geometrical center of the mask.
",d382e0e084aae4b05ce44a1a2c31eef6e15aefce,"(None, '', u'nilearn/plotting/find_cuts.py')"
9,pull_request_commit_comment,856,nilearn,nilearn,dohmatob,2015-11-23 13:51:53,"Gr8 suggestion.
",d382e0e084aae4b05ce44a1a2c31eef6e15aefce,"(None, '', u'nilearn/plotting/find_cuts.py')"
10,pull_request_commit_comment,856,nilearn,nilearn,GaelVaroquaux,2015-11-30 19:26:24,"Hey @dohmatob : any chance that you could implement the suggestion, so that we merge this PR.
",d382e0e084aae4b05ce44a1a2c31eef6e15aefce,"(None, '', u'nilearn/plotting/find_cuts.py')"
11,pull_request_commit,856,nilearn,nilearn,dohmatob,2015-11-22 18:41:56,Fixes issue #855,638d8eba1c763213dd4b54a7cdcc6d2bc84731b2,
12,pull_request_commit,856,nilearn,nilearn,dohmatob,2015-12-01 08:57:54,ENH: returning center of mass if mask empty,d382e0e084aae4b05ce44a1a2c31eef6e15aefce,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,869,nilearn,nilearn,aabadie,2015-12-02 12:41:33,"While working on #862, I had an issue when running the `../examples/connectivity/plot_canica_resting_state.py`

Here is the full backtrace:

```
[Memory] Calling nilearn.image.image._compute_mean...
_compute_mean('/home/ubuntu/nilearn_data/adhd/data/3699991/3699991_rest_tshift_RPI_voreg_mni.nii.gz', target_shape=None, target_affine=None, smooth=1)
________________________________________________________________________________
../examples/connectivity/plot_canica_resting_state.py is not compiling:
Traceback (most recent call last):
  File ""/home/ubuntu/nilearn/doc/sphinxext/sphinx_gallery/gen_rst.py"", line 427, in execute_script
    exec(code_block, example_globals)
  File ""<string>"", line 6, in <module>
  File ""/home/ubuntu/nilearn/nilearn/decomposition/canica.py"", line 147, in fit
    MultiPCA.fit(self, imgs, y=y, confounds=confounds)
  File ""/home/ubuntu/nilearn/nilearn/decomposition/multi_pca.py"", line 275, in fit
    self.masker_.fit(imgs)
  File ""/home/ubuntu/nilearn/nilearn/input_data/multi_nifti_masker.py"", line 188, in fit
    **mask_args)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 483, in __call__
    return self._cached_call(args, kwargs)[0]
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 430, in _cached_call
    out, metadata = self.call(*args, **kwargs)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 675, in call
    output = self.func(*args, **kwargs)
  File ""/home/ubuntu/nilearn/nilearn/masking.py"", line 363, in compute_multi_epi_mask
    for epi_img in epi_imgs)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py"", line 804, in __call__
    while self.dispatch_one_batch(iterator):
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py"", line 662, in dispatch_one_batch
    self._dispatch(tasks)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py"", line 570, in _dispatch
    job = ImmediateComputeBatch(batch)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py"", line 183, in __init__
    self.results = batch()
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/parallel.py"", line 72, in __call__
    return [func(*args, **kwargs) for func, args, kwargs in self.items]
  File ""/home/ubuntu/nilearn/nilearn/masking.py"", line 261, in compute_epi_mask
    smooth=(1 if opening else False))
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 483, in __call__
    return self._cached_call(args, kwargs)[0]
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 430, in _cached_call
    out, metadata = self.call(*args, **kwargs)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/sklearn/externals/joblib/memory.py"", line 675, in call
    output = self.func(*args, **kwargs)
  File ""/home/ubuntu/nilearn/nilearn/image/image.py"", line 374, in _compute_mean
    mean_data = _safe_get_data(imgs)
  File ""/home/ubuntu/nilearn/nilearn/_utils/niimg.py"", line 28, in _safe_get_data
    return img.get_data()
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/nibabel/spatialimages.py"", line 582, in get_data
    data = np.asanyarray(self._dataobj)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/numpy/core/numeric.py"", line 525, in asanyarray
    return array(a, dtype, copy=False, order=order, subok=True)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/nibabel/arrayproxy.py"", line 144, in __array__
    raw_data = self.get_unscaled()
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/nibabel/arrayproxy.py"", line 139, in get_unscaled
    mmap=self._mmap)
  File ""/home/ubuntu/virtualenvs/venv-system/local/lib/python2.7/site-packages/nibabel/volumeutils.py"", line 517, in array_from_file
    n_read = infile.readinto(data_bytes)
  File ""/usr/lib/python2.7/gzip.py"", line 261, in read
    self._read(readsize)
  File ""/usr/lib/python2.7/gzip.py"", line 308, in _read
    self._read_eof()
  File ""/usr/lib/python2.7/gzip.py"", line 347, in _read_eof
    hex(self.crc)))
IOError: CRC check failed 0x7426164f != 0x9fc750b1L
```

I bypassed this issue by removing the adhd folder from the `~/nilearn_data` cached directory, forcing another download of this data. I suspect the allowed cache size on circle is not sufficient for the nilearn_data.
",start issue,crc32 check fails on Circle CI
2,issue_closed,869,nilearn,nilearn,GaelVaroquaux,2016-01-15 07:07:26,,closed issue,crc32 check fails on Circle CI
3,issue_comment,869,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:19:38,"Looks like we understood this guy (circleci was running out of cache). Hence a check on the file size might help.
",,
4,issue_comment,869,nilearn,nilearn,AlexandreAbraham,2015-12-02 13:01:04,"The problem is that the fetching is fine. It crashes on file opening so we can't trigger a new downloading of the file automatically.
",,
5,issue_comment,869,nilearn,nilearn,AlexandreAbraham,2015-12-02 15:54:20,"As suggested by @GaelVaroquaux, I can implement a check of file size at fetching. It would help narrowing down the problem.
",,
6,issue_comment,869,nilearn,nilearn,lesteve,2015-12-02 15:36:29,"> I suspect the allowed cache size on circle is not sufficient for the nilearn_data.

Do you have some evidence, CircleCI docs or others, to back up that claim?
",,
7,issue_comment,869,nilearn,nilearn,lesteve,2015-12-02 16:42:20,"By the way you can restart the build with a SSH access with CircleCI, see [this](https://circleci.com/docs/ssh-build). Maybe that could help pinpointing the problem ?
",,
8,issue_comment,869,nilearn,nilearn,lesteve,2015-12-02 16:46:53,"In particular, if the CircleCI cache is somehow the culprit and corrupts the dataset, I find it slightly weird that the gzip file is valid enough to get to the CRC checks.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,839,nilearn,nilearn,bcipolli,2015-11-10 16:36:48,"This PR attempts to solve three issues:
- `_fetch_files` cannot overwrite existing files (note: `_fetch_file` actually allows this)
- `_fetch_file`'s `overwrite=True` flag is not tested.
- `setup_mock`, `teardown_mock`, `setup_tmpdata`, `teardown_tmpdata` is copied across `datasets/tests/test_*.py`, including an orphaned copy in `test_utils.py`.

The first is the only one I care about; the other two I dealt with while trying to test this.

I would like to use this functionality in the NeuroVault downloader. Since those datasets are dynamic, previous data may need to be overwritten.
",start issue,Add overwrite option to _fetch_files
2,issue_closed,839,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:20:17,,closed issue,Add overwrite option to _fetch_files
3,pull_request_title,839,nilearn,nilearn,bcipolli,2015-11-10 16:36:48,"This PR attempts to solve three issues:
- `_fetch_files` cannot overwrite existing files (note: `_fetch_file` actually allows this)
- `_fetch_file`'s `overwrite=True` flag is not tested.
- `setup_mock`, `teardown_mock`, `setup_tmpdata`, `teardown_tmpdata` is copied across `datasets/tests/test_*.py`, including an orphaned copy in `test_utils.py`.

The first is the only one I care about; the other two I dealt with while trying to test this.

I would like to use this functionality in the NeuroVault downloader. Since those datasets are dynamic, previous data may need to be overwritten.
",6959f027f79bd2846dea9673233df7cf1bffcd3c,Add overwrite option to _fetch_files
4,pull_request_merged,839,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:20:17,Add overwrite option to _fetch_files,449403c0e584b40cfe178fdb849fe4fb45929d0d,Pull request merge from bcipolli/nilearn:fetch-files-overwrite to nilearn/nilearn:master
5,issue_comment,839,nilearn,nilearn,AlexandreAbraham,2015-11-10 22:20:12,"Thanks for doing something that I wanted to do since a long time! I merge it since it does not contain major changes.
",,
6,issue_comment,839,nilearn,nilearn,bcipolli,2015-11-10 22:20:59,":+1:
",,
7,pull_request_commit,839,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:25:42,ENH: add overwrite=True option.,1910c16bdeeef2488a09d676b16be28c5300e0ac,
8,pull_request_commit,839,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 16:23:26,RF: Move common mock code to test_utils.,04c28654d90fe0e9005366a0569b87440733aa4c,
9,pull_request_commit,839,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 16:32:11,TST: add tests for overwrite in _fetch_file*,2c3cfb0dc205fb241c2788f64dae8948c60bcd2c,
10,pull_request_commit,839,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 16:54:39,STY: linting.,6959f027f79bd2846dea9673233df7cf1bffcd3c,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,848,nilearn,nilearn,dohmatob,2015-11-21 17:09:43,"At least the following attributes have no documentation in the docstring:  `best_model_params_` and `alpha_grids_`
",start issue,Undocumented SpaceNet attributes
2,issue_closed,848,nilearn,nilearn,KamalakerDadi,2017-11-30 17:01:21,,closed issue,Undocumented SpaceNet attributes
3,issue_comment,848,nilearn,nilearn,ainafp,2015-12-02 17:16:03,"I'm on this one. 

Few issues found already:
- `cv_scores_` shape was wrongly documented
- `alpha_grids_` doc missing
- `best_model_params_` doc missing and format list(list()) to be changed to ndarray
- `alpha_` is no longer an attribute
- `all_coef_ , classes_ , coef_img_ , mask_ , memory_ , n_classes_ , w_ , ymean_ , Xmean_ , Xstd_` attributes are missing
",,
4,issue_comment,848,nilearn,nilearn,banilo,2015-11-21 17:55:47,"Good! Additionally, it is perhaps not sufficiently clear whether and how specifying a list to `l1_ratios` performs hyperparameter tuning. The practical question could be what the difference is to running `SpaceNet*` wrapped by sklearn's GridSearchCV.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,832,nilearn,nilearn,bcipolli,2015-11-06 23:00:16,"This is an enhancement for #640. Not quite done, but far enough along to talk about the API I've implemented.

To do:
- [x] Implement an API for downloading selected images from http://neurovault.org/
- [x] Create dataset documentation
- [x] Create a basic example for downloading a subset of files.
- [x] Create a more complex ICA-based example.
- [x] Create tests
- [x] Remove dependency on `requests` - use `urllib`
- [x] Read from disk when offline.
- [ ] Detect outdated cached collection or image metadata or data.

Neurovault contains images in collections. Collections can be filtered via a few querystring arguments. Images to download and return should be limited by filters on collection and image metadata.

To do this, I've included `collection_filters` and `image_filters` arguments.
- If `isinstance(collection_filters, dict)`, the filters are used as querystring argument filters.
- If `isinstance(*_filters, collections.Iterable)` (i.e. a list), the filters are assumed to be functions that receive a collection or image metadata, and returns `True` if the collection's images should be queried, or if the image should be downloaded.

The function returns a `Bunch` of three:
- `collections`: a dict (key: collection_id) of collection metadata for matched collections.
- `images`: a list of image metadata (including local file paths) for matched & downloaded images.
- `func_files`: a list of paths to downloaded files. Could be removed, but I kept it as many other functions return a list of paths to images.

The example I've begun with is a `stop-go` task meta-analysis, ported from:
https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb

Note that I avoided trying to convert things to a `pandas` dataframe. The previous examples downloaded all images and filtered using `pandas`; however, all `nilearn` dataset fetchers filter before returning to the user. It was simple enough to allow lambda functions as filters to make very powerful pre-fetch filtering available to the user, so I went that route.

Looking for feedback on the overall API design to start. @chrisfilo and anyone else around! 
",start issue,Add a NeuroVault fetcher
2,issue_closed,832,nilearn,nilearn,AlexandreAbraham,2016-07-20 13:51:48,,closed issue,Add a NeuroVault fetcher
3,pull_request_title,832,nilearn,nilearn,bcipolli,2015-11-06 23:00:16,"This is an enhancement for #640. Not quite done, but far enough along to talk about the API I've implemented.

To do:
- [x] Implement an API for downloading selected images from http://neurovault.org/
- [x] Create dataset documentation
- [x] Create a basic example for downloading a subset of files.
- [x] Create a more complex ICA-based example.
- [x] Create tests
- [x] Remove dependency on `requests` - use `urllib`
- [x] Read from disk when offline.
- [ ] Detect outdated cached collection or image metadata or data.

Neurovault contains images in collections. Collections can be filtered via a few querystring arguments. Images to download and return should be limited by filters on collection and image metadata.

To do this, I've included `collection_filters` and `image_filters` arguments.
- If `isinstance(collection_filters, dict)`, the filters are used as querystring argument filters.
- If `isinstance(*_filters, collections.Iterable)` (i.e. a list), the filters are assumed to be functions that receive a collection or image metadata, and returns `True` if the collection's images should be queried, or if the image should be downloaded.

The function returns a `Bunch` of three:
- `collections`: a dict (key: collection_id) of collection metadata for matched collections.
- `images`: a list of image metadata (including local file paths) for matched & downloaded images.
- `func_files`: a list of paths to downloaded files. Could be removed, but I kept it as many other functions return a list of paths to images.

The example I've begun with is a `stop-go` task meta-analysis, ported from:
https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb

Note that I avoided trying to convert things to a `pandas` dataframe. The previous examples downloaded all images and filtered using `pandas`; however, all `nilearn` dataset fetchers filter before returning to the user. It was simple enough to allow lambda functions as filters to make very powerful pre-fetch filtering available to the user, so I went that route.

Looking for feedback on the overall API design to start. @chrisfilo and anyone else around! 
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,Add a NeuroVault fetcher
4,issue_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:38:33,"> Not quite done, but far enough along to talk about the API I've implemented.

I think that the macanism of filters is too complicated for most of our users. We can keep it for advanced users but at some point we should provide simpler pre-made filters. For example, I think that a user should be able to specify the id of a collection or a list of ids (I know that it's possible through collection_filter). But we'll see that later.

> The example I've begun with is a stop-go task meta-analysis

Reproducing an example provided by neurovault is indeed the way to go.

> Note that I avoided trying to convert things to a pandas dataframe. 

So far, we have avoided this dependency but we may have to include it at some point. Is there a real benefit to use pandas here?

The PR so far looks like really good work to me ;).
",,
5,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-08 14:14:23,"> We should maybe use a flag to work online / offline.

Regardless of online or offline, there is an updating problem. When online, the code assumes that a cached copy of a particular collection or image metadata, or image data is correct / up-to-date. I have the `refresh` flag for controlling that behavior. A more automated mechanism is possible.

Separate from that, the code needs to work in offline mode; currently it does not. I have added that to the WIP item list.

> I think that the macanism of filters is too complicated for most of our users. We can keep it for advanced users but at some point we should provide simpler pre-made filters. For example, I think that a user should be able to specify the id of a collection or a list of ids (I know that it's possible through collection_filter). But we'll see that later.

Right; glad to add more simple filters. It's very easy to map from the simple filters to the more complex ones. The complex filters were needed to mirror the logic of the example I ported, but I could also change it to use specific collections and images (and tell users they were determined by searches on the website).

> So far, we have avoided this dependency but we may have to include it at some point. Is there a real benefit to use pandas here?

In the previous examples, the benefit was using Pandas' filtering mechanisms, which tend to lead to simpler code. But I just don't see it as an option here, unless we limit users to very simple filters (which I think would be a shame).

> The PR so far looks like really good work to me ;).

:D
",,
6,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-10 03:11:42,"Looks good to me so far! Let me know if you have any questions about the API (we can make improvements!)
",,
7,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:02:36,"Thanks @chrisfilo! One thing that might help is if the API endpoint could return headers indicating the response size; `nilearn` doesn't like not getting a `Content-Length` header, I believe.

To reduce the number of requests made, it could also be helpful to be able to get image metadata for a specified set of collection IDs, rather than one at a time.
",,
8,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-10 17:04:52,"On Tue, Nov 10, 2015 at 9:02 AM, Ben Cipollini notifications@github.com
wrote:

> Thanks @chrisfilo https://github.com/chrisfilo! One thing that might
> help is if the API endpoint could return headers indicating the response
> size; nilearn doesn't like not getting a Content-Length header, I believe.
> 
> That's for a single file download or part of JSON?
> 
> To reduce the number of requests made, it could also be helpful to be able
> to get image metadata for a specified set of collection IDs, rather than
> one at a time.
> 
> Hmm - we can work on adding this.
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/832#issuecomment-155487633.
",,
9,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:05:00,"@AlexandreAbraham in order to remove the `requests` dependency, I needed to make changes to `_fetch_files` (#838 and #839; add overwrite option, modify output). Not sure this is a net positive; the code was simpler all around when using `requests`. Glad to get feedback!
",,
10,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-10 17:06:32,"> That's for a single file download or part of JSON?

JSON. Downloading actual images works perfectly.
",,
11,issue_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-10 21:52:55,"> nilearn doesn't like not getting a Content-Length header, I believe.

This case should be handled properly.

> the code was simpler all around when using requests

I am not against adding requests as a dependency but you should ask to the big boss :P.
",,
12,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-16 04:27:00,"@chrisfilo Another issue I'm having with the NeuroVault API is that collection ID returned seems unordered. This means that, when I'm offline, I can't order collections as I get them when I'm online. This causes problems.

Is it possible to get collection IDs returned in order?

Here's what I see for collection IDs:

```
Downloading data from http://neurovault.org/api/collections  ...
 [10, 862, 38, 55, 72, 75, 81, 82, 84, 554, 14, 71, 816, 723, 440, 556, 35, 67, 17, 66, 471, 92, 751, 4, 923, 496, 70, 921, 79, 93, 863, 89, 609, 542, 497, 784, 57, 109, 102, 114, 117, 119, 610, 103, 465, 612, 118, 115, 443, 494, 215, 882, 787, 795, 790, 105, 140, 796, 800, 794, 804, 865, 506, 495, 33, 308, 473, 500, 927, 510, 907, 809, 588, 625, 508, 190, 631, 572, 812, 573, 628, 231, 574, 295, 298, 292, 276, 294, 305, 408, 285, 287, 885, 319, 821, 356, 409, 323, 324, 329]

Downloading data from http://neurovault.org/api/collections/?offset=100 ...
[586, 331, 320, 340, 367, 335, 336, 886, 585, 337, 344, 360, 365, 376, 377, 929, 379, 814, 46, 391, 555, 822, 559, 576, 931, 887, 581, 486, 589, 594, 297, 597, 592, 598, 932, 934, 591, 903, 942, 601, 599, 596, 562, 448, 825, 889, 43, 398, 912, 551, 933, 563, 59, 187, 179, 94, 552, 451, 460, 826, 890, 648, 913, 203, 7, 418, 419, 550, 307, 650, 646, 461, 34, 640, 227, 641, 639, 915, 684, 553, 687, 655, 545, 681, 683, 315, 686, 893, 3, 527, 434, 526, 806, 515, 697, 700, 708, 709, 831, 519]
```
",,
13,issue_comment,832,nilearn,nilearn,chrisfilo,2015-11-16 04:41:29,"Hmm. I can add this, but it will slow down the API (not sure how much). Why
is the order necessary?

On Sun, Nov 15, 2015 at 8:27 PM, Ben Cipollini notifications@github.com
wrote:

> @chrisfilo https://github.com/chrisfilo Another issue I'm having with
> the NeuroVault API is that collection ID returned seems unordered. This
> means that, when I'm offline, I can't order collections as I get them when
> I'm online. This causes problems.
> 
> Is it possible to get collection IDs returned in order?
> 
> Here's what I see for collection IDs:
> 
> Downloading data from http://neurovault.org/api/collections  ...
>  [10, 862, 38, 55, 72, 75, 81, 82, 84, 554, 14, 71, 816, 723, 440, 556, 35, 67, 17, 66, 471, 92, 751, 4, 923, 496, 70, 921, 79, 93, 863, 89, 609, 542, 497, 784, 57, 109, 102, 114, 117, 119, 610, 103, 465, 612, 118, 115, 443, 494, 215, 882, 787, 795, 790, 105, 140, 796, 800, 794, 804, 865, 506, 495, 33, 308, 473, 500, 927, 510, 907, 809, 588, 625, 508, 190, 631, 572, 812, 573, 628, 231, 574, 295, 298, 292, 276, 294, 305, 408, 285, 287, 885, 319, 821, 356, 409, 323, 324, 329]
> 
> Downloading data from http://neurovault.org/api/collections/?offset=100 ...
> [586, 331, 320, 340, 367, 335, 336, 886, 585, 337, 344, 360, 365, 376, 377, 929, 379, 814, 46, 391, 555, 822, 559, 576, 931, 887, 581, 486, 589, 594, 297, 597, 592, 598, 932, 934, 591, 903, 942, 601, 599, 596, 562, 448, 825, 889, 43, 398, 912, 551, 933, 563, 59, 187, 179, 94, 552, 451, 460, 826, 890, 648, 913, 203, 7, 418, 419, 550, 307, 650, 646, 461, 34, 640, 227, 641, 639, 915, 684, 553, 687, 655, 545, 681, 683, 315, 686, 893, 3, 527, 434, 526, 806, 515, 697, 700, 708, 709, 831, 519]
> 
> —
> Reply to this email directly or view it on GitHub
> https://github.com/nilearn/nilearn/pull/832#issuecomment-156911793.
",,
14,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-16 04:44:47,"I have a parameter to limit the number of images returned. If I iterate through collections differently online and offline, the image set will be different between the two.
",,
15,issue_comment,832,nilearn,nilearn,lesteve,2015-11-24 12:15:37,"It looks like this needs a rebase on master.
",,
16,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-24 12:20:44,"Yep, a different version of the print/output changes were contained here. Just rebased to use the updated version of that code--thanks for merging!
",,
17,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-30 21:33:39,"Rebased to master.
",,
18,issue_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:12:21,"Hey, @bcipolli , sorry for taking so long to look at this.

My main comment is that the examples are a bit scary. The fact that we come up with such examples suggests that we don't fully have the right abstractions. This is probably mostly unrelated with this PR (and something like https://github.com/nilearn/nilearn/issues/847 might help). However, the current examples are going against the will of nilearn to reassure users that things are simple and will be alright.
",,
19,issue_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:36:10,"I must now go to bed, and I won't be able to work on this before tomorrow afternoon. I have made many small comments on the example. I don't know if they make any sense. I was trying to figure out ways of simplifying it.
",,
20,issue_comment,832,nilearn,nilearn,bcipolli,2015-11-30 22:46:00,"Thanks @GaelVaroquaux ! It will be great to simplify the example and make good use of the `nilearn` tools. I've obviously been out of the `nilearn` loop too long, so my chops have diminished. Looking forward to beefing them up over the next couple of days.

Thanks for the detailed comments, and looking forward to getting pretty--and simple--examples done. :+1: 

P.S. @AlexandreAbraham congrats ;)
",,
21,issue_comment,832,nilearn,nilearn,bcipolli,2015-12-23 15:09:01,"@GaelVaroquaux I've updated the `plot_ica_neurovault` example to use more of the `nilearn` architecture, simplify the interface, and to push useful code into the fetcher function (useful filters, getting neurosynth terms). The example looks shorter and simpler to me now.

There are a few changes to core nilearn code that do need comments (including one small new one, to avoid a warning I was getting). I could pull those out and submit those separately, if it helps.
",,
22,issue_comment,832,nilearn,nilearn,lesteve,2015-11-16 10:08:22,"> I am not sure why tests are failing. 

The Travis one fails for the Python 2.6 distrib. I am guessing the .header property doesn't exist for nibabel 1.1.0. You will need to stick with get_header instead.
",,
23,pull_request_commit_comment,832,nilearn,nilearn,AlexandreAbraham,2015-11-08 08:30:28,"Why don't you use the file fetching functions of datasets here? I guess that we will have a problem of update with neurovault: a given request may return different results if the neurovault base has been updated. We should maybe use a flag to work online / offline.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
24,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-11-08 14:08:06,"Yep, should definitely try to migrate this. If it requires tweaks to the fetching functions, will submit those as a separate PR.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
25,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-16 05:58:34,"nitpick, but I think that I would rather avoid having calls to 'show' in the middle.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
26,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-16 06:39:09,"I find that it is generally better to move these function outside of the enclosing scope, so that they can tested, debugged, and maybe one day reused more easily.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
27,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:27:54,"`force` is not used if you may have missed it.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
28,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:28:44,"May be it is not necessary since you have already explained above ?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
29,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:29:47,"May be cutshorting ""="".
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
30,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:31:25,"May be its not necessary `# print(......`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
31,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:33:39,"Taking into account reviews on my PR's, I think `src_nii` should be denoted as `src_img` same to `target_nii`.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
32,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:34:05,"typo ""make""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
33,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2015-11-17 21:40:57,"""thresholded""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/description/neurovault.rst')"
34,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:01:28,"The notebook-style examples have been merged.

Once rebased on master (which I think you have just done), and you turn all these '-' into '#', you should get pretty notebook-like rendering in the docs:
https://circle-artifacts.com/gh/nilearn/nilearn/757/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/connectivity/plot_adhd_spheres.html
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
35,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:06:44,"I think that I would prefer this as a default in the function signature.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
36,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:07:33,"Could we have this as a default empty tuple (not list) in the function signature? To make things more explicit.

The good thing about a tuple is that it is not mutable.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
37,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:07:44,"Same remark about the tuple.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
38,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:09:38,"@AlexandreAbraham : can you comment on this change. This is code that you wrote originally, and you probably have a good feeling of where it is useful.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(50, '', u'nilearn/datasets/utils.py')"
39,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:13:04,"We don't need to cache this, do we?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
40,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:17:07,"I have a hunch that this function could be simplified using nilearn.image.iter_img. 

I am not sure quite how at a quick glance, but when I look at the function from a big picture, I have this feeling.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
41,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:19:02,"This could probably use new_img_like?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
42,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:20:30,"I believe that all the above (including the 'squeeze') should be possible to implement with iter_img. If it's not the case, we have gotten something wrong in the design of iter_img, and we need to fix that.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
43,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:21:18,"If we remove this file saving from the example, I am not sure that we loose a lot of functionality, and we do remove a lot of lines. What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
44,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:23:45,"Maybe we should special-case this filter in the fetch_neurovault function, if you think that it is very useful (it does seem so).

What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
45,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:27:45,"I think that if you used here 'check_niimg(..., ensure_ndim=3) you could pass in paths (which would simplify other parts of the example), and you would not need to squeeze.

It would indeed mean that you are importing from a private module, _'utils', which feels wrong, but we can expose a public path for this function if it is useful.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
46,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:29:22,"Start comment (content of the comment below, sorry, I don't see a better way of doing this)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
47,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:31:42,"End comment:

I think that all the lines between the start of the comment, and the end of the comment (and the line getting rid of nans that was before) could be put in a public function companion of _extrapolate_out_mask. Maybe 'extropolate_thresholded_img'. It feels like a function that would be of general use.

What do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
48,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:33:42,"I think that this is a fairly universal brain mask that is obtained by thresholding the SPM tissue probability maps. We should either put it in the nilearn datasets, or (better) have downloaders for the SPM TPMs. @AlexandreAbraham : what do you think?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
49,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2015-11-30 22:34:34,"I am wondering: maybe we can do the resampling using the NiftiMasker's resampling functionality? If that's possible, it would simplify the example.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
50,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:24:44,"Actually, it's expected that `collection_filters` is mutable, as some default arguments get converted into `collection_filters`. Which means, if someone passes in a tuple, things will break.

I would prefer say `collection_filters = list(collection_filters)` to begin... is there a better way to handle this?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
51,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:29:06,"Agreed, good idea. With `mem.cache`, there's really no reason to additionally re-save the images, and most of the complexity of the function is in the save.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
52,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:49:37,"Perhaps a `exclude_known_bad_images` flag that adds all of the filters above your comment. (edited to change the parameter name)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
53,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 22:54:26,"One downside of `iter_img` is that it fails on a 3D image, rather than giving me an iterator for the one image. So I'll have to load the image and check if it's 4D before calling `iter_img`... that seems clunky to me.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
54,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 23:04:20,"Looks like `itertools.chain()` is the preferred method. I will convert these to tuples, in this case.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'nilearn/datasets/func.py')"
55,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2015-12-07 23:32:08,"Oh, that's perfect--this makes memory caching easy too.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(None, '', u'examples/connectivity/plot_ica_neurovault.py')"
56,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:32:30,"Could you change these separators to use seperators like in the other examples of nilearn (one line of ""#"" and then the text below). That way sphinx-gallery knows how to split the example in a notebook-like example.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(15, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
57,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:35:00,"Using the ' or """" ', are you trying to use the pattern '.get(key, default)' ?

I would prefer to rely on that, because it is a standard Python pattern.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
58,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:36:21,"Maybe it's also tell us that im (which is defined in the neurovault downloader) should be a defaultdict, with a default value of """".
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
59,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:36:48,"Scrap that. It would probably make debugging hard.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
60,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:39:50,"I'd rather not add this to all the downloaders. It's going to lead to subtle bugs in what people are doing. I'd rather have the download just crash if there is no internet.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(44, '', u'nilearn/datasets/func.py')"
61,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:41:06,"Just for some quick feedback: this is the JSON dict from neurovault. It can return blank or `None`, or sometimes the value isn't present at all. The idiom above is how I typically handle such cases.

To simplify the example, I could try to normalize things inside the `fetch` function. Because I'm not sure what to expect from Neurovault (no documentation to that level) and after talking with @chrisfilo about the differences in metadata provided from different data sources, returning the raw JSON from `fetch` and letting users handle what they see, seemed like the safest thing.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
62,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:42:37,"I think that ""bad_collects"" and 'bad_image_ids"" should be module-level constants under the name ""BAD_NEUROVAULT_COLLECTIONS and ""BAD_NEUROVAULT_IMAGE_IDS""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(940, '', u'nilearn/datasets/func.py')"
63,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:44:11,"OK. I don't know what to conclude. I just find that the downloader is a
bit difficult to use because of these pecularities.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
64,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:47:31,"The choices are: try to normalize, and risk that we'll get things wrong, be agnostic and let the data be peculiar to work with, or convince @chrisfilo to normalize things more easily across the board. I have a couple of issues open on it: https://github.com/NeuroVault/NeuroVault/issues/395 https://github.com/NeuroVault/NeuroVault/issues/396

I'm glad to go in whatever direction. I chose the direction that seemed seemed most flexible to me.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
65,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:48:58,"> The choices are: try to normalize, and risk that we'll get things
> wrong, be agnostic and let the data be peculiar to work with, or
> convince @chrisfilo to normalize things more easily across the board. I
> have a couple of issues open on it: NeuroVault/NeuroVault#395
> NeuroVault/NeuroVault#396

The best option would be convincing @chrisfilo.

Please, pretty please with a cherry on top, @chrisfilo.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(17, '', u'examples/manipulating_visualizing/plot_neurovault_meta_analysis.py')"
66,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:52:47,"I am not sure how this is tied to your PR. Can you comment on where it is used?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(27, '', u'nilearn/image/image.py')"
67,pull_request_commit_comment,832,nilearn,nilearn,bcipolli,2016-01-13 17:58:03,"Indeed, I no longer use `iter_img` in `plot_ica_neurovault.py` after previous changes, so this is no longer needed. Will pull this and close the PR.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(27, '', u'nilearn/image/image.py')"
68,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:58:20,"We need a canonical brain mask added to nilearn. (issue created: #945)
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(69, '', u'examples/connectivity/plot_ica_neurovault.py')"
69,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 17:59:42,"In terms of variable name, I'd prefer 'transformable'. It's unclear to a non native English speaker what this means.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(80, '', u'examples/connectivity/plot_ica_neurovault.py')"
70,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:00:42,"Maybe for the sake of simplicity you could merge clean_img and cast_img.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(45, '', u'examples/connectivity/plot_ica_neurovault.py')"
71,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:01:41,"We prefer to use nilearn.plotting.show, because we are trying not to have to teach matplotlib to users if we don't have to.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(121, '', u'examples/connectivity/plot_ica_neurovault.py')"
72,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:02:06,"Is there a reason that you are not using the 'title' argument of plot_stat_map.
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(118, '', u'examples/connectivity/plot_ica_neurovault.py')"
73,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-13 18:02:23,"The control of the size, maybe?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(118, '', u'examples/connectivity/plot_ica_neurovault.py')"
74,pull_request_commit_comment,832,nilearn,nilearn,GaelVaroquaux,2016-01-25 13:11:46,"Maybe we should use the sphinx syntax "":func:`nilearn.datasets.neurovault`""
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(8, '', u'doc/whats_new.rst')"
75,pull_request_commit_comment,832,nilearn,nilearn,jeromedockes,2016-05-13 15:14:38,"constructing arrays like this from dict.keys() and dict.values() doesn't seem to work for me in python 3, because these functions don't return lists anymore but dict_keys and dict_values objects. Maybe we should turn them into lists first, or access them in another way?
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(58, '', u'examples/connectivity/plot_ica_neurovault.py')"
76,pull_request_commit_comment,832,nilearn,nilearn,jeromedockes,2016-06-08 15:26:38,"passing a dictionary as image_filters or collections_filters will not work because it is always used as if it were a tuple of callables (the other possibility for filtering) anyway. 
e.g.
`fetch_neurovault(max_images=10, collection_filters={'DOI': '10.1016/j.neurobiolaging.2012.11.002'})`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(943, '', u'nilearn/datasets/func.py')"
77,pull_request_commit_comment,832,nilearn,nilearn,KamalakerDadi,2016-06-10 07:57:41,"FYI: mask is now available in nilearn, `datasets.load_mni152_brain_mask()`
",67c3cc7321e033e44a73c20abcefaf5d0adc64a6,"(69, '', u'examples/connectivity/plot_ica_neurovault.py')"
78,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 21:15:37,ENH: First pass on neurovault downloader.,52b55786239cdaabadf946871e8dcb04daa374c2,
79,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:07:24,ENH: Add stop-go example; ported from https://github.com/NeuroVault/neurovault_analysis/blob/master/Stop%20vs.%20Go%20metaanalysis.ipynb,5cf80a5c902235eace32f4770d662279eb7758b1,
80,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:23:16,DOC: adding and tweaking documentation.,bd68e68d1792151f9b530983d8a79828dedf2093,
81,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:34:20,STY: code cleanup,e0848fe8c5d41982ea00aeac46d262699aff457b,
82,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-06 22:41:53,BF: implement refresh=True,cedab35773946dca378ec1c4e9640102aaa1ff70,
83,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-07 18:17:42,STY: images_meta => images; image_meta => im,86b2db7acf46c15249e423b67572fd807e1e7c3a,
84,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 11:49:02,ENH: Get this working offline (still using requests).,e759a3a90ed24cbeab2c72076d079ab669e7e60d,
85,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 14:26:32,RF: Use _fetch_files instead of requests.,cdb1bf3ba4aa431a5328181862fa61485a0123d3,
86,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 15:14:22,DOC: remove info for printing errors that are then re-raised.,2f6f0f48ee307f39467757c2342216b67f260fdc,
87,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:08,"BF: refresh=>overwrite, don't allow offline if overwrite=True",f41b014c3a1169edd6e56424241973398fc8b360,
88,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:21,BF: Use passed verbose value.,b3076266920e8ff6e34bb7f22cde0fe7b0ab3de2,
89,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:00:40,"BF: Return all matched collections, even if the collection has no matched images.",490a51fc14335bc954cff91aa42e7274bc04263b,
90,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:01:02,TST: add neurovault tests (skip if offline),15e11cc6ad50d72dc2cc76b5b304291f94854528,
91,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-10 18:14:46,"TST: if setup mock, tear it down",5b23e2e2ec48dd9b6c57a1b1ccfa41c178e9e5ff,
92,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 06:22:05,RF: sort collections directories.,febc1b4c83f0adf76d20e55758b6d49c0d8bfc2b,
93,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 15:19:42,ENH: Add port of ICA example.,f0065ff784e0ccaabc23ee2d6f1dcdeafbb32f4e,
94,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-16 23:04:01,RF: Add joblib caching to entire process.,a6b675b40ca859164012088f70bbc920c4b3d6bd,
95,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 00:42:57,RF: Move functions out of neurovault fetcher.,462b45b26fa565e19536868b07fd4d7e4f348abe,
96,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 01:54:56,BF: Use newer neurosynth API,4905b08684aadfb50dd166c602e4a62d0fbbd6e5,
97,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 11:55:54,"BF: Clean code, make Py3 fixes.",aa69c96abae8f584bfcf4d19c3d25d0a64c5f38d,
98,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:06:12,DOC: add docstrings to private neurovault functions.,13fb4580dafc07e10c72fbb670381766aa55c270,
99,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:43:48,RF: don't show() until end of example.,7c939cacccdfdf08519fe4c23c318272f2209b52,
100,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:54:12,BF: neurovault json is utf8 encoded.,6a3988e752759ed5c522831c4cbbb47a0951383c,
101,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 12:57:06,BF: remove seaborn,d790e752d7a711c4e3e1126b370c693e404388bb,
102,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 13:45:44,"ENH: Add exclude_unpublished, collection_ids, image_types parameters & tests.",f1edb62059362327120f1b6b84ac220141b247eb,
103,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:11:57,"ENH: image_types=>map_types, add image_type, add image_ids, allow collection_ids and image_ids to be negative (exclusion)",70ef5c7ba45f7fa2d4f34ad1ffb47d9087978028,
104,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-17 14:16:08,Fix logic for +/- filtering of IDs.,8e12e4c46c19ed9ba32fdeace61b7a946adc2fdb,
105,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-11-18 23:11:21,STY: fixing up code for code review.,f38596d51c49c9324da0461ba8a731fac278910e,
106,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:58:50,STY: delimit sections in notebook-style.,1a6c8a1af1f8e0816b6aa33d29d7a0e3da06ca02,
107,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-07 23:59:33,"RF: use resample_img, iter_img to simplify resampling code.",d28555582d1618cbefb2012354a13a6d3d6500b2,
108,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:01:29,ENH: create exclude_known_bad_images parameter to fetch_neurovault.,190cbd7f4050c661e34251b35573917ab7f9b8a0,
109,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-08 00:02:06,ENH: Extend iter_img to return iterator on 3D image (rather than failing).,b65dbf0300eadb3dd27fe6bea509a4160cca63f4,
110,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-10 16:34:52,RF: Neurovault ICA example shortening.,99519cf7ea772d73991c4e7b2e61ab1f3b947e38,
111,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:38:35,RF: move neurosynth decoding to an option within fetch_neurovault.,475ddd2970d373da23141aa83883c627b065f140,
112,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-11 16:39:43,BF: avoid unnecessary warnings.,ca2469d03c4cfd978eff470a388f7305e160ef2e,
113,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-23 20:10:31,BF: fix test failures.,7e7106a3338f01084de08ac5f3d53282d53b2e57,
114,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-24 01:44:26,"ENH: add _http to compat, for httplib/http Py2/3 difference.",c1f960502322488b1fc8315a2a486d7bb17105a1,
115,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:23:42,"ENH: add query_server, to avoid querying neurovault every time.",fdadebd36246fa924c5f5c270c226adc88820791,
116,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2015-12-27 18:37:30,BF: handle None from neurosynth.,960ad146499e009378caefa1979d1921a57fd0e2,
117,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:41:46,ENH: extend query_server for neurovault.,c6665a5a694416d389d6efb7e1abb28327430306,
118,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:10,ENH: add query_server argument to all func fetchers.,bbea238c185e33e40ea4289c516e5d7d2c38450d,
119,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:51:35,STY: pep8/pyflakes on datasets/func.py,983ae1d2b0b9f8eb4d83d270a06f38c5a9389a22,
120,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:08,ENH: add query_server argument to _fetch_file*,1c5e096cddb1a78b91b4b7628f32f8fd2195c44e,
121,pull_request_commit,832,nilearn,nilearn,bcipolli@ucsd.edu,2016-01-04 15:52:19,STY: pyflakes on neurovault example.,67c3cc7321e033e44a73c20abcefaf5d0adc64a6,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,880,nilearn,nilearn,mrahim,2015-12-02 17:33:36,"Fix #873 
",start issue,[WIP] BF : Handle small sphere radius
2,issue_closed,880,nilearn,nilearn,lesteve,2016-01-29 15:23:06,,closed issue,[WIP] BF : Handle small sphere radius
3,pull_request_title,880,nilearn,nilearn,mrahim,2015-12-02 17:33:36,"Fix #873 
",f165433300ae272c9b103147f9399d4441f32846,[WIP] BF : Handle small sphere radius
4,issue_comment,880,nilearn,nilearn,mrahim,2016-01-13 20:16:10,"Yes, reviews are welcome.
",,
5,pull_request_commit_comment,880,nilearn,nilearn,AlexandreAbraham,2015-12-02 17:42:07,"Kind of logic of what we should do

``` python
     for i, seed in enumerate(seeds):
         try:
             if A[i].sum() == 0:
                 A[i] = clf.kneighbors_graph(seeds, 1)
         except ValueError:
             # seed is not in the mask
             pass
```
",f165433300ae272c9b103147f9399d4441f32846,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
6,pull_request_commit_comment,880,nilearn,nilearn,banilo,2016-01-12 22:40:05,"= merge conflict generator?
",f165433300ae272c9b103147f9399d4441f32846,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
7,pull_request_commit_comment,880,nilearn,nilearn,bthirion,2016-01-13 23:01:01,"Sorry, I don't see clearly why you chose 2 as a threshold. It is a distance  in mm ? What if the voxel grid is coarse ?
",f165433300ae272c9b103147f9399d4441f32846,"(12, '', u'nilearn/input_data/nifti_spheres_masker.py')"
8,pull_request_commit_comment,880,nilearn,nilearn,bthirion,2016-01-13 23:02:08,"I am also missing something here: how is the radius defined ?
",f165433300ae272c9b103147f9399d4441f32846,"(15, '', u'nilearn/input_data/nifti_spheres_masker.py')"
9,pull_request_commit_comment,880,nilearn,nilearn,mrahim,2016-01-14 09:47:00,"Yes, I don't know how to detrmine a too far seed.  Any suggestions?
",f165433300ae272c9b103147f9399d4441f32846,"(12, '', u'nilearn/input_data/nifti_spheres_masker.py')"
10,pull_request_commit_comment,880,nilearn,nilearn,mrahim,2016-01-14 09:53:01,"The radius is the input argument of the sphere (in mm).
",f165433300ae272c9b103147f9399d4441f32846,"(15, '', u'nilearn/input_data/nifti_spheres_masker.py')"
11,pull_request_commit,880,nilearn,nilearn,mrahim,2015-12-02 16:32:47,fix: handling small sphere radius,29da147e0b3d1ae70d92bf24415db8ecf771c0bd,
12,pull_request_commit,880,nilearn,nilearn,mrahim,2015-12-02 17:27:22,fix: handling small sphere radius,e4e7ea372f33f43c7a03125ef53f0dcabc9a7b72,
13,pull_request_commit,880,nilearn,nilearn,mrahim,2016-01-13 20:01:52,fix: handling small radius and out of mask seeds,f165433300ae272c9b103147f9399d4441f32846,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,764,nilearn,nilearn,AlexandreAbraham,2015-08-21 12:02:35,"If we want to update the atlas to a new version, we will break all the existing scripts. We should change it to `fetch_atlas_aal_spm` or `fetch_atlas_aal`.
",start issue,Function name fetch_atlas_aal_spm_12 is too specific
2,issue_closed,764,nilearn,nilearn,lesteve,2015-10-27 12:03:05,,closed issue,Function name fetch_atlas_aal_spm_12 is too specific
3,issue_comment,764,nilearn,nilearn,AlexandreAbraham,2015-10-21 15:47:17,"Ping @GaelVaroquaux 
",,
4,issue_comment,764,nilearn,nilearn,GaelVaroquaux,2015-10-21 15:49:49,"> Ping @GaelVaroquaux

.... @GaelVaroquaux is alive.

More seriously: fetch_atlas_aal is good. People don't even realize that
there is an SPM version of the AAL.
",,
5,issue_comment,764,nilearn,nilearn,MartinPerez,2015-08-21 12:48:55,"Originally I wrote fetch_atlas_aal. But I was told to make it more specific,  I guees if a new aal spm version is included, it would be as a separate atlas function. Actually the file structure is so different between versions that it might be better to just have them in separate fetch functions.
",,
6,issue_comment,764,nilearn,nilearn,MartinPerez,2015-08-21 13:13:03,"ahhh, i really understood you wanted me to change everything, actually i was passing a version parameter at the beginning, I would completely agree with that, If you want I can implement the change, its a second... 

Then the parameter would be used also to create the dataset folder with the version attached, nonetheless I think it would be misleading for a user to have the parameter in the function exposed when at the moment there is no download of other versions, so maybe we would also need to point out in the docs that other versions are not downloadable yet?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,842,nilearn,nilearn,aabadie,2015-11-11 15:42:46,"Some cleaning was done regarding this in 39c9063 but there was still some related code remaining in the test function.
",start issue,[MRG] Remaining occurences of APPVEYOR_TEST environment variable
2,issue_closed,842,nilearn,nilearn,GaelVaroquaux,2015-11-11 20:29:18,,closed issue,[MRG] Remaining occurences of APPVEYOR_TEST environment variable
3,pull_request_title,842,nilearn,nilearn,aabadie,2015-11-11 15:42:46,"Some cleaning was done regarding this in 39c9063 but there was still some related code remaining in the test function.
",f5a5331421af1cf4715e50c1fbf379af6faf31ea,[MRG] Remaining occurences of APPVEYOR_TEST environment variable
4,pull_request_merged,842,nilearn,nilearn,GaelVaroquaux,2015-11-11 20:29:17,[MRG] Remaining occurences of APPVEYOR_TEST environment variable,29e60d1575aac2c1109070a167eab45f9e3ec175,Pull request merge from aabadie/nilearn:remove_appveyor_skiptest to nilearn/nilearn:master
5,issue_comment,842,nilearn,nilearn,AlexandreAbraham,2015-11-11 16:05:51,"If all is green, it's OK for me.
",,
6,issue_comment,842,nilearn,nilearn,GaelVaroquaux,2015-11-11 20:29:15,"All green. Merging.
",,
7,pull_request_commit,842,nilearn,nilearn,aabadie,2015-11-11 15:37:44,removing remaining occurences of APPVEYOR_TEST env variable,f5a5331421af1cf4715e50c1fbf379af6faf31ea,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,916,nilearn,nilearn,GaelVaroquaux,2015-12-16 11:59:35,"https://figshare.com/articles/
Group_multiscale_functional_template_generated_with_BASC_on_the_Cambridge_sample
/1285615

Via @pbellec, who might be able to answer questions about these parcellations.
",start issue,Downloader for multiscale parcellations
2,issue_closed,916,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:42,,closed issue,Downloader for multiscale parcellations
3,issue_comment,916,nilearn,nilearn,AlexandreAbraham,2016-02-17 14:37:42,"Fixed in #984 
",,
4,issue_comment,916,nilearn,nilearn,pbellec,2015-12-16 14:46:12,"Thanks @GaelVaroquaux for opening this issue. I had a look at what's involved. Looks like it needs
1. a description file urchs_2015.rst under datasets/description
2. the code to actually download the dataset should be added in datasets/atlas.py
3. a test to check the integrity of the download should be added in tests/test_atlas.py

Can you please confirm I am not missing anything? I can certainly draft (1). Could give a shot at (2) and (3) by adapting code for other templates, let me know what you think. 
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 08:53:29,"Fix #914 

There are still problems since some lateralized regions are splitted because they cross the inter-hemispheric limit but this PR, as for now, addresses most problems.
",start issue,[MRG+1] Harvard oxford
2,issue_closed,918,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:22:45,,closed issue,[MRG+1] Harvard oxford
3,pull_request_title,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 08:53:29,"Fix #914 

There are still problems since some lateralized regions are splitted because they cross the inter-hemispheric limit but this PR, as for now, addresses most problems.
",9ffef88b03f894712ccaaadba28ce22198bd5526,[MRG+1] Harvard oxford
4,pull_request_merged,918,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:22:45,[MRG+1] Harvard oxford,f110a35d632bed3a42e21efe0d3e7b5fa57c6dab,Pull request merge from AlexandreAbraham/nilearn:harvard_oxford to nilearn/nilearn:master
5,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 10:25:03,"Yes we can. But as the tests shows, this is still WIP for the moment.
",,
6,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:59:28,"> TDD ;-) ?

Actually, my test is the real atlas. But I can't use it in the test suite so I've just put a test using toy data.

The PR should is now mergeable.
",,
7,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-02 00:29:40,"The principle is that the splitter consider as lateralized a component with at least 95% of its voxels in one hémisphère. What you observés means that this région vas more than 5% of its voxel in the right hémisphère. I will check that tomorrow.
",,
8,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-02 11:53:47,"Do you use the last version of the PR? I can't reproduce your problem.
",,
9,issue_comment,918,nilearn,nilearn,AlexandreAbraham,2016-02-03 13:22:43,"Merging then!
",,
10,issue_comment,918,nilearn,nilearn,salma1601,2016-02-02 18:33:14,"> Do you use the last version of the PR?

No, sorry !! everything looks right now including for subcortical atalses
",,
11,issue_comment,918,nilearn,nilearn,salma1601,2016-02-01 21:34:54,"For cortical atlases, looks OK.
For sub cortical, should invalidate the use of symmetric_split because it gives strange things

``` Python
from nilearn import datasets
atlas = datasets.fetch_atlas_harvard_oxford('sub-maxprob-thr0-1mm', symmetric_split=True)
print(atlas.labels[2])
```

gives `Left Cerebral White Matter, right part`
",,
12,issue_comment,918,nilearn,nilearn,salma1601,2016-02-02 10:22:19,"Everything works great for cortical atlases. Seems to me it is just as you said @AlexandreAbraham

> Already splitted atlases should not be splitted again. The atlas you plot is actually not modified in our but the list of labels is modified even when it should not be.
",,
13,pull_request_commit_comment,918,nilearn,nilearn,banilo,2016-02-02 15:08:29,"Perhaps add check on `ho.description`?
",9ffef88b03f894712ccaaadba28ce22198bd5526,"(43, '', u'nilearn/datasets/tests/test_atlas.py')"
14,pull_request_commit,918,nilearn,nilearn,AlexandreAbraham,2015-12-16 17:18:44,Return a list of labels in all cases.,0c2c84aabb69ca73f2d78c3488b7afc2bc130ab3,
15,pull_request_commit,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 08:51:52,Fix left/right split,e246357591b7e1edefc05eb95cc614656c5ef36f,
16,pull_request_commit,918,nilearn,nilearn,AlexandreAbraham,2015-12-17 10:28:35,Fix failing test,792f3c9412eb5435b681655f1ad0e7365b5bd50f,
17,pull_request_commit,918,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:05:06,Makes splitting more robust,c02649ebd0967be58ca4043eedcbc9c076dbbd8c,
18,pull_request_commit,918,nilearn,nilearn,AlexandreAbraham,2016-02-01 16:38:27,Add test for symmetric split,9ffef88b03f894712ccaaadba28ce22198bd5526,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,770,nilearn,nilearn,AlexandreAbraham,2015-08-25 13:06:41,"Check for overlap in MapsMasker and SpheresMasker.

Fix #755.
- [x] Code
- [x] Doc
- [x] Tests
",start issue,[MRG] Overlap verification code.
2,issue_closed,770,nilearn,nilearn,lesteve,2015-10-27 10:19:54,,closed issue,[MRG] Overlap verification code.
3,pull_request_title,770,nilearn,nilearn,AlexandreAbraham,2015-08-25 13:06:41,"Check for overlap in MapsMasker and SpheresMasker.

Fix #755.
- [x] Code
- [x] Doc
- [x] Tests
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,[MRG] Overlap verification code.
4,pull_request_merged,770,nilearn,nilearn,lesteve,2015-10-27 10:19:54,[MRG] Overlap verification code.,a1d2bbf931293d5de0d382089bd992241643f0de,Pull request merge from AlexandreAbraham/nilearn:allow_overlap to nilearn/nilearn:master
5,pull_request_commit_comment,770,nilearn,nilearn,bthirion,2015-08-25 20:45:07,"Do you thinks that this should be the default. Maybe this deserves a word in the documentation.
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
6,pull_request_commit_comment,770,nilearn,nilearn,lesteve,2015-10-22 11:28:11,"@AlexandreAbraham you haven't answered this comment.
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
7,pull_request_commit_comment,770,nilearn,nilearn,lesteve,2015-10-22 11:30:14,"For the sake of clarity, what about expanding this `no_maps` into `non_overlapping_maps` and `o_maps` into `overlapping_maps`?
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,"(None, '', u'nilearn/input_data/tests/test_nifti_maps_masker.py')"
8,pull_request_commit_comment,770,nilearn,nilearn,lesteve,2015-10-22 11:30:36,"Same thing for _img and _masker variable, obviously.
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,"(None, '', u'nilearn/input_data/tests/test_nifti_maps_masker.py')"
9,pull_request_commit_comment,770,nilearn,nilearn,lesteve,2015-10-23 08:59:01,"Original remark about o -> overlapping, no -> non_overlapping applied to this file as well.
",e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,"(16, '', u'nilearn/input_data/tests/test_nifti_spheres_masker.py')"
10,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-08-25 13:05:01,Overlap verification code.,795f18d0e34ea76e51d77a6f8645bc171caf0056,
11,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-08-25 13:42:29,Fix bug,7ededad8a687812bb0965aff59277d639dabd773,
12,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-21 16:11:12,Add doc.,e0cc77665b81eea1a9f1dd2c3be6daa168ba5598,
13,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-21 16:40:15,Add tests,477bb784307740cc7ed7c53c8c000e11f18ba523,
14,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:22:16,Fix naming.,614593c644a0e32cd88e30ade63483c6583a6d18,
15,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:25:12,Set allow_overlap non optional internal function,8ef6db3fd257041a2da58ebc37ca801c554c9a7b,
16,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-22 12:32:18,Fix doc,fa8d7d87c5438afddbab966dbd472a201df9c710,
17,pull_request_commit,770,nilearn,nilearn,AlexandreAbraham,2015-10-22 13:12:39,Fix tests,e286a8652d9afc9b276cd7900b67bcd8bc6fd1cb,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,876,nilearn,nilearn,aabadie,2015-12-02 14:50:20,"Added css improvement after PR #867.
",start issue,DOC centering file name matchings sidebar for small width
2,issue_closed,876,nilearn,nilearn,GaelVaroquaux,2015-12-02 15:51:11,,closed issue,DOC centering file name matchings sidebar for small width
3,pull_request_title,876,nilearn,nilearn,aabadie,2015-12-02 14:50:20,"Added css improvement after PR #867.
",2233fbcc62b74cc8d262dc5209d924f2ad0b89cc,DOC centering file name matchings sidebar for small width
4,pull_request_merged,876,nilearn,nilearn,GaelVaroquaux,2015-12-02 15:51:11,DOC centering file name matchings sidebar for small width,ff7abc9f67cb4f313d5d435f32cfba729f430bbb,Pull request merge from aabadie/nilearn:sidebar_centered to nilearn/nilearn:master
5,pull_request_commit,876,nilearn,nilearn,aabadie,2015-12-02 14:47:40,DOC centering file name matchings sidebar for small width,2233fbcc62b74cc8d262dc5209d924f2ad0b89cc,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,860,nilearn,nilearn,GaelVaroquaux,2015-11-29 11:32:02," The first subject in the Haxby dataset is an unusually good subject. Prediction with this subject is too easy compared to any usual situation.

This is not the case for the second one. We should be using the second in our examples.

The drawback is that, that we would need to switch the default of fetch_haxby from n_subjects=1 to n_subjects=2, which will entail more download, and thus a heavier load during group tutorial. I think that it is worth it.
",start issue,Switch all Haxby examples to use the 2nd subject rather than the 1st
2,issue_closed,860,nilearn,nilearn,GaelVaroquaux,2016-09-01 15:02:46,,closed issue,Switch all Haxby examples to use the 2nd subject rather than the 1st
3,issue_comment,860,nilearn,nilearn,AlexandreAbraham,2015-11-29 11:45:40,"I am not against having an additional parameter to download a given subject.
",,
4,issue_comment,860,nilearn,nilearn,GaelVaroquaux,2015-11-29 11:49:05,"> I am not against having an additional parameter to download a given subject.

That's a good idea. Deprecating n_subjects, and replacing it by an
argument 'subjects' that would take a list, and would be '(2, )' by
default.

I am +1 on such proposal.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,800,nilearn,nilearn,AlexandreAbraham,2015-10-21 12:54:20,"Some methods of `BaseSlicer`, (`add_contours` for example) works perfectly in `GlassBrainAxes` because it relies on `tranform_to_2d`. Somebody should take a deeper look into it and find a new inheritance tree for these classes.
",start issue,Plotting displays need refactoring
2,issue_closed,800,nilearn,nilearn,AlexandreAbraham,2015-11-18 10:12:13,,closed issue,Plotting displays need refactoring
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,913,nilearn,nilearn,dohmatob,2015-12-15 16:15:26,"`plot_anat(""funky.nii.gz"", display_mode=""ortho"", cut_coords=6)`

```
TypeError: object of type 'int' has no len()
```

We should check when `cut_coords` is an int and `display_mode` is `""ortho""` and then take best possible action (with appropriate warning) or fail gracefully.
",start issue,"plot_stat_map(..., cut_coords=some_int, display_mode=""ortho"") throws criptic error"
2,issue_closed,913,nilearn,nilearn,GaelVaroquaux,2015-12-18 22:20:39,,closed issue,"plot_stat_map(..., cut_coords=some_int, display_mode=""ortho"") throws criptic error"
3,issue_comment,913,nilearn,nilearn,KamalakerDadi,2015-12-18 08:50:38,"Anybody on this ? I can take care of this.
",,
4,issue_comment,913,nilearn,nilearn,dohmatob,2015-12-18 11:35:50,"I don't think anybody is on it.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,868,nilearn,nilearn,AlexandreAbraham,2015-12-02 12:19:15,"This is possible but we should advertise it in an example.
",start issue,Contours on glass brain
2,issue_closed,868,nilearn,nilearn,KamalakerDadi,2017-06-23 23:28:40,,closed issue,Contours on glass brain
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 08:39:28,"Taking over #898.
",start issue,Fix doc in Region Extractor
2,issue_closed,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 22:42:46,,closed issue,Fix doc in Region Extractor
3,pull_request_title,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 08:39:28,"Taking over #898.
",635d3eac439e5f7de16ce56b21a87c185d722a86,Fix doc in Region Extractor
4,pull_request_merged,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 22:42:46,Fix doc in Region Extractor,241fd74d50805d7054eeeb5d3c5aa2488997b447,Pull request merge from AlexandreAbraham/nilearn:pr_651 to nilearn/nilearn:master
5,issue_comment,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 11:58:38,"> May be space is missing in the attributes as I have seen some previous direct fixes in master.

Your indentation is good. It's the exact same as in CanICA. I don't understand what's failing.
",,
6,issue_comment,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 12:18:00,"For the moment I'm trying to generate the doc locally to debug faster and it doesn't work... Did you managed to do it?
",,
7,pull_request_commit,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 12:35:21,Move region.py into regions subpackage. try to fix doc,5f0ae97659e0e5a4e999d0b982f30ce72b99eb22,
8,pull_request_commit,899,nilearn,nilearn,AlexandreAbraham,2015-12-11 14:21:04,"Add import of signal extraction in init, fix doc.",635d3eac439e5f7de16ce56b21a87c185d722a86,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,866,nilearn,nilearn,GaelVaroquaux,2015-12-02 10:31:22,"We should add globbing to nilearn._utils.niimg_conversions._iter_check_niimg

We should also add a specific error message to this function when the list is empty raising a valueerror saying explicitly that an empty list was given.
",start issue,Add globbing to nilearn._utils.niimg_conversions._iter_check_niimg
2,issue_closed,866,nilearn,nilearn,AlexandreAbraham,2015-12-10 13:24:46,,closed issue,Add globbing to nilearn._utils.niimg_conversions._iter_check_niimg
3,issue_comment,866,nilearn,nilearn,aabadie,2015-12-03 08:42:50,"> Thinking about it, what is wrong with nilearn._utils.check_niimg('~/*.nii', return_iterator=True) or its check_niimg_4d equivalent?

`_iter_check_niimg` also do some resampling if needed.
",,
4,issue_comment,866,nilearn,nilearn,GaelVaroquaux,2015-12-03 08:45:18,"> Thinking about it, what is wrong with nilearn._utils.check_niimg('~/*.nii',
> return_iterator=True) or its check_niimg_4d equivalent?

You are however right that we need to add seealsos in the docstring of
these guys. Seealsos are useful for developers, not only for users, as I
had not in mind the equivalence between these guys.
",,
5,issue_comment,866,nilearn,nilearn,aabadie,2015-12-03 08:46:37,"> You are however right that we need to add seealsos in the docstring of these guys. Seealsos are useful for developers, not only for users, as I had not in mind the equivalence between these guys.

Should this be added to the corresponding PR? 
",,
6,issue_comment,866,nilearn,nilearn,GaelVaroquaux,2015-12-03 08:47:29,"> Should this be added to the corresponding PR?

I think that it would be great. I would certainly make the codebase
better.
",,
7,issue_comment,866,nilearn,nilearn,lesteve,2015-12-03 10:34:44,"Can we try to have the discussion only in only one place about `_iter_check_niimg` vs `check_niimg(..., return_iterator=True)`, i.e. the associated PR.
",,
8,issue_comment,866,nilearn,nilearn,aabadie,2015-12-03 10:35:30,"> Can we try to have the discussion only in only one place

+1
",,
9,issue_comment,866,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:36:31,"I'd rather simply not have this discussion now, and focus on releasing the
0.2.
",,
10,issue_comment,866,nilearn,nilearn,lesteve,2015-12-03 10:41:53,"> I'd rather simply not have this discussion now, and focus on releasing the 0.2.

Same thing.
",,
11,issue_comment,866,nilearn,nilearn,lesteve,2015-12-02 18:27:05,"Thinking about it, what is wrong with `nilearn._utils.check_niimg('~/*.nii', return_iterator=True)` or its check_niimg_4d equivalent?
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,871,nilearn,nilearn,aabadie,2015-12-02 12:47:27,"Address and fix #862.
",start issue,[MRG] MAINT circle ci is now more strict with documentation generation
2,issue_closed,871,nilearn,nilearn,lesteve,2015-12-03 12:50:08,,closed issue,[MRG] MAINT circle ci is now more strict with documentation generation
3,pull_request_title,871,nilearn,nilearn,aabadie,2015-12-02 12:47:27,"Address and fix #862.
",42edff02daf4e10918a9e16429df02e05e3c2394,[MRG] MAINT circle ci is now more strict with documentation generation
4,pull_request_merged,871,nilearn,nilearn,lesteve,2015-12-03 12:50:08,[MRG] MAINT circle ci is now more strict with documentation generation,0babf1bfbbd07809054755a27206dc1099e098ba,Pull request merge from aabadie/nilearn:master to nilearn/nilearn:master
5,issue_comment,871,nilearn,nilearn,aabadie,2015-12-03 08:44:01,"> Aside my comment on the entry in the Makefile that I feel is not useful, I am +1 for merge. Thanks!

Will change this.
",,
6,issue_comment,871,nilearn,nilearn,aabadie,2015-12-03 10:09:08,"The appveyor failure doesn't seem to be related to this PR, I could see the same issue with another PR. I'm wondering if the problem comes from appveyor itself.

Do you think it can be now be merged ?
",,
7,issue_comment,871,nilearn,nilearn,lesteve,2015-12-03 10:18:42,"> The appveyor failure doesn't seem to be related to this PR, I could see the same issue with another PR. I'm wondering if the problem comes from appveyor itself.

Have you tried restarting the AppVeyor build to see whether it was only a temporary glitch? Have you tried to run the tests locally on a Windows machine?
",,
8,issue_comment,871,nilearn,nilearn,lesteve,2015-12-03 10:20:45,"> Have you tried restarting the AppVeyor build to see whether it was only a temporary glitch? Have you tried to run the tests locally on a Windows machine?

At the end of the day, this PR has nothing to do with Windows or the tests so I don't think we should be too worried about an AppVeyor failure.
",,
9,issue_comment,871,nilearn,nilearn,aabadie,2015-12-03 10:25:03,"> Have you tried restarting the AppVeyor build to see whether it was only a temporary glitch? 

I just did it, it's queued and now I hope it won't be cancelled.

> Have you tried to run the tests locally on a Windows machine?

Yes all green.
",,
10,issue_comment,871,nilearn,nilearn,aabadie,2015-12-03 12:44:26,"It seems all is fine now with this PR. Can it be merged ?
",,
11,issue_comment,871,nilearn,nilearn,GaelVaroquaux,2015-12-03 12:44:59,"> It seems all is fine now with this PR. Can it be merged ?

+1 on my side. Thanks a lot
",,
12,issue_comment,871,nilearn,nilearn,lesteve,2015-12-03 12:50:06,"All right, merging, thanks!
",,
13,issue_comment,871,nilearn,nilearn,lesteve,2015-12-03 13:20:57,"@aabadie this may be a one-off thing but next time use a different branch than master to open a PR.
",,
14,pull_request_commit_comment,871,nilearn,nilearn,aabadie,2015-12-02 14:54:33,"This line is required in order to have make html-strict work. See issue #869.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'circle.yml')"
15,pull_request_commit_comment,871,nilearn,nilearn,lesteve,2015-12-02 15:39:58,"Hmm look like a kludge to me, how do we know the adhd dataset is the one always going to be affected and not any other datasets?
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'circle.yml')"
16,pull_request_commit_comment,871,nilearn,nilearn,aabadie,2015-12-02 15:52:54,"It's the one used in the failing example from #869 (100% reproducible on CircleCI, if we remove this line).
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'circle.yml')"
17,pull_request_commit_comment,871,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:14:25,"> > -    - rm -rf /home/ubuntu/nilearn_data/adhd
> 
> Hmm look like a kludge to me, how do we know the adhd dataset is the
> one always going to be affected and not any other datasets?

Yes, it's a kludge. We need to fix the issue. But I'd like to decouple
the two aspects.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'circle.yml')"
18,pull_request_commit_comment,871,nilearn,nilearn,lesteve,2015-12-02 16:35:35,"> Yes, it's a kludge. We need to fix the issue

This looks acceptable as a temporary solution, adding a more self-explanatory comment would be good though.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'circle.yml')"
19,pull_request_commit_comment,871,nilearn,nilearn,lesteve,2015-12-02 18:33:31,"```
# These two lines make the build a bit more lengthy, and the
# the embedding of images more robust,
```

This seems like a copy and paste gone wrong, please remove.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'doc/Makefile')"
20,pull_request_commit_comment,871,nilearn,nilearn,GaelVaroquaux,2015-12-02 20:46:05,"Now that we are using ""html-strict"", shouldn't we remove this target from the parent Makefile?
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'Makefile')"
21,pull_request_commit_comment,871,nilearn,nilearn,aabadie,2015-12-03 08:51:22,"I changed the documentation.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'doc/Makefile')"
22,pull_request_commit_comment,871,nilearn,nilearn,aabadie,2015-12-03 08:51:29,"Removed.
",42edff02daf4e10918a9e16429df02e05e3c2394,"(None, '', u'Makefile')"
23,pull_request_commit,871,nilearn,nilearn,aabadie,2015-12-02 12:30:51,MAINT circle ci is now more strict with documentation generation,da3c7ba709f7aeb6960801296dfdf9f87c36d4cf,
24,pull_request_commit,871,nilearn,nilearn,aabadie,2015-12-02 16:27:12,trying to limit the number of subject in plot Canica resting state adhd example,339a490d70f544ed2bdfc67b24dd7faa93f66c28,
25,pull_request_commit,871,nilearn,nilearn,aabadie,2015-12-02 18:09:06,trying with a bit more subjects,f8e3d3274ca1c4188c7b7e99dae5d4008bf73631,
26,pull_request_commit,871,nilearn,nilearn,aabadie,2015-12-03 08:50:44,adressing comments,42edff02daf4e10918a9e16429df02e05e3c2394,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,845,nilearn,nilearn,AlexandreAbraham,2015-11-19 14:54:42,"Addresses problem 2 in #720.
",start issue,Factorize code between Searchlight and NiftiSpheresMasker
2,issue_closed,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 12:43:01,,closed issue,Factorize code between Searchlight and NiftiSpheresMasker
3,pull_request_title,845,nilearn,nilearn,AlexandreAbraham,2015-11-19 14:54:42,"Addresses problem 2 in #720.
",bffe96b0dde34b701946a1a71e7225bf6828df92,Factorize code between Searchlight and NiftiSpheresMasker
4,pull_request_merged,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 12:43:01,Factorize code between Searchlight and NiftiSpheresMasker,f35077c00b5e15f03e7b2eb50217fdaf9bbced56,Pull request merge from AlexandreAbraham/nilearn:sphere_iterator to nilearn/nilearn:master
5,issue_comment,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:07:24,"@AlexandreAbraham : should we try to merge this today?
",,
6,issue_comment,845,nilearn,nilearn,AlexandreAbraham,2015-12-02 08:12:08,"For me, it's ready to merge. It's really just a factorization of 2 identical pieces of code.
",,
7,issue_comment,845,nilearn,nilearn,bthirion,2015-12-02 08:19:15,"LGTM. I am only suggesting some further factorization.
",,
8,pull_request_commit_comment,845,nilearn,nilearn,mrahim,2015-11-20 12:47:00,"I don't know if `affinity` might not be misleading (e. g. affine) and if `adjacency` would be clearer.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(39, '', u'nilearn/input_data/nifti_spheres_masker.py')"
9,pull_request_commit_comment,845,nilearn,nilearn,mrahim,2015-11-20 12:48:10,"... List of triplet**s** ...
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
10,pull_request_commit_comment,845,nilearn,nilearn,mrahim,2015-11-20 12:57:53,"replace URL by http://nilearn.github.io/manipulating_visualizing/manipulating_images.html#niimg
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
11,pull_request_commit_comment,845,nilearn,nilearn,lesteve,2015-11-20 13:39:42,"Interesting, that means that all the current links in our docstring are broken.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
12,pull_request_commit_comment,845,nilearn,nilearn,AlexandreAbraham,2015-11-20 15:07:05,"Affinity is more general. However, this is a private function, I think it's not a big deal.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(39, '', u'nilearn/input_data/nifti_spheres_masker.py')"
13,pull_request_commit_comment,845,nilearn,nilearn,AlexandreAbraham,2015-11-20 15:07:32,"Fixed.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
14,pull_request_commit_comment,845,nilearn,nilearn,AlexandreAbraham,2015-11-20 15:07:46,"This should be done in a dedicated PR.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/input_data/nifti_spheres_masker.py')"
15,pull_request_commit_comment,845,nilearn,nilearn,bthirion,2015-12-02 08:15:00,"This manipulation is probably done in several places. Maybe it could be factorized too.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/decoding/searchlight.py')"
16,pull_request_commit_comment,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:24:37,"> > -        process_mask_coords = np.dot(process_mask_affine,
> > -                                     process_mask_coords)[:3].T
> 
> This manipulation is probably done in several places. Maybe it could be
> factorized too.

Can nilearn.image.resampling.coord_transform be used here?
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/decoding/searchlight.py')"
17,pull_request_commit_comment,845,nilearn,nilearn,AlexandreAbraham,2015-12-02 09:21:50,"Yes. I think there are a lot of places in nilearn where this change hasn't been done. I could do a PR to propagate it.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/decoding/searchlight.py')"
18,pull_request_commit_comment,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 09:23:44,"> Yes. I think there are a lot of places in nilearn where this change
> hasn't been done. I could do a PR to propagate it.

How about you do it here, we merge this PR, and you do another PR to
propagate it?
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/decoding/searchlight.py')"
19,pull_request_commit_comment,845,nilearn,nilearn,AlexandreAbraham,2015-12-02 09:31:49,"Fixed in the last commit. Also replaced an instance of this code in `nifti_spheres_masker`.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(None, '', u'nilearn/decoding/searchlight.py')"
20,pull_request_commit_comment,845,nilearn,nilearn,GaelVaroquaux,2015-12-02 12:40:29,"Could you use a bit more keyword arguments: I have no idea what this 'True' hanging around is doing.
",bffe96b0dde34b701946a1a71e7225bf6828df92,"(69, '', u'nilearn/decoding/searchlight.py')"
21,pull_request_commit,845,nilearn,nilearn,AlexandreAbraham,2015-11-19 14:48:41,Factorize code between searchlight and nifti_spheres_masker.,3c751204c9b586efc8f566c5e39fef736ee4ad6b,
22,pull_request_commit,845,nilearn,nilearn,AlexandreAbraham,2015-11-20 09:55:49,Fix bug,e8313728454e4e3355d0dbfbbdefe4d64916d453,
23,pull_request_commit,845,nilearn,nilearn,AlexandreAbraham,2015-11-20 15:08:00,Fix doc,da0df63d6335a154907cd6c7b1030166d081604c,
24,pull_request_commit,845,nilearn,nilearn,AlexandreAbraham,2015-12-02 09:30:54,Use image.resampling.coord_transform,bffe96b0dde34b701946a1a71e7225bf6828df92,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,778,nilearn,nilearn,poldrack,2015-09-09 16:25:05,"currently there does not appear to be a way to control the intensity of the background image when using plot_stat_map - this leads to background images that are often too dark. it would be nice to have a separate knob to control intensity of the bg image.
",start issue,control of background image intensity in plotting.plot_stat_map
2,issue_closed,778,nilearn,nilearn,lesteve,2015-12-03 12:39:07,,closed issue,control of background image intensity in plotting.plot_stat_map
3,issue_comment,778,nilearn,nilearn,GaelVaroquaux,2015-12-02 08:14:29,"We should do this during the sprint.
",,
4,issue_comment,778,nilearn,nilearn,bthirion,2015-12-02 08:17:02,"I can do that one  i think.
",,
5,issue_comment,778,nilearn,nilearn,bthirion,2015-12-02 09:39:21,"Hm, I've just realized that the `dim` parameter simply does the trick.  I'm just going to add relevant documentation.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,903,nilearn,nilearn,GaelVaroquaux,2015-12-11 20:09:58,"Fix on top of PR #899 that should finish the work.

@AlexandreAbraham : Let's see if this passes on CircleCI and either cherry-pick in your PR, or merge in master.
",start issue,[MRG] Fix doc in Region Extractor
2,issue_closed,903,nilearn,nilearn,AlexandreAbraham,2015-12-11 22:42:44,,closed issue,[MRG] Fix doc in Region Extractor
3,pull_request_title,903,nilearn,nilearn,GaelVaroquaux,2015-12-11 20:09:58,"Fix on top of PR #899 that should finish the work.

@AlexandreAbraham : Let's see if this passes on CircleCI and either cherry-pick in your PR, or merge in master.
",421c70455560f1fc43d6a5cb8f35064e2935db8e,[MRG] Fix doc in Region Extractor
4,pull_request_merged,903,nilearn,nilearn,AlexandreAbraham,2015-12-11 22:42:44,[MRG] Fix doc in Region Extractor,8f64f78cb9e47ca13a0076f05be4ce86c20a0996,Pull request merge from GaelVaroquaux/nilearn:pr_899 to nilearn/nilearn:master
5,issue_comment,903,nilearn,nilearn,AlexandreAbraham,2015-12-11 22:42:33,"Sorry, I was napping. Merging !
",,
6,pull_request_commit,903,nilearn,nilearn,AlexandreAbraham,2015-12-11 12:35:21,Move region.py into regions subpackage. try to fix doc,5f0ae97659e0e5a4e999d0b982f30ce72b99eb22,
7,pull_request_commit,903,nilearn,nilearn,AlexandreAbraham,2015-12-11 14:21:04,"Add import of signal extraction in init, fix doc.",635d3eac439e5f7de16ce56b21a87c185d722a86,
8,pull_request_commit,903,nilearn,nilearn,GaelVaroquaux,2015-12-11 20:07:41,DOC: Fix link in seealso,421c70455560f1fc43d6a5cb8f35064e2935db8e,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,894,nilearn,nilearn,AlexandreAbraham,2015-12-08 14:42:28,"See #693 
",start issue,Fix links in resting_state_networks.rst
2,issue_closed,894,nilearn,nilearn,AlexandreAbraham,2015-12-09 15:55:30,,closed issue,Fix links in resting_state_networks.rst
3,issue_comment,894,nilearn,nilearn,lesteve,2015-12-08 17:27:51,"Does this issue implicitely include CircleCI broken in master (make html-strict has errors see [here](https://circleci.com/gh/nilearn/nilearn/890?utm_campaign=build-failed&utm_medium=email&utm_source=notification) for example) ?
",,
4,issue_comment,894,nilearn,nilearn,AlexandreAbraham,2015-12-09 15:55:30,"Fix pushed in master.
",,
5,issue_comment,894,nilearn,nilearn,AlexandreAbraham,2015-12-09 16:35:33,"That's what I've done ! This is an issue, not a PR. I pushed the fix last night.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:34:25,"The ratio of brain size to mask volume was applied wrong in the
screening percentile.

In addition, add a bit more warnings.

Fixes #822
",start issue,FIX: Proper brain-size correction in percentile
2,issue_closed,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:18:53,,closed issue,FIX: Proper brain-size correction in percentile
3,pull_request_title,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:34:25,"The ratio of brain size to mask volume was applied wrong in the
screening percentile.

In addition, add a bit more warnings.

Fixes #822
",dc692b9390da68695e0fe847f880c09044746420,FIX: Proper brain-size correction in percentile
4,pull_request_merged,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:18:53,FIX: Proper brain-size correction in percentile,63f65dd7b14018e8a9d649f3c91854404c2638d5,Pull request merge from GaelVaroquaux/nilearn:mask_failure to nilearn/nilearn:master
5,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:37:36,"This is a fix for #822: it turns out that the logic was wrong.

@dohmatob @bthirion @AlexandreAbraham please review: a user is waiting for this fix to be merged.
",,
6,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:45:33,"As a side note, I have checked that in the plot_haxby_spacenet example, when using as a mask the mask of the ventral temporal stream, nothing bad happens (aka the example gives good prediction and good maps).
",,
7,issue_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:40:38,"`from sklearn.utils.testing import assert_warns` breaks in `sklearn 0.13`.
",,
8,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 18:41:11,"> from sklearn.utils.testing import assert_warns breaks in sklearn 0.13.

Indeed. I am on it. Aside from this, any issue with the PR.
",,
9,issue_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:54:43,"OK, give me 5 minutes to run a few experiments.
",,
10,issue_comment,825,nilearn,nilearn,dohmatob,2015-11-05 19:08:29,"We should wrap the whole mechanism for correcting the screening percentile into a separate _method, in order to render it testable (without fitting a model, etc.). But this can go in a separate PR.
",,
11,issue_comment,825,nilearn,nilearn,dohmatob,2015-11-05 19:17:11,"LGTM. +1 for merge.
",,
12,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 19:37:30,"I've addressed your remarks, @dohmatob . Thanks for the review.
",,
13,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 19:47:00,"Tests pass. Can I haz one more review?
",,
14,issue_comment,825,nilearn,nilearn,AlexandreAbraham,2015-11-05 20:15:04,"LGTM
",,
15,issue_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 21:18:51,"Merging
",,
16,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:41:48,"This import breaks in `sklearn 0.13`.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
17,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:44:23,"change to "" ... regardless of the number of voxels."" or something like that.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
18,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:46:17,"I would rephrase to something like "".. of a standard human brain. You may want to increase the screening percentile."" 
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
19,pull_request_commit_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 18:47:06,"> This import breaks in sklearn 0.13.

Fix pushed. Let's see if travis is happy.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/tests/test_space_net.py')"
20,pull_request_commit_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 18:49:30,"> I would rephrase to something like "".. of a standard human brain. You
> may want to increase the screening percentile.""

This warning is unrelated to screening percentile. I just want to raise
the message that people are using the package in a weird way.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
21,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 18:51:45,"ok, u're right. Still, I'd rephrase the "" strange things might happen.""
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
22,pull_request_commit_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 18:53:12,"> ok, u're right. Still, I'd rephrase the "" strange things might happen.""

Maybe something like 'SpaceNet is probably not tuned to be used on such
data'?
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
23,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 19:03:06,"This should be `screening_percentile = min(self.screening_percentile, 100)`.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
24,pull_request_commit_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 19:06:15,"> This should be screening_percentile = min(self.screening_percentile, 100).

Good catch!
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
25,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 19:20:25,"It's not an easy business to find statements explaining negative borderline scenarios. I'm having a hard time finding a good proposal. I'll go with what you settle on :) We can always revise this in future.
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
26,pull_request_commit_comment,825,nilearn,nilearn,dohmatob,2015-11-05 19:26:31,"Or maybe if this test passes, then check the `screening_percentile` and force it to `100` if less (with the appropriate warning) ?
",dc692b9390da68695e0fe847f880c09044746420,"(None, '', u'nilearn/decoding/space_net.py')"
27,pull_request_commit,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 17:32:40,"FIX: Proper brain-size correction in percentile

The ration of brain size to mask volume was applied wrong in the
screening percentile.

In addition, add a bit more warnings.

Fixes #822",a5a04b80d8972db795a68f421d947c8d06e37b8c,
28,pull_request_commit,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 18:44:13,"BUG: use the backport of assert_warns

For scikit-learn 0.13",e9d15e9b125a3a143153652776a3c8bbd6128eb6,
29,pull_request_commit,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 19:35:28,"MISC: separate out screening_percentile adjustment

And other remarks by @dohmatob",dc692b9390da68695e0fe847f880c09044746420,
30,pull_request_commit_comment,825,nilearn,nilearn,KamalakerDadi,2015-11-05 19:09:16,"I may not understand but just want to check does this doc 
`and so is corrected at runtime to correspond to the volume of the user-supplied mask` corresponds to `MNI152_BRAIN_VOLUME / mask_volume` ?
",a5a04b80d8972db795a68f421d947c8d06e37b8c,"(29, 822, u'nilearn/decoding/space_net.py')"
31,pull_request_commit_comment,825,nilearn,nilearn,GaelVaroquaux,2015-11-05 19:40:02,"> I may not understand but just want to check does this doc and so is
> corrected at runtime to correspond to the volume of the user-supplied
> mask corresponds to MNI152_BRAIN_VOLUME / mask_volume ?

I don't really like such logic: checking a formula in the code by the
same formula in the tests. Indeed, it leads often to errors in the code
copy-pasted in the tests, and thus not detected.

I prefer to check a property of the problem that we expect. Here the fact
that in a small brain mask, a small screening percentile selects the
whole mask.
",a5a04b80d8972db795a68f421d947c8d06e37b8c,"(29, 822, u'nilearn/decoding/space_net.py')"
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,855,nilearn,nilearn,dohmatob,2015-11-22 19:35:04,"`find_xyz_cut_coords(nibabel.Nifti1Image(randn(2, 2, 2), eye(4)), zeros((2, 2, 2)).astype(np.bool))`

/home/elvis/CODE/FORKED/nilearn/nilearn/plotting/find_cuts.pyc in find_xyz_cut_coords(img, mask, activation_threshold)
     65     my_map = data.copy()
     66     if mask is not None:
---> 67         slice_x, slice_y, slice_z = ndimage.find_objects(mask)[0]
     68         my_map = my_map[slice_x, slice_y, slice_z]
     69         mask = mask[slice_x, slice_y, slice_z]

IndexError: list index out of range
",start issue,find_cuts falls crashes with empy mask 
2,issue_closed,855,nilearn,nilearn,lesteve,2015-12-01 17:35:50,,closed issue,find_cuts falls crashes with empy mask 
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,833,nilearn,nilearn,mrahim,2015-11-07 10:33:20,"`score` method is actually inherited from sklearn regressor class. 
",start issue,Spacenet classifier score gives r2_score
2,issue_closed,833,nilearn,nilearn,lesteve,2015-11-16 09:48:57,,closed issue,Spacenet classifier score gives r2_score
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,840,nilearn,nilearn,alexsavio,2015-11-11 10:17:21,"Are you interested in a `dataset.fetch_atlas_aal2_spm12` function?
http://www.gin.cnrs.fr/AAL2
",start issue,Add fetch AAL2 for SPM12
2,issue_closed,840,nilearn,nilearn,alexsavio,2016-01-13 16:02:31,,closed issue,Add fetch AAL2 for SPM12
3,issue_comment,840,nilearn,nilearn,GaelVaroquaux,2015-11-12 10:46:01,"What are the differences in terms of the Atlas?
",,
4,issue_comment,840,nilearn,nilearn,alexsavio,2015-11-12 11:04:22,"It has an ""Implementation of a new parcellation of the orbitofrontal cortex in the automated anatomical labeling atlas"". Rolls ET, Joliot M & Tzourio-Mazoyer N (2015) . NeuroImage 0.1016/j.neuroimage.2015.07.075.
![the new parcellation](http://www.gin.cnrs.fr/IMG/png/figure_aal2.png)

I am having a small issue working on these AAL2 files though. The voxel values in the .txt labels file don't match the voxel values. The voxel values have a '01' or '02' ""appended"" to them depending if it is left or right hemisphere. Does this sound familiar to you?

On the other hand, my boss says that AAL is not very precise (I'm not the physician to argue), in fact I will be using the Hammer atlas instead. This is from http://www.brain-development.org/
AFAIK adding this to nilearn requires a license acceptance though.
",,
5,issue_comment,840,nilearn,nilearn,GaelVaroquaux,2015-11-12 11:44:03,"> On the other hand, my boss says that AAL is not very precise (I'm not the
> physician to argue),

Yes, it's horrible. We have it because it is standard.

> in fact I will be using the Hammer atlas instead. This is
> from http://www.brain-development.org/
> AFAIK adding this to nilearn requires a license acceptance though.

:(

It's thus probably not possible to have it, unless they are willing to do
a specific arrangement.
",,
6,issue_comment,840,nilearn,nilearn,alexsavio,2015-11-12 14:39:28,"For me it is not an issue. It would be nice to have it here though.
Would you like to add it to the `datasets` module? I don't mind contacting them.
",,
7,issue_comment,840,nilearn,nilearn,GaelVaroquaux,2015-11-12 14:43:46,"> Would you like to add it to the datasets module? I don't mind
> contacting them.

It would be fantastic if you would contact them. We can put a note in the
documentation stipulating the conditions of use. We cannot put something
where there is an action from the user, as things need to be able to run
without user intervention, eg on clusters.
",,
8,issue_comment,840,nilearn,nilearn,alexsavio,2016-01-13 16:02:31,"We tried, but he is not responding anymore. :/

Thanks for the intention.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,874,nilearn,nilearn,dohmatob,2015-12-02 14:15:24,"```
llow_empty)
     48         # We accept a single value if it is not 0 (full true mask).
     49         if values[0] == 0 and not allow_empty:
---> 50             raise ValueError('Given mask is invalid because it masks all data')
     51     elif len(values) == 2:
     52         # If there are 2 different values, one of them must be 0 (background)

ValueError: Given mask is invalid because it masks all data
> /home/elvis/CODE/FORKED/nilearn/nilearn/masking.py(50)_load_mask_img()
     49         if values[0] == 0 and not allow_empty:
---> 50             raise ValueError('Given mask is invalid because it masks all data')
     51     elif len(values) == 2:
```
",start issue,Incomprehensible exception thrown by NiftiMasker is computed mask is full
2,issue_closed,874,nilearn,nilearn,GaelVaroquaux,2015-12-02 16:27:28,,closed issue,Incomprehensible exception thrown by NiftiMasker is computed mask is full
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,885,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:41:06,"Should fix #778: control of the intensity of the background.
",start issue,[MRG] DOC: add an example to showcase dim
2,issue_closed,885,nilearn,nilearn,lesteve,2015-12-03 12:39:07,,closed issue,[MRG] DOC: add an example to showcase dim
3,pull_request_title,885,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:41:06,"Should fix #778: control of the intensity of the background.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,[MRG] DOC: add an example to showcase dim
4,pull_request_merged,885,nilearn,nilearn,lesteve,2015-12-03 12:39:07,[MRG] DOC: add an example to showcase dim,25959d97b87c7007fb4f37abe6f66b87cefcfe00,Pull request merge from GaelVaroquaux/nilearn:example_dim to nilearn/nilearn:master
5,issue_comment,885,nilearn,nilearn,bthirion,2015-12-02 22:47:42,"Looks good otherwise.
",,
6,issue_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 05:49:11,"> Looks good otherwise.

Forced-push to address comment
",,
7,issue_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:18:21,"Example is visible on:
https://circle-artifacts.com/gh/nilearn/nilearn/857/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/manipulating_visualizing/plot_dim_plotting.html#sphx-glr-auto-examples-manipulating-visualizing-plot-dim-plotting-py
",,
8,issue_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:19:45,"I have addressed all the comments. It's ready for merge.
",,
9,issue_comment,885,nilearn,nilearn,lesteve,2015-12-03 12:38:30,"LGTM, merging thanks !
",,
10,pull_request_commit_comment,885,nilearn,nilearn,bthirion,2015-12-02 22:47:16,"""dim=-.5""
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
11,pull_request_commit_comment,885,nilearn,nilearn,lesteve,2015-12-03 08:07:11,"1. would be less surprising than .0 I think.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
12,pull_request_commit_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 08:13:02,"> > +plotting.plot_stat_map(localizer_tmap_filename,
> > -                       bg_img=localizer_anat_filename,
> > -                       cut_coords=(36, -27, 66),
> > -                       threshold=3, title=""dim=0"",
> > -                       dim=.0)
> 1. would be less surprising than .0 I think.

What do you mean? I think that '0' would be less surprising than '.0',
and that I shouldn't have used '.0' here. But what do you mean by '1' (or
1.) here?
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
13,pull_request_commit_comment,885,nilearn,nilearn,lesteve,2015-12-03 09:30:27,"> I think that '0' would be less surprising than '.0',

That's what I meant: 0 or 0. i.e with the dot ~~before~~ **after** might be less confusing than .0 (dot ~~after~~ **before** the 0)

For the record, this is a markdown gotcha (that I already bumped into recently actually). Starts a line with a 0. and it will be interpreted as a numbered list and replace by 1.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
14,pull_request_commit_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 09:32:49,"> ```
> I think that '0' would be less surprising than '.0',
> ```
> 
> That's what I meant: 0 or 0. 

Agreed. Give me 10mn (I am on something else) and I'll fix this.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
15,pull_request_commit_comment,885,nilearn,nilearn,banilo,2015-12-03 10:07:44,"> That's what I meant: 0 or 0. i.e with the dot before after might be less confusing than .0 (dot after before the 0)

;)
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(None, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
16,pull_request_commit_comment,885,nilearn,nilearn,banilo,2015-12-03 10:08:32,"perhaps also mention here for what membrs of the plot_\* function stack this holds/is useful.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(5, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
17,pull_request_commit_comment,885,nilearn,nilearn,banilo,2015-12-03 10:10:00,"We could add the comments/print to explain the 3/4D thing like in the other examples.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(24, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
18,pull_request_commit_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:14:20,"> We could add the comments/print to explain the 3/4D thing like in the other
> examples.

But that's not the point of this example. I'd rather keep only one idea
per example
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(24, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
19,pull_request_commit_comment,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:17:51,"> perhaps also mention here for what membrs of the plot_\* function stack this
> holds/is useful.

That' not completely true, as it doesn't apply to all functions. I have
added a comment on plot_roi, though.
",ff6dc7d1925fdc38ef50a3191a15cd4011a82709,"(5, '', u'examples/manipulating_visualizing/plot_dim_plotting.py')"
20,pull_request_commit,885,nilearn,nilearn,GaelVaroquaux,2015-12-02 22:39:17,"DOC: add an example to showcase dim

Should fix #778",80a05308d10a7f3a258065102efb0afeb6e907a5,
21,pull_request_commit,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 07:18:24,DOC: add a seealso in the docs,564e3e9eae6af1cb34a2ebc0ce3a663c27aee516,
22,pull_request_commit,885,nilearn,nilearn,GaelVaroquaux,2015-12-03 10:16:31,DOC: add a comment on dim in plot_roi,ff6dc7d1925fdc38ef50a3191a15cd4011a82709,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,873,nilearn,nilearn,mrahim,2015-12-02 14:06:22,"When trying this:

``` python
from nilearn.datasets import fetch_adhd
from nilearn.input_data import NiftiSpheresMasker

dataset = fetch_adhd(n_subjects=1)
dmn_coords = [(0, -52, 18), (-46, -68, 32), (46, -68, 32), (0, 50, -5)]
masker = NiftiSpheresMasker(seeds=dmn_coords, radius=1)
data = masker.fit_transform(dataset.func[0])
```

The spheres are then empty.
",start issue,NiftiSpheresMasker crashes when radius is small
2,issue_closed,873,nilearn,nilearn,AlexandreAbraham,2016-02-04 00:30:41,,closed issue,NiftiSpheresMasker crashes when radius is small
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,906,nilearn,nilearn,sho-87,2015-12-14 08:05:47,"Just came across this project, seems very interesting. Is it possible to use this with scalp EEG data, or any plans to include in the future?
",start issue,EEG data
2,issue_closed,906,nilearn,nilearn,agramfort,2015-12-14 08:13:42,,closed issue,EEG data
3,issue_comment,906,nilearn,nilearn,agramfort,2015-12-14 08:13:42,"indeed :)
",,
4,issue_comment,906,nilearn,nilearn,AlexandreAbraham,2015-12-14 08:12:43,"No, you should take a look at mne python for eeg processing http://martinos.org/mne/stable/index.html
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,823,nilearn,nilearn,dohmatob,2015-11-05 13:13:58,"Fix issue #822 
",start issue,BF: handle empty mask in _crop_mask function
2,issue_closed,823,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:37:41,,closed issue,BF: handle empty mask in _crop_mask function
3,pull_request_title,823,nilearn,nilearn,dohmatob,2015-11-05 13:13:58,"Fix issue #822 
",fc02ff346a4aa9b30121a7aeb330da8135901921,BF: handle empty mask in _crop_mask function
4,pull_request_merged,823,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:37:41,BF: handle empty mask in _crop_mask function,653023fbfb6fe2c0cfa930d2a9351bcb471a48d8,Pull request merge from dohmatob/nilearn:fix-822 to nilearn/nilearn:master
5,issue_comment,823,nilearn,nilearn,GaelVaroquaux,2015-11-05 13:35:34,"LGTM. Will merge once travis is green. Thanks a lot!
",,
6,issue_comment,823,nilearn,nilearn,GaelVaroquaux,2015-11-05 15:38:49,"Merged and addressed @lesteve 's comment in 0ad9766
",,
7,pull_request_commit_comment,823,nilearn,nilearn,lesteve,2015-11-05 13:40:34,"You don't need the double parentheses. ( ) rather than ((  )).
",fc02ff346a4aa9b30121a7aeb330da8135901921,"(5, '', u'nilearn/decoding/space_net.py')"
8,pull_request_commit,823,nilearn,nilearn,dohmatob,2015-11-05 12:10:14,BF: handle empty mask in _crop_mask function,fc02ff346a4aa9b30121a7aeb330da8135901921,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,877,nilearn,nilearn,ainafp,2015-12-02 15:25:36,"Fixes #793 and adds tests for this issue. 

copy_img / get_data / new_image_like 

Header of the image in new_image_like was being modified because of a copy instead of a deepcopy. This was creating side effects on nifti images, for example, when caching.
",start issue,[BF] copy_img / get_data / new_image_like side effects on nifti images (e.g troublesome when caching)
2,issue_closed,877,nilearn,nilearn,GaelVaroquaux,2015-12-02 19:14:16,,closed issue,[BF] copy_img / get_data / new_image_like side effects on nifti images (e.g troublesome when caching)
3,pull_request_title,877,nilearn,nilearn,ainafp,2015-12-02 15:25:36,"Fixes #793 and adds tests for this issue. 

copy_img / get_data / new_image_like 

Header of the image in new_image_like was being modified because of a copy instead of a deepcopy. This was creating side effects on nifti images, for example, when caching.
",9a4273b7efd7ad5cc593804575247b40b893d8e4,[BF] copy_img / get_data / new_image_like side effects on nifti images (e.g troublesome when caching)
4,pull_request_merged,877,nilearn,nilearn,GaelVaroquaux,2015-12-02 19:14:16,[BF] copy_img / get_data / new_image_like side effects on nifti images (e.g troublesome when caching),8d99c56f64b412cb89ad08cc7c47ea2e8024db8e,Pull request merge from ainafp/nilearn:get_data to nilearn/nilearn:master
5,issue_comment,877,nilearn,nilearn,AlexandreAbraham,2015-12-02 15:55:41,"You have weird travis failures
",,
6,pull_request_commit,877,nilearn,nilearn,ainafp,2015-12-02 15:12:28,Changed get_data to _safe_get_data in copy_img,a1fa84673f2aea1022b779dfffa70a45d754207c,
7,pull_request_commit,877,nilearn,nilearn,ainafp,2015-12-02 15:13:15,Copy of the header of the reference image changed to deepcopy,74861c0e7181a841defcc2d4763199e6e75fcffc,
8,pull_request_commit,877,nilearn,nilearn,ainafp,2015-12-02 15:14:25,"Added tests for copy_img and new_image_like, to check that there are no side effects when copying an image",b840139eae196353d9245f51af0ecb8e4e8ea560,
9,pull_request_commit,877,nilearn,nilearn,ainafp,2015-12-02 15:59:15,changed import joblib to do it from sklearn.externals,9a4273b7efd7ad5cc593804575247b40b893d8e4,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,826,nilearn,nilearn,cinvro,2015-11-05 22:28:57,"dataset = datasets.fetch_atlas_harvard_oxford(""cort-maxprob-thr0-1mm"")

give following errors: 

URLError: urlopen error [SSL: CERTIFICATE_VERIFY_FAILED] certificate verify failed (_ssl.c:581)
",start issue,cannot fetch atlas_harvard_oxford
2,issue_closed,826,nilearn,nilearn,GaelVaroquaux,2015-11-06 05:59:44,,closed issue,cannot fetch atlas_harvard_oxford
3,issue_comment,826,nilearn,nilearn,GaelVaroquaux,2015-11-05 22:41:41,"This is an SSL certificate problem.

@AlexandreAbraham : should be simply using the HTTP URL, instead of the HTTPS one? I checked and it works.
",,
4,issue_comment,826,nilearn,nilearn,AlexandreAbraham,2015-11-05 22:43:37,"I fixed the URL. @cinvro, could you try again with the last version of the code?
",,
5,issue_comment,826,nilearn,nilearn,cinvro,2015-11-06 02:04:58,"It works now. Thank you @AlexandreAbraham @GaelVaroquaux .
",,
6,issue_comment,826,nilearn,nilearn,GaelVaroquaux,2015-11-06 05:59:44,"OK, so I close the issue.
",,
0,rectype,issueid,project_owner,project_name,actor,time,text,action,title
1,issue_title,887,nilearn,nilearn,mrahim,2015-12-03 12:33:49,"Fix #886 

@lesteve : I did a recursive find and replace, something like `find . -type f -print0 | xargs -0 sed -i 's#URL1#URL2#g'`  
",start issue,DOC: Fix broken URLs
2,issue_closed,887,nilearn,nilearn,lesteve,2015-12-03 15:19:23,,closed issue,DOC: Fix broken URLs
3,pull_request_title,887,nilearn,nilearn,mrahim,2015-12-03 12:33:49,"Fix #886 

@lesteve : I did a recursive find and replace, something like `find . -type f -print0 | xargs -0 sed -i 's#URL1#URL2#g'`  
",30493aa213c8590fec9c244c489e51739ba5124b,DOC: Fix broken URLs
4,pull_request_merged,887,nilearn,nilearn,lesteve,2015-12-03 15:19:23,DOC: Fix broken URLs,281955d90ca3b6b3651a6f160e0bade09385afba,Pull request merge from mrahim/nilearn:fix_broken_url to nilearn/nilearn:master
5,issue_comment,887,nilearn,nilearn,lesteve,2015-12-03 12:41:53,"Thanks a lot for this, there is still a manipulating_mr_images in nilearn/_utils/exceptions.py.
",,
6,issue_comment,887,nilearn,nilearn,lesteve,2015-12-03 15:19:20,"Yeah CircleCI has completed finally and it is green.

Merging, thanks a lot for thinking of it before the release!

Out of interest, how did you spot the broken links not related to niimg?
",,
7,issue_comment,887,nilearn,nilearn,mrahim,2015-12-03 15:24:42,"`make linkcheck`, thanks to @GaelVaroquaux for the advice :)
",,
8,issue_comment,887,nilearn,nilearn,lesteve,2015-12-03 15:26:24,"> make linkcheck

OK that's what I thought but I was just checking.
",,
9,pull_request_commit_comment,887,nilearn,nilearn,lesteve,2015-12-03 12:46:20,"You want to keep the glass_brain_extensive here, which will exist once we release and update the website.
",30493aa213c8590fec9c244c489e51739ba5124b,"(None, '', u'nilearn/plotting/img_plotting.py')"
10,pull_request_commit_comment,887,nilearn,nilearn,lesteve,2015-12-03 12:51:13,"For example, you can see that it exists on CircleCI: https://circle-artifacts.com/gh/nilearn/nilearn/827/artifacts/0/home/ubuntu/nilearn/doc/_build/html/auto_examples/manipulating_visualizing/plot_demo_glass_brain_extensive.html
",30493aa213c8590fec9c244c489e51739ba5124b,"(None, '', u'nilearn/plotting/img_plotting.py')"
11,pull_request_commit,887,nilearn,nilearn,mrahim,2015-12-03 12:32:08,DOC: fix broken urls,72780690833c7824355a7de85aea18aa77145850,
12,pull_request_commit,887,nilearn,nilearn,mrahim,2015-12-03 12:50:39,DOC: fix broken URL in _utils_exceptions_py,4c1be165ddcd73c4b8bee42a7655350dd64c3707,
13,pull_request_commit,887,nilearn,nilearn,mrahim,2015-12-03 12:57:22,DOC: revert replaced URL in img_plotting,30493aa213c8590fec9c244c489e51739ba5124b,
