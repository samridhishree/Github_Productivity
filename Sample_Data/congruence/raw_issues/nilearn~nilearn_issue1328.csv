"rectype","issueid","project_owner","project_name","actor","time","text","action","title"
"issue_title","1328","nilearn","nilearn","KamalakerDadi","2016-11-16 20:52:50","New function to extract regions on labels images. Worked along with @GaelVaroquaux 

Completed parts:

* Function named as  ```extract_regions_labels_img```
* Documentation
* Tests
* modules reference
*  whats new reference
* Example by @darya-chyzhyk 

It is ready for review.","start issue","[MRG] ENH: Region Extractor on labels based atlas images"
"issue_closed","1328","nilearn","nilearn","GaelVaroquaux","2017-02-21 12:07:29","","closed issue","[MRG] ENH: Region Extractor on labels based atlas images"
"pull_request_title","1328","nilearn","nilearn","KamalakerDadi","2016-11-16 20:52:50","New function to extract regions on labels images. Worked along with @GaelVaroquaux 

Completed parts:

* Function named as  ```extract_regions_labels_img```
* Documentation
* Tests
* modules reference
*  whats new reference
* Example by @darya-chyzhyk 

It is ready for review.","6955248a80ede87ab27ae7567de1d425ed57a202","[MRG] ENH: Region Extractor on labels based atlas images"
"pull_request_merged","1328","nilearn","nilearn","GaelVaroquaux","2017-02-21 12:07:29","[MRG] ENH: Region Extractor on labels based atlas images","5b70bd456226082b9b9bb4501e603bbcfb402e98","Pull request merge from KamalakerDadi/nilearn:region_extrator_labels_image to nilearn/nilearn:master"
"issue_comment","1328","nilearn","nilearn","codecov[bot]","2017-02-13 18:44:19","# [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1328?src=pr&el=h1) Report
> Merging [#1328](https://codecov.io/gh/nilearn/nilearn/pull/1328?src=pr&el=desc) into [master](https://codecov.io/gh/nilearn/nilearn/commit/341f1551fba21f764d962145d2f027895e95600c?src=pr&el=desc) will **increase** coverage by `0.95%`.
> The diff coverage is `100%`.


```diff
@@            Coverage Diff             @@
##           master    #1328      +/-   ##
==========================================
+ Coverage   93.36%   94.31%   +0.95%     
==========================================
  Files         114      116       +2     
  Lines       12416    12879     +463     
==========================================
+ Hits        11592    12147     +555     
+ Misses        824      732      -92
```


| [Impacted Files](https://codecov.io/gh/nilearn/nilearn/pull/1328?src=pr&el=tree) | Coverage Δ | |
|---|---|---|
| [nilearn/regions/region_extractor.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9yZWdpb25zL3JlZ2lvbl9leHRyYWN0b3IucHk=) | `100% <100%> (+78.26%)` | :white_check_mark: |
| [nilearn/regions/__init__.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9yZWdpb25zL19faW5pdF9fLnB5) | `100% <100%> (ø)` | :white_check_mark: |
| [nilearn/regions/tests/test_region_extractor.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9yZWdpb25zL3Rlc3RzL3Rlc3RfcmVnaW9uX2V4dHJhY3Rvci5weQ==) | `100% <100%> (ø)` | |
| [nilearn/regions/tests/test_signal_extraction.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9yZWdpb25zL3Rlc3RzL3Rlc3Rfc2lnbmFsX2V4dHJhY3Rpb24ucHk=) | `100% <ø> (ø)` | |
| [nilearn/_utils/testing.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9fdXRpbHMvdGVzdGluZy5weQ==) | `82.26% <ø> (+1.41%)` | :white_check_mark: |
| [nilearn/regions/signal_extraction.py](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=tree#diff-bmlsZWFybi9yZWdpb25zL3NpZ25hbF9leHRyYWN0aW9uLnB5) | `96.82% <ø> (+12.69%)` | :white_check_mark: |

------

[Continue to review full report at Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1328?src=pr&el=continue).
> **Legend** - [Click here to learn more](https://docs.codecov.io/docs/codecov-delta)
> `Δ = absolute <relative> (impact)`, `ø = not affected`, `? = missing data`
> Powered by [Codecov](https://codecov.io/gh/nilearn/nilearn/pull/1328?src=pr&el=footer). Last update [341f155...6955248](https://codecov.io/gh/nilearn/nilearn/compare/341f1551fba21f764d962145d2f027895e95600c...6955248a80ede87ab27ae7567de1d425ed57a202?src=pr&el=footer&el=lastupdated). Read the [comment docs](https://docs.codecov.io/docs/pull-request-comments).","",""
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:13:31","Suggestion of simpler sentence: ""A new function :func:`nilearn.regions.extract_regions_labels_img` to extract the connected components represented...""","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'doc/whats_new.rst')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:14:08","You don't need this extra sentence: the link generated by sphinx is enough.","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'doc/whats_new.rst')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:17:42","""each spatially-separated region""","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'examples/04_manipulating_images/plot_extract_regions_labels_image.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:20:09","I think that we should rename the function to ""connected_label_regions"" to show the link between this function, and its  cousin ""connected_regions""","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/__init__.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:21:35","To make the code simpler, I would advise to inline this function in the one that is calling it. It is used elsewhere only for testing, and you can create Nifti images in the testing.","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:22:50","Extract connected regions from a brain atlas...","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:23:29","I would write ""list, optional""","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-11 14:23:57","I would write ""for an example of atlas with labels""","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","KamalakerDadi","2017-01-11 16:15:58","Shall I remove this function and integrate code into ```extract_regions_labels_img``` ?","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:15:10","0.2.7","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'doc/whats_new.rst')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:23:53","Some time ago, we decided to define region volume in physical units, i.e. mm^3","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'examples/04_manipulating_images/plot_extract_regions_labels_image.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:26:57","min_size, could be a float, in mm^3","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:28:11","Here you should the affine to transform region side to mm^3","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:30:40","same comment here","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-13 08:48:01","Could you also test the case where the number of labels is wrong ?","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","KamalakerDadi","2017-01-14 04:44:48","```python
size_in_mm_3 = min_size / np.prod(np.diag(abs(affine[:3])))
```","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","KamalakerDadi","2017-01-14 05:42:34","When ""labels"" is wrong ? You mean when ""labels"" given are less than number of unique labels in labels_img ? ","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","KamalakerDadi","2017-01-21 07:32:24","This comment is addressed below","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/tests/test_region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-23 12:37:23","Kamalakar: could you please integrate this function: inline the code in the caller and remove it.","6955248a80ede87ab27ae7567de1d425ed57a202","(25, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","GaelVaroquaux","2017-01-23 12:38:33","Sorry, forget that, wrong idea
","6955248a80ede87ab27ae7567de1d425ed57a202","(25, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-24 22:20:11","regions larger than 100mm^3","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'examples/04_manipulating_images/plot_extract_regions_labels_image.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-24 22:22:18","Oh, no, you want to compare this value to voxels counts, so what you meant is probably:
`size_in_vox = min_size / np.abs(np.linalg.det(affine[:3, :3]))` 
","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","bthirion","2017-01-24 22:22:48","`labels_kept = region_sizes > size_in_vox`","6955248a80ede87ab27ae7567de1d425ed57a202","(None, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","AlexandreAbraham","2017-02-21 12:18:04","Optional: can be replaced by `unique_labels.discard(0)`","6955248a80ede87ab27ae7567de1d425ed57a202","(219, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","AlexandreAbraham","2017-02-21 12:21:40","This is never used.","6955248a80ede87ab27ae7567de1d425ed57a202","(37, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","AlexandreAbraham","2017-02-21 12:26:21","You should specify that background label must not be given.","6955248a80ede87ab27ae7567de1d425ed57a202","(174, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","AlexandreAbraham","2017-02-21 12:40:24","You can do:
`new_labels_data += regions + current_max_label`","6955248a80ede87ab27ae7567de1d425ed57a202","(259, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","AlexandreAbraham","2017-02-21 12:42:28","This data is not the original one. You could do it inplace.","6955248a80ede87ab27ae7567de1d425ed57a202","(78, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit_comment","1328","nilearn","nilearn","KamalakerDadi","2017-02-24 15:59:05","@AlexandreAbraham Doesn't look like the labels are as expected. Are we missing something here ?
You meant replace with two lines ?","6955248a80ede87ab27ae7567de1d425ed57a202","(259, '', u'nilearn/regions/region_extractor.py')"
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2016-11-16 20:42:36","ENH: Region Extractor on labels based atlas images","d72fc73c6ff683865aff8ccf62b0619306b8c5fd",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2016-11-17 20:51:35","Accepts labels image in 3D in compliant with connect_diag structure","54082e6f91ccaecb0a4c9ef327ca6e779dfe97da",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-18 09:51:42","NEW: plotting example file","e03f4b0dd061502f57d66ed90d2b585fca72712f",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-18 09:59:01","add comment","6531c49af28829701cf3f35c85bfa07b723e9e40",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-24 12:40:50","add the example for extract_regions_labels_img","1b59c7b2fd6fd7e817c3c666ec723b9f54ddf801",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-24 12:50:57","clean the code","14f67c06d8e2ae97fdc0e2fae75087f064b7965e",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-24 13:16:24","Change the way of calculation regions size in _remove_small_regions,  instead of calculating the size
of the cluster as sum of values the voxels as
region_sizes = ndimage.measurements.sum(input_data, labels=mask_data, index=index),
calculate it as sum of voxels using np.unique","e5b73234c10fb690318954aefe41ee16fc72463d",""
"pull_request_commit","1328","nilearn","nilearn","darya-chyzhyk","2016-11-24 16:01:28","Make changes according to comments","a97b6dee98f56c99fd88b6142223a548d06a778c",""
"pull_request_commit","1328","nilearn","nilearn","GaelVaroquaux","2016-11-25 17:33:15","ENH: improve extract_regions_labels_img

* Simplify the example
* Fix the reordering of labels","897565a0174f93d750b22bb846bd0f4c16e76a01",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2016-11-30 22:44:45","Tests included for missing lines","b12c7dda36eb0d30eb59a5d4a44fd19418454dc3",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2016-12-31 08:56:00","Addressed Gael comment
- Added argument labels to accept list/numpy array of names of regions.
- Return with new labels since regions extracted can be more of same name.","f4541c8797a281ac0d4538eb79d5f374ff7b7244",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-11 12:28:42","Added missing documentation","f0aa10d57b7ef2470993d6be3dbcf8d32151e7cf",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-12 07:34:14","extract_regions_labels_img to connected_label_regions, narrative doc inclusions","52eb1b85b4a86103d9622199874be653813be895",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-21 07:12:52","ENH: Integrated min_size to mm^3 and raise an error if number of labels provided are wrong","7ac1a15c9a10dfabb60fa603b90119c001b90670",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-23 14:17:22","flake8 corrections","bf09efc81a110b4a8c18ab052a86ce77158df88a",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-27 06:13:42","Addressed small glitches, attempts to improve coverage","b23499886f1a43087bc892d661574ec201331903",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-01-27 08:40:11","Iteration coverage","dc86954eeefee5ec848ec2d9c21ee0eccb91105f",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-02-10 12:17:41","Minor changes","e7859443515edfa117fe3fc94df329c9d9cc84e0",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-02-13 10:24:54","Added init file in nilearn/regions/tests/","87ebb09247789279dfa13875a6dd57258f5f5956",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-02-13 13:07:33","Fixing tests failures with numpy versions","d46246fdefaee3fe3a55c11219e792c99ec7f1fc",""
"pull_request_commit","1328","nilearn","nilearn","KamalakerDadi","2017-02-13 18:37:06","Rebased and minor corrections","6955248a80ede87ab27ae7567de1d425ed57a202",""
